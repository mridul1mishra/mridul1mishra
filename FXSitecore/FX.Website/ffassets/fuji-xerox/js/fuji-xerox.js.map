{"version":3,"sources":["src/_js/node_modules/browser-pack/_prelude.js","src/_js/node_modules/@fancyapps/fancybox/dist/jquery.fancybox.js","src/_js/node_modules/dot/doT.js","src/_js/node_modules/enquire.js/src/MediaQuery.js","src/_js/node_modules/enquire.js/src/MediaQueryDispatch.js","src/_js/node_modules/enquire.js/src/QueryHandler.js","src/_js/node_modules/enquire.js/src/Util.js","src/_js/node_modules/enquire.js/src/index.js","src/_js/node_modules/jquery-match-height/dist/jquery.matchHeight.js","src/_js/node_modules/jquery/dist/jquery.js","src/_js/node_modules/js-cookie/src/js.cookie.js","src/_js/node_modules/json-query/index.js","src/_js/node_modules/json-query/lib/depth-split.js","src/_js/node_modules/json-query/lib/state.js","src/_js/node_modules/json-query/lib/tokenize.js","src/_js/node_modules/match-media/matchMedia.js","src/_js/node_modules/object-fit-images/dist/ofi.common-js.js","src/_js/node_modules/object-fit-videos/object-fit-videos.js","src/_js/node_modules/slick-carousel/slick/slick.js","src/_js/node_modules/tablesorter/dist/js/jquery.tablesorter.combined.js","src/_js/src/_js/fuji-xerox.js","src/_js/src/_modules/clone-select/clone-select.js","src/_js/src/_modules/molecules/compare-item/compare-item.js","src/_js/src/_modules/molecules/listing-sorter/listing-sorter.js","src/_js/src/_modules/molecules/nav-tabs-anchor/nav-tabs-anchor.js","src/_js/src/_modules/molecules/product-item/product-item.js","src/_js/src/_modules/molecules/question-item/question-item.js","src/_js/src/_modules/molecules/subscribe-form/subscribe-form.js","src/_js/src/_modules/organisms/accordion-wrapper/accordion-wrapper.js","src/_js/src/_modules/organisms/agenda/agenda.js","src/_js/src/_modules/organisms/alipay-form/alipay-form.js","src/_js/src/_modules/organisms/carousel/carousel.js","src/_js/src/_modules/organisms/featured-speakers/featured-speakers.js","src/_js/src/_modules/organisms/form/form.js","src/_js/src/_modules/organisms/image-links-wrapper/image-links-wrapper.js","src/_js/src/_modules/organisms/insight-component/insight-component.js","src/_js/src/_modules/organisms/listing-filters/listing-filters.js","src/_js/src/_modules/organisms/listing-results/listing-results.js","src/_js/src/_modules/organisms/mapper/mapper.js","src/_js/src/_modules/organisms/modal/modal.js","src/_js/src/_modules/organisms/newsroom-wrapper/newsroom-wrapper.js","src/_js/src/_modules/organisms/product-finder-compare/product-finder-compare.js","src/_js/src/_modules/organisms/product-finder/product-finder.js","src/_js/src/_modules/organisms/reseller-locator/reseller-locator.js","src/_js/src/_modules/organisms/site-header/site-header.js","src/_js/src/_modules/organisms/solutions-services/solutions-services.js","src/_js/src/_modules/organisms/store-locator/store-locator.js","src/_js/src/_modules/organisms/tab-carousel/tab-carousel.js","src/_js/src/_modules/organisms/tabs/tabs.js","src/_js/src/_modules/table-responsive/table-responsive.js","src/_js/src/_modules/view-controller/view-controller.js","src/_js/src/_modules/wffm-add-remove-fields/wffm-add-remove-fields.js"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5+TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACn8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACz8LA;AACA;;AAEA;;AAEA;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAtBA;AAwBA,CA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","file":"fuji-xerox.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\n; jQuery = global.jQuery = require(\"jquery\");\n; var __browserify_shim_require__=require;(function browserifyShim(module, define, require) {\n// ==================================================\n// fancyBox v3.5.2\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2018 fancyApps\n//\n// ==================================================\n(function(window, document, $, undefined) {\r\n  \"use strict\";\r\n\r\n  window.console = window.console || {\r\n    info: function(stuff) {}\r\n  };\r\n\r\n  // If there's no jQuery, fancyBox can't work\r\n  // =========================================\r\n\r\n  if (!$) {\r\n    return;\r\n  }\r\n\r\n  // Check if fancyBox is already initialized\r\n  // ========================================\r\n\r\n  if ($.fn.fancybox) {\r\n    console.info(\"fancyBox already initialized\");\r\n\r\n    return;\r\n  }\r\n\r\n  // Private default settings\r\n  // ========================\r\n\r\n  var defaults = {\r\n    // Close existing modals\r\n    // Set this to false if you do not need to stack multiple instances\r\n    closeExisting: false,\r\n\r\n    // Enable infinite gallery navigation\r\n    loop: false,\r\n\r\n    // Horizontal space between slides\r\n    gutter: 50,\r\n\r\n    // Enable keyboard navigation\r\n    keyboard: true,\r\n\r\n    // Should allow caption to overlap the content\r\n    preventCaptionOverlap: true,\r\n\r\n    // Should display navigation arrows at the screen edges\r\n    arrows: true,\r\n\r\n    // Should display counter at the top left corner\r\n    infobar: true,\r\n\r\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\r\n    // Can be true, false, \"auto\"\r\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\r\n    smallBtn: \"auto\",\r\n\r\n    // Should display toolbar (buttons at the top)\r\n    // Can be true, false, \"auto\"\r\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\r\n    toolbar: \"auto\",\r\n\r\n    // What buttons should appear in the top right corner.\r\n    // Buttons will be created using templates from `btnTpl` option\r\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\r\n    buttons: [\r\n      \"zoom\",\r\n      //\"share\",\r\n      \"slideShow\",\r\n      //\"fullScreen\",\r\n      //\"download\",\r\n      \"thumbs\",\r\n      \"close\"\r\n    ],\r\n\r\n    // Detect \"idle\" time in seconds\r\n    idleTime: 3,\r\n\r\n    // Disable right-click and use simple image protection for images\r\n    protect: false,\r\n\r\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\r\n    modal: false,\r\n\r\n    image: {\r\n      // Wait for images to load before displaying\r\n      //   true  - wait for image to load and then display;\r\n      //   false - display thumbnail and load the full-sized image over top,\r\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\r\n      preload: false\r\n    },\r\n\r\n    ajax: {\r\n      // Object containing settings for ajax request\r\n      settings: {\r\n        // This helps to indicate that request comes from the modal\r\n        // Feel free to change naming\r\n        data: {\r\n          fancybox: true\r\n        }\r\n      }\r\n    },\r\n\r\n    iframe: {\r\n      // Iframe template\r\n      tpl:\r\n        '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen allow=\"autoplay; fullscreen\" src=\"\"></iframe>',\r\n\r\n      // Preload iframe before displaying it\r\n      // This allows to calculate iframe content width and height\r\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\r\n      preload: true,\r\n\r\n      // Custom CSS styling for iframe wrapping element\r\n      // You can use this to set custom iframe dimensions\r\n      css: {},\r\n\r\n      // Iframe tag attributes\r\n      attr: {\r\n        scrolling: \"auto\"\r\n      }\r\n    },\r\n\r\n    // For HTML5 video only\r\n    video: {\r\n      tpl:\r\n        '<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\">' +\r\n        '<source src=\"{{src}}\" type=\"{{format}}\" />' +\r\n        'Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!' +\r\n        \"</video>\",\r\n      format: \"\", // custom video format\r\n      autoStart: true\r\n    },\r\n\r\n    // Default content type if cannot be detected automatically\r\n    defaultType: \"image\",\r\n\r\n    // Open/close animation type\r\n    // Possible values:\r\n    //   false            - disable\r\n    //   \"zoom\"           - zoom images from/to thumbnail\r\n    //   \"fade\"\r\n    //   \"zoom-in-out\"\r\n    //\r\n    animationEffect: \"zoom\",\r\n\r\n    // Duration in ms for open/close animation\r\n    animationDuration: 366,\r\n\r\n    // Should image change opacity while zooming\r\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\r\n    zoomOpacity: \"auto\",\r\n\r\n    // Transition effect between slides\r\n    //\r\n    // Possible values:\r\n    //   false            - disable\r\n    //   \"fade'\r\n    //   \"slide'\r\n    //   \"circular'\r\n    //   \"tube'\r\n    //   \"zoom-in-out'\r\n    //   \"rotate'\r\n    //\r\n    transitionEffect: \"fade\",\r\n\r\n    // Duration in ms for transition animation\r\n    transitionDuration: 366,\r\n\r\n    // Custom CSS class for slide element\r\n    slideClass: \"\",\r\n\r\n    // Custom CSS class for layout\r\n    baseClass: \"\",\r\n\r\n    // Base template for layout\r\n    baseTpl:\r\n      '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\r\n      '<div class=\"fancybox-bg\"></div>' +\r\n      '<div class=\"fancybox-inner\">' +\r\n      '<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\r\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\r\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\r\n      '<div class=\"fancybox-stage\"></div>' +\r\n      '<div class=\"fancybox-caption\"></div>' +\r\n      \"</div>\" +\r\n      \"</div>\",\r\n\r\n    // Loading indicator template\r\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\r\n\r\n    // Error message template\r\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\r\n\r\n    btnTpl: {\r\n      download:\r\n        '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\r\n        \"</a>\",\r\n\r\n      zoom:\r\n        '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\r\n        \"</button>\",\r\n\r\n      close:\r\n        '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\r\n        \"</button>\",\r\n\r\n      // Arrows\r\n      arrowLeft:\r\n        '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\r\n        \"</button>\",\r\n\r\n      arrowRight:\r\n        '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\r\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\r\n        \"</button>\",\r\n\r\n      // This small close button will be appended to your html/inline/ajax content by default,\r\n      // if \"smallBtn\" option is not set to false\r\n      smallBtn:\r\n        '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\r\n        \"</button>\"\r\n    },\r\n\r\n    // Container is injected into this element\r\n    parentEl: \"body\",\r\n\r\n    // Hide browser vertical scrollbars; use at your own risk\r\n    hideScrollbar: true,\r\n\r\n    // Focus handling\r\n    // ==============\r\n\r\n    // Try to focus on the first focusable element after opening\r\n    autoFocus: true,\r\n\r\n    // Put focus back to active element after closing\r\n    backFocus: true,\r\n\r\n    // Do not let user to focus on element outside modal content\r\n    trapFocus: true,\r\n\r\n    // Module specific options\r\n    // =======================\r\n\r\n    fullScreen: {\r\n      autoStart: false\r\n    },\r\n\r\n    // Set `touch: false` to disable panning/swiping\r\n    touch: {\r\n      vertical: true, // Allow to drag content vertically\r\n      momentum: true // Continue movement after releasing mouse/touch when panning\r\n    },\r\n\r\n    // Hash value when initializing manually,\r\n    // set `false` to disable hash change\r\n    hash: null,\r\n\r\n    // Customize or add new media types\r\n    // Example:\r\n    /*\r\n      media : {\r\n        youtube : {\r\n          params : {\r\n            autoplay : 0\r\n          }\r\n        }\r\n      }\r\n    */\r\n    media: {},\r\n\r\n    slideShow: {\r\n      autoStart: false,\r\n      speed: 3000\r\n    },\r\n\r\n    thumbs: {\r\n      autoStart: false, // Display thumbnails on opening\r\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\r\n      parentEl: \".fancybox-container\", // Container is injected into this element\r\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\r\n    },\r\n\r\n    // Use mousewheel to navigate gallery\r\n    // If 'auto' - enabled for images only\r\n    wheel: \"auto\",\r\n\r\n    // Callbacks\r\n    //==========\r\n\r\n    // See Documentation/API/Events for more information\r\n    // Example:\r\n    /*\r\n      afterShow: function( instance, current ) {\r\n        console.info( 'Clicked element:' );\r\n        console.info( current.opts.$orig );\r\n      }\r\n    */\r\n\r\n    onInit: $.noop, // When instance has been initialized\r\n\r\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\r\n    afterLoad: $.noop, // When the content of a slide is done loading\r\n\r\n    beforeShow: $.noop, // Before open animation starts\r\n    afterShow: $.noop, // When content is done loading and animating\r\n\r\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\r\n    afterClose: $.noop, // After instance has been closed\r\n\r\n    onActivate: $.noop, // When instance is brought to front\r\n    onDeactivate: $.noop, // When other instance has been activated\r\n\r\n    // Interaction\r\n    // ===========\r\n\r\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\r\n    // each option can be string or method that returns value.\r\n    //\r\n    // Possible values:\r\n    //   \"close\"           - close instance\r\n    //   \"next\"            - move to next gallery item\r\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\r\n    //   \"toggleControls\"  - show/hide controls\r\n    //   \"zoom\"            - zoom image (if loaded)\r\n    //   false             - do nothing\r\n\r\n    // Clicked on the content\r\n    clickContent: function(current, event) {\r\n      return current.type === \"image\" ? \"zoom\" : false;\r\n    },\r\n\r\n    // Clicked on the slide\r\n    clickSlide: \"close\",\r\n\r\n    // Clicked on the background (backdrop) element;\r\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\r\n    clickOutside: \"close\",\r\n\r\n    // Same as previous two, but for double click\r\n    dblclickContent: false,\r\n    dblclickSlide: false,\r\n    dblclickOutside: false,\r\n\r\n    // Custom options when mobile device is detected\r\n    // =============================================\r\n\r\n    mobile: {\r\n      preventCaptionOverlap: false,\r\n      idleTime: false,\r\n      clickContent: function(current, event) {\r\n        return current.type === \"image\" ? \"toggleControls\" : false;\r\n      },\r\n      clickSlide: function(current, event) {\r\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\r\n      },\r\n      dblclickContent: function(current, event) {\r\n        return current.type === \"image\" ? \"zoom\" : false;\r\n      },\r\n      dblclickSlide: function(current, event) {\r\n        return current.type === \"image\" ? \"zoom\" : false;\r\n      }\r\n    },\r\n\r\n    // Internationalization\r\n    // ====================\r\n\r\n    lang: \"en\",\r\n    i18n: {\r\n      en: {\r\n        CLOSE: \"Close\",\r\n        NEXT: \"Next\",\r\n        PREV: \"Previous\",\r\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\r\n        PLAY_START: \"Start slideshow\",\r\n        PLAY_STOP: \"Pause slideshow\",\r\n        FULL_SCREEN: \"Full screen\",\r\n        THUMBS: \"Thumbnails\",\r\n        DOWNLOAD: \"Download\",\r\n        SHARE: \"Share\",\r\n        ZOOM: \"Zoom\"\r\n      },\r\n      de: {\r\n        CLOSE: \"Schliessen\",\r\n        NEXT: \"Weiter\",\r\n        PREV: \"Zurück\",\r\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.\",\r\n        PLAY_START: \"Diaschau starten\",\r\n        PLAY_STOP: \"Diaschau beenden\",\r\n        FULL_SCREEN: \"Vollbild\",\r\n        THUMBS: \"Vorschaubilder\",\r\n        DOWNLOAD: \"Herunterladen\",\r\n        SHARE: \"Teilen\",\r\n        ZOOM: \"Maßstab\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Few useful variables and methods\r\n  // ================================\r\n\r\n  var $W = $(window);\r\n  var $D = $(document);\r\n\r\n  var called = 0;\r\n\r\n  // Check if an object is a jQuery object and not a native JavaScript object\r\n  // ========================================================================\r\n  var isQuery = function(obj) {\r\n    return obj && obj.hasOwnProperty && obj instanceof $;\r\n  };\r\n\r\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\r\n  // ===============================================================================\r\n  var requestAFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      // if all else fails, use setTimeout\r\n      function(callback) {\r\n        return window.setTimeout(callback, 1000 / 60);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var cancelAFrame = (function() {\r\n    return (\r\n      window.cancelAnimationFrame ||\r\n      window.webkitCancelAnimationFrame ||\r\n      window.mozCancelAnimationFrame ||\r\n      window.oCancelAnimationFrame ||\r\n      function(id) {\r\n        window.clearTimeout(id);\r\n      }\r\n    );\r\n  })();\r\n\r\n  // Detect the supported transition-end event property name\r\n  // =======================================================\r\n  var transitionEnd = (function() {\r\n    var el = document.createElement(\"fakeelement\"),\r\n      t;\r\n\r\n    var transitions = {\r\n      transition: \"transitionend\",\r\n      OTransition: \"oTransitionEnd\",\r\n      MozTransition: \"transitionend\",\r\n      WebkitTransition: \"webkitTransitionEnd\"\r\n    };\r\n\r\n    for (t in transitions) {\r\n      if (el.style[t] !== undefined) {\r\n        return transitions[t];\r\n      }\r\n    }\r\n\r\n    return \"transitionend\";\r\n  })();\r\n\r\n  // Force redraw on an element.\r\n  // This helps in cases where the browser doesn't redraw an updated element properly\r\n  // ================================================================================\r\n  var forceRedraw = function($el) {\r\n    return $el && $el.length && $el[0].offsetHeight;\r\n  };\r\n\r\n  // Exclude array (`buttons`) options from deep merging\r\n  // ===================================================\r\n  var mergeOpts = function(opts1, opts2) {\r\n    var rez = $.extend(true, {}, opts1, opts2);\r\n\r\n    $.each(opts2, function(key, value) {\r\n      if ($.isArray(value)) {\r\n        rez[key] = value;\r\n      }\r\n    });\r\n\r\n    return rez;\r\n  };\r\n\r\n  // How much of an element is visible in viewport\r\n  // =============================================\r\n\r\n  var inViewport = function(elem) {\r\n    var elemCenter, rez;\r\n\r\n    if (!elem || elem.ownerDocument !== document) {\r\n      return false;\r\n    }\r\n\r\n    $(\".fancybox-container\").css(\"pointer-events\", \"none\");\r\n\r\n    elemCenter = {\r\n      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\r\n      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\r\n    };\r\n\r\n    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\r\n\r\n    $(\".fancybox-container\").css(\"pointer-events\", \"\");\r\n\r\n    return rez;\r\n  };\r\n\r\n  // Class definition\r\n  // ================\r\n\r\n  var FancyBox = function(content, opts, index) {\r\n    var self = this;\r\n\r\n    self.opts = mergeOpts({index: index}, $.fancybox.defaults);\r\n\r\n    if ($.isPlainObject(opts)) {\r\n      self.opts = mergeOpts(self.opts, opts);\r\n    }\r\n\r\n    if ($.fancybox.isMobile) {\r\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\r\n    }\r\n\r\n    self.id = self.opts.id || ++called;\r\n\r\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\r\n    self.prevIndex = null;\r\n\r\n    self.prevPos = null;\r\n    self.currPos = 0;\r\n\r\n    self.firstRun = true;\r\n\r\n    // All group items\r\n    self.group = [];\r\n\r\n    // Existing slides (for current, next and previous gallery items)\r\n    self.slides = {};\r\n\r\n    // Create group elements\r\n    self.addContent(content);\r\n\r\n    if (!self.group.length) {\r\n      return;\r\n    }\r\n\r\n    self.init();\r\n  };\r\n\r\n  $.extend(FancyBox.prototype, {\r\n    // Create DOM structure\r\n    // ====================\r\n\r\n    init: function() {\r\n      var self = this,\r\n        firstItem = self.group[self.currIndex],\r\n        firstItemOpts = firstItem.opts,\r\n        $container,\r\n        buttonStr;\r\n\r\n      if (firstItemOpts.closeExisting) {\r\n        $.fancybox.close(true);\r\n      }\r\n\r\n      // Hide scrollbars\r\n      // ===============\r\n\r\n      $(\"body\").addClass(\"fancybox-active\");\r\n\r\n      if (\r\n        !$.fancybox.getInstance() &&\r\n        firstItemOpts.hideScrollbar !== false &&\r\n        !$.fancybox.isMobile &&\r\n        document.body.scrollHeight > window.innerHeight\r\n      ) {\r\n        $(\"head\").append(\r\n          '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\r\n            (window.innerWidth - document.documentElement.clientWidth) +\r\n            \"px;}</style>\"\r\n        );\r\n\r\n        $(\"body\").addClass(\"compensate-for-scrollbar\");\r\n      }\r\n\r\n      // Build html markup and set references\r\n      // ====================================\r\n\r\n      // Build html code for buttons and insert into main template\r\n      buttonStr = \"\";\r\n\r\n      $.each(firstItemOpts.buttons, function(index, value) {\r\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\r\n      });\r\n\r\n      // Create markup from base template, it will be initially hidden to\r\n      // avoid unnecessary work like painting while initializing is not complete\r\n      $container = $(\r\n        self.translate(\r\n          self,\r\n          firstItemOpts.baseTpl\r\n            .replace(\"{{buttons}}\", buttonStr)\r\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\r\n        )\r\n      )\r\n        .attr(\"id\", \"fancybox-container-\" + self.id)\r\n        .addClass(firstItemOpts.baseClass)\r\n        .data(\"FancyBox\", self)\r\n        .appendTo(firstItemOpts.parentEl);\r\n\r\n      // Create object holding references to jQuery wrapped nodes\r\n      self.$refs = {\r\n        container: $container\r\n      };\r\n\r\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function(item) {\r\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\r\n      });\r\n\r\n      self.trigger(\"onInit\");\r\n\r\n      // Enable events, deactive previous instances\r\n      self.activate();\r\n\r\n      // Build slides, load and reveal content\r\n      self.jumpTo(self.currIndex);\r\n    },\r\n\r\n    // Simple i18n support - replaces object keys found in template\r\n    // with corresponding values\r\n    // ============================================================\r\n\r\n    translate: function(obj, str) {\r\n      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\r\n\r\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\r\n        var value = arr[n];\r\n\r\n        if (value === undefined) {\r\n          return match;\r\n        }\r\n\r\n        return value;\r\n      });\r\n    },\r\n\r\n    // Populate current group with fresh content\r\n    // Check if each object has valid type and content\r\n    // ===============================================\r\n\r\n    addContent: function(content) {\r\n      var self = this,\r\n        items = $.makeArray(content),\r\n        thumbs;\r\n\r\n      $.each(items, function(i, item) {\r\n        var obj = {},\r\n          opts = {},\r\n          $item,\r\n          type,\r\n          found,\r\n          src,\r\n          srcParts;\r\n\r\n        // Step 1 - Make sure we have an object\r\n        // ====================================\r\n\r\n        if ($.isPlainObject(item)) {\r\n          // We probably have manual usage here, something like\r\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\r\n\r\n          obj = item;\r\n          opts = item.opts || item;\r\n        } else if ($.type(item) === \"object\" && $(item).length) {\r\n          // Here we probably have jQuery collection returned by some selector\r\n          $item = $(item);\r\n\r\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\r\n          opts = $item.data() || {};\r\n          opts = $.extend(true, {}, opts, opts.options);\r\n\r\n          // Here we store clicked element\r\n          opts.$orig = $item;\r\n\r\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\r\n\r\n          // Assume that simple syntax is used, for example:\r\n          //   `$.fancybox.open( $(\"#test\"), {} );`\r\n          if (!obj.type && !obj.src) {\r\n            obj.type = \"inline\";\r\n            obj.src = item;\r\n          }\r\n        } else {\r\n          // Assume we have a simple html code, for example:\r\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\r\n          obj = {\r\n            type: \"html\",\r\n            src: item + \"\"\r\n          };\r\n        }\r\n\r\n        // Each gallery object has full collection of options\r\n        obj.opts = $.extend(true, {}, self.opts, opts);\r\n\r\n        // Do not merge buttons array\r\n        if ($.isArray(opts.buttons)) {\r\n          obj.opts.buttons = opts.buttons;\r\n        }\r\n\r\n        if ($.fancybox.isMobile && obj.opts.mobile) {\r\n          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);\r\n        }\r\n\r\n        // Step 2 - Make sure we have content type, if not - try to guess\r\n        // ==============================================================\r\n\r\n        type = obj.type || obj.opts.type;\r\n        src = obj.src || \"\";\r\n\r\n        if (!type && src) {\r\n          if ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\r\n            type = \"video\";\r\n\r\n            if (!obj.opts.video.format) {\r\n              obj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\r\n            }\r\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\r\n            type = \"image\";\r\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\r\n            type = \"iframe\";\r\n            obj = $.extend(true, obj, {contentType: \"pdf\", opts: {iframe: {preload: false}}});\r\n          } else if (src.charAt(0) === \"#\") {\r\n            type = \"inline\";\r\n          }\r\n        }\r\n\r\n        if (type) {\r\n          obj.type = type;\r\n        } else {\r\n          self.trigger(\"objectNeedsType\", obj);\r\n        }\r\n\r\n        if (!obj.contentType) {\r\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\r\n        }\r\n\r\n        // Step 3 - Some adjustments\r\n        // =========================\r\n\r\n        obj.index = self.group.length;\r\n\r\n        if (obj.opts.smallBtn == \"auto\") {\r\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\r\n        }\r\n\r\n        if (obj.opts.toolbar === \"auto\") {\r\n          obj.opts.toolbar = !obj.opts.smallBtn;\r\n        }\r\n\r\n        // Find thumbnail image, check if exists and if is in the viewport\r\n        obj.$thumb = obj.opts.$thumb || null;\r\n\r\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\r\n          obj.$thumb = obj.opts.$trigger.find(\"img:first\");\r\n\r\n          if (obj.$thumb.length) {\r\n            obj.opts.$orig = obj.opts.$trigger;\r\n          }\r\n        }\r\n\r\n        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\r\n          obj.$thumb = obj.opts.$orig.find(\"img:first\");\r\n        }\r\n\r\n        if (obj.$thumb && !obj.$thumb.length) {\r\n          obj.$thumb = null;\r\n        }\r\n\r\n        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\r\n\r\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\r\n        if ($.type(obj.opts.caption) === \"function\") {\r\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\r\n        }\r\n\r\n        if ($.type(self.opts.caption) === \"function\") {\r\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\r\n        }\r\n\r\n        // Make sure we have caption as a string or jQuery object\r\n        if (!(obj.opts.caption instanceof $)) {\r\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\r\n        }\r\n\r\n        // Check if url contains \"filter\" used to filter the content\r\n        // Example: \"ajax.html #something\"\r\n        if (obj.type === \"ajax\") {\r\n          srcParts = src.split(/\\s+/, 2);\r\n\r\n          if (srcParts.length > 1) {\r\n            obj.src = srcParts.shift();\r\n\r\n            obj.opts.filter = srcParts.shift();\r\n          }\r\n        }\r\n\r\n        // Hide all buttons and disable interactivity for modal items\r\n        if (obj.opts.modal) {\r\n          obj.opts = $.extend(true, obj.opts, {\r\n            trapFocus: true,\r\n            // Remove buttons\r\n            infobar: 0,\r\n            toolbar: 0,\r\n\r\n            smallBtn: 0,\r\n\r\n            // Disable keyboard navigation\r\n            keyboard: 0,\r\n\r\n            // Disable some modules\r\n            slideShow: 0,\r\n            fullScreen: 0,\r\n            thumbs: 0,\r\n            touch: 0,\r\n\r\n            // Disable click event handlers\r\n            clickContent: false,\r\n            clickSlide: false,\r\n            clickOutside: false,\r\n            dblclickContent: false,\r\n            dblclickSlide: false,\r\n            dblclickOutside: false\r\n          });\r\n        }\r\n\r\n        // Step 4 - Add processed object to group\r\n        // ======================================\r\n\r\n        self.group.push(obj);\r\n      });\r\n\r\n      // Update controls if gallery is already opened\r\n      if (Object.keys(self.slides).length) {\r\n        self.updateControls();\r\n\r\n        // Update thumbnails, if needed\r\n        thumbs = self.Thumbs;\r\n\r\n        if (thumbs && thumbs.isActive) {\r\n          thumbs.create();\r\n\r\n          thumbs.focus();\r\n        }\r\n      }\r\n    },\r\n\r\n    // Attach an event handler functions for:\r\n    //   - navigation buttons\r\n    //   - browser scrolling, resizing;\r\n    //   - focusing\r\n    //   - keyboard\r\n    //   - detecting inactivity\r\n    // ======================================\r\n\r\n    addEvents: function() {\r\n      var self = this;\r\n\r\n      self.removeEvents();\r\n\r\n      // Make navigation elements clickable\r\n      // ==================================\r\n\r\n      self.$refs.container\r\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.close(e);\r\n        })\r\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.previous();\r\n        })\r\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.next();\r\n        })\r\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function(e) {\r\n          // Click handler for zoom button\r\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\r\n        });\r\n\r\n      // Handle page scrolling and browser resizing\r\n      // ==========================================\r\n\r\n      $W.on(\"orientationchange.fb resize.fb\", function(e) {\r\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\r\n          if (self.requestId) {\r\n            cancelAFrame(self.requestId);\r\n          }\r\n\r\n          self.requestId = requestAFrame(function() {\r\n            self.update(e);\r\n          });\r\n        } else {\r\n          if (self.current && self.current.type === \"iframe\") {\r\n            self.$refs.stage.hide();\r\n          }\r\n\r\n          setTimeout(function() {\r\n            self.$refs.stage.show();\r\n\r\n            self.update(e);\r\n          }, $.fancybox.isMobile ? 600 : 250);\r\n        }\r\n      });\r\n\r\n      $D.on(\"keydown.fb\", function(e) {\r\n        var instance = $.fancybox ? $.fancybox.getInstance() : null,\r\n          current = instance.current,\r\n          keycode = e.keyCode || e.which;\r\n\r\n        // Trap keyboard focus inside of the modal\r\n        // =======================================\r\n\r\n        if (keycode == 9) {\r\n          if (current.opts.trapFocus) {\r\n            self.focus(e);\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        // Enable keyboard navigation\r\n        // ==========================\r\n\r\n        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input\") || $(e.target).is(\"textarea\")) {\r\n          return;\r\n        }\r\n\r\n        // Backspace and Esc keys\r\n        if (keycode === 8 || keycode === 27) {\r\n          e.preventDefault();\r\n\r\n          self.close(e);\r\n\r\n          return;\r\n        }\r\n\r\n        // Left arrow and Up arrow\r\n        if (keycode === 37 || keycode === 38) {\r\n          e.preventDefault();\r\n\r\n          self.previous();\r\n\r\n          return;\r\n        }\r\n\r\n        // Righ arrow and Down arrow\r\n        if (keycode === 39 || keycode === 40) {\r\n          e.preventDefault();\r\n\r\n          self.next();\r\n\r\n          return;\r\n        }\r\n\r\n        self.trigger(\"afterKeydown\", e, keycode);\r\n      });\r\n\r\n      // Hide controls after some inactivity period\r\n      if (self.group[self.currIndex].opts.idleTime) {\r\n        self.idleSecondsCounter = 0;\r\n\r\n        $D.on(\r\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\r\n          function(e) {\r\n            self.idleSecondsCounter = 0;\r\n\r\n            if (self.isIdle) {\r\n              self.showControls();\r\n            }\r\n\r\n            self.isIdle = false;\r\n          }\r\n        );\r\n\r\n        self.idleInterval = window.setInterval(function() {\r\n          self.idleSecondsCounter++;\r\n\r\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\r\n            self.isIdle = true;\r\n            self.idleSecondsCounter = 0;\r\n\r\n            self.hideControls();\r\n          }\r\n        }, 1000);\r\n      }\r\n    },\r\n\r\n    // Remove events added by the core\r\n    // ===============================\r\n\r\n    removeEvents: function() {\r\n      var self = this;\r\n\r\n      $W.off(\"orientationchange.fb resize.fb\");\r\n      $D.off(\"keydown.fb .fb-idle\");\r\n\r\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\r\n\r\n      if (self.idleInterval) {\r\n        window.clearInterval(self.idleInterval);\r\n\r\n        self.idleInterval = null;\r\n      }\r\n    },\r\n\r\n    // Change to previous gallery item\r\n    // ===============================\r\n\r\n    previous: function(duration) {\r\n      return this.jumpTo(this.currPos - 1, duration);\r\n    },\r\n\r\n    // Change to next gallery item\r\n    // ===========================\r\n\r\n    next: function(duration) {\r\n      return this.jumpTo(this.currPos + 1, duration);\r\n    },\r\n\r\n    // Switch to selected gallery item\r\n    // ===============================\r\n\r\n    jumpTo: function(pos, duration) {\r\n      var self = this,\r\n        groupLen = self.group.length,\r\n        firstRun,\r\n        isMoved,\r\n        loop,\r\n        current,\r\n        previous,\r\n        slidePos,\r\n        stagePos,\r\n        prop,\r\n        diff;\r\n\r\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\r\n        return;\r\n      }\r\n\r\n      // Should loop?\r\n      pos = parseInt(pos, 10);\r\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\r\n\r\n      if (!loop && (pos < 0 || pos >= groupLen)) {\r\n        return false;\r\n      }\r\n\r\n      // Check if opening for the first time; this helps to speed things up\r\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\r\n\r\n      // Create slides\r\n      previous = self.current;\r\n\r\n      self.prevIndex = self.currIndex;\r\n      self.prevPos = self.currPos;\r\n\r\n      current = self.createSlide(pos);\r\n\r\n      if (groupLen > 1) {\r\n        if (loop || current.index < groupLen - 1) {\r\n          self.createSlide(pos + 1);\r\n        }\r\n\r\n        if (loop || current.index > 0) {\r\n          self.createSlide(pos - 1);\r\n        }\r\n      }\r\n\r\n      self.current = current;\r\n      self.currIndex = current.index;\r\n      self.currPos = current.pos;\r\n\r\n      self.trigger(\"beforeShow\", firstRun);\r\n\r\n      self.updateControls();\r\n\r\n      // Validate duration length\r\n      current.forcedDuration = undefined;\r\n\r\n      if ($.isNumeric(duration)) {\r\n        current.forcedDuration = duration;\r\n      } else {\r\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\r\n      }\r\n\r\n      duration = parseInt(duration, 10);\r\n\r\n      // Check if user has swiped the slides or if still animating\r\n      isMoved = self.isMoved(current);\r\n\r\n      // Make sure current slide is visible\r\n      current.$slide.addClass(\"fancybox-slide--current\");\r\n\r\n      // Fresh start - reveal container, current slide and start loading content\r\n      if (firstRun) {\r\n        if (current.opts.animationEffect && duration) {\r\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\r\n        }\r\n\r\n        self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\r\n\r\n        // Attempt to load content into slide\r\n        // This will later call `afterLoad` -> `revealContent`\r\n        self.loadSlide(current);\r\n\r\n        self.preload(\"image\");\r\n\r\n        return;\r\n      }\r\n\r\n      // Get actual slide/stage positions (before cleaning up)\r\n      slidePos = $.fancybox.getTranslate(previous.$slide);\r\n      stagePos = $.fancybox.getTranslate(self.$refs.stage);\r\n\r\n      // Clean up all slides\r\n      $.each(self.slides, function(index, slide) {\r\n        $.fancybox.stop(slide.$slide, true);\r\n      });\r\n\r\n      if (previous.pos !== current.pos) {\r\n        previous.isComplete = false;\r\n      }\r\n\r\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\r\n\r\n      // If slides are out of place, then animate them to correct position\r\n      if (isMoved) {\r\n        // Calculate horizontal swipe distance\r\n        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\r\n\r\n        $.each(self.slides, function(index, slide) {\r\n          slide.$slide.removeClass(\"fancybox-animated\").removeClass(function(index, className) {\r\n            return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\r\n          });\r\n\r\n          // Make sure that each slide is in equal distance\r\n          // This is mostly needed for freshly added slides, because they are not yet positioned\r\n          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\r\n\r\n          $.fancybox.setTranslate(slide.$slide, {top: 0, left: leftPos - stagePos.left + diff});\r\n\r\n          if (slide.pos !== current.pos) {\r\n            slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\r\n          }\r\n\r\n          // Redraw to make sure that transition will start\r\n          forceRedraw(slide.$slide);\r\n\r\n          // Animate the slide\r\n          $.fancybox.animate(\r\n            slide.$slide,\r\n            {\r\n              top: 0,\r\n              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\r\n            },\r\n            duration,\r\n            function() {\r\n              slide.$slide\r\n                .css({\r\n                  transform: \"\",\r\n                  opacity: \"\"\r\n                })\r\n                .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\r\n\r\n              if (slide.pos === self.currPos) {\r\n                self.complete();\r\n              }\r\n            }\r\n          );\r\n        });\r\n      } else if (duration && current.opts.transitionEffect) {\r\n        // Set transition effect for previously active slide\r\n        prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\r\n\r\n        previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\r\n\r\n        $.fancybox.animate(\r\n          previous.$slide,\r\n          prop,\r\n          duration,\r\n          function() {\r\n            previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\r\n          },\r\n          false\r\n        );\r\n      }\r\n\r\n      if (current.isLoaded) {\r\n        self.revealContent(current);\r\n      } else {\r\n        self.loadSlide(current);\r\n      }\r\n\r\n      self.preload(\"image\");\r\n    },\r\n\r\n    // Create new \"slide\" element\r\n    // These are gallery items  that are actually added to DOM\r\n    // =======================================================\r\n\r\n    createSlide: function(pos) {\r\n      var self = this,\r\n        $slide,\r\n        index;\r\n\r\n      index = pos % self.group.length;\r\n      index = index < 0 ? self.group.length + index : index;\r\n\r\n      if (!self.slides[pos] && self.group[index]) {\r\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\r\n\r\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\r\n          pos: pos,\r\n          $slide: $slide,\r\n          isLoaded: false\r\n        });\r\n\r\n        self.updateSlide(self.slides[pos]);\r\n      }\r\n\r\n      return self.slides[pos];\r\n    },\r\n\r\n    // Scale image to the actual size of the image;\r\n    // x and y values should be relative to the slide\r\n    // ==============================================\r\n\r\n    scaleToActual: function(x, y, duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $content = current.$content,\r\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\r\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\r\n        newImgWidth = current.width,\r\n        newImgHeight = current.height,\r\n        imgPos,\r\n        posX,\r\n        posY,\r\n        scaleX,\r\n        scaleY;\r\n\r\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\r\n        return;\r\n      }\r\n\r\n      self.isAnimating = true;\r\n\r\n      $.fancybox.stop($content);\r\n\r\n      x = x === undefined ? canvasWidth * 0.5 : x;\r\n      y = y === undefined ? canvasHeight * 0.5 : y;\r\n\r\n      imgPos = $.fancybox.getTranslate($content);\r\n\r\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\r\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\r\n\r\n      scaleX = newImgWidth / imgPos.width;\r\n      scaleY = newImgHeight / imgPos.height;\r\n\r\n      // Get center position for original image\r\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\r\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\r\n\r\n      // Make sure image does not move away from edges\r\n      if (newImgWidth > canvasWidth) {\r\n        posX = imgPos.left * scaleX - (x * scaleX - x);\r\n\r\n        if (posX > 0) {\r\n          posX = 0;\r\n        }\r\n\r\n        if (posX < canvasWidth - newImgWidth) {\r\n          posX = canvasWidth - newImgWidth;\r\n        }\r\n      }\r\n\r\n      if (newImgHeight > canvasHeight) {\r\n        posY = imgPos.top * scaleY - (y * scaleY - y);\r\n\r\n        if (posY > 0) {\r\n          posY = 0;\r\n        }\r\n\r\n        if (posY < canvasHeight - newImgHeight) {\r\n          posY = canvasHeight - newImgHeight;\r\n        }\r\n      }\r\n\r\n      self.updateCursor(newImgWidth, newImgHeight);\r\n\r\n      $.fancybox.animate(\r\n        $content,\r\n        {\r\n          top: posY,\r\n          left: posX,\r\n          scaleX: scaleX,\r\n          scaleY: scaleY\r\n        },\r\n        duration || 330,\r\n        function() {\r\n          self.isAnimating = false;\r\n        }\r\n      );\r\n\r\n      // Stop slideshow\r\n      if (self.SlideShow && self.SlideShow.isActive) {\r\n        self.SlideShow.stop();\r\n      }\r\n    },\r\n\r\n    // Scale image to fit inside parent element\r\n    // ========================================\r\n\r\n    scaleToFit: function(duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $content = current.$content,\r\n        end;\r\n\r\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\r\n        return;\r\n      }\r\n\r\n      self.isAnimating = true;\r\n\r\n      $.fancybox.stop($content);\r\n\r\n      end = self.getFitPos(current);\r\n\r\n      self.updateCursor(end.width, end.height);\r\n\r\n      $.fancybox.animate(\r\n        $content,\r\n        {\r\n          top: end.top,\r\n          left: end.left,\r\n          scaleX: end.width / $content.width(),\r\n          scaleY: end.height / $content.height()\r\n        },\r\n        duration || 330,\r\n        function() {\r\n          self.isAnimating = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    // Calculate image size to fit inside viewport\r\n    // ===========================================\r\n\r\n    getFitPos: function(slide) {\r\n      var self = this,\r\n        $content = slide.$content,\r\n        $slide = slide.$slide,\r\n        width = slide.width || slide.opts.width,\r\n        height = slide.height || slide.opts.height,\r\n        maxWidth,\r\n        maxHeight,\r\n        minRatio,\r\n        aspectRatio,\r\n        rez = {};\r\n\r\n      if (!slide.isLoaded || !$content || !$content.length) {\r\n        return false;\r\n      }\r\n\r\n      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\r\n      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\r\n\r\n      maxWidth -=\r\n        parseFloat($slide.css(\"paddingLeft\")) +\r\n        parseFloat($slide.css(\"paddingRight\")) +\r\n        parseFloat($content.css(\"marginLeft\")) +\r\n        parseFloat($content.css(\"marginRight\"));\r\n\r\n      maxHeight -=\r\n        parseFloat($slide.css(\"paddingTop\")) +\r\n        parseFloat($slide.css(\"paddingBottom\")) +\r\n        parseFloat($content.css(\"marginTop\")) +\r\n        parseFloat($content.css(\"marginBottom\"));\r\n\r\n      if (!width || !height) {\r\n        width = maxWidth;\r\n        height = maxHeight;\r\n      }\r\n\r\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\r\n\r\n      width = minRatio * width;\r\n      height = minRatio * height;\r\n\r\n      // Adjust width/height to precisely fit into container\r\n      if (width > maxWidth - 0.5) {\r\n        width = maxWidth;\r\n      }\r\n\r\n      if (height > maxHeight - 0.5) {\r\n        height = maxHeight;\r\n      }\r\n\r\n      if (slide.type === \"image\") {\r\n        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\r\n        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\r\n      } else if (slide.contentType === \"video\") {\r\n        // Force aspect ratio for the video\r\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\r\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\r\n\r\n        if (height > width / aspectRatio) {\r\n          height = width / aspectRatio;\r\n        } else if (width > height * aspectRatio) {\r\n          width = height * aspectRatio;\r\n        }\r\n      }\r\n\r\n      rez.width = width;\r\n      rez.height = height;\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Update content size and position for all slides\r\n    // ==============================================\r\n\r\n    update: function(e) {\r\n      var self = this;\r\n\r\n      $.each(self.slides, function(key, slide) {\r\n        self.updateSlide(slide, e);\r\n      });\r\n    },\r\n\r\n    // Update slide content position and size\r\n    // ======================================\r\n\r\n    updateSlide: function(slide, e) {\r\n      var self = this,\r\n        $content = slide && slide.$content,\r\n        width = slide.width || slide.opts.width,\r\n        height = slide.height || slide.opts.height,\r\n        $slide = slide.$slide;\r\n\r\n      // First, prevent caption overlap, if needed\r\n      self.adjustCaption(slide);\r\n\r\n      // Then resize content to fit inside the slide\r\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\r\n        $.fancybox.stop($content);\r\n\r\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.isAnimating = false;\r\n\r\n          self.updateCursor();\r\n        }\r\n      }\r\n\r\n      // Then some adjustments\r\n      self.adjustLayout(slide);\r\n\r\n      if ($slide.length) {\r\n        $slide.trigger(\"refresh\");\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.$refs.toolbar\r\n            .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\r\n            .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\r\n        }\r\n      }\r\n\r\n      self.trigger(\"onUpdate\", slide, e);\r\n    },\r\n\r\n    // Horizontally center slide\r\n    // =========================\r\n\r\n    centerSlide: function(duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $slide = current.$slide;\r\n\r\n      if (self.isClosing || !current) {\r\n        return;\r\n      }\r\n\r\n      $slide.siblings().css({\r\n        transform: \"\",\r\n        opacity: \"\"\r\n      });\r\n\r\n      $slide\r\n        .parent()\r\n        .children()\r\n        .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\r\n\r\n      $.fancybox.animate(\r\n        $slide,\r\n        {\r\n          top: 0,\r\n          left: 0,\r\n          opacity: 1\r\n        },\r\n        duration === undefined ? 0 : duration,\r\n        function() {\r\n          // Clean up\r\n          $slide.css({\r\n            transform: \"\",\r\n            opacity: \"\"\r\n          });\r\n\r\n          if (!current.isComplete) {\r\n            self.complete();\r\n          }\r\n        },\r\n        false\r\n      );\r\n    },\r\n\r\n    // Check if current slide is moved (swiped)\r\n    // ========================================\r\n\r\n    isMoved: function(slide) {\r\n      var current = slide || this.current,\r\n        slidePos,\r\n        stagePos;\r\n\r\n      if (!current) {\r\n        return false;\r\n      }\r\n\r\n      stagePos = $.fancybox.getTranslate(this.$refs.stage);\r\n      slidePos = $.fancybox.getTranslate(current.$slide);\r\n\r\n      return (\r\n        !current.$slide.hasClass(\"fancybox-animated\") &&\r\n        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\r\n      );\r\n    },\r\n\r\n    // Update cursor style depending if content can be zoomed\r\n    // ======================================================\r\n\r\n    updateCursor: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        current = self.current,\r\n        $container = self.$refs.container,\r\n        canPan,\r\n        isZoomable;\r\n\r\n      if (!current || self.isClosing || !self.Guestures) {\r\n        return;\r\n      }\r\n\r\n      $container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\r\n\r\n      canPan = self.canPan(nextWidth, nextHeight);\r\n\r\n      isZoomable = canPan ? true : self.isZoomable();\r\n\r\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\r\n\r\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\r\n\r\n      if (canPan) {\r\n        $container.addClass(\"fancybox-can-pan\");\r\n      } else if (\r\n        isZoomable &&\r\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\r\n      ) {\r\n        $container.addClass(\"fancybox-can-zoomIn\");\r\n      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\r\n        $container.addClass(\"fancybox-can-swipe\");\r\n      }\r\n    },\r\n\r\n    // Check if current slide is zoomable\r\n    // ==================================\r\n\r\n    isZoomable: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        fitPos;\r\n\r\n      // Assume that slide is zoomable if:\r\n      //   - image is still loading\r\n      //   - actual size of the image is smaller than available area\r\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\r\n        if (!current.isLoaded) {\r\n          return true;\r\n        }\r\n\r\n        fitPos = self.getFitPos(current);\r\n\r\n        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Check if current image dimensions are smaller than actual\r\n    // =========================================================\r\n\r\n    isScaledDown: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        rez = false,\r\n        current = self.current,\r\n        $content = current.$content;\r\n\r\n      if (nextWidth !== undefined && nextHeight !== undefined) {\r\n        rez = nextWidth < current.width && nextHeight < current.height;\r\n      } else if ($content) {\r\n        rez = $.fancybox.getTranslate($content);\r\n        rez = rez.width < current.width && rez.height < current.height;\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Check if image dimensions exceed parent element\r\n    // ===============================================\r\n\r\n    canPan: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        current = self.current,\r\n        pos = null,\r\n        rez = false;\r\n\r\n      if (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\r\n        rez = self.getFitPos(current);\r\n\r\n        if (nextWidth !== undefined && nextHeight !== undefined) {\r\n          pos = {width: nextWidth, height: nextHeight};\r\n        } else if (current.isComplete) {\r\n          pos = $.fancybox.getTranslate(current.$content);\r\n        }\r\n\r\n        if (pos && rez) {\r\n          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\r\n        }\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Load content into the slide\r\n    // ===========================\r\n\r\n    loadSlide: function(slide) {\r\n      var self = this,\r\n        type,\r\n        $slide,\r\n        ajaxLoad;\r\n\r\n      if (slide.isLoading || slide.isLoaded) {\r\n        return;\r\n      }\r\n\r\n      slide.isLoading = true;\r\n\r\n      if (self.trigger(\"beforeLoad\", slide) === false) {\r\n        slide.isLoading = false;\r\n\r\n        return false;\r\n      }\r\n\r\n      type = slide.type;\r\n      $slide = slide.$slide;\r\n\r\n      $slide\r\n        .off(\"refresh\")\r\n        .trigger(\"onReset\")\r\n        .addClass(slide.opts.slideClass);\r\n\r\n      // Create content depending on the type\r\n      switch (type) {\r\n        case \"image\":\r\n          self.setImage(slide);\r\n\r\n          break;\r\n\r\n        case \"iframe\":\r\n          self.setIframe(slide);\r\n\r\n          break;\r\n\r\n        case \"html\":\r\n          self.setContent(slide, slide.src || slide.content);\r\n\r\n          break;\r\n\r\n        case \"video\":\r\n          self.setContent(\r\n            slide,\r\n            slide.opts.video.tpl\r\n              .replace(/\\{\\{src\\}\\}/gi, slide.src)\r\n              .replace(\"{{format}}\", slide.opts.videoFormat || slide.opts.video.format || \"\")\r\n              .replace(\"{{poster}}\", slide.thumb || \"\")\r\n          );\r\n\r\n          break;\r\n\r\n        case \"inline\":\r\n          if ($(slide.src).length) {\r\n            self.setContent(slide, $(slide.src));\r\n          } else {\r\n            self.setError(slide);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"ajax\":\r\n          self.showLoading(slide);\r\n\r\n          ajaxLoad = $.ajax(\r\n            $.extend({}, slide.opts.ajax.settings, {\r\n              url: slide.src,\r\n              success: function(data, textStatus) {\r\n                if (textStatus === \"success\") {\r\n                  self.setContent(slide, data);\r\n                }\r\n              },\r\n              error: function(jqXHR, textStatus) {\r\n                if (jqXHR && textStatus !== \"abort\") {\r\n                  self.setError(slide);\r\n                }\r\n              }\r\n            })\r\n          );\r\n\r\n          $slide.one(\"onReset\", function() {\r\n            ajaxLoad.abort();\r\n          });\r\n\r\n          break;\r\n\r\n        default:\r\n          self.setError(slide);\r\n\r\n          break;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    // Use thumbnail image, if possible\r\n    // ================================\r\n\r\n    setImage: function(slide) {\r\n      var self = this,\r\n        ghost;\r\n\r\n      // Check if need to show loading icon\r\n      setTimeout(function() {\r\n        var $img = slide.$image;\r\n\r\n        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\r\n          self.showLoading(slide);\r\n        }\r\n      }, 50);\r\n\r\n      //Check if image has srcset\r\n      self.checkSrcset(slide);\r\n\r\n      // This will be wrapper containing both ghost and actual image\r\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\r\n        .addClass(\"fancybox-is-hidden\")\r\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\r\n\r\n      // If we have a thumbnail, we can display it while actual image is loading\r\n      // Users will not stare at black screen and actual image will appear gradually\r\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\r\n        slide.width = slide.opts.width;\r\n        slide.height = slide.opts.height;\r\n\r\n        ghost = document.createElement(\"img\");\r\n\r\n        ghost.onerror = function() {\r\n          $(this).remove();\r\n\r\n          slide.$ghost = null;\r\n        };\r\n\r\n        ghost.onload = function() {\r\n          self.afterLoad(slide);\r\n        };\r\n\r\n        slide.$ghost = $(ghost)\r\n          .addClass(\"fancybox-image\")\r\n          .appendTo(slide.$content)\r\n          .attr(\"src\", slide.thumb);\r\n      }\r\n\r\n      // Start loading actual image\r\n      self.setBigImage(slide);\r\n    },\r\n\r\n    // Check if image has srcset and get the source\r\n    // ============================================\r\n    checkSrcset: function(slide) {\r\n      var srcset = slide.opts.srcset || slide.opts.image.srcset,\r\n        found,\r\n        temp,\r\n        pxRatio,\r\n        windowWidth;\r\n\r\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\r\n      // This is necessary, because when you set an src attribute, the browser will preload the image\r\n      // before any javascript or even CSS is applied.\r\n      if (srcset) {\r\n        pxRatio = window.devicePixelRatio || 1;\r\n        windowWidth = window.innerWidth * pxRatio;\r\n\r\n        temp = srcset.split(\",\").map(function(el) {\r\n          var ret = {};\r\n\r\n          el.trim()\r\n            .split(/\\s+/)\r\n            .forEach(function(el, i) {\r\n              var value = parseInt(el.substring(0, el.length - 1), 10);\r\n\r\n              if (i === 0) {\r\n                return (ret.url = el);\r\n              }\r\n\r\n              if (value) {\r\n                ret.value = value;\r\n                ret.postfix = el[el.length - 1];\r\n              }\r\n            });\r\n\r\n          return ret;\r\n        });\r\n\r\n        // Sort by value\r\n        temp.sort(function(a, b) {\r\n          return a.value - b.value;\r\n        });\r\n\r\n        // Ok, now we have an array of all srcset values\r\n        for (var j = 0; j < temp.length; j++) {\r\n          var el = temp[j];\r\n\r\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\r\n            found = el;\r\n            break;\r\n          }\r\n        }\r\n\r\n        // If not found, take the last one\r\n        if (!found && temp.length) {\r\n          found = temp[temp.length - 1];\r\n        }\r\n\r\n        if (found) {\r\n          slide.src = found.url;\r\n\r\n          // If we have default width/height values, we can calculate height for matching source\r\n          if (slide.width && slide.height && found.postfix == \"w\") {\r\n            slide.height = (slide.width / slide.height) * found.value;\r\n            slide.width = found.value;\r\n          }\r\n\r\n          slide.opts.srcset = srcset;\r\n        }\r\n      }\r\n    },\r\n\r\n    // Create full-size image\r\n    // ======================\r\n\r\n    setBigImage: function(slide) {\r\n      var self = this,\r\n        img = document.createElement(\"img\"),\r\n        $img = $(img);\r\n\r\n      slide.$image = $img\r\n        .one(\"error\", function() {\r\n          self.setError(slide);\r\n        })\r\n        .one(\"load\", function() {\r\n          var sizes;\r\n\r\n          if (!slide.$ghost) {\r\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\r\n\r\n            self.afterLoad(slide);\r\n          }\r\n\r\n          if (self.isClosing) {\r\n            return;\r\n          }\r\n\r\n          if (slide.opts.srcset) {\r\n            sizes = slide.opts.sizes;\r\n\r\n            if (!sizes || sizes === \"auto\") {\r\n              sizes =\r\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\r\n                \"vw\";\r\n            }\r\n\r\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\r\n          }\r\n\r\n          // Hide temporary image after some delay\r\n          if (slide.$ghost) {\r\n            setTimeout(function() {\r\n              if (slide.$ghost && !self.isClosing) {\r\n                slide.$ghost.hide();\r\n              }\r\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\r\n          }\r\n\r\n          self.hideLoading(slide);\r\n        })\r\n        .addClass(\"fancybox-image\")\r\n        .attr(\"src\", slide.src)\r\n        .appendTo(slide.$content);\r\n\r\n      if ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\r\n        $img.trigger(\"load\");\r\n      } else if (img.error) {\r\n        $img.trigger(\"error\");\r\n      }\r\n    },\r\n\r\n    // Computes the slide size from image size and maxWidth/maxHeight\r\n    // ==============================================================\r\n\r\n    resolveImageSlideSize: function(slide, imgWidth, imgHeight) {\r\n      var maxWidth = parseInt(slide.opts.width, 10),\r\n        maxHeight = parseInt(slide.opts.height, 10);\r\n\r\n      // Sets the default values from the image\r\n      slide.width = imgWidth;\r\n      slide.height = imgHeight;\r\n\r\n      if (maxWidth > 0) {\r\n        slide.width = maxWidth;\r\n        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\r\n      }\r\n\r\n      if (maxHeight > 0) {\r\n        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\r\n        slide.height = maxHeight;\r\n      }\r\n    },\r\n\r\n    // Create iframe wrapper, iframe and bindings\r\n    // ==========================================\r\n\r\n    setIframe: function(slide) {\r\n      var self = this,\r\n        opts = slide.opts.iframe,\r\n        $slide = slide.$slide,\r\n        $iframe;\r\n\r\n      // Fix responsive iframes on iOS (along with `position:absolute;` for iframe element)\r\n      if ($.fancybox.isMobile) {\r\n        opts.css.overflow = \"scroll\";\r\n      }\r\n\r\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\r\n        .css(opts.css)\r\n        .appendTo($slide);\r\n\r\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\r\n\r\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\r\n        .attr(opts.attr)\r\n        .appendTo(slide.$content);\r\n\r\n      if (opts.preload) {\r\n        self.showLoading(slide);\r\n\r\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\r\n        // (due to browser security policy)\r\n\r\n        $iframe.on(\"load.fb error.fb\", function(e) {\r\n          this.isReady = 1;\r\n\r\n          slide.$slide.trigger(\"refresh\");\r\n\r\n          self.afterLoad(slide);\r\n        });\r\n\r\n        // Recalculate iframe content size\r\n        // ===============================\r\n\r\n        $slide.on(\"refresh.fb\", function() {\r\n          var $content = slide.$content,\r\n            frameWidth = opts.css.width,\r\n            frameHeight = opts.css.height,\r\n            $contents,\r\n            $body;\r\n\r\n          if ($iframe[0].isReady !== 1) {\r\n            return;\r\n          }\r\n\r\n          try {\r\n            $contents = $iframe.contents();\r\n            $body = $contents.find(\"body\");\r\n          } catch (ignore) {}\r\n\r\n          // Calculate contnet dimensions if it is accessible\r\n          if ($body && $body.length && $body.children().length) {\r\n            // Avoid scrolling to top (if multiple instances)\r\n            $slide.css(\"overflow\", \"visible\");\r\n\r\n            $content.css({\r\n              width: \"100%\",\r\n              \"max-width\": \"100%\",\r\n              height: \"9999px\"\r\n            });\r\n\r\n            if (frameWidth === undefined) {\r\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\r\n            }\r\n\r\n            $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\r\n\r\n            if (frameHeight === undefined) {\r\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\r\n            }\r\n\r\n            $content.css(\"height\", frameHeight ? frameHeight : \"\");\r\n\r\n            $slide.css(\"overflow\", \"auto\");\r\n          }\r\n\r\n          $content.removeClass(\"fancybox-is-hidden\");\r\n        });\r\n      } else {\r\n        self.afterLoad(slide);\r\n      }\r\n\r\n      $iframe.attr(\"src\", slide.src);\r\n\r\n      // Remove iframe if closing or changing gallery item\r\n      $slide.one(\"onReset\", function() {\r\n        // This helps IE not to throw errors when closing\r\n        try {\r\n          $(this)\r\n            .find(\"iframe\")\r\n            .hide()\r\n            .unbind()\r\n            .attr(\"src\", \"//about:blank\");\r\n        } catch (ignore) {}\r\n\r\n        $(this)\r\n          .off(\"refresh.fb\")\r\n          .empty();\r\n\r\n        slide.isLoaded = false;\r\n        slide.isRevealed = false;\r\n      });\r\n    },\r\n\r\n    // Wrap and append content to the slide\r\n    // ======================================\r\n\r\n    setContent: function(slide, content) {\r\n      var self = this;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      self.hideLoading(slide);\r\n\r\n      if (slide.$content) {\r\n        $.fancybox.stop(slide.$content);\r\n      }\r\n\r\n      slide.$slide.empty();\r\n\r\n      // If content is a jQuery object, then it will be moved to the slide.\r\n      // The placeholder is created so we will know where to put it back.\r\n      if (isQuery(content) && content.parent().length) {\r\n        // Make sure content is not already moved to fancyBox\r\n        if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\r\n          content.parents(\".fancybox-slide\").trigger(\"onReset\");\r\n        }\r\n\r\n        // Create temporary element marking original place of the content\r\n        slide.$placeholder = $(\"<div>\")\r\n          .hide()\r\n          .insertAfter(content);\r\n\r\n        // Make sure content is visible\r\n        content.css(\"display\", \"inline-block\");\r\n      } else if (!slide.hasError) {\r\n        // If content is just a plain text, try to convert it to html\r\n        if ($.type(content) === \"string\") {\r\n          content = $(\"<div>\")\r\n            .append($.trim(content))\r\n            .contents();\r\n        }\r\n\r\n        // If \"filter\" option is provided, then filter content\r\n        if (slide.opts.filter) {\r\n          content = $(\"<div>\")\r\n            .html(content)\r\n            .find(slide.opts.filter);\r\n        }\r\n      }\r\n\r\n      slide.$slide.one(\"onReset\", function() {\r\n        // Pause all html5 video/audio\r\n        $(this)\r\n          .find(\"video,audio\")\r\n          .trigger(\"pause\");\r\n\r\n        // Put content back\r\n        if (slide.$placeholder) {\r\n          slide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\r\n\r\n          slide.$placeholder = null;\r\n        }\r\n\r\n        // Remove custom close button\r\n        if (slide.$smallBtn) {\r\n          slide.$smallBtn.remove();\r\n\r\n          slide.$smallBtn = null;\r\n        }\r\n\r\n        // Remove content and mark slide as not loaded\r\n        if (!slide.hasError) {\r\n          $(this).empty();\r\n\r\n          slide.isLoaded = false;\r\n          slide.isRevealed = false;\r\n        }\r\n      });\r\n\r\n      $(content).appendTo(slide.$slide);\r\n\r\n      if ($(content).is(\"video,audio\")) {\r\n        $(content).addClass(\"fancybox-video\");\r\n\r\n        $(content).wrap(\"<div></div>\");\r\n\r\n        slide.contentType = \"video\";\r\n\r\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\r\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\r\n      }\r\n\r\n      slide.$content = slide.$slide\r\n        .children()\r\n        .filter(\"div,form,main,video,audio,article,.fancybox-content\")\r\n        .first();\r\n\r\n      slide.$content.siblings().hide();\r\n\r\n      // Re-check if there is a valid content\r\n      // (in some cases, ajax response can contain various elements or plain text)\r\n      if (!slide.$content.length) {\r\n        slide.$content = slide.$slide\r\n          .wrapInner(\"<div></div>\")\r\n          .children()\r\n          .first();\r\n      }\r\n\r\n      slide.$content.addClass(\"fancybox-content\");\r\n\r\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\r\n\r\n      self.afterLoad(slide);\r\n    },\r\n\r\n    // Display error message\r\n    // =====================\r\n\r\n    setError: function(slide) {\r\n      slide.hasError = true;\r\n\r\n      slide.$slide\r\n        .trigger(\"onReset\")\r\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\r\n        .addClass(\"fancybox-slide--error\");\r\n\r\n      slide.contentType = \"html\";\r\n\r\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\r\n\r\n      if (slide.pos === this.currPos) {\r\n        this.isAnimating = false;\r\n      }\r\n    },\r\n\r\n    // Show loading icon inside the slide\r\n    // ==================================\r\n\r\n    showLoading: function(slide) {\r\n      var self = this;\r\n\r\n      slide = slide || self.current;\r\n\r\n      if (slide && !slide.$spinner) {\r\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\r\n          .appendTo(slide.$slide)\r\n          .hide()\r\n          .fadeIn(\"fast\");\r\n      }\r\n    },\r\n\r\n    // Remove loading icon from the slide\r\n    // ==================================\r\n\r\n    hideLoading: function(slide) {\r\n      var self = this;\r\n\r\n      slide = slide || self.current;\r\n\r\n      if (slide && slide.$spinner) {\r\n        slide.$spinner.stop().remove();\r\n\r\n        delete slide.$spinner;\r\n      }\r\n    },\r\n\r\n    // Adjustments after slide content has been loaded\r\n    // ===============================================\r\n\r\n    afterLoad: function(slide) {\r\n      var self = this;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      slide.isLoading = false;\r\n      slide.isLoaded = true;\r\n\r\n      self.trigger(\"afterLoad\", slide);\r\n\r\n      self.hideLoading(slide);\r\n\r\n      // Add small close button\r\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\r\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\r\n      }\r\n\r\n      // Disable right click\r\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\r\n        slide.$content.on(\"contextmenu.fb\", function(e) {\r\n          if (e.button == 2) {\r\n            e.preventDefault();\r\n          }\r\n\r\n          return true;\r\n        });\r\n\r\n        // Add fake element on top of the image\r\n        // This makes a bit harder for user to select image\r\n        if (slide.type === \"image\") {\r\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\r\n        }\r\n      }\r\n\r\n      self.adjustCaption(slide);\r\n\r\n      self.adjustLayout(slide);\r\n\r\n      if (slide.pos === self.currPos) {\r\n        self.updateCursor();\r\n      }\r\n\r\n      self.revealContent(slide);\r\n    },\r\n\r\n    // Prevent caption overlap,\r\n    // fix css inconsistency across browsers\r\n    // =====================================\r\n\r\n    adjustCaption: function(slide) {\r\n      var self = this,\r\n        current = slide || self.current,\r\n        caption = current.opts.caption,\r\n        $caption = self.$refs.caption,\r\n        captionH = false;\r\n\r\n      if (current.opts.preventCaptionOverlap && caption && caption.length) {\r\n        if (current.pos !== self.currPos) {\r\n          $caption = $caption\r\n            .clone()\r\n            .empty()\r\n            .appendTo($caption.parent());\r\n\r\n          $caption.html(caption);\r\n\r\n          captionH = $caption.outerHeight(true);\r\n\r\n          $caption.empty().remove();\r\n        } else if (self.$caption) {\r\n          captionH = self.$caption.outerHeight(true);\r\n        }\r\n\r\n        current.$slide.css(\"padding-bottom\", captionH || \"\");\r\n      }\r\n    },\r\n\r\n    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\r\n    // ====================================================================================\r\n\r\n    adjustLayout: function(slide) {\r\n      var self = this,\r\n        current = slide || self.current,\r\n        scrollHeight,\r\n        marginBottom,\r\n        inlinePadding,\r\n        actualPadding;\r\n\r\n      if (current.isLoaded && current.opts.disableLayoutFix !== true) {\r\n        current.$content.css(\"margin-bottom\", \"\");\r\n\r\n        // If we would always set margin-bottom for the content,\r\n        // then it would potentially break vertical align\r\n        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\r\n          inlinePadding = current.$slide[0].style[\"padding-bottom\"];\r\n          actualPadding = current.$slide.css(\"padding-bottom\");\r\n\r\n          if (parseFloat(actualPadding) > 0) {\r\n            scrollHeight = current.$slide[0].scrollHeight;\r\n\r\n            current.$slide.css(\"padding-bottom\", 0);\r\n\r\n            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\r\n              marginBottom = actualPadding;\r\n            }\r\n\r\n            current.$slide.css(\"padding-bottom\", inlinePadding);\r\n          }\r\n        }\r\n\r\n        current.$content.css(\"margin-bottom\", marginBottom);\r\n      }\r\n    },\r\n\r\n    // Make content visible\r\n    // This method is called right after content has been loaded or\r\n    // user navigates gallery and transition should start\r\n    // ============================================================\r\n\r\n    revealContent: function(slide) {\r\n      var self = this,\r\n        $slide = slide.$slide,\r\n        end = false,\r\n        start = false,\r\n        isMoved = self.isMoved(slide),\r\n        isRevealed = slide.isRevealed,\r\n        effect,\r\n        effectClassName,\r\n        duration,\r\n        opacity;\r\n\r\n      slide.isRevealed = true;\r\n\r\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\r\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\r\n\r\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\r\n\r\n      if (isMoved || slide.pos !== self.currPos || !duration) {\r\n        effect = false;\r\n      }\r\n\r\n      // Check if can zoom\r\n      if (effect === \"zoom\") {\r\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\r\n          end = self.getFitPos(slide);\r\n        } else {\r\n          effect = \"fade\";\r\n        }\r\n      }\r\n\r\n      // Zoom animation\r\n      // ==============\r\n      if (effect === \"zoom\") {\r\n        self.isAnimating = true;\r\n\r\n        end.scaleX = end.width / start.width;\r\n        end.scaleY = end.height / start.height;\r\n\r\n        // Check if we need to animate opacity\r\n        opacity = slide.opts.zoomOpacity;\r\n\r\n        if (opacity == \"auto\") {\r\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\r\n        }\r\n\r\n        if (opacity) {\r\n          start.opacity = 0.1;\r\n          end.opacity = 1;\r\n        }\r\n\r\n        // Draw image at start position\r\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\r\n\r\n        forceRedraw(slide.$content);\r\n\r\n        // Start animation\r\n        $.fancybox.animate(slide.$content, end, duration, function() {\r\n          self.isAnimating = false;\r\n\r\n          self.complete();\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      self.updateSlide(slide);\r\n\r\n      // Simply show content if no effect\r\n      // ================================\r\n      if (!effect) {\r\n        slide.$content.removeClass(\"fancybox-is-hidden\");\r\n\r\n        if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\r\n          slide.$content.hide().fadeIn(\"fast\");\r\n        }\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.complete();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      // Prepare for CSS transiton\r\n      // =========================\r\n      $.fancybox.stop($slide);\r\n\r\n      //effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\r\n      effectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\r\n\r\n      $slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\r\n\r\n      slide.$content.removeClass(\"fancybox-is-hidden\");\r\n\r\n      // Force reflow\r\n      forceRedraw($slide);\r\n\r\n      if (slide.type !== \"image\") {\r\n        slide.$content.hide().show(0);\r\n      }\r\n\r\n      $.fancybox.animate(\r\n        $slide,\r\n        \"fancybox-slide--current\",\r\n        duration,\r\n        function() {\r\n          $slide.removeClass(effectClassName).css({\r\n            transform: \"\",\r\n            opacity: \"\"\r\n          });\r\n\r\n          if (slide.pos === self.currPos) {\r\n            self.complete();\r\n          }\r\n        },\r\n        true\r\n      );\r\n    },\r\n\r\n    // Check if we can and have to zoom from thumbnail\r\n    //================================================\r\n\r\n    getThumbPos: function(slide) {\r\n      var rez = false,\r\n        $thumb = slide.$thumb,\r\n        thumbPos,\r\n        btw,\r\n        brw,\r\n        bbw,\r\n        blw;\r\n\r\n      if (!$thumb || !inViewport($thumb[0])) {\r\n        return false;\r\n      }\r\n\r\n      thumbPos = $.fancybox.getTranslate($thumb);\r\n\r\n      btw = parseFloat($thumb.css(\"border-top-width\") || 0);\r\n      brw = parseFloat($thumb.css(\"border-right-width\") || 0);\r\n      bbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\r\n      blw = parseFloat($thumb.css(\"border-left-width\") || 0);\r\n\r\n      rez = {\r\n        top: thumbPos.top + btw,\r\n        left: thumbPos.left + blw,\r\n        width: thumbPos.width - brw - blw,\r\n        height: thumbPos.height - btw - bbw,\r\n        scaleX: 1,\r\n        scaleY: 1\r\n      };\r\n\r\n      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\r\n    },\r\n\r\n    // Final adjustments after current gallery item is moved to position\r\n    // and it`s content is loaded\r\n    // ==================================================================\r\n\r\n    complete: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        slides = {},\r\n        $el;\r\n\r\n      if (self.isMoved() || !current.isLoaded) {\r\n        return;\r\n      }\r\n\r\n      if (!current.isComplete) {\r\n        current.isComplete = true;\r\n\r\n        current.$slide.siblings().trigger(\"onReset\");\r\n\r\n        self.preload(\"inline\");\r\n\r\n        // Trigger any CSS transiton inside the slide\r\n        forceRedraw(current.$slide);\r\n\r\n        current.$slide.addClass(\"fancybox-slide--complete\");\r\n\r\n        // Remove unnecessary slides\r\n        $.each(self.slides, function(key, slide) {\r\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\r\n            slides[slide.pos] = slide;\r\n          } else if (slide) {\r\n            $.fancybox.stop(slide.$slide);\r\n\r\n            slide.$slide.off().remove();\r\n          }\r\n        });\r\n\r\n        self.slides = slides;\r\n      }\r\n\r\n      self.isAnimating = false;\r\n\r\n      self.updateCursor();\r\n\r\n      self.trigger(\"afterShow\");\r\n\r\n      // Autoplay first html5 video/audio\r\n      if (!!current.opts.video.autoStart) {\r\n        current.$slide\r\n          .find(\"video,audio\")\r\n          .filter(\":visible:first\")\r\n          .trigger(\"play\")\r\n          .one(\"ended\", function() {\r\n            if (this.webkitExitFullscreen) {\r\n              this.webkitExitFullscreen();\r\n            }\r\n\r\n            self.next();\r\n          });\r\n      }\r\n\r\n      // Try to focus on the first focusable element\r\n      if (current.opts.autoFocus && current.contentType === \"html\") {\r\n        // Look for the first input with autofocus attribute\r\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\r\n\r\n        if ($el.length) {\r\n          $el.trigger(\"focus\");\r\n        } else {\r\n          self.focus(null, true);\r\n        }\r\n      }\r\n\r\n      // Avoid jumping\r\n      current.$slide.scrollTop(0).scrollLeft(0);\r\n    },\r\n\r\n    // Preload next and previous slides\r\n    // ================================\r\n\r\n    preload: function(type) {\r\n      var self = this,\r\n        prev,\r\n        next;\r\n\r\n      if (self.group.length < 2) {\r\n        return;\r\n      }\r\n\r\n      next = self.slides[self.currPos + 1];\r\n      prev = self.slides[self.currPos - 1];\r\n\r\n      if (prev && prev.type === type) {\r\n        self.loadSlide(prev);\r\n      }\r\n\r\n      if (next && next.type === type) {\r\n        self.loadSlide(next);\r\n      }\r\n    },\r\n\r\n    // Try to find and focus on the first focusable element\r\n    // ====================================================\r\n\r\n    focus: function(e, firstRun) {\r\n      var self = this,\r\n        focusableStr = [\r\n          \"a[href]\",\r\n          \"area[href]\",\r\n          'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\r\n          \"select:not([disabled]):not([aria-hidden])\",\r\n          \"textarea:not([disabled]):not([aria-hidden])\",\r\n          \"button:not([disabled]):not([aria-hidden])\",\r\n          \"iframe\",\r\n          \"object\",\r\n          \"embed\",\r\n          \"[contenteditable]\",\r\n          '[tabindex]:not([tabindex^=\"-\"])'\r\n        ].join(\",\"),\r\n        focusableItems,\r\n        focusedItemIndex;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      if (e || !self.current || !self.current.isComplete) {\r\n        // Focus on any element inside fancybox\r\n        focusableItems = self.$refs.container.find(\"*:visible\");\r\n      } else {\r\n        // Focus inside current slide\r\n        focusableItems = self.current.$slide.find(\"*:visible\" + (firstRun ? \":not(.fancybox-close-small)\" : \"\"));\r\n      }\r\n\r\n      focusableItems = focusableItems.filter(focusableStr).filter(function() {\r\n        return $(this).css(\"visibility\") !== \"hidden\" && !$(this).hasClass(\"disabled\");\r\n      });\r\n\r\n      if (focusableItems.length) {\r\n        focusedItemIndex = focusableItems.index(document.activeElement);\r\n\r\n        if (e && e.shiftKey) {\r\n          // Back tab\r\n          if (focusedItemIndex < 0 || focusedItemIndex == 0) {\r\n            e.preventDefault();\r\n\r\n            focusableItems.eq(focusableItems.length - 1).trigger(\"focus\");\r\n          }\r\n        } else {\r\n          // Outside or Forward tab\r\n          if (focusedItemIndex < 0 || focusedItemIndex == focusableItems.length - 1) {\r\n            if (e) {\r\n              e.preventDefault();\r\n            }\r\n\r\n            focusableItems.eq(0).trigger(\"focus\");\r\n          }\r\n        }\r\n      } else {\r\n        self.$refs.container.trigger(\"focus\");\r\n      }\r\n    },\r\n\r\n    // Activates current instance - brings container to the front and enables keyboard,\r\n    // notifies other instances about deactivating\r\n    // =================================================================================\r\n\r\n    activate: function() {\r\n      var self = this;\r\n\r\n      // Deactivate all instances\r\n      $(\".fancybox-container\").each(function() {\r\n        var instance = $(this).data(\"FancyBox\");\r\n\r\n        // Skip self and closing instances\r\n        if (instance && instance.id !== self.id && !instance.isClosing) {\r\n          instance.trigger(\"onDeactivate\");\r\n\r\n          instance.removeEvents();\r\n\r\n          instance.isVisible = false;\r\n        }\r\n      });\r\n\r\n      self.isVisible = true;\r\n\r\n      if (self.current || self.isIdle) {\r\n        self.update();\r\n\r\n        self.updateControls();\r\n      }\r\n\r\n      self.trigger(\"onActivate\");\r\n\r\n      self.addEvents();\r\n    },\r\n\r\n    // Start closing procedure\r\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\r\n    // =================================================================================\r\n\r\n    close: function(e, d) {\r\n      var self = this,\r\n        current = self.current,\r\n        effect,\r\n        duration,\r\n        $content,\r\n        domRect,\r\n        opacity,\r\n        start,\r\n        end;\r\n\r\n      var done = function() {\r\n        self.cleanUp(e);\r\n      };\r\n\r\n      if (self.isClosing) {\r\n        return false;\r\n      }\r\n\r\n      self.isClosing = true;\r\n\r\n      // If beforeClose callback prevents closing, make sure content is centered\r\n      if (self.trigger(\"beforeClose\", e) === false) {\r\n        self.isClosing = false;\r\n\r\n        requestAFrame(function() {\r\n          self.update();\r\n        });\r\n\r\n        return false;\r\n      }\r\n\r\n      // Remove all events\r\n      // If there are multiple instances, they will be set again by \"activate\" method\r\n      self.removeEvents();\r\n\r\n      $content = current.$content;\r\n      effect = current.opts.animationEffect;\r\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\r\n\r\n      current.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\r\n\r\n      if (e !== true) {\r\n        $.fancybox.stop(current.$slide);\r\n      } else {\r\n        effect = false;\r\n      }\r\n\r\n      // Remove other slides\r\n      current.$slide\r\n        .siblings()\r\n        .trigger(\"onReset\")\r\n        .remove();\r\n\r\n      // Trigger animations\r\n      if (duration) {\r\n        self.$refs.container\r\n          .removeClass(\"fancybox-is-open\")\r\n          .addClass(\"fancybox-is-closing\")\r\n          .css(\"transition-duration\", duration + \"ms\");\r\n      }\r\n\r\n      // Clean up\r\n      self.hideLoading(current);\r\n\r\n      self.hideControls(true);\r\n\r\n      self.updateCursor();\r\n\r\n      // Check if possible to zoom-out\r\n      if (\r\n        effect === \"zoom\" &&\r\n        !($content && duration && current.type === \"image\" && !self.isMoved() && !current.hasError && (end = self.getThumbPos(current)))\r\n      ) {\r\n        effect = \"fade\";\r\n      }\r\n\r\n      if (effect === \"zoom\") {\r\n        $.fancybox.stop($content);\r\n\r\n        domRect = $.fancybox.getTranslate($content);\r\n\r\n        start = {\r\n          top: domRect.top,\r\n          left: domRect.left,\r\n          scaleX: domRect.width / end.width,\r\n          scaleY: domRect.height / end.height,\r\n          width: end.width,\r\n          height: end.height\r\n        };\r\n\r\n        // Check if we need to animate opacity\r\n        opacity = current.opts.zoomOpacity;\r\n\r\n        if (opacity == \"auto\") {\r\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\r\n        }\r\n\r\n        if (opacity) {\r\n          end.opacity = 0;\r\n        }\r\n\r\n        $.fancybox.setTranslate($content, start);\r\n\r\n        forceRedraw($content);\r\n\r\n        $.fancybox.animate($content, end, duration, done);\r\n\r\n        return true;\r\n      }\r\n\r\n      if (effect && duration) {\r\n        $.fancybox.animate(\r\n          current.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\r\n          \"fancybox-animated fancybox-fx-\" + effect,\r\n          duration,\r\n          done\r\n        );\r\n      } else {\r\n        // If skip animation\r\n        if (e === true) {\r\n          setTimeout(done, duration);\r\n        } else {\r\n          done();\r\n        }\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    // Final adjustments after removing the instance\r\n    // =============================================\r\n\r\n    cleanUp: function(e) {\r\n      var self = this,\r\n        instance,\r\n        $focus = self.current.opts.$orig,\r\n        x,\r\n        y;\r\n\r\n      self.current.$slide.trigger(\"onReset\");\r\n\r\n      self.$refs.container.empty().remove();\r\n\r\n      self.trigger(\"afterClose\", e);\r\n\r\n      // Place back focus\r\n      if (!!self.current.opts.backFocus) {\r\n        if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\r\n          $focus = self.$trigger;\r\n        }\r\n\r\n        if ($focus && $focus.length) {\r\n          x = window.scrollX;\r\n          y = window.scrollY;\r\n\r\n          $focus.trigger(\"focus\");\r\n\r\n          $(\"html, body\")\r\n            .scrollTop(y)\r\n            .scrollLeft(x);\r\n        }\r\n      }\r\n\r\n      self.current = null;\r\n\r\n      // Check if there are other instances\r\n      instance = $.fancybox.getInstance();\r\n\r\n      if (instance) {\r\n        instance.activate();\r\n      } else {\r\n        $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\r\n\r\n        $(\"#fancybox-style-noscroll\").remove();\r\n      }\r\n    },\r\n\r\n    // Call callback and trigger an event\r\n    // ==================================\r\n\r\n    trigger: function(name, slide) {\r\n      var args = Array.prototype.slice.call(arguments, 1),\r\n        self = this,\r\n        obj = slide && slide.opts ? slide : self.current,\r\n        rez;\r\n\r\n      if (obj) {\r\n        args.unshift(obj);\r\n      } else {\r\n        obj = self;\r\n      }\r\n\r\n      args.unshift(self);\r\n\r\n      if ($.isFunction(obj.opts[name])) {\r\n        rez = obj.opts[name].apply(obj, args);\r\n      }\r\n\r\n      if (rez === false) {\r\n        return rez;\r\n      }\r\n\r\n      if (name === \"afterClose\" || !self.$refs) {\r\n        $D.trigger(name + \".fb\", args);\r\n      } else {\r\n        self.$refs.container.trigger(name + \".fb\", args);\r\n      }\r\n    },\r\n\r\n    // Update infobar values, navigation button states and reveal caption\r\n    // ==================================================================\r\n\r\n    updateControls: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        index = current.index,\r\n        $container = self.$refs.container,\r\n        $caption = self.$refs.caption,\r\n        caption = current.opts.caption;\r\n\r\n      // Recalculate content dimensions\r\n      current.$slide.trigger(\"refresh\");\r\n\r\n      self.$caption = caption && caption.length ? $caption.html(caption) : null;\r\n\r\n      if (!self.hasHiddenControls && !self.isIdle) {\r\n        self.showControls();\r\n      }\r\n\r\n      // Update info and navigation elements\r\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\r\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\r\n\r\n      $container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0);\r\n      $container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\r\n\r\n      if (current.type === \"image\") {\r\n        // Re-enable buttons; update download button source\r\n        $container\r\n          .find(\"[data-fancybox-zoom]\")\r\n          .show()\r\n          .end()\r\n          .find(\"[data-fancybox-download]\")\r\n          .attr(\"href\", current.opts.image.src || current.src)\r\n          .show();\r\n      } else if (current.opts.toolbar) {\r\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\r\n      }\r\n\r\n      // Make sure focus is not on disabled button/element\r\n      if ($(document.activeElement).is(\":hidden,[disabled]\")) {\r\n        self.$refs.container.trigger(\"focus\");\r\n      }\r\n    },\r\n\r\n    // Hide toolbar and caption\r\n    // ========================\r\n\r\n    hideControls: function(andCaption) {\r\n      var self = this,\r\n        arr = [\"infobar\", \"toolbar\", \"nav\"];\r\n\r\n      if (andCaption || !self.current.opts.preventCaptionOverlap) {\r\n        arr.push(\"caption\");\r\n      }\r\n\r\n      this.$refs.container.removeClass(\r\n        arr\r\n          .map(function(i) {\r\n            return \"fancybox-show-\" + i;\r\n          })\r\n          .join(\" \")\r\n      );\r\n\r\n      this.hasHiddenControls = true;\r\n    },\r\n\r\n    showControls: function() {\r\n      var self = this,\r\n        opts = self.current ? self.current.opts : self.opts,\r\n        $container = self.$refs.container;\r\n\r\n      self.hasHiddenControls = false;\r\n      self.idleSecondsCounter = 0;\r\n\r\n      $container\r\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\r\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\r\n        .toggleClass(\"fancybox-show-caption\", !!self.$caption)\r\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\r\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\r\n    },\r\n\r\n    // Toggle toolbar and caption\r\n    // ==========================\r\n\r\n    toggleControls: function() {\r\n      if (this.hasHiddenControls) {\r\n        this.showControls();\r\n      } else {\r\n        this.hideControls();\r\n      }\r\n    }\r\n  });\r\n\r\n  $.fancybox = {\r\n    version: \"3.5.2\",\r\n    defaults: defaults,\r\n\r\n    // Get current instance and execute a command.\r\n    //\r\n    // Examples of usage:\r\n    //\r\n    //   $instance = $.fancybox.getInstance();\r\n    //   $.fancybox.getInstance().jumpTo( 1 );\r\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\r\n    //   $.fancybox.getInstance( function() {\r\n    //       console.info( this.currIndex );\r\n    //   });\r\n    // ======================================================\r\n\r\n    getInstance: function(command) {\r\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\r\n        args = Array.prototype.slice.call(arguments, 1);\r\n\r\n      if (instance instanceof FancyBox) {\r\n        if ($.type(command) === \"string\") {\r\n          instance[command].apply(instance, args);\r\n        } else if ($.type(command) === \"function\") {\r\n          command.apply(instance, args);\r\n        }\r\n\r\n        return instance;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Create new instance\r\n    // ===================\r\n\r\n    open: function(items, opts, index) {\r\n      return new FancyBox(items, opts, index);\r\n    },\r\n\r\n    // Close current or all instances\r\n    // ==============================\r\n\r\n    close: function(all) {\r\n      var instance = this.getInstance();\r\n\r\n      if (instance) {\r\n        instance.close();\r\n\r\n        // Try to find and close next instance\r\n        if (all === true) {\r\n          this.close(all);\r\n        }\r\n      }\r\n    },\r\n\r\n    // Close all instances and unbind all events\r\n    // =========================================\r\n\r\n    destroy: function() {\r\n      this.close(true);\r\n\r\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\r\n    },\r\n\r\n    // Try to detect mobile devices\r\n    // ============================\r\n\r\n    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\r\n\r\n    // Detect if 'translate3d' support is available\r\n    // ============================================\r\n\r\n    use3d: (function() {\r\n      var div = document.createElement(\"div\");\r\n\r\n      return (\r\n        window.getComputedStyle &&\r\n        window.getComputedStyle(div) &&\r\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\r\n        !(document.documentMode && document.documentMode < 11)\r\n      );\r\n    })(),\r\n\r\n    // Helper function to get current visual state of an element\r\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\r\n    // =====================================================================\r\n\r\n    getTranslate: function($el) {\r\n      var domRect;\r\n\r\n      if (!$el || !$el.length) {\r\n        return false;\r\n      }\r\n\r\n      domRect = $el[0].getBoundingClientRect();\r\n\r\n      return {\r\n        top: domRect.top || 0,\r\n        left: domRect.left || 0,\r\n        width: domRect.width,\r\n        height: domRect.height,\r\n        opacity: parseFloat($el.css(\"opacity\"))\r\n      };\r\n    },\r\n\r\n    // Shortcut for setting \"translate3d\" properties for element\r\n    // Can set be used to set opacity, too\r\n    // ========================================================\r\n\r\n    setTranslate: function($el, props) {\r\n      var str = \"\",\r\n        css = {};\r\n\r\n      if (!$el || !props) {\r\n        return;\r\n      }\r\n\r\n      if (props.left !== undefined || props.top !== undefined) {\r\n        str =\r\n          (props.left === undefined ? $el.position().left : props.left) +\r\n          \"px, \" +\r\n          (props.top === undefined ? $el.position().top : props.top) +\r\n          \"px\";\r\n\r\n        if (this.use3d) {\r\n          str = \"translate3d(\" + str + \", 0px)\";\r\n        } else {\r\n          str = \"translate(\" + str + \")\";\r\n        }\r\n      }\r\n\r\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\r\n        str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\r\n      } else if (props.scaleX !== undefined) {\r\n        str += \" scaleX(\" + props.scaleX + \")\";\r\n      }\r\n\r\n      if (str.length) {\r\n        css.transform = str;\r\n      }\r\n\r\n      if (props.opacity !== undefined) {\r\n        css.opacity = props.opacity;\r\n      }\r\n\r\n      if (props.width !== undefined) {\r\n        css.width = props.width;\r\n      }\r\n\r\n      if (props.height !== undefined) {\r\n        css.height = props.height;\r\n      }\r\n\r\n      return $el.css(css);\r\n    },\r\n\r\n    // Simple CSS transition handler\r\n    // =============================\r\n\r\n    animate: function($el, to, duration, callback, leaveAnimationName) {\r\n      var self = this,\r\n        from;\r\n\r\n      if ($.isFunction(duration)) {\r\n        callback = duration;\r\n        duration = null;\r\n      }\r\n\r\n      self.stop($el);\r\n\r\n      from = self.getTranslate($el);\r\n\r\n      $el.on(transitionEnd, function(e) {\r\n        // Skip events from child elements and z-index change\r\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\r\n          return;\r\n        }\r\n\r\n        self.stop($el);\r\n\r\n        if ($.isNumeric(duration)) {\r\n          $el.css(\"transition-duration\", \"\");\r\n        }\r\n\r\n        if ($.isPlainObject(to)) {\r\n          if (to.scaleX !== undefined && to.scaleY !== undefined) {\r\n            self.setTranslate($el, {\r\n              top: to.top,\r\n              left: to.left,\r\n              width: from.width * to.scaleX,\r\n              height: from.height * to.scaleY,\r\n              scaleX: 1,\r\n              scaleY: 1\r\n            });\r\n          }\r\n        } else if (leaveAnimationName !== true) {\r\n          $el.removeClass(to);\r\n        }\r\n\r\n        if ($.isFunction(callback)) {\r\n          callback(e);\r\n        }\r\n      });\r\n\r\n      if ($.isNumeric(duration)) {\r\n        $el.css(\"transition-duration\", duration + \"ms\");\r\n      }\r\n\r\n      // Start animation by changing CSS properties or class name\r\n      if ($.isPlainObject(to)) {\r\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\r\n          delete to.width;\r\n          delete to.height;\r\n\r\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\r\n            $el.parent().addClass(\"fancybox-is-scaling\");\r\n          }\r\n        }\r\n\r\n        $.fancybox.setTranslate($el, to);\r\n      } else {\r\n        $el.addClass(to);\r\n      }\r\n\r\n      // Make sure that `transitionend` callback gets fired\r\n      $el.data(\r\n        \"timer\",\r\n        setTimeout(function() {\r\n          $el.trigger(transitionEnd);\r\n        }, duration + 33)\r\n      );\r\n    },\r\n\r\n    stop: function($el, callCallback) {\r\n      if ($el && $el.length) {\r\n        clearTimeout($el.data(\"timer\"));\r\n\r\n        if (callCallback) {\r\n          $el.trigger(transitionEnd);\r\n        }\r\n\r\n        $el.off(transitionEnd).css(\"transition-duration\", \"\");\r\n\r\n        $el.parent().removeClass(\"fancybox-is-scaling\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Default click handler for \"fancyboxed\" links\r\n  // ============================================\r\n\r\n  function _run(e, opts) {\r\n    var items = [],\r\n      index = 0,\r\n      $target,\r\n      value,\r\n      instance;\r\n\r\n    // Avoid opening multiple times\r\n    if (e && e.isDefaultPrevented()) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    opts = opts || {};\r\n\r\n    if (e && e.data) {\r\n      opts = mergeOpts(e.data.options, opts);\r\n    }\r\n\r\n    $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\r\n    instance = $.fancybox.getInstance();\r\n\r\n    if (instance && instance.$trigger && instance.$trigger.is($target)) {\r\n      return;\r\n    }\r\n\r\n    if (opts.selector) {\r\n      items = $(opts.selector);\r\n    } else {\r\n      // Get all related items and find index for clicked one\r\n      value = $target.attr(\"data-fancybox\") || \"\";\r\n\r\n      if (value) {\r\n        items = e.data ? e.data.items : [];\r\n        items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\r\n      } else {\r\n        items = [$target];\r\n      }\r\n    }\r\n\r\n    index = $(items).index($target);\r\n\r\n    // Sometimes current item can not be found\r\n    if (index < 0) {\r\n      index = 0;\r\n    }\r\n\r\n    instance = $.fancybox.open(items, opts, index);\r\n\r\n    // Save last active element\r\n    instance.$trigger = $target;\r\n  }\r\n\r\n  // Create a jQuery plugin\r\n  // ======================\r\n\r\n  $.fn.fancybox = function(options) {\r\n    var selector;\r\n\r\n    options = options || {};\r\n    selector = options.selector || false;\r\n\r\n    if (selector) {\r\n      // Use body element instead of document so it executes first\r\n      $(\"body\")\r\n        .off(\"click.fb-start\", selector)\r\n        .on(\"click.fb-start\", selector, {options: options}, _run);\r\n    } else {\r\n      this.off(\"click.fb-start\").on(\r\n        \"click.fb-start\",\r\n        {\r\n          items: this,\r\n          options: options\r\n        },\r\n        _run\r\n      );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  // Self initializing plugin for all elements having `data-fancybox` attribute\r\n  // ==========================================================================\r\n\r\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\r\n\r\n  // Enable \"trigger elements\"\r\n  // =========================\r\n\r\n  $D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function(e) {\r\n    $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\r\n      .eq($(this).attr(\"data-fancybox-index\") || 0)\r\n      .trigger(\"click.fb-start\", {\r\n        $trigger: $(this)\r\n      });\r\n  });\r\n\r\n  // Track focus event for better accessibility styling\r\n  // ==================================================\r\n  (function() {\r\n    var buttonStr = \".fancybox-button\",\r\n      focusStr = \"fancybox-focus\",\r\n      $pressed = null;\r\n\r\n    $D.on(\"mousedown mouseup focus blur\", buttonStr, function(e) {\r\n      switch (e.type) {\r\n        case \"mousedown\":\r\n          $pressed = $(this);\r\n          break;\r\n        case \"mouseup\":\r\n          $pressed = null;\r\n          break;\r\n        case \"focusin\":\r\n          $(buttonStr).removeClass(focusStr);\r\n\r\n          if (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\r\n            $(this).addClass(focusStr);\r\n          }\r\n          break;\r\n        case \"focusout\":\r\n          $(buttonStr).removeClass(focusStr);\r\n          break;\r\n      }\r\n    });\r\n  })();\r\n})(window, document, jQuery);\r\n\n// ==========================================================================\r\n//\r\n// Media\r\n// Adds additional media type support\r\n//\r\n// ==========================================================================\r\n(function($) {\r\n  \"use strict\";\r\n\r\n  // Object containing properties for each media type\r\n  var defaults = {\r\n    youtube: {\r\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\r\n      params: {\r\n        autoplay: 1,\r\n        autohide: 1,\r\n        fs: 1,\r\n        rel: 0,\r\n        hd: 1,\r\n        wmode: \"transparent\",\r\n        enablejsapi: 1,\r\n        html5: 1\r\n      },\r\n      paramPlace: 8,\r\n      type: \"iframe\",\r\n      url: \"//www.youtube-nocookie.com/embed/$4\",\r\n      thumb: \"//img.youtube.com/vi/$4/hqdefault.jpg\"\r\n    },\r\n\r\n    vimeo: {\r\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\r\n      params: {\r\n        autoplay: 1,\r\n        hd: 1,\r\n        show_title: 1,\r\n        show_byline: 1,\r\n        show_portrait: 0,\r\n        fullscreen: 1\r\n      },\r\n      paramPlace: 3,\r\n      type: \"iframe\",\r\n      url: \"//player.vimeo.com/video/$2\"\r\n    },\r\n\r\n    instagram: {\r\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\r\n      type: \"image\",\r\n      url: \"//$1/p/$2/media/?size=l\"\r\n    },\r\n\r\n    // Examples:\r\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\r\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\r\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\r\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\r\n    gmap_place: {\r\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\r\n      type: \"iframe\",\r\n      url: function(rez) {\r\n        return (\r\n          \"//maps.google.\" +\r\n          rez[2] +\r\n          \"/?ll=\" +\r\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\r\n          \"&output=\" +\r\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\r\n        );\r\n      }\r\n    },\r\n\r\n    // Examples:\r\n    // https://www.google.com/maps/search/Empire+State+Building/\r\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\r\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\r\n    gmap_search: {\r\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\r\n      type: \"iframe\",\r\n      url: function(rez) {\r\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\r\n      }\r\n    }\r\n  };\r\n\r\n  // Formats matching url to final form\r\n  var format = function(url, rez, params) {\r\n    if (!url) {\r\n      return;\r\n    }\r\n\r\n    params = params || \"\";\r\n\r\n    if ($.type(params) === \"object\") {\r\n      params = $.param(params, true);\r\n    }\r\n\r\n    $.each(rez, function(key, value) {\r\n      url = url.replace(\"$\" + key, value || \"\");\r\n    });\r\n\r\n    if (params.length) {\r\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\r\n    }\r\n\r\n    return url;\r\n  };\r\n\r\n  $(document).on(\"objectNeedsType.fb\", function(e, instance, item) {\r\n    var url = item.src || \"\",\r\n      type = false,\r\n      media,\r\n      thumb,\r\n      rez,\r\n      params,\r\n      urlParams,\r\n      paramObj,\r\n      provider;\r\n\r\n    media = $.extend(true, {}, defaults, item.opts.media);\r\n\r\n    // Look for any matching media type\r\n    $.each(media, function(providerName, providerOpts) {\r\n      rez = url.match(providerOpts.matcher);\r\n\r\n      if (!rez) {\r\n        return;\r\n      }\r\n\r\n      type = providerOpts.type;\r\n      provider = providerName;\r\n      paramObj = {};\r\n\r\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\r\n        urlParams = rez[providerOpts.paramPlace];\r\n\r\n        if (urlParams[0] == \"?\") {\r\n          urlParams = urlParams.substring(1);\r\n        }\r\n\r\n        urlParams = urlParams.split(\"&\");\r\n\r\n        for (var m = 0; m < urlParams.length; ++m) {\r\n          var p = urlParams[m].split(\"=\", 2);\r\n\r\n          if (p.length == 2) {\r\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\r\n          }\r\n        }\r\n      }\r\n\r\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\r\n\r\n      url =\r\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\r\n\r\n      thumb =\r\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\r\n\r\n      if (providerName === \"youtube\") {\r\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function(match, p1, m, s) {\r\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\r\n        });\r\n      } else if (providerName === \"vimeo\") {\r\n        url = url.replace(\"&%23\", \"#\");\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    // If it is found, then change content type and update the url\r\n\r\n    if (type) {\r\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\r\n        item.opts.thumb = thumb;\r\n      }\r\n\r\n      if (type === \"iframe\") {\r\n        item.opts = $.extend(true, item.opts, {\r\n          iframe: {\r\n            preload: false,\r\n            attr: {\r\n              scrolling: \"no\"\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      $.extend(item, {\r\n        type: type,\r\n        src: url,\r\n        origSrc: item.src,\r\n        contentSource: provider,\r\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\r\n      });\r\n    } else if (url) {\r\n      item.type = item.opts.defaultType;\r\n    }\r\n  });\r\n\r\n  // Load YouTube/Video API on request to detect when video finished playing\r\n  var VideoAPILoader = {\r\n    youtube: {\r\n      src: \"https://www.youtube.com/iframe_api\",\r\n      class: \"YT\",\r\n      loading: false,\r\n      loaded: false\r\n    },\r\n\r\n    vimeo: {\r\n      src: \"https://player.vimeo.com/api/player.js\",\r\n      class: \"Vimeo\",\r\n      loading: false,\r\n      loaded: false\r\n    },\r\n\r\n    load: function(vendor) {\r\n      var _this = this,\r\n        script;\r\n\r\n      if (this[vendor].loaded) {\r\n        setTimeout(function() {\r\n          _this.done(vendor);\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (this[vendor].loading) {\r\n        return;\r\n      }\r\n\r\n      this[vendor].loading = true;\r\n\r\n      script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = this[vendor].src;\r\n\r\n      if (vendor === \"youtube\") {\r\n        window.onYouTubeIframeAPIReady = function() {\r\n          _this[vendor].loaded = true;\r\n          _this.done(vendor);\r\n        };\r\n      } else {\r\n        script.onload = function() {\r\n          _this[vendor].loaded = true;\r\n          _this.done(vendor);\r\n        };\r\n      }\r\n\r\n      document.body.appendChild(script);\r\n    },\r\n    done: function(vendor) {\r\n      var instance, $el, player;\r\n\r\n      if (vendor === \"youtube\") {\r\n        delete window.onYouTubeIframeAPIReady;\r\n      }\r\n\r\n      instance = $.fancybox.getInstance();\r\n\r\n      if (instance) {\r\n        $el = instance.current.$content.find(\"iframe\");\r\n\r\n        if (vendor === \"youtube\" && YT !== undefined && YT) {\r\n          player = new YT.Player($el.attr(\"id\"), {\r\n            events: {\r\n              onStateChange: function(e) {\r\n                if (e.data == 0) {\r\n                  instance.next();\r\n                }\r\n              }\r\n            }\r\n          });\r\n        } else if (vendor === \"vimeo\" && Vimeo !== undefined && Vimeo) {\r\n          player = new Vimeo.Player($el);\r\n\r\n          player.on(\"ended\", function() {\r\n            instance.next();\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  $(document).on({\r\n    \"afterShow.fb\": function(e, instance, current) {\r\n      if (instance.group.length > 1 && (current.contentSource === \"youtube\" || current.contentSource === \"vimeo\")) {\r\n        VideoAPILoader.load(current.contentSource);\r\n      }\r\n    }\r\n  });\r\n})(jQuery);\r\n\n// ==========================================================================\r\n//\r\n// Guestures\r\n// Adds touch guestures, handles click and tap events\r\n//\r\n// ==========================================================================\r\n(function(window, document, $) {\r\n  \"use strict\";\r\n\r\n  var requestAFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      // if all else fails, use setTimeout\r\n      function(callback) {\r\n        return window.setTimeout(callback, 1000 / 60);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var cancelAFrame = (function() {\r\n    return (\r\n      window.cancelAnimationFrame ||\r\n      window.webkitCancelAnimationFrame ||\r\n      window.mozCancelAnimationFrame ||\r\n      window.oCancelAnimationFrame ||\r\n      function(id) {\r\n        window.clearTimeout(id);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var getPointerXY = function(e) {\r\n    var result = [];\r\n\r\n    e = e.originalEvent || e || window.e;\r\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\r\n\r\n    for (var key in e) {\r\n      if (e[key].pageX) {\r\n        result.push({\r\n          x: e[key].pageX,\r\n          y: e[key].pageY\r\n        });\r\n      } else if (e[key].clientX) {\r\n        result.push({\r\n          x: e[key].clientX,\r\n          y: e[key].clientY\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  var distance = function(point2, point1, what) {\r\n    if (!point1 || !point2) {\r\n      return 0;\r\n    }\r\n\r\n    if (what === \"x\") {\r\n      return point2.x - point1.x;\r\n    } else if (what === \"y\") {\r\n      return point2.y - point1.y;\r\n    }\r\n\r\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\r\n  };\r\n\r\n  var isClickable = function($el) {\r\n    if (\r\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\r\n      $.isFunction($el.get(0).onclick) ||\r\n      $el.data(\"selectable\")\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // Check for attributes like data-fancybox-next or data-fancybox-close\r\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\r\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  var hasScrollbars = function(el) {\r\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\r\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\r\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\r\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\r\n\r\n    return vertical || horizontal;\r\n  };\r\n\r\n  var isScrollable = function($el) {\r\n    var rez = false;\r\n\r\n    while (true) {\r\n      rez = hasScrollbars($el.get(0));\r\n\r\n      if (rez) {\r\n        break;\r\n      }\r\n\r\n      $el = $el.parent();\r\n\r\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return rez;\r\n  };\r\n\r\n  var Guestures = function(instance) {\r\n    var self = this;\r\n\r\n    self.instance = instance;\r\n\r\n    self.$bg = instance.$refs.bg;\r\n    self.$stage = instance.$refs.stage;\r\n    self.$container = instance.$refs.container;\r\n\r\n    self.destroy();\r\n\r\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\r\n  };\r\n\r\n  Guestures.prototype.destroy = function() {\r\n    var self = this;\r\n\r\n    self.$container.off(\".fb.touch\");\r\n\r\n    $(document).off(\".fb.touch\");\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n      self.requestId = null;\r\n    }\r\n\r\n    if (self.tapped) {\r\n      clearTimeout(self.tapped);\r\n      self.tapped = null;\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.ontouchstart = function(e) {\r\n    var self = this,\r\n      $target = $(e.target),\r\n      instance = self.instance,\r\n      current = instance.current,\r\n      $slide = current.$slide,\r\n      $content = current.$content,\r\n      isTouchDevice = e.type == \"touchstart\";\r\n\r\n    // Do not respond to both (touch and mouse) events\r\n    if (isTouchDevice) {\r\n      self.$container.off(\"mousedown.fb.touch\");\r\n    }\r\n\r\n    // Ignore right click\r\n    if (e.originalEvent && e.originalEvent.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // Ignore taping on links, buttons, input elements\r\n    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\r\n      return;\r\n    }\r\n    // Ignore clicks on the scrollbar\r\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\r\n      return;\r\n    }\r\n\r\n    // Ignore clicks while zooming or closing\r\n    if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      return;\r\n    }\r\n\r\n    self.realPoints = self.startPoints = getPointerXY(e);\r\n\r\n    if (!self.startPoints.length) {\r\n      return;\r\n    }\r\n\r\n    // Allow other scripts to catch touch event if \"touch\" is set to false\r\n    if (current.touch) {\r\n      e.stopPropagation();\r\n    }\r\n\r\n    self.startEvent = e;\r\n\r\n    self.canTap = true;\r\n    self.$target = $target;\r\n    self.$content = $content;\r\n    self.opts = current.opts.touch;\r\n\r\n    self.isPanning = false;\r\n    self.isSwiping = false;\r\n    self.isZooming = false;\r\n    self.isScrolling = false;\r\n    self.canPan = instance.canPan();\r\n\r\n    self.startTime = new Date().getTime();\r\n    self.distanceX = self.distanceY = self.distance = 0;\r\n\r\n    self.canvasWidth = Math.round($slide[0].clientWidth);\r\n    self.canvasHeight = Math.round($slide[0].clientHeight);\r\n\r\n    self.contentLastPos = null;\r\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {top: 0, left: 0};\r\n    self.sliderStartPos = $.fancybox.getTranslate($slide);\r\n\r\n    // Since position will be absolute, but we need to make it relative to the stage\r\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\r\n\r\n    self.sliderStartPos.top -= self.stagePos.top;\r\n    self.sliderStartPos.left -= self.stagePos.left;\r\n\r\n    self.contentStartPos.top -= self.stagePos.top;\r\n    self.contentStartPos.left -= self.stagePos.left;\r\n\r\n    $(document)\r\n      .off(\".fb.touch\")\r\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\r\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\r\n\r\n    if ($.fancybox.isMobile) {\r\n      document.addEventListener(\"scroll\", self.onscroll, true);\r\n    }\r\n\r\n    // Skip if clicked outside the sliding area\r\n    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\r\n      if ($target.is(\".fancybox-image\")) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (!($.fancybox.isMobile && $target.hasClass(\"fancybox-caption\"))) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    self.isScrollable = isScrollable($target) || isScrollable($target.parent());\r\n\r\n    // Check if element is scrollable and try to prevent default behavior (scrolling)\r\n    if (!($.fancybox.isMobile && self.isScrollable)) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    // One finger or mouse click - swipe or pan an image\r\n    if (self.startPoints.length === 1 || current.hasError) {\r\n      if (self.canPan) {\r\n        $.fancybox.stop(self.$content);\r\n\r\n        self.isPanning = true;\r\n      } else {\r\n        self.isSwiping = true;\r\n      }\r\n\r\n      self.$container.addClass(\"fancybox-is-grabbing\");\r\n    }\r\n\r\n    // Two fingers - zoom image\r\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\r\n      self.canTap = false;\r\n      self.isSwiping = false;\r\n      self.isPanning = false;\r\n\r\n      self.isZooming = true;\r\n\r\n      $.fancybox.stop(self.$content);\r\n\r\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\r\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\r\n\r\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\r\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\r\n\r\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onscroll = function(e) {\r\n    var self = this;\r\n\r\n    self.isScrolling = true;\r\n\r\n    document.removeEventListener(\"scroll\", self.onscroll, true);\r\n  };\r\n\r\n  Guestures.prototype.ontouchmove = function(e) {\r\n    var self = this;\r\n\r\n    // Make sure user has not released over iframe or disabled element\r\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\r\n      self.ontouchend(e);\r\n      return;\r\n    }\r\n\r\n    if (self.isScrolling) {\r\n      self.canTap = false;\r\n      return;\r\n    }\r\n\r\n    self.newPoints = getPointerXY(e);\r\n\r\n    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\r\n      return;\r\n    }\r\n\r\n    if (!(self.isSwiping && self.isSwiping === true)) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\r\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\r\n\r\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\r\n\r\n    // Skip false ontouchmove events (Chrome)\r\n    if (self.distance > 0) {\r\n      if (self.isSwiping) {\r\n        self.onSwipe(e);\r\n      } else if (self.isPanning) {\r\n        self.onPan();\r\n      } else if (self.isZooming) {\r\n        self.onZoom();\r\n      }\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onSwipe = function(e) {\r\n    var self = this,\r\n      instance = self.instance,\r\n      swiping = self.isSwiping,\r\n      left = self.sliderStartPos.left || 0,\r\n      angle;\r\n\r\n    // If direction is not yet determined\r\n    if (swiping === true) {\r\n      // We need at least 10px distance to correctly calculate an angle\r\n      if (Math.abs(self.distance) > 10) {\r\n        self.canTap = false;\r\n\r\n        if (instance.group.length < 2 && self.opts.vertical) {\r\n          self.isSwiping = \"y\";\r\n        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\r\n          self.isSwiping = \"x\";\r\n        } else {\r\n          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\r\n\r\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\r\n        }\r\n\r\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\r\n          self.isScrolling = true;\r\n\r\n          return;\r\n        }\r\n\r\n        instance.isDragging = self.isSwiping;\r\n\r\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\r\n        self.startPoints = self.newPoints;\r\n\r\n        $.each(instance.slides, function(index, slide) {\r\n          var slidePos, stagePos;\r\n\r\n          $.fancybox.stop(slide.$slide);\r\n\r\n          slidePos = $.fancybox.getTranslate(slide.$slide);\r\n          stagePos = $.fancybox.getTranslate(instance.$refs.stage);\r\n\r\n          slide.$slide\r\n            .css({\r\n              transform: \"\",\r\n              opacity: \"\",\r\n              \"transition-duration\": \"\"\r\n            })\r\n            .removeClass(\"fancybox-animated\")\r\n            .removeClass(function(index, className) {\r\n              return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\r\n            });\r\n\r\n          if (slide.pos === instance.current.pos) {\r\n            self.sliderStartPos.top = slidePos.top - stagePos.top;\r\n            self.sliderStartPos.left = slidePos.left - stagePos.left;\r\n          }\r\n\r\n          $.fancybox.setTranslate(slide.$slide, {\r\n            top: slidePos.top - stagePos.top,\r\n            left: slidePos.left - stagePos.left\r\n          });\r\n        });\r\n\r\n        // Stop slideshow\r\n        if (instance.SlideShow && instance.SlideShow.isActive) {\r\n          instance.SlideShow.stop();\r\n        }\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // Sticky edges\r\n    if (swiping == \"x\") {\r\n      if (\r\n        self.distanceX > 0 &&\r\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\r\n      ) {\r\n        left = left + Math.pow(self.distanceX, 0.8);\r\n      } else if (\r\n        self.distanceX < 0 &&\r\n        (self.instance.group.length < 2 ||\r\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\r\n      ) {\r\n        left = left - Math.pow(-self.distanceX, 0.8);\r\n      } else {\r\n        left = left + self.distanceX;\r\n      }\r\n    }\r\n\r\n    self.sliderLastPos = {\r\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\r\n      left: left\r\n    };\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      if (self.sliderLastPos) {\r\n        $.each(self.instance.slides, function(index, slide) {\r\n          var pos = slide.pos - self.instance.currPos;\r\n\r\n          $.fancybox.setTranslate(slide.$slide, {\r\n            top: self.sliderLastPos.top,\r\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\r\n          });\r\n        });\r\n\r\n        self.$container.addClass(\"fancybox-is-sliding\");\r\n      }\r\n    });\r\n  };\r\n\r\n  Guestures.prototype.onPan = function() {\r\n    var self = this;\r\n\r\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\r\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\r\n      self.startPoints = self.newPoints;\r\n      return;\r\n    }\r\n\r\n    self.canTap = false;\r\n\r\n    self.contentLastPos = self.limitMovement();\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\r\n    });\r\n  };\r\n\r\n  // Make panning sticky to the edges\r\n  Guestures.prototype.limitMovement = function() {\r\n    var self = this;\r\n\r\n    var canvasWidth = self.canvasWidth;\r\n    var canvasHeight = self.canvasHeight;\r\n\r\n    var distanceX = self.distanceX;\r\n    var distanceY = self.distanceY;\r\n\r\n    var contentStartPos = self.contentStartPos;\r\n\r\n    var currentOffsetX = contentStartPos.left;\r\n    var currentOffsetY = contentStartPos.top;\r\n\r\n    var currentWidth = contentStartPos.width;\r\n    var currentHeight = contentStartPos.height;\r\n\r\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\r\n\r\n    if (currentWidth > canvasWidth) {\r\n      newOffsetX = currentOffsetX + distanceX;\r\n    } else {\r\n      newOffsetX = currentOffsetX;\r\n    }\r\n\r\n    newOffsetY = currentOffsetY + distanceY;\r\n\r\n    // Slow down proportionally to traveled distance\r\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\r\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\r\n\r\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\r\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\r\n\r\n    //   ->\r\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\r\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\r\n    }\r\n\r\n    //    <-\r\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\r\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\r\n    }\r\n\r\n    //   \\/\r\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\r\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\r\n    }\r\n\r\n    //   /\\\r\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\r\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\r\n    }\r\n\r\n    return {\r\n      top: newOffsetY,\r\n      left: newOffsetX\r\n    };\r\n  };\r\n\r\n  Guestures.prototype.limitPosition = function(newOffsetX, newOffsetY, newWidth, newHeight) {\r\n    var self = this;\r\n\r\n    var canvasWidth = self.canvasWidth;\r\n    var canvasHeight = self.canvasHeight;\r\n\r\n    if (newWidth > canvasWidth) {\r\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\r\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\r\n    } else {\r\n      // Center horizontally\r\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\r\n    }\r\n\r\n    if (newHeight > canvasHeight) {\r\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\r\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\r\n    } else {\r\n      // Center vertically\r\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\r\n    }\r\n\r\n    return {\r\n      top: newOffsetY,\r\n      left: newOffsetX\r\n    };\r\n  };\r\n\r\n  Guestures.prototype.onZoom = function() {\r\n    var self = this;\r\n\r\n    // Calculate current distance between points to get pinch ratio and new width and height\r\n    var contentStartPos = self.contentStartPos;\r\n\r\n    var currentWidth = contentStartPos.width;\r\n    var currentHeight = contentStartPos.height;\r\n\r\n    var currentOffsetX = contentStartPos.left;\r\n    var currentOffsetY = contentStartPos.top;\r\n\r\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\r\n\r\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\r\n\r\n    var newWidth = Math.floor(currentWidth * pinchRatio);\r\n    var newHeight = Math.floor(currentHeight * pinchRatio);\r\n\r\n    // This is the translation due to pinch-zooming\r\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\r\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\r\n\r\n    // Point between the two touches\r\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\r\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\r\n\r\n    // And this is the translation due to translation of the centerpoint\r\n    // between the two fingers\r\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\r\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\r\n\r\n    // The new offset is the old/current one plus the total translation\r\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\r\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\r\n\r\n    var newPos = {\r\n      top: newOffsetY,\r\n      left: newOffsetX,\r\n      scaleX: pinchRatio,\r\n      scaleY: pinchRatio\r\n    };\r\n\r\n    self.canTap = false;\r\n\r\n    self.newWidth = newWidth;\r\n    self.newHeight = newHeight;\r\n\r\n    self.contentLastPos = newPos;\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\r\n    });\r\n  };\r\n\r\n  Guestures.prototype.ontouchend = function(e) {\r\n    var self = this;\r\n\r\n    var swiping = self.isSwiping;\r\n    var panning = self.isPanning;\r\n    var zooming = self.isZooming;\r\n    var scrolling = self.isScrolling;\r\n\r\n    self.endPoints = getPointerXY(e);\r\n    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\r\n\r\n    self.$container.removeClass(\"fancybox-is-grabbing\");\r\n\r\n    $(document).off(\".fb.touch\");\r\n\r\n    document.removeEventListener(\"scroll\", self.onscroll, true);\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.isSwiping = false;\r\n    self.isPanning = false;\r\n    self.isZooming = false;\r\n    self.isScrolling = false;\r\n\r\n    self.instance.isDragging = false;\r\n\r\n    if (self.canTap) {\r\n      return self.onTap(e);\r\n    }\r\n\r\n    self.speed = 100;\r\n\r\n    // Speed in px/ms\r\n    self.velocityX = (self.distanceX / self.dMs) * 0.5;\r\n    self.velocityY = (self.distanceY / self.dMs) * 0.5;\r\n\r\n    if (panning) {\r\n      self.endPanning();\r\n    } else if (zooming) {\r\n      self.endZooming();\r\n    } else {\r\n      self.endSwiping(swiping, scrolling);\r\n    }\r\n\r\n    return;\r\n  };\r\n\r\n  Guestures.prototype.endSwiping = function(swiping, scrolling) {\r\n    var self = this,\r\n      ret = false,\r\n      len = self.instance.group.length,\r\n      distanceX = Math.abs(self.distanceX),\r\n      canAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\r\n      speedX = 300;\r\n\r\n    self.sliderLastPos = null;\r\n\r\n    // Close if swiped vertically / navigate if horizontally\r\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\r\n      // Continue vertical movement\r\n      $.fancybox.animate(\r\n        self.instance.current.$slide,\r\n        {\r\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\r\n          opacity: 0\r\n        },\r\n        200\r\n      );\r\n      ret = self.instance.close(true, 250);\r\n    } else if (canAdvance && self.distanceX > 0) {\r\n      ret = self.instance.previous(speedX);\r\n    } else if (canAdvance && self.distanceX < 0) {\r\n      ret = self.instance.next(speedX);\r\n    }\r\n\r\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\r\n      self.instance.centerSlide(200);\r\n    }\r\n\r\n    self.$container.removeClass(\"fancybox-is-sliding\");\r\n  };\r\n\r\n  // Limit panning from edges\r\n  // ========================\r\n  Guestures.prototype.endPanning = function() {\r\n    var self = this,\r\n      newOffsetX,\r\n      newOffsetY,\r\n      newPos;\r\n\r\n    if (!self.contentLastPos) {\r\n      return;\r\n    }\r\n\r\n    if (self.opts.momentum === false || self.dMs > 350) {\r\n      newOffsetX = self.contentLastPos.left;\r\n      newOffsetY = self.contentLastPos.top;\r\n    } else {\r\n      // Continue movement\r\n      newOffsetX = self.contentLastPos.left + self.velocityX * 500;\r\n      newOffsetY = self.contentLastPos.top + self.velocityY * 500;\r\n    }\r\n\r\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\r\n\r\n    newPos.width = self.contentStartPos.width;\r\n    newPos.height = self.contentStartPos.height;\r\n\r\n    $.fancybox.animate(self.$content, newPos, 330);\r\n  };\r\n\r\n  Guestures.prototype.endZooming = function() {\r\n    var self = this;\r\n\r\n    var current = self.instance.current;\r\n\r\n    var newOffsetX, newOffsetY, newPos, reset;\r\n\r\n    var newWidth = self.newWidth;\r\n    var newHeight = self.newHeight;\r\n\r\n    if (!self.contentLastPos) {\r\n      return;\r\n    }\r\n\r\n    newOffsetX = self.contentLastPos.left;\r\n    newOffsetY = self.contentLastPos.top;\r\n\r\n    reset = {\r\n      top: newOffsetY,\r\n      left: newOffsetX,\r\n      width: newWidth,\r\n      height: newHeight,\r\n      scaleX: 1,\r\n      scaleY: 1\r\n    };\r\n\r\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\r\n    $.fancybox.setTranslate(self.$content, reset);\r\n\r\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\r\n      self.instance.scaleToFit(150);\r\n    } else if (newWidth > current.width || newHeight > current.height) {\r\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\r\n    } else {\r\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\r\n\r\n      $.fancybox.animate(self.$content, newPos, 150);\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onTap = function(e) {\r\n    var self = this;\r\n    var $target = $(e.target);\r\n\r\n    var instance = self.instance;\r\n    var current = instance.current;\r\n\r\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\r\n\r\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\r\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\r\n\r\n    var where;\r\n\r\n    var process = function(prefix) {\r\n      var action = current.opts[prefix];\r\n\r\n      if ($.isFunction(action)) {\r\n        action = action.apply(instance, [current, e]);\r\n      }\r\n\r\n      if (!action) {\r\n        return;\r\n      }\r\n\r\n      switch (action) {\r\n        case \"close\":\r\n          instance.close(self.startEvent);\r\n\r\n          break;\r\n\r\n        case \"toggleControls\":\r\n          instance.toggleControls();\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          instance.next();\r\n\r\n          break;\r\n\r\n        case \"nextOrClose\":\r\n          if (instance.group.length > 1) {\r\n            instance.next();\r\n          } else {\r\n            instance.close(self.startEvent);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"zoom\":\r\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\r\n            if (instance.canPan()) {\r\n              instance.scaleToFit();\r\n            } else if (instance.isScaledDown()) {\r\n              instance.scaleToActual(tapX, tapY);\r\n            } else if (instance.group.length < 2) {\r\n              instance.close(self.startEvent);\r\n            }\r\n          }\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    // Ignore right click\r\n    if (e.originalEvent && e.originalEvent.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // Skip if clicked on the scrollbar\r\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\r\n      return;\r\n    }\r\n\r\n    // Check where is clicked\r\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\r\n      where = \"Outside\";\r\n    } else if ($target.is(\".fancybox-slide\")) {\r\n      where = \"Slide\";\r\n    } else if (\r\n      instance.current.$content &&\r\n      instance.current.$content\r\n        .find($target)\r\n        .addBack()\r\n        .filter($target).length\r\n    ) {\r\n      where = \"Content\";\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    // Check if this is a double tap\r\n    if (self.tapped) {\r\n      // Stop previously created single tap\r\n      clearTimeout(self.tapped);\r\n      self.tapped = null;\r\n\r\n      // Skip if distance between taps is too big\r\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\r\n        return this;\r\n      }\r\n\r\n      // OK, now we assume that this is a double-tap\r\n      process(\"dblclick\" + where);\r\n    } else {\r\n      // Single tap will be processed if user has not clicked second time within 300ms\r\n      // or there is no need to wait for double-tap\r\n      self.tapX = tapX;\r\n      self.tapY = tapY;\r\n\r\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\r\n        self.tapped = setTimeout(function() {\r\n          self.tapped = null;\r\n\r\n          if (!instance.isAnimating) {\r\n            process(\"click\" + where);\r\n          }\r\n        }, 500);\r\n      } else {\r\n        process(\"click\" + where);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  $(document)\r\n    .on(\"onActivate.fb\", function(e, instance) {\r\n      if (instance && !instance.Guestures) {\r\n        instance.Guestures = new Guestures(instance);\r\n      }\r\n    })\r\n    .on(\"beforeClose.fb\", function(e, instance) {\r\n      if (instance && instance.Guestures) {\r\n        instance.Guestures.destroy();\r\n      }\r\n    });\r\n})(window, document, jQuery);\r\n\n// ==========================================================================\r\n//\r\n// SlideShow\r\n// Enables slideshow functionality\r\n//\r\n// Example of usage:\r\n// $.fancybox.getInstance().SlideShow.start()\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      slideShow:\r\n        '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\r\n        \"</button>\"\r\n    },\r\n    slideShow: {\r\n      autoStart: false,\r\n      speed: 3000,\r\n      progress: true\r\n    }\r\n  });\r\n\r\n  var SlideShow = function(instance) {\r\n    this.instance = instance;\r\n    this.init();\r\n  };\r\n\r\n  $.extend(SlideShow.prototype, {\r\n    timer: null,\r\n    isActive: false,\r\n    $button: null,\r\n\r\n    init: function() {\r\n      var self = this,\r\n        instance = self.instance,\r\n        opts = instance.group[instance.currIndex].opts.slideShow;\r\n\r\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function() {\r\n        self.toggle();\r\n      });\r\n\r\n      if (instance.group.length < 2 || !opts) {\r\n        self.$button.hide();\r\n      } else if (opts.progress) {\r\n        self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\r\n      }\r\n    },\r\n\r\n    set: function(force) {\r\n      var self = this,\r\n        instance = self.instance,\r\n        current = instance.current;\r\n\r\n      // Check if reached last element\r\n      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\r\n        if (self.isActive && current.contentType !== \"video\") {\r\n          if (self.$progress) {\r\n            $.fancybox.animate(self.$progress.show(), {scaleX: 1}, current.opts.slideShow.speed);\r\n          }\r\n\r\n          self.timer = setTimeout(function() {\r\n            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\r\n              instance.jumpTo(0);\r\n            } else {\r\n              instance.next();\r\n            }\r\n          }, current.opts.slideShow.speed);\r\n        }\r\n      } else {\r\n        self.stop();\r\n        instance.idleSecondsCounter = 0;\r\n        instance.showControls();\r\n      }\r\n    },\r\n\r\n    clear: function() {\r\n      var self = this;\r\n\r\n      clearTimeout(self.timer);\r\n\r\n      self.timer = null;\r\n\r\n      if (self.$progress) {\r\n        self.$progress.removeAttr(\"style\").hide();\r\n      }\r\n    },\r\n\r\n    start: function() {\r\n      var self = this,\r\n        current = self.instance.current;\r\n\r\n      if (current) {\r\n        self.$button\r\n          .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\r\n          .removeClass(\"fancybox-button--play\")\r\n          .addClass(\"fancybox-button--pause\");\r\n\r\n        self.isActive = true;\r\n\r\n        if (current.isComplete) {\r\n          self.set(true);\r\n        }\r\n\r\n        self.instance.trigger(\"onSlideShowChange\", true);\r\n      }\r\n    },\r\n\r\n    stop: function() {\r\n      var self = this,\r\n        current = self.instance.current;\r\n\r\n      self.clear();\r\n\r\n      self.$button\r\n        .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\r\n        .removeClass(\"fancybox-button--pause\")\r\n        .addClass(\"fancybox-button--play\");\r\n\r\n      self.isActive = false;\r\n\r\n      self.instance.trigger(\"onSlideShowChange\", false);\r\n\r\n      if (self.$progress) {\r\n        self.$progress.removeAttr(\"style\").hide();\r\n      }\r\n    },\r\n\r\n    toggle: function() {\r\n      var self = this;\r\n\r\n      if (self.isActive) {\r\n        self.stop();\r\n      } else {\r\n        self.start();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      if (instance && !instance.SlideShow) {\r\n        instance.SlideShow = new SlideShow(instance);\r\n      }\r\n    },\r\n\r\n    \"beforeShow.fb\": function(e, instance, current, firstRun) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (firstRun) {\r\n        if (SlideShow && current.opts.slideShow.autoStart) {\r\n          SlideShow.start();\r\n        }\r\n      } else if (SlideShow && SlideShow.isActive) {\r\n        SlideShow.clear();\r\n      }\r\n    },\r\n\r\n    \"afterShow.fb\": function(e, instance, current) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (SlideShow && SlideShow.isActive) {\r\n        SlideShow.set();\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      // \"P\" or Spacebar\r\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\r\n        keypress.preventDefault();\r\n\r\n        SlideShow.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb onDeactivate.fb\": function(e, instance) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (SlideShow) {\r\n        SlideShow.stop();\r\n      }\r\n    }\r\n  });\r\n\r\n  // Page Visibility API to pause slideshow when window is not active\r\n  $(document).on(\"visibilitychange\", function() {\r\n    var instance = $.fancybox.getInstance(),\r\n      SlideShow = instance && instance.SlideShow;\r\n\r\n    if (SlideShow && SlideShow.isActive) {\r\n      if (document.hidden) {\r\n        SlideShow.clear();\r\n      } else {\r\n        SlideShow.set();\r\n      }\r\n    }\r\n  });\r\n})(document, jQuery);\r\n\n// ==========================================================================\r\n//\r\n// FullScreen\r\n// Adds fullscreen functionality\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  // Collection of methods supported by user browser\r\n  var fn = (function() {\r\n    var fnMap = [\r\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\r\n      // new WebKit\r\n      [\r\n        \"webkitRequestFullscreen\",\r\n        \"webkitExitFullscreen\",\r\n        \"webkitFullscreenElement\",\r\n        \"webkitFullscreenEnabled\",\r\n        \"webkitfullscreenchange\",\r\n        \"webkitfullscreenerror\"\r\n      ],\r\n      // old WebKit (Safari 5.1)\r\n      [\r\n        \"webkitRequestFullScreen\",\r\n        \"webkitCancelFullScreen\",\r\n        \"webkitCurrentFullScreenElement\",\r\n        \"webkitCancelFullScreen\",\r\n        \"webkitfullscreenchange\",\r\n        \"webkitfullscreenerror\"\r\n      ],\r\n      [\r\n        \"mozRequestFullScreen\",\r\n        \"mozCancelFullScreen\",\r\n        \"mozFullScreenElement\",\r\n        \"mozFullScreenEnabled\",\r\n        \"mozfullscreenchange\",\r\n        \"mozfullscreenerror\"\r\n      ],\r\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\r\n    ];\r\n\r\n    var ret = {};\r\n\r\n    for (var i = 0; i < fnMap.length; i++) {\r\n      var val = fnMap[i];\r\n\r\n      if (val && val[1] in document) {\r\n        for (var j = 0; j < val.length; j++) {\r\n          ret[fnMap[0][j]] = val[j];\r\n        }\r\n\r\n        return ret;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  })();\r\n\r\n  if (fn) {\r\n    var FullScreen = {\r\n      request: function(elem) {\r\n        elem = elem || document.documentElement;\r\n\r\n        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\r\n      },\r\n      exit: function() {\r\n        document[fn.exitFullscreen]();\r\n      },\r\n      toggle: function(elem) {\r\n        elem = elem || document.documentElement;\r\n\r\n        if (this.isFullscreen()) {\r\n          this.exit();\r\n        } else {\r\n          this.request(elem);\r\n        }\r\n      },\r\n      isFullscreen: function() {\r\n        return Boolean(document[fn.fullscreenElement]);\r\n      },\r\n      enabled: function() {\r\n        return Boolean(document[fn.fullscreenEnabled]);\r\n      }\r\n    };\r\n\r\n    $.extend(true, $.fancybox.defaults, {\r\n      btnTpl: {\r\n        fullScreen:\r\n          '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\">' +\r\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\r\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\r\n          \"</button>\"\r\n      },\r\n      fullScreen: {\r\n        autoStart: false\r\n      }\r\n    });\r\n\r\n    $(document).on(fn.fullscreenchange, function() {\r\n      var isFullscreen = FullScreen.isFullscreen(),\r\n        instance = $.fancybox.getInstance();\r\n\r\n      if (instance) {\r\n        // If image is zooming, then force to stop and reposition properly\r\n        if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\r\n          instance.current.$content.css(\"transition\", \"none\");\r\n\r\n          instance.isAnimating = false;\r\n\r\n          instance.update(true, true, 0);\r\n        }\r\n\r\n        instance.trigger(\"onFullscreenChange\", isFullscreen);\r\n\r\n        instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\r\n\r\n        instance.$refs.toolbar\r\n          .find(\"[data-fancybox-fullscreen]\")\r\n          .toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\r\n          .toggleClass(\"fancybox-button--fsexit\", isFullscreen);\r\n      }\r\n    });\r\n  }\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      var $container;\r\n\r\n      if (!fn) {\r\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\r\n\r\n        return;\r\n      }\r\n\r\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\r\n        $container = instance.$refs.container;\r\n\r\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          FullScreen.toggle();\r\n        });\r\n\r\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\r\n          FullScreen.request();\r\n        }\r\n\r\n        // Expose API\r\n        instance.FullScreen = FullScreen;\r\n      } else if (instance) {\r\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      // \"F\"\r\n      if (instance && instance.FullScreen && keycode === 70) {\r\n        keypress.preventDefault();\r\n\r\n        instance.FullScreen.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb\": function(e, instance) {\r\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\r\n        FullScreen.exit();\r\n      }\r\n    }\r\n  });\r\n})(document, jQuery);\r\n\n// ==========================================================================\r\n//\r\n// Thumbs\r\n// Displays thumbnails in a grid\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  var CLASS = \"fancybox-thumbs\",\r\n    CLASS_ACTIVE = CLASS + \"-active\";\r\n\r\n  // Make sure there are default values\r\n  $.fancybox.defaults = $.extend(\r\n    true,\r\n    {\r\n      btnTpl: {\r\n        thumbs:\r\n          '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\r\n          \"</button>\"\r\n      },\r\n      thumbs: {\r\n        autoStart: false, // Display thumbnails on opening\r\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\r\n        parentEl: \".fancybox-container\", // Container is injected into this element\r\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\r\n      }\r\n    },\r\n    $.fancybox.defaults\r\n  );\r\n\r\n  var FancyThumbs = function(instance) {\r\n    this.init(instance);\r\n  };\r\n\r\n  $.extend(FancyThumbs.prototype, {\r\n    $button: null,\r\n    $grid: null,\r\n    $list: null,\r\n    isVisible: false,\r\n    isActive: false,\r\n\r\n    init: function(instance) {\r\n      var self = this,\r\n        group = instance.group,\r\n        enabled = 0;\r\n\r\n      self.instance = instance;\r\n      self.opts = group[instance.currIndex].opts.thumbs;\r\n\r\n      instance.Thumbs = self;\r\n\r\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\r\n\r\n      // Enable thumbs if at least two group items have thumbnails\r\n      for (var i = 0, len = group.length; i < len; i++) {\r\n        if (group[i].thumb) {\r\n          enabled++;\r\n        }\r\n\r\n        if (enabled > 1) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (enabled > 1 && !!self.opts) {\r\n        self.$button.removeAttr(\"style\").on(\"click\", function() {\r\n          self.toggle();\r\n        });\r\n\r\n        self.isActive = true;\r\n      } else {\r\n        self.$button.hide();\r\n      }\r\n    },\r\n\r\n    create: function() {\r\n      var self = this,\r\n        instance = self.instance,\r\n        parentEl = self.opts.parentEl,\r\n        list = [],\r\n        src;\r\n\r\n      if (!self.$grid) {\r\n        // Create main element\r\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\r\n          instance.$refs.container\r\n            .find(parentEl)\r\n            .addBack()\r\n            .filter(parentEl)\r\n        );\r\n\r\n        // Add \"click\" event that performs gallery navigation\r\n        self.$grid.on(\"click\", \"a\", function() {\r\n          instance.jumpTo($(this).attr(\"data-index\"));\r\n        });\r\n      }\r\n\r\n      // Build the list\r\n      if (!self.$list) {\r\n        self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\r\n      }\r\n\r\n      $.each(instance.group, function(i, item) {\r\n        src = item.thumb;\r\n\r\n        if (!src && item.type === \"image\") {\r\n          src = item.src;\r\n        }\r\n\r\n        list.push(\r\n          '<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\r\n            i +\r\n            '\"' +\r\n            (src && src.length ? ' style=\"background-image:url(' + src + ')\"' : 'class=\"fancybox-thumbs-missing\"') +\r\n            \"></a>\"\r\n        );\r\n      });\r\n\r\n      self.$list[0].innerHTML = list.join(\"\");\r\n\r\n      if (self.opts.axis === \"x\") {\r\n        // Set fixed width for list element to enable horizontal scrolling\r\n        self.$list.width(\r\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\r\n            instance.group.length *\r\n              self.$list\r\n                .children()\r\n                .eq(0)\r\n                .outerWidth(true)\r\n        );\r\n      }\r\n    },\r\n\r\n    focus: function(duration) {\r\n      var self = this,\r\n        $list = self.$list,\r\n        $grid = self.$grid,\r\n        thumb,\r\n        thumbPos;\r\n\r\n      if (!self.instance.current) {\r\n        return;\r\n      }\r\n\r\n      thumb = $list\r\n        .children()\r\n        .removeClass(CLASS_ACTIVE)\r\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\r\n        .addClass(CLASS_ACTIVE);\r\n\r\n      thumbPos = thumb.position();\r\n\r\n      // Check if need to scroll to make current thumb visible\r\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\r\n        $list.stop().animate(\r\n          {\r\n            scrollTop: $list.scrollTop() + thumbPos.top\r\n          },\r\n          duration\r\n        );\r\n      } else if (\r\n        self.opts.axis === \"x\" &&\r\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\r\n      ) {\r\n        $list\r\n          .parent()\r\n          .stop()\r\n          .animate(\r\n            {\r\n              scrollLeft: thumbPos.left\r\n            },\r\n            duration\r\n          );\r\n      }\r\n    },\r\n\r\n    update: function() {\r\n      var that = this;\r\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\r\n\r\n      if (that.isVisible) {\r\n        if (!that.$grid) {\r\n          that.create();\r\n        }\r\n\r\n        that.instance.trigger(\"onThumbsShow\");\r\n\r\n        that.focus(0);\r\n      } else if (that.$grid) {\r\n        that.instance.trigger(\"onThumbsHide\");\r\n      }\r\n\r\n      // Update content position\r\n      that.instance.update();\r\n    },\r\n\r\n    hide: function() {\r\n      this.isVisible = false;\r\n      this.update();\r\n    },\r\n\r\n    show: function() {\r\n      this.isVisible = true;\r\n      this.update();\r\n    },\r\n\r\n    toggle: function() {\r\n      this.isVisible = !this.isVisible;\r\n      this.update();\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      var Thumbs;\r\n\r\n      if (instance && !instance.Thumbs) {\r\n        Thumbs = new FancyThumbs(instance);\r\n\r\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\r\n          Thumbs.show();\r\n        }\r\n      }\r\n    },\r\n\r\n    \"beforeShow.fb\": function(e, instance, item, firstRun) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      if (Thumbs && Thumbs.isVisible) {\r\n        Thumbs.focus(firstRun ? 0 : 250);\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      // \"G\"\r\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\r\n        keypress.preventDefault();\r\n\r\n        Thumbs.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb\": function(e, instance) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\r\n        Thumbs.$grid.hide();\r\n      }\r\n    }\r\n  });\r\n})(document, jQuery);\r\n\n//// ==========================================================================\r\n//\r\n// Share\r\n// Displays simple form for sharing current url\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      share:\r\n        '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg>' +\r\n        \"</button>\"\r\n    },\r\n    share: {\r\n      url: function(instance, item) {\r\n        return (\r\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\r\n        );\r\n      },\r\n      tpl:\r\n        '<div class=\"fancybox-share\">' +\r\n        \"<h1>{{SHARE}}</h1>\" +\r\n        \"<p>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\r\n        \"<span>Facebook</span>\" +\r\n        \"</a>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\r\n        \"<span>Twitter</span>\" +\r\n        \"</a>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\r\n        \"<span>Pinterest</span>\" +\r\n        \"</a>\" +\r\n        \"</p>\" +\r\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p>' +\r\n        \"</div>\"\r\n    }\r\n  });\r\n\r\n  function escapeHtml(string) {\r\n    var entityMap = {\r\n      \"&\": \"&amp;\",\r\n      \"<\": \"&lt;\",\r\n      \">\": \"&gt;\",\r\n      '\"': \"&quot;\",\r\n      \"'\": \"&#39;\",\r\n      \"/\": \"&#x2F;\",\r\n      \"`\": \"&#x60;\",\r\n      \"=\": \"&#x3D;\"\r\n    };\r\n\r\n    return String(string).replace(/[&<>\"'`=\\/]/g, function(s) {\r\n      return entityMap[s];\r\n    });\r\n  }\r\n\r\n  $(document).on(\"click\", \"[data-fancybox-share]\", function() {\r\n    var instance = $.fancybox.getInstance(),\r\n      current = instance.current || null,\r\n      url,\r\n      tpl;\r\n\r\n    if (!current) {\r\n      return;\r\n    }\r\n\r\n    if ($.type(current.opts.share.url) === \"function\") {\r\n      url = current.opts.share.url.apply(current, [instance, current]);\r\n    }\r\n\r\n    tpl = current.opts.share.tpl\r\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\r\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\r\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\r\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\r\n\r\n    $.fancybox.open({\r\n      src: instance.translate(instance, tpl),\r\n      type: \"html\",\r\n      opts: {\r\n        touch: false,\r\n        animationEffect: false,\r\n        afterLoad: function(shareInstance, shareCurrent) {\r\n          // Close self if parent instance is closing\r\n          instance.$refs.container.one(\"beforeClose.fb\", function() {\r\n            shareInstance.close(null, 0);\r\n          });\r\n\r\n          // Opening links in a popup window\r\n          shareCurrent.$content.find(\".fancybox-share__button\").click(function() {\r\n            window.open(this.href, \"Share\", \"width=550, height=450\");\r\n            return false;\r\n          });\r\n        },\r\n        mobile: {\r\n          autoFocus: false\r\n        }\r\n      }\r\n    });\r\n  });\r\n})(document, jQuery);\r\n\n// ==========================================================================\r\n//\r\n// Hash\r\n// Enables linking to each modal\r\n//\r\n// ==========================================================================\r\n(function(window, document, $) {\r\n  \"use strict\";\r\n\r\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\r\n  if (!$.escapeSelector) {\r\n    $.escapeSelector = function(sel) {\r\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\r\n      var fcssescape = function(ch, asCodePoint) {\r\n        if (asCodePoint) {\r\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\r\n          if (ch === \"\\0\") {\r\n            return \"\\uFFFD\";\r\n          }\r\n\r\n          // Control characters and (dependent upon position) numbers get escaped as code points\r\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\r\n        }\r\n\r\n        // Other potentially-special ASCII characters get backslash-escaped\r\n        return \"\\\\\" + ch;\r\n      };\r\n\r\n      return (sel + \"\").replace(rcssescape, fcssescape);\r\n    };\r\n  }\r\n\r\n  // Get info about gallery name and current index from url\r\n  function parseUrl() {\r\n    var hash = window.location.hash.substr(1),\r\n      rez = hash.split(\"-\"),\r\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\r\n      gallery = rez.join(\"-\");\r\n\r\n    return {\r\n      hash: hash,\r\n      /* Index is starting from 1 */\r\n      index: index < 1 ? 1 : index,\r\n      gallery: gallery\r\n    };\r\n  }\r\n\r\n  // Trigger click evnt on links to open new fancyBox instance\r\n  function triggerFromUrl(url) {\r\n    if (url.gallery !== \"\") {\r\n      // If we can find element matching 'data-fancybox' atribute,\r\n      // then triggering click event should start fancyBox\r\n      $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\r\n        .eq(url.index - 1)\r\n        .focus()\r\n        .trigger(\"click.fb-start\");\r\n    }\r\n  }\r\n\r\n  // Get gallery name from current instance\r\n  function getGalleryID(instance) {\r\n    var opts, ret;\r\n\r\n    if (!instance) {\r\n      return false;\r\n    }\r\n\r\n    opts = instance.current ? instance.current.opts : instance.opts;\r\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\r\n\r\n    return ret === \"\" ? false : ret;\r\n  }\r\n\r\n  // Start when DOM becomes ready\r\n  $(function() {\r\n    // Check if user has disabled this module\r\n    if ($.fancybox.defaults.hash === false) {\r\n      return;\r\n    }\r\n\r\n    // Update hash when opening/closing fancyBox\r\n    $(document).on({\r\n      \"onInit.fb\": function(e, instance) {\r\n        var url, gallery;\r\n\r\n        if (instance.group[instance.currIndex].opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        url = parseUrl();\r\n        gallery = getGalleryID(instance);\r\n\r\n        // Make sure gallery start index matches index from hash\r\n        if (gallery && url.gallery && gallery == url.gallery) {\r\n          instance.currIndex = url.index - 1;\r\n        }\r\n      },\r\n\r\n      \"beforeShow.fb\": function(e, instance, current, firstRun) {\r\n        var gallery;\r\n\r\n        if (!current || current.opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        // Check if need to update window hash\r\n        gallery = getGalleryID(instance);\r\n\r\n        if (!gallery) {\r\n          return;\r\n        }\r\n\r\n        // Variable containing last hash value set by fancyBox\r\n        // It will be used to determine if fancyBox needs to close after hash change is detected\r\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\r\n\r\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\r\n        if (window.location.hash === \"#\" + instance.currentHash) {\r\n          return;\r\n        }\r\n\r\n        if (firstRun && !instance.origHash) {\r\n          instance.origHash = window.location.hash;\r\n        }\r\n\r\n        if (instance.hashTimer) {\r\n          clearTimeout(instance.hashTimer);\r\n        }\r\n\r\n        // Update hash\r\n        instance.hashTimer = setTimeout(function() {\r\n          if (\"replaceState\" in window.history) {\r\n            window.history[firstRun ? \"pushState\" : \"replaceState\"](\r\n              {},\r\n              document.title,\r\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\r\n            );\r\n\r\n            if (firstRun) {\r\n              instance.hasCreatedHistory = true;\r\n            }\r\n          } else {\r\n            window.location.hash = instance.currentHash;\r\n          }\r\n\r\n          instance.hashTimer = null;\r\n        }, 300);\r\n      },\r\n\r\n      \"beforeClose.fb\": function(e, instance, current) {\r\n        if (current.opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        clearTimeout(instance.hashTimer);\r\n\r\n        // Goto previous history entry\r\n        if (instance.currentHash && instance.hasCreatedHistory) {\r\n          window.history.back();\r\n        } else if (instance.currentHash) {\r\n          if (\"replaceState\" in window.history) {\r\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\r\n          } else {\r\n            window.location.hash = instance.origHash;\r\n          }\r\n        }\r\n\r\n        instance.currentHash = null;\r\n      }\r\n    });\r\n\r\n    // Check if need to start/close after url has changed\r\n    $(window).on(\"hashchange.fb\", function() {\r\n      var url = parseUrl(),\r\n        fb = null;\r\n\r\n      // Find last fancyBox instance that has \"hash\"\r\n      $.each(\r\n        $(\".fancybox-container\")\r\n          .get()\r\n          .reverse(),\r\n        function(index, value) {\r\n          var tmp = $(value).data(\"FancyBox\");\r\n\r\n          if (tmp && tmp.currentHash) {\r\n            fb = tmp;\r\n            return false;\r\n          }\r\n        }\r\n      );\r\n\r\n      if (fb) {\r\n        // Now, compare hash values\r\n        if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\r\n          fb.currentHash = null;\r\n\r\n          fb.close();\r\n        }\r\n      } else if (url.gallery !== \"\") {\r\n        triggerFromUrl(url);\r\n      }\r\n    });\r\n\r\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\r\n    setTimeout(function() {\r\n      if (!$.fancybox.getInstance()) {\r\n        triggerFromUrl(parseUrl());\r\n      }\r\n    }, 50);\r\n  });\r\n})(window, document, jQuery);\r\n\n// ==========================================================================\r\n//\r\n// Wheel\r\n// Basic mouse weheel support for gallery navigation\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  var prevTime = new Date().getTime();\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance, current) {\r\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function(e) {\r\n        var current = instance.current,\r\n          currTime = new Date().getTime();\r\n\r\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\r\n          return;\r\n        }\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\r\n          return;\r\n        }\r\n\r\n        e = e.originalEvent || e;\r\n\r\n        if (currTime - prevTime < 250) {\r\n          return;\r\n        }\r\n\r\n        prevTime = currTime;\r\n\r\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\r\n      });\r\n    }\r\n  });\r\n})(document, jQuery);\r\n\n}).call(global, module, undefined, undefined);\n","// doT.js\n// 2011-2014, Laura Doktorova, https://github.com/olado/doT\n// Licensed under the MIT license.\n\n(function () {\n\t\"use strict\";\n\n\tvar doT = {\n\t\tname: \"doT\",\n\t\tversion: \"1.1.1\",\n\t\ttemplateSettings: {\n\t\t\tevaluate:    /\\{\\{([\\s\\S]+?(\\}?)+)\\}\\}/g,\n\t\t\tinterpolate: /\\{\\{=([\\s\\S]+?)\\}\\}/g,\n\t\t\tencode:      /\\{\\{!([\\s\\S]+?)\\}\\}/g,\n\t\t\tuse:         /\\{\\{#([\\s\\S]+?)\\}\\}/g,\n\t\t\tuseParams:   /(^|[^\\w$])def(?:\\.|\\[[\\'\\\"])([\\w$\\.]+)(?:[\\'\\\"]\\])?\\s*\\:\\s*([\\w$\\.]+|\\\"[^\\\"]+\\\"|\\'[^\\']+\\'|\\{[^\\}]+\\})/g,\n\t\t\tdefine:      /\\{\\{##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\}\\}/g,\n\t\t\tdefineParams:/^\\s*([\\w$]+):([\\s\\S]+)/,\n\t\t\tconditional: /\\{\\{\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\}\\}/g,\n\t\t\titerate:     /\\{\\{~\\s*(?:\\}\\}|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\}\\})/g,\n\t\t\tvarname:\t\"it\",\n\t\t\tstrip:\t\ttrue,\n\t\t\tappend:\t\ttrue,\n\t\t\tselfcontained: false,\n\t\t\tdoNotSkipEncoded: false\n\t\t},\n\t\ttemplate: undefined, //fn, compile template\n\t\tcompile:  undefined, //fn, for express\n\t\tlog: true\n\t}, _globals;\n\n\tdoT.encodeHTMLSource = function(doNotSkipEncoded) {\n\t\tvar encodeHTMLRules = { \"&\": \"&#38;\", \"<\": \"&#60;\", \">\": \"&#62;\", '\"': \"&#34;\", \"'\": \"&#39;\", \"/\": \"&#47;\" },\n\t\t\tmatchHTML = doNotSkipEncoded ? /[&<>\"'\\/]/g : /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\t\treturn function(code) {\n\t\t\treturn code ? code.toString().replace(matchHTML, function(m) {return encodeHTMLRules[m] || m;}) : \"\";\n\t\t};\n\t};\n\n\t_globals = (function(){ return this || (0,eval)(\"this\"); }());\n\n\t/* istanbul ignore else */\n\tif (typeof module !== \"undefined\" && module.exports) {\n\t\tmodule.exports = doT;\n\t} else if (typeof define === \"function\" && define.amd) {\n\t\tdefine(function(){return doT;});\n\t} else {\n\t\t_globals.doT = doT;\n\t}\n\n\tvar startend = {\n\t\tappend: { start: \"'+(\",      end: \")+'\",      startencode: \"'+encodeHTML(\" },\n\t\tsplit:  { start: \"';out+=(\", end: \");out+='\", startencode: \"';out+=encodeHTML(\" }\n\t}, skip = /$^/;\n\n\tfunction resolveDefs(c, block, def) {\n\t\treturn ((typeof block === \"string\") ? block : block.toString())\n\t\t.replace(c.define || skip, function(m, code, assign, value) {\n\t\t\tif (code.indexOf(\"def.\") === 0) {\n\t\t\t\tcode = code.substring(4);\n\t\t\t}\n\t\t\tif (!(code in def)) {\n\t\t\t\tif (assign === \":\") {\n\t\t\t\t\tif (c.defineParams) value.replace(c.defineParams, function(m, param, v) {\n\t\t\t\t\t\tdef[code] = {arg: param, text: v};\n\t\t\t\t\t});\n\t\t\t\t\tif (!(code in def)) def[code]= value;\n\t\t\t\t} else {\n\t\t\t\t\tnew Function(\"def\", \"def['\"+code+\"']=\" + value)(def);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"\";\n\t\t})\n\t\t.replace(c.use || skip, function(m, code) {\n\t\t\tif (c.useParams) code = code.replace(c.useParams, function(m, s, d, param) {\n\t\t\t\tif (def[d] && def[d].arg && param) {\n\t\t\t\t\tvar rw = (d+\":\"+param).replace(/'|\\\\/g, \"_\");\n\t\t\t\t\tdef.__exp = def.__exp || {};\n\t\t\t\t\tdef.__exp[rw] = def[d].text.replace(new RegExp(\"(^|[^\\\\w$])\" + def[d].arg + \"([^\\\\w$])\", \"g\"), \"$1\" + param + \"$2\");\n\t\t\t\t\treturn s + \"def.__exp['\"+rw+\"']\";\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar v = new Function(\"def\", \"return \" + code)(def);\n\t\t\treturn v ? resolveDefs(c, v, def) : v;\n\t\t});\n\t}\n\n\tfunction unescape(code) {\n\t\treturn code.replace(/\\\\('|\\\\)/g, \"$1\").replace(/[\\r\\t\\n]/g, \" \");\n\t}\n\n\tdoT.template = function(tmpl, c, def) {\n\t\tc = c || doT.templateSettings;\n\t\tvar cse = c.append ? startend.append : startend.split, needhtmlencode, sid = 0, indv,\n\t\t\tstr  = (c.use || c.define) ? resolveDefs(c, tmpl, def || {}) : tmpl;\n\n\t\tstr = (\"var out='\" + (c.strip ? str.replace(/(^|\\r|\\n)\\t* +| +\\t*(\\r|\\n|$)/g,\" \")\n\t\t\t\t\t.replace(/\\r|\\n|\\t|\\/\\*[\\s\\S]*?\\*\\//g,\"\"): str)\n\t\t\t.replace(/'|\\\\/g, \"\\\\$&\")\n\t\t\t.replace(c.interpolate || skip, function(m, code) {\n\t\t\t\treturn cse.start + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.encode || skip, function(m, code) {\n\t\t\t\tneedhtmlencode = true;\n\t\t\t\treturn cse.startencode + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.conditional || skip, function(m, elsecase, code) {\n\t\t\t\treturn elsecase ?\n\t\t\t\t\t(code ? \"';}else if(\" + unescape(code) + \"){out+='\" : \"';}else{out+='\") :\n\t\t\t\t\t(code ? \"';if(\" + unescape(code) + \"){out+='\" : \"';}out+='\");\n\t\t\t})\n\t\t\t.replace(c.iterate || skip, function(m, iterate, vname, iname) {\n\t\t\t\tif (!iterate) return \"';} } out+='\";\n\t\t\t\tsid+=1; indv=iname || \"i\"+sid; iterate=unescape(iterate);\n\t\t\t\treturn \"';var arr\"+sid+\"=\"+iterate+\";if(arr\"+sid+\"){var \"+vname+\",\"+indv+\"=-1,l\"+sid+\"=arr\"+sid+\".length-1;while(\"+indv+\"<l\"+sid+\"){\"\n\t\t\t\t\t+vname+\"=arr\"+sid+\"[\"+indv+\"+=1];out+='\";\n\t\t\t})\n\t\t\t.replace(c.evaluate || skip, function(m, code) {\n\t\t\t\treturn \"';\" + unescape(code) + \"out+='\";\n\t\t\t})\n\t\t\t+ \"';return out;\")\n\t\t\t.replace(/\\n/g, \"\\\\n\").replace(/\\t/g, '\\\\t').replace(/\\r/g, \"\\\\r\")\n\t\t\t.replace(/(\\s|;|\\}|^|\\{)out\\+='';/g, '$1').replace(/\\+''/g, \"\");\n\t\t\t//.replace(/(\\s|;|\\}|^|\\{)out\\+=''\\+/g,'$1out+=');\n\n\t\tif (needhtmlencode) {\n\t\t\tif (!c.selfcontained && _globals && !_globals._encodeHTML) _globals._encodeHTML = doT.encodeHTMLSource(c.doNotSkipEncoded);\n\t\t\tstr = \"var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (\"\n\t\t\t\t+ doT.encodeHTMLSource.toString() + \"(\" + (c.doNotSkipEncoded || '') + \"));\"\n\t\t\t\t+ str;\n\t\t}\n\t\ttry {\n\t\t\treturn new Function(c.varname, str);\n\t\t} catch (e) {\n\t\t\t/* istanbul ignore else */\n\t\t\tif (typeof console !== \"undefined\") console.log(\"Could not create a template function: \" + str);\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\tdoT.compile = function(tmpl, def) {\n\t\treturn doT.template(tmpl, null, def);\n\t};\n}());\n","var QueryHandler = require('./QueryHandler');\nvar each = require('./Util').each;\n\n/**\n * Represents a single media query, manages it's state and registered handlers for this query\n *\n * @constructor\n * @param {string} query the media query string\n * @param {boolean} [isUnconditional=false] whether the media query should run regardless of whether the conditions are met. Primarily for helping older browsers deal with mobile-first design\n */\nfunction MediaQuery(query, isUnconditional) {\n    this.query = query;\n    this.isUnconditional = isUnconditional;\n    this.handlers = [];\n    this.mql = window.matchMedia(query);\n\n    var self = this;\n    this.listener = function(mql) {\n        // Chrome passes an MediaQueryListEvent object, while other browsers pass MediaQueryList directly\n        self.mql = mql.currentTarget || mql;\n        self.assess();\n    };\n    this.mql.addListener(this.listener);\n}\n\nMediaQuery.prototype = {\n\n    constuctor : MediaQuery,\n\n    /**\n     * add a handler for this query, triggering if already active\n     *\n     * @param {object} handler\n     * @param {function} handler.match callback for when query is activated\n     * @param {function} [handler.unmatch] callback for when query is deactivated\n     * @param {function} [handler.setup] callback for immediate execution when a query handler is registered\n     * @param {boolean} [handler.deferSetup=false] should the setup callback be deferred until the first time the handler is matched?\n     */\n    addHandler : function(handler) {\n        var qh = new QueryHandler(handler);\n        this.handlers.push(qh);\n\n        this.matches() && qh.on();\n    },\n\n    /**\n     * removes the given handler from the collection, and calls it's destroy methods\n     *\n     * @param {object || function} handler the handler to remove\n     */\n    removeHandler : function(handler) {\n        var handlers = this.handlers;\n        each(handlers, function(h, i) {\n            if(h.equals(handler)) {\n                h.destroy();\n                return !handlers.splice(i,1); //remove from array and exit each early\n            }\n        });\n    },\n\n    /**\n     * Determine whether the media query should be considered a match\n     *\n     * @return {Boolean} true if media query can be considered a match, false otherwise\n     */\n    matches : function() {\n        return this.mql.matches || this.isUnconditional;\n    },\n\n    /**\n     * Clears all handlers and unbinds events\n     */\n    clear : function() {\n        each(this.handlers, function(handler) {\n            handler.destroy();\n        });\n        this.mql.removeListener(this.listener);\n        this.handlers.length = 0; //clear array\n    },\n\n    /*\n        * Assesses the query, turning on all handlers if it matches, turning them off if it doesn't match\n        */\n    assess : function() {\n        var action = this.matches() ? 'on' : 'off';\n\n        each(this.handlers, function(handler) {\n            handler[action]();\n        });\n    }\n};\n\nmodule.exports = MediaQuery;\n","var MediaQuery = require('./MediaQuery');\nvar Util = require('./Util');\nvar each = Util.each;\nvar isFunction = Util.isFunction;\nvar isArray = Util.isArray;\n\n/**\n * Allows for registration of query handlers.\n * Manages the query handler's state and is responsible for wiring up browser events\n *\n * @constructor\n */\nfunction MediaQueryDispatch () {\n    if(!window.matchMedia) {\n        throw new Error('matchMedia not present, legacy browsers require a polyfill');\n    }\n\n    this.queries = {};\n    this.browserIsIncapable = !window.matchMedia('only all').matches;\n}\n\nMediaQueryDispatch.prototype = {\n\n    constructor : MediaQueryDispatch,\n\n    /**\n     * Registers a handler for the given media query\n     *\n     * @param {string} q the media query\n     * @param {object || Array || Function} options either a single query handler object, a function, or an array of query handlers\n     * @param {function} options.match fired when query matched\n     * @param {function} [options.unmatch] fired when a query is no longer matched\n     * @param {function} [options.setup] fired when handler first triggered\n     * @param {boolean} [options.deferSetup=false] whether setup should be run immediately or deferred until query is first matched\n     * @param {boolean} [shouldDegrade=false] whether this particular media query should always run on incapable browsers\n     */\n    register : function(q, options, shouldDegrade) {\n        var queries         = this.queries,\n            isUnconditional = shouldDegrade && this.browserIsIncapable;\n\n        if(!queries[q]) {\n            queries[q] = new MediaQuery(q, isUnconditional);\n        }\n\n        //normalise to object in an array\n        if(isFunction(options)) {\n            options = { match : options };\n        }\n        if(!isArray(options)) {\n            options = [options];\n        }\n        each(options, function(handler) {\n            if (isFunction(handler)) {\n                handler = { match : handler };\n            }\n            queries[q].addHandler(handler);\n        });\n\n        return this;\n    },\n\n    /**\n     * unregisters a query and all it's handlers, or a specific handler for a query\n     *\n     * @param {string} q the media query to target\n     * @param {object || function} [handler] specific handler to unregister\n     */\n    unregister : function(q, handler) {\n        var query = this.queries[q];\n\n        if(query) {\n            if(handler) {\n                query.removeHandler(handler);\n            }\n            else {\n                query.clear();\n                delete this.queries[q];\n            }\n        }\n\n        return this;\n    }\n};\n\nmodule.exports = MediaQueryDispatch;\n","/**\n * Delegate to handle a media query being matched and unmatched.\n *\n * @param {object} options\n * @param {function} options.match callback for when the media query is matched\n * @param {function} [options.unmatch] callback for when the media query is unmatched\n * @param {function} [options.setup] one-time callback triggered the first time a query is matched\n * @param {boolean} [options.deferSetup=false] should the setup callback be run immediately, rather than first time query is matched?\n * @constructor\n */\nfunction QueryHandler(options) {\n    this.options = options;\n    !options.deferSetup && this.setup();\n}\n\nQueryHandler.prototype = {\n\n    constructor : QueryHandler,\n\n    /**\n     * coordinates setup of the handler\n     *\n     * @function\n     */\n    setup : function() {\n        if(this.options.setup) {\n            this.options.setup();\n        }\n        this.initialised = true;\n    },\n\n    /**\n     * coordinates setup and triggering of the handler\n     *\n     * @function\n     */\n    on : function() {\n        !this.initialised && this.setup();\n        this.options.match && this.options.match();\n    },\n\n    /**\n     * coordinates the unmatch event for the handler\n     *\n     * @function\n     */\n    off : function() {\n        this.options.unmatch && this.options.unmatch();\n    },\n\n    /**\n     * called when a handler is to be destroyed.\n     * delegates to the destroy or unmatch callbacks, depending on availability.\n     *\n     * @function\n     */\n    destroy : function() {\n        this.options.destroy ? this.options.destroy() : this.off();\n    },\n\n    /**\n     * determines equality by reference.\n     * if object is supplied compare options, if function, compare match callback\n     *\n     * @function\n     * @param {object || function} [target] the target for comparison\n     */\n    equals : function(target) {\n        return this.options === target || this.options.match === target;\n    }\n\n};\n\nmodule.exports = QueryHandler;\n","/**\n * Helper function for iterating over a collection\n *\n * @param collection\n * @param fn\n */\nfunction each(collection, fn) {\n    var i      = 0,\n        length = collection.length,\n        cont;\n\n    for(i; i < length; i++) {\n        cont = fn(collection[i], i);\n        if(cont === false) {\n            break; //allow early exit\n        }\n    }\n}\n\n/**\n * Helper function for determining whether target object is an array\n *\n * @param target the object under test\n * @return {Boolean} true if array, false otherwise\n */\nfunction isArray(target) {\n    return Object.prototype.toString.apply(target) === '[object Array]';\n}\n\n/**\n * Helper function for determining whether target object is a function\n *\n * @param target the object under test\n * @return {Boolean} true if function, false otherwise\n */\nfunction isFunction(target) {\n    return typeof target === 'function';\n}\n\nmodule.exports = {\n    isFunction : isFunction,\n    isArray : isArray,\n    each : each\n};\n","var MediaQueryDispatch = require('./MediaQueryDispatch');\nmodule.exports = new MediaQueryDispatch();\n","/**\n* jquery-match-height 0.7.2 by @liabru\n* http://brm.io/jquery-match-height/\n* License: MIT\n*/\n\n;(function(factory) { // eslint-disable-line no-extra-semi\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(['jquery'], factory);\n    } else if (typeof module !== 'undefined' && module.exports) {\n        // CommonJS\n        module.exports = factory(require('jquery'));\n    } else {\n        // Global\n        factory(jQuery);\n    }\n})(function($) {\n    /*\n    *  internal\n    */\n\n    var _previousResizeWidth = -1,\n        _updateTimeout = -1;\n\n    /*\n    *  _parse\n    *  value parse utility function\n    */\n\n    var _parse = function(value) {\n        // parse value and convert NaN to 0\n        return parseFloat(value) || 0;\n    };\n\n    /*\n    *  _rows\n    *  utility function returns array of jQuery selections representing each row\n    *  (as displayed after float wrapping applied by browser)\n    */\n\n    var _rows = function(elements) {\n        var tolerance = 1,\n            $elements = $(elements),\n            lastTop = null,\n            rows = [];\n\n        // group elements by their top position\n        $elements.each(function(){\n            var $that = $(this),\n                top = $that.offset().top - _parse($that.css('margin-top')),\n                lastRow = rows.length > 0 ? rows[rows.length - 1] : null;\n\n            if (lastRow === null) {\n                // first item on the row, so just push it\n                rows.push($that);\n            } else {\n                // if the row top is the same, add to the row group\n                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {\n                    rows[rows.length - 1] = lastRow.add($that);\n                } else {\n                    // otherwise start a new row group\n                    rows.push($that);\n                }\n            }\n\n            // keep track of the last row top\n            lastTop = top;\n        });\n\n        return rows;\n    };\n\n    /*\n    *  _parseOptions\n    *  handle plugin options\n    */\n\n    var _parseOptions = function(options) {\n        var opts = {\n            byRow: true,\n            property: 'height',\n            target: null,\n            remove: false\n        };\n\n        if (typeof options === 'object') {\n            return $.extend(opts, options);\n        }\n\n        if (typeof options === 'boolean') {\n            opts.byRow = options;\n        } else if (options === 'remove') {\n            opts.remove = true;\n        }\n\n        return opts;\n    };\n\n    /*\n    *  matchHeight\n    *  plugin definition\n    */\n\n    var matchHeight = $.fn.matchHeight = function(options) {\n        var opts = _parseOptions(options);\n\n        // handle remove\n        if (opts.remove) {\n            var that = this;\n\n            // remove fixed height from all selected elements\n            this.css(opts.property, '');\n\n            // remove selected elements from all groups\n            $.each(matchHeight._groups, function(key, group) {\n                group.elements = group.elements.not(that);\n            });\n\n            // TODO: cleanup empty groups\n\n            return this;\n        }\n\n        if (this.length <= 1 && !opts.target) {\n            return this;\n        }\n\n        // keep track of this group so we can re-apply later on load and resize events\n        matchHeight._groups.push({\n            elements: this,\n            options: opts\n        });\n\n        // match each element's height to the tallest element in the selection\n        matchHeight._apply(this, opts);\n\n        return this;\n    };\n\n    /*\n    *  plugin global options\n    */\n\n    matchHeight.version = '0.7.2';\n    matchHeight._groups = [];\n    matchHeight._throttle = 80;\n    matchHeight._maintainScroll = false;\n    matchHeight._beforeUpdate = null;\n    matchHeight._afterUpdate = null;\n    matchHeight._rows = _rows;\n    matchHeight._parse = _parse;\n    matchHeight._parseOptions = _parseOptions;\n\n    /*\n    *  matchHeight._apply\n    *  apply matchHeight to given elements\n    */\n\n    matchHeight._apply = function(elements, options) {\n        var opts = _parseOptions(options),\n            $elements = $(elements),\n            rows = [$elements];\n\n        // take note of scroll position\n        var scrollTop = $(window).scrollTop(),\n            htmlHeight = $('html').outerHeight(true);\n\n        // get hidden parents\n        var $hiddenParents = $elements.parents().filter(':hidden');\n\n        // cache the original inline style\n        $hiddenParents.each(function() {\n            var $that = $(this);\n            $that.data('style-cache', $that.attr('style'));\n        });\n\n        // temporarily must force hidden parents visible\n        $hiddenParents.css('display', 'block');\n\n        // get rows if using byRow, otherwise assume one row\n        if (opts.byRow && !opts.target) {\n\n            // must first force an arbitrary equal height so floating elements break evenly\n            $elements.each(function() {\n                var $that = $(this),\n                    display = $that.css('display');\n\n                // temporarily force a usable display value\n                if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {\n                    display = 'block';\n                }\n\n                // cache the original inline style\n                $that.data('style-cache', $that.attr('style'));\n\n                $that.css({\n                    'display': display,\n                    'padding-top': '0',\n                    'padding-bottom': '0',\n                    'margin-top': '0',\n                    'margin-bottom': '0',\n                    'border-top-width': '0',\n                    'border-bottom-width': '0',\n                    'height': '100px',\n                    'overflow': 'hidden'\n                });\n            });\n\n            // get the array of rows (based on element top position)\n            rows = _rows($elements);\n\n            // revert original inline styles\n            $elements.each(function() {\n                var $that = $(this);\n                $that.attr('style', $that.data('style-cache') || '');\n            });\n        }\n\n        $.each(rows, function(key, row) {\n            var $row = $(row),\n                targetHeight = 0;\n\n            if (!opts.target) {\n                // skip apply to rows with only one item\n                if (opts.byRow && $row.length <= 1) {\n                    $row.css(opts.property, '');\n                    return;\n                }\n\n                // iterate the row and find the max height\n                $row.each(function(){\n                    var $that = $(this),\n                        style = $that.attr('style'),\n                        display = $that.css('display');\n\n                    // temporarily force a usable display value\n                    if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {\n                        display = 'block';\n                    }\n\n                    // ensure we get the correct actual height (and not a previously set height value)\n                    var css = { 'display': display };\n                    css[opts.property] = '';\n                    $that.css(css);\n\n                    // find the max height (including padding, but not margin)\n                    if ($that.outerHeight(false) > targetHeight) {\n                        targetHeight = $that.outerHeight(false);\n                    }\n\n                    // revert styles\n                    if (style) {\n                        $that.attr('style', style);\n                    } else {\n                        $that.css('display', '');\n                    }\n                });\n            } else {\n                // if target set, use the height of the target element\n                targetHeight = opts.target.outerHeight(false);\n            }\n\n            // iterate the row and apply the height to all elements\n            $row.each(function(){\n                var $that = $(this),\n                    verticalPadding = 0;\n\n                // don't apply to a target\n                if (opts.target && $that.is(opts.target)) {\n                    return;\n                }\n\n                // handle padding and border correctly (required when not using border-box)\n                if ($that.css('box-sizing') !== 'border-box') {\n                    verticalPadding += _parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));\n                    verticalPadding += _parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));\n                }\n\n                // set the height (accounting for padding and border)\n                $that.css(opts.property, (targetHeight - verticalPadding) + 'px');\n            });\n        });\n\n        // revert hidden parents\n        $hiddenParents.each(function() {\n            var $that = $(this);\n            $that.attr('style', $that.data('style-cache') || null);\n        });\n\n        // restore scroll position if enabled\n        if (matchHeight._maintainScroll) {\n            $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));\n        }\n\n        return this;\n    };\n\n    /*\n    *  matchHeight._applyDataApi\n    *  applies matchHeight to all elements with a data-match-height attribute\n    */\n\n    matchHeight._applyDataApi = function() {\n        var groups = {};\n\n        // generate groups by their groupId set by elements using data-match-height\n        $('[data-match-height], [data-mh]').each(function() {\n            var $this = $(this),\n                groupId = $this.attr('data-mh') || $this.attr('data-match-height');\n\n            if (groupId in groups) {\n                groups[groupId] = groups[groupId].add($this);\n            } else {\n                groups[groupId] = $this;\n            }\n        });\n\n        // apply matchHeight to each group\n        $.each(groups, function() {\n            this.matchHeight(true);\n        });\n    };\n\n    /*\n    *  matchHeight._update\n    *  updates matchHeight on all current groups with their correct options\n    */\n\n    var _update = function(event) {\n        if (matchHeight._beforeUpdate) {\n            matchHeight._beforeUpdate(event, matchHeight._groups);\n        }\n\n        $.each(matchHeight._groups, function() {\n            matchHeight._apply(this.elements, this.options);\n        });\n\n        if (matchHeight._afterUpdate) {\n            matchHeight._afterUpdate(event, matchHeight._groups);\n        }\n    };\n\n    matchHeight._update = function(throttle, event) {\n        // prevent update if fired from a resize event\n        // where the viewport width hasn't actually changed\n        // fixes an event looping bug in IE8\n        if (event && event.type === 'resize') {\n            var windowWidth = $(window).width();\n            if (windowWidth === _previousResizeWidth) {\n                return;\n            }\n            _previousResizeWidth = windowWidth;\n        }\n\n        // throttle updates\n        if (!throttle) {\n            _update(event);\n        } else if (_updateTimeout === -1) {\n            _updateTimeout = setTimeout(function() {\n                _update(event);\n                _updateTimeout = -1;\n            }, matchHeight._throttle);\n        }\n    };\n\n    /*\n    *  bind events\n    */\n\n    // apply on DOM ready event\n    $(matchHeight._applyDataApi);\n\n    // use on or bind where supported\n    var on = $.fn.on ? 'on' : 'bind';\n\n    // update heights on load and resize events\n    $(window)[on]('load', function(event) {\n        matchHeight._update(false, event);\n    });\n\n    // throttled update heights on resize events\n    $(window)[on]('resize orientationchange', function(event) {\n        matchHeight._update(true, event);\n    });\n\n});\n","/*!\n * jQuery JavaScript Library v3.1.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2016-09-22T22:30Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\n\n\n\tfunction DOMEval( code, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar script = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.1.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = jQuery.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type( obj ) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\n\t\t// As of jQuery 3.0, isNumeric is limited to\n\t\t// strings and numbers (primitives or objects)\n\t\t// that can be coerced to finite numbers (gh-2662)\n\t\tvar type = jQuery.type( obj );\n\t\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t\t// subtraction forces infinities to NaN\n\t\t\t!isNaN( obj - parseFloat( obj ) );\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\n\t\t/* eslint-disable no-unused-vars */\n\t\t// See https://github.com/eslint/eslint/issues/6125\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\n\t\t// Support: Android <=2.3 only (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tDOMEval( code );\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Support: IE <=9 - 11, Edge 12 - 13\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.3\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-08-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && (\"form\" in elem || \"label\" in elem);\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tdisabledAncestor( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Simple selector that can be filtered directly, removing non-Elements\n\tif ( risSimple.test( qualifier ) ) {\n\t\treturn jQuery.filter( qualifier, elements, not );\n\t}\n\n\t// Complex selector, compare the two sets, removing non-Elements\n\tqualifier = jQuery.filter( qualifier, elements );\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not && elem.nodeType === 1;\n\t} );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && jQuery.type( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && jQuery.isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && jQuery.isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Support: Android 4.0 only\n\t\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\t\tresolve.call( undefined, value );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.call( undefined, value );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( jQuery.isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tjQuery.isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ jQuery.camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ jQuery.camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ jQuery.camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( jQuery.camelCase );\n\t\t\t} else {\n\t\t\t\tkey = jQuery.camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tjQuery.contains( elem.ownerDocument, elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted,\n\t\tscale = 1,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\tdo {\n\n\t\t\t// If previous iteration zeroed out, double until we get *something*.\n\t\t\t// Use string for doubling so we don't accidentally see scale as unchanged below\n\t\t\tscale = scale || \".5\";\n\n\t\t\t// Adjust and apply\n\t\t\tinitialInUnit = initialInUnit / scale;\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t// Break the loop if scale is unchanged or perfect, or if we've just had enough.\n\t\t} while (\n\t\t\tscale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations\n\t\t);\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i );\n\nvar rscriptType = ( /^$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && jQuery.nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\nvar documentElement = document.documentElement;\n\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 only\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: jQuery.isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\nfunction manipulationTarget( elem, content ) {\n\tif ( jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn elem.getElementsByTagName( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tisFunction = jQuery.isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( isFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( isFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rmargin = ( /^margin/ );\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdiv.style.cssText =\n\t\t\t\"box-sizing:border-box;\" +\n\t\t\t\"position:relative;display:block;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"top:1%;width:50%\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocumentElement.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = divStyle.marginLeft === \"2px\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\t// Support: Android 4.0 - 4.3 only\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.marginRight = \"50%\";\n\t\tpixelMarginRightVal = divStyle.marginRight === \"4px\";\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\n\t\t\"padding:0;margin-top:1px;position:absolute\";\n\tcontainer.appendChild( div );\n\n\tjQuery.extend( support, {\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelMarginRight: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelMarginRightVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// Support: IE <=9 only\n\t// getPropertyValue is only needed for .css('filter') (#12537)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i,\n\t\tval = 0;\n\n\t// If we already have the right measurement, avoid augmentation\n\tif ( extra === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\ti = 4;\n\n\t// Otherwise initialize for horizontal or vertical properties\n\t} else {\n\t\ti = name === \"width\" ? 1 : 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// At this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// At this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// At this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar val,\n\t\tvalueIsBorderBox = true,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// Support: IE <=11 only\n\t// Running getBoundingClientRect on a disconnected node\n\t// in IE throws an error.\n\tif ( elem.getClientRects().length ) {\n\t\tval = elem.getBoundingClientRect()[ name ];\n\t}\n\n\t// Some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test( val ) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// Check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox &&\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// Use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tstyle[ name ] = value;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = extra && getStyles( elem ),\n\t\t\t\tsubtract = extra && augmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ name ] = value;\n\t\t\t\tvalue = jQuery.css( elem, name );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction raf() {\n\tif ( timerId ) {\n\t\twindow.requestAnimationFrame( raf );\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 13\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( jQuery.isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tjQuery.proxy( result.stop, result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off or if document is hidden\n\tif ( jQuery.fx.off || document.hidden ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = window.requestAnimationFrame ?\n\t\t\twindow.requestAnimationFrame( raf ) :\n\t\t\twindow.setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tif ( window.cancelAnimationFrame ) {\n\t\twindow.cancelAnimationFrame( timerId );\n\t} else {\n\t\twindow.clearInterval( timerId );\n\t}\n\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://html.spec.whatwg.org/multipage/infrastructure.html#strip-and-collapse-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnothtmlwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnothtmlwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( type === \"string\" ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = value.match( rnothtmlwhite ) || [];\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = jQuery.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = jQuery.isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( jQuery.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 13\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar docElem, win, rect, doc,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\trect = elem.getBoundingClientRect();\n\n\t\t// Make sure element is not hidden (display: none)\n\t\tif ( rect.width || rect.height ) {\n\t\t\tdoc = elem.ownerDocument;\n\t\t\twin = getWindow( doc );\n\t\t\tdocElem = doc.documentElement;\n\n\t\t\treturn {\n\t\t\t\ttop: rect.top + win.pageYOffset - docElem.clientTop,\n\t\t\t\tleft: rect.left + win.pageXOffset - docElem.clientLeft\n\t\t\t};\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden elements (gh-2310)\n\t\treturn rect;\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n\t\t// because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume getBoundingClientRect is there when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset = {\n\t\t\t\ttop: parentOffset.top + jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true ),\n\t\t\t\tleft: parentOffset.left + jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true )\n\t\t\t};\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\njQuery.parseJSON = JSON.parse;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\n\nreturn jQuery;\n} );\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","var State = require('./lib/state')\nvar tokenize = require('./lib/tokenize')\n\nvar tokenizedCache = {}\n\nmodule.exports = function jsonQuery (query, options) {\n\n  // extract params for ['test[param=?]', 'value'] type queries\n  var params = options && options.params || null\n  if (Array.isArray(query)) {\n    params = query.slice(1)\n    query = query[0]\n  }\n\n  if (!tokenizedCache[query]) {\n    tokenizedCache[query] = tokenize(query, true)\n  }\n\n  return handleQuery(tokenizedCache[query], options, params)\n}\n\n\nmodule.exports.lastParent = function (query) {\n  var last = query.parents[query.parents.length - 1]\n  if (last) {\n    return last.value\n  } else {\n    return null\n  }\n}\n\n\nfunction handleQuery (tokens, options, params) {\n  var state = new State(options, params, handleQuery)\n\n  for (var i = 0; i < tokens.length; i++) {\n    if (handleToken(tokens[i], state)) {\n      break\n    }\n  }\n\n  // flush\n  handleToken(null, state)\n\n  // set databind hooks\n  if (state.currentItem instanceof Object) {\n    state.addReference(state.currentItem)\n  } else {\n    var parentObject = getLastParentObject(state.currentParents)\n    if (parentObject) {\n      state.addReference(parentObject)\n    }\n  }\n\n  return {\n    value: state.currentItem,\n    key: state.currentKey,\n    references: state.currentReferences,\n    parents: state.currentParents\n  }\n}\n\nfunction handleToken (token, state) {\n  // state: setCurrent, getValue, getValues, resetCurrent, deepQuery, rootContext, currentItem, currentKey, options, filters\n\n  if (token == null) {\n    // process end of query\n    if (!state.currentItem && state.options.force) {\n      state.force(state.options.force)\n    }\n  } else if (token.values) {\n    if (state.currentItem) {\n      var keys = Object.keys(state.currentItem)\n      var values = []\n      keys.forEach(function (key) {\n        if (token.deep && Array.isArray(state.currentItem[key])) {\n          state.currentItem[key].forEach(function (item) {\n            values.push(item)\n          })\n        } else {\n          values.push(state.currentItem[key])\n        }\n      })\n      state.setCurrent(keys, values)\n    } else {\n      state.setCurrent(keys, [])\n    }\n  } else if (token.get) {\n    var key = state.getValue(token.get)\n    if (shouldOverride(state, key)) {\n      state.setCurrent(key, state.override[key])\n    } else {\n      if (state.currentItem || (state.options.force && state.force({}))) {\n        if (isDeepAccessor(state.currentItem, key) || token.multiple) {\n          var values = state.currentItem.map(function (item) {\n            return item[key]\n          }).filter(isDefined)\n\n          values = Array.prototype.concat.apply([], values) // flatten\n\n          state.setCurrent(key, values)\n        } else {\n          state.setCurrent(key, state.currentItem[key])\n        }\n      } else {\n        state.setCurrent(key, null)\n      }\n    }\n  } else if (token.select) {\n    if (Array.isArray(state.currentItem) || (state.options.force && state.force([]))) {\n      var match = (token.boolean ? token.select : [token]).map(function (part) {\n        if (part.op === ':') {\n          var key = state.getValue(part.select[0])\n          return {\n            func: function (item) {\n              if (key) {\n                item = item[key]\n              }\n              return state.getValueFrom(part.select[1], item)\n            },\n            negate: part.negate,\n            booleanOp: part.booleanOp\n          }\n        } else {\n          var selector = state.getValues(part.select)\n          if (!state.options.allowRegexp && part.op === '~' && selector[1] instanceof RegExp) throw new Error('options.allowRegexp is not enabled.')\n          return {\n            key: selector[0],\n            value: selector[1],\n            negate: part.negate,\n            booleanOp: part.booleanOp,\n            op: part.op\n          }\n        }\n      })\n\n      if (token.multiple) {\n        var keys = []\n        var value = []\n        state.currentItem.forEach(function (item, i) {\n          if (matches(item, match)) {\n            keys.push(i)\n            value.push(item)\n          }\n        })\n        state.setCurrent(keys, value)\n      } else {\n        if (!state.currentItem.some(function (item, i) {\n          if (matches(item, match)) {\n            state.setCurrent(i, item)\n            return true\n          }\n        })) {\n          state.setCurrent(null, null)\n        }\n      }\n    } else {\n      state.setCurrent(null, null)\n    }\n  } else if (token.root) {\n    state.resetCurrent()\n    if (token.args && token.args.length) {\n      state.setCurrent(null, state.getValue(token.args[0]))\n    } else {\n      state.setCurrent(null, state.rootContext)\n    }\n  } else if (token.parent) {\n    state.resetCurrent()\n    state.setCurrent(null, state.options.parent)\n  } else if (token.or) {\n    if (state.currentItem) {\n      return true\n    } else {\n      state.resetCurrent()\n      state.setCurrent(null, state.context)\n    }\n  } else if (token.filter) {\n    var helper = state.getLocal(token.filter) || state.getGlobal(token.filter)\n    if (typeof helper === 'function') {\n      // function(input, args...)\n      var values = state.getValues(token.args || [])\n      var result = helper.apply(state.options, [state.currentItem].concat(values))\n      state.setCurrent(null, result)\n    } else {\n      // fallback to old filters\n      var filter = state.getFilter(token.filter)\n      if (typeof filter === 'function') {\n        var values = state.getValues(token.args || [])\n        var result = filter.call(state.options, state.currentItem, {args: values, state: state, data: state.rootContext})\n        state.setCurrent(null, result)\n      }\n    }\n  } else if (token.deep) {\n    if (state.currentItem) {\n      if (token.deep.length === 0) {\n        return\n      }\n\n      var result = state.deepQuery(state.currentItem, token.deep, state.options)\n      if (result) {\n        state.setCurrent(result.key, result.value)\n        for (var i = 0; i < result.parents.length; i++) {\n          state.currentParents.push(result.parents[i])\n        }\n      } else {\n        state.setCurrent(null, null)\n      }\n    } else {\n      state.currentItem = null\n    }\n  }\n}\n\nfunction matches (item, parts) {\n  var result = false\n  for (var i = 0; i < parts.length; i++) {\n    var opts = parts[i]\n    var r = false\n    if (opts.func) {\n      r = opts.func(item)\n    } else if (opts.op === '~') {\n      if (opts.value instanceof RegExp) {\n        r = item[opts.key] && !!item[opts.key].match(opts.value)\n      } else {\n        r = item[opts.key] && !!~item[opts.key].indexOf(opts.value)\n      }\n    } else if (opts.op === '=') {\n      if ((item[opts.key] === true && opts.value === 'true') || (item[opts.key] === false && opts.value === 'false')) {\n        r = true\n      } else {\n        r = item[opts.key] == opts.value\n      }\n    } else if (opts.op === '>') {\n      r = item[opts.key] > opts.value\n    } else if (opts.op === '<') {\n      r = item[opts.key] < opts.value\n    } else if (opts.op === '>=') {\n      r = item[opts.key] >= opts.value\n    } else if (opts.op === '<=') {\n      r = item[opts.key] <= opts.value\n    }\n\n    if (opts.negate) {\n      r = !r\n    }\n    if (opts.booleanOp === '&') {\n      result = result && r\n    } else if (opts.booleanOp === '|') {\n      result = result || r\n    } else {\n      result = r\n    }\n  }\n\n  return result\n}\n\nfunction isDefined(value) {\n  return typeof value !== 'undefined'\n}\n\nfunction shouldOverride (state, key) {\n  return state.override && state.currentItem === state.rootContext && state.override[key] !== undefined\n}\n\nfunction isDeepAccessor (currentItem, key) {\n  return currentItem instanceof Array && parseInt(key) != key\n}\n\nfunction getLastParentObject (parents) {\n  for (var i = 0; i < parents.length; i++) {\n    if (!(parents[i + 1]) || !(parents[i + 1].value instanceof Object)) {\n      return parents[i].value\n    }\n  }\n}\n","module.exports = depthSplit\n\nfunction depthSplit (text, delimiter, opts) {\n  var max = opts && opts.max || Infinity\n  var includeDelimiters = opts && opts.includeDelimiters || false\n\n  var depth = 0\n  var start = 0\n  var result = []\n  var zones = []\n\n  text.replace(/([\\[\\(\\{])|([\\]\\)\\}])/g, function (current, open, close, offset) {\n    if (open) {\n      if (depth === 0) {\n        zones.push([start, offset])\n      }\n      depth += 1\n    } else if (close) {\n      depth -= 1\n      if (depth === 0) {\n        start = offset + current.length\n      }\n    }\n  })\n\n  if (depth === 0 && start < text.length) {\n    zones.push([start, text.length])\n  }\n\n  start = 0\n\n  for (var i = 0; i < zones.length && max > 0; i++) {\n    for (\n      var pos = zones[i][0], match = delimiter.exec(text.slice(pos, zones[i][1]));\n      match && max > 1;\n      pos += match.index + match[0].length, start = pos, match = delimiter.exec(text.slice(pos, zones[i][1]))\n    ) {\n      result.push(text.slice(start, match.index + pos))\n      if (includeDelimiters) {\n        result.push(match[0])\n      }\n      max -= 1\n    }\n  }\n\n  if (start < text.length) {\n    result.push(text.slice(start))\n  }\n\n  return result\n}\n","module.exports = State\n\nfunction State(options, params, handleQuery){\n\n  options = options || {}\n\n  //this.options = options\n  this.handleQuery = handleQuery\n  this.options = options\n  this.locals = this.options.locals || {}\n  this.globals = this.options.globals || {}\n  this.rootContext = firstNonNull(options.data, options.rootContext, options.context, options.source)\n  this.parent = options.parent\n  this.override = options.override\n  this.filters = options.filters || {}\n  this.params = params || options.params || []\n  this.context = firstNonNull(options.currentItem, options.context, options.source)\n  this.currentItem = firstNonNull(this.context, options.rootContext, options.data)\n  this.currentKey = null\n  this.currentReferences = []\n  this.currentParents = []\n}\n\nState.prototype = {\n\n  // current manipulation\n  setCurrent: function(key, value){\n    if (this.currentItem || this.currentKey || this.currentParents.length>0){\n      this.currentParents.push({key: this.currentKey, value: this.currentItem})\n    }\n    this.currentItem = value\n    this.currentKey = key\n  },\n\n  resetCurrent: function(){\n    this.currentItem = null\n    this.currentKey = null\n    this.currentParents = []\n  },\n\n  force: function(def){\n    var parent = this.currentParents[this.currentParents.length-1]\n    if (!this.currentItem && parent && (this.currentKey != null)){\n      this.currentItem = def || {}\n      parent.value[this.currentKey] = this.currentItem\n    }\n    return !!this.currentItem\n  },\n\n  getLocal: function(localName){\n    if (~localName.indexOf('/')){\n      var result = null\n      var parts = localName.split('/')\n\n      for (var i=0;i<parts.length;i++){\n        var part = parts[i]\n        if (i == 0){\n          result = this.locals[part]\n        } else if (result && result[part]){\n          result = result[part]\n        }\n      }\n\n      return result\n    } else {\n      return this.locals[localName]\n    }\n  },\n\n  getGlobal: function(globalName){\n    if (~globalName.indexOf('/')){\n      var result = null\n      var parts = globalName.split('/')\n\n      for (var i=0;i<parts.length;i++){\n        var part = parts[i]\n        if (i == 0){\n          result = this.globals[part]\n        } else if (result && result[part]){\n          result = result[part]\n        }\n      }\n\n      return result\n    } else {\n      return this.globals[globalName]\n    }\n  },\n\n  getFilter: function(filterName){\n    if (~filterName.indexOf('/')){\n      var result = null\n      var filterParts = filterName.split('/')\n\n      for (var i=0;i<filterParts.length;i++){\n        var part = filterParts[i]\n        if (i == 0){\n          result = this.filters[part]\n        } else if (result && result[part]){\n          result = result[part]\n        }\n      }\n\n      return result\n    } else {\n      return this.filters[filterName]\n    }\n  },\n\n  addReferences: function(references){\n    if (references){\n      references.forEach(this.addReference, this)\n    }\n  },\n\n  addReference: function(ref){\n    if (ref instanceof Object && !~this.currentReferences.indexOf(ref)){\n      this.currentReferences.push(ref)\n    }\n  },\n\n  // helper functions\n  getValues: function(values, callback){\n    return values.map(this.getValue, this)\n  },\n\n  getValue: function (value) {\n    return this.getValueFrom(value, null)\n  },\n\n  getValueFrom: function (value, item) {\n    if (value._param != null){\n      return this.params[value._param]\n    } else if (value._sub){\n\n      var options = copy(this.options)\n      options.force = null\n      options.currentItem = item\n\n      var result = this.handleQuery(value._sub, options, this.params)\n      this.addReferences(result.references)\n      return result.value\n\n    } else {\n      return value\n    }\n  },\n\n  deepQuery: function(source, tokens, options, callback){\n    var keys = Object.keys(source)\n\n    for (var key in source){\n      if (key in source){\n\n        var options = copy(this.options)\n        options.currentItem = source[key]\n\n        var result = this.handleQuery(tokens, options, this.params)\n\n        if (result.value){\n          return result\n        }\n      }\n    }\n\n    return null\n  }\n\n}\n\nfunction firstNonNull(args){\n  for (var i=0;i<arguments.length;i++){\n    if (arguments[i] != null){\n      return arguments[i]\n    }\n  }\n}\n\nfunction copy(obj){\n  var result = {}\n  if (obj){\n    for (var key in obj){\n      if (key in obj){\n        result[key] = obj[key]\n      }\n    }\n  }\n  return result\n}\n","// todo: syntax checking\n// todo: test handle args\nvar depthSplit = require('./depth-split')\n\nmodule.exports = function(query, shouldAssignParamIds){\n  if (!query) return []\n\n  var result = []\n    , prevChar, char\n    , nextChar = query.charAt(0)\n    , bStart = 0\n    , bEnd = 0\n    , partOffset = 0\n    , pos = 0\n    , depth = 0\n    , mode = 'get'\n    , deepQuery = null\n\n  // if query contains params then number them\n  if (shouldAssignParamIds){\n    query = assignParamIds(query)\n  }\n\n  var tokens = {\n    '.': {mode: 'get'},\n    ':': {mode: 'filter'},\n    '|': {handle: 'or'},\n    '[': {open: 'select'},\n    ']': {close: 'select'},\n    '{': {open: 'meta'},\n    '}': {close: 'meta'},\n    '(': {open: 'args'},\n    ')': {close: 'args'}\n  }\n\n  function push(item){\n    if (deepQuery){\n      deepQuery.push(item)\n    } else {\n      result.push(item)\n    }\n  }\n\n  var handlers = {\n    get: function(buffer){\n      var trimmed = typeof buffer === 'string' ? buffer.trim() : null\n      if (trimmed){\n        push({get:trimmed})\n      }\n    },\n    select: function(buffer){\n      if (buffer){\n        push(tokenizeSelect(buffer))\n      } else {\n        // deep query override\n        var x = {deep: []}\n        result.push(x)\n        deepQuery = x.deep\n      }\n    },\n    filter: function(buffer){\n      if (buffer){\n        push({filter:buffer.trim()})\n      }\n    },\n    or: function(){\n      deepQuery = null\n      result.push({or:true})\n      partOffset = i + 1\n    },\n    args: function(buffer){\n      var args = tokenizeArgs(buffer)\n      result[result.length-1].args = args\n    }\n  }\n\n  function handleBuffer(){\n    var buffer = query.slice(bStart, bEnd)\n    if (handlers[mode]){\n      handlers[mode](buffer)\n    }\n    mode = 'get'\n    bStart = bEnd + 1\n  }\n\n  for (var i = 0;i < query.length;i++){\n\n    // update char values\n    prevChar = char; char = nextChar; nextChar = query.charAt(i + 1);\n    pos = i - partOffset\n\n    // root query check\n    if (pos === 0 && (char !== ':' && char !== '.')){\n      result.push({root:true})\n    }\n\n    // parent query check\n    if (pos === 0 && (char === '.' && nextChar === '.')){\n      result.push({parent:true})\n    }\n\n    var token = tokens[char]\n    if (token){\n\n      // set mode\n      if (depth === 0 && (token.mode || token.open)){\n        handleBuffer()\n        mode = token.mode || token.open\n      }\n\n      if (depth === 0 && token.handle){\n        handleBuffer()\n        handlers[token.handle]()\n      }\n\n      if (token.open){\n        depth += 1\n      } else if (token.close){\n        depth -= 1\n      }\n\n      // reset mode to get\n      if (depth === 0 && token.close){\n        handleBuffer()\n      }\n\n    }\n\n    bEnd = i + 1\n\n  }\n\n  handleBuffer()\n  return result\n}\n\nfunction tokenizeArgs(argsQuery){\n  if (argsQuery === ',') return [',']\n  return depthSplit(argsQuery, /,/).map(function(s){\n    return handleSelectPart(s.trim())\n  })\n}\n\nfunction tokenizeSelect (selectQuery) {\n  if (selectQuery === '*') {\n    return {\n      values: true\n    }\n  } else if (selectQuery === '**') {\n    return {\n      values: true,\n      deep: true\n    }\n  }\n\n  var multiple = false\n  if (selectQuery.charAt(0) === '*') {\n    multiple = true\n    selectQuery = selectQuery.slice(1)\n  }\n\n  var booleanParts = depthSplit(selectQuery, /&|\\|/, { includeDelimiters: true })\n  if (booleanParts.length > 1) {\n    var result = [\n      getSelectPart(booleanParts[0].trim())\n    ]\n    for (var i = 1; i < booleanParts.length; i += 2) {\n      var part = getSelectPart(booleanParts[i + 1].trim())\n      if (part) {\n        part.booleanOp = booleanParts[i]\n        result.push(part)\n      }\n    }\n    return {\n      multiple: multiple,\n      boolean: true,\n      select: result\n    }\n  } else {\n    var result = getSelectPart(selectQuery.trim())\n    if (!result) {\n      return {\n        get: handleSelectPart(selectQuery.trim())\n      }\n    } else {\n      if (multiple) {\n        result.multiple = true\n      }\n      return result\n    }\n  }\n}\n\nfunction getSelectPart (selectQuery) {\n  var parts = depthSplit(selectQuery, /(!)?(=|~|\\:|<=|>=|<|>)/, { max: 2, includeDelimiters: true })\n  if (parts.length === 3) {\n    var negate = parts[1].charAt(0) === '!'\n    var key = handleSelectPart(parts[0].trim())\n    var result = {\n      negate: negate,\n      op: negate ? parts[1].slice(1) : parts[1]\n    }\n    if (result.op === ':') {\n      result.select = [key, {_sub: module.exports(':' + parts[2].trim())}]\n    } else if (result.op === '~') {\n      var value = handleSelectPart(parts[2].trim())\n      if (typeof value === 'string') {\n        var reDef = parts[2].trim().match(/^\\/(.*)\\/([a-z]?)$/)\n        if (reDef) {\n          result.select = [key, new RegExp(reDef[1], reDef[2])]\n        } else {\n          result.select = [key, value]\n        }\n      } else {\n        result.select = [key, value]\n      }\n    } else {\n      result.select = [key, handleSelectPart(parts[2].trim())]\n    }\n    return result\n  }\n}\n\nfunction isInnerQuery (text) {\n  return text.charAt(0) === '{' && text.charAt(text.length-1) === '}'\n}\n\nfunction handleSelectPart(part){\n  if (isInnerQuery(part)){\n    var innerQuery = part.slice(1, -1)\n    return {_sub: module.exports(innerQuery)}\n  } else {\n    return paramToken(part)\n  }\n}\n\nfunction paramToken(text){\n  if (text.charAt(0) === '?'){\n    var num = parseInt(text.slice(1))\n    if (!isNaN(num)){\n      return {_param: num}\n    } else {\n      return text\n    }\n  } else {\n    return text\n  }\n}\n\n\n\nfunction assignParamIds(query){\n  var index = 0\n  return query.replace(/\\?/g, function(match){\n    return match + (index++)\n  })\n}\n\nfunction last (array) {\n  return array[array.length - 1]\n}\n","/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */\n\nwindow.matchMedia || (window.matchMedia = function() {\n    \"use strict\";\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n    var styleMedia = (window.styleMedia || window.media);\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n        var style       = document.createElement('style'),\n            script      = document.getElementsByTagName('script')[0],\n            info        = null;\n\n        style.type  = 'text/css';\n        style.id    = 'matchmediajs-test';\n\n        script.parentNode.insertBefore(style, script);\n\n        // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n        info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n        styleMedia = {\n            matchMedium: function(media) {\n                var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n                // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n                if (style.styleSheet) {\n                    style.styleSheet.cssText = text;\n                } else {\n                    style.textContent = text;\n                }\n\n                // Test if media query is true or false\n                return info.width === '1px';\n            }\n        };\n    }\n\n    return function(media) {\n        return {\n            matches: styleMedia.matchMedium(media || 'all'),\n            media: media || 'all'\n        };\n    };\n}());\n","/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {style: {'object-position': 1}} : new Image();\nvar supportsObjectFit = 'object-fit' in testImg.style;\nvar supportsObjectPosition = 'object-position' in testImg.style;\nvar supportsOFI = 'background-size' in testImg.style;\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n\treturn (\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\");\n}\n\nfunction polyfillCurrentSrc(el) {\n\tif (el.srcset && !supportsCurrentSrc && window.picturefill) {\n\t\tvar pf = window.picturefill._;\n\t\t// parse srcset with picturefill where currentSrc isn't available\n\t\tif (!el[pf.ns] || !el[pf.ns].evaled) {\n\t\t\t// force synchronous srcset parsing\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\tif (!el[pf.ns].curSrc) {\n\t\t\t// force picturefill to parse srcset\n\t\t\tel[pf.ns].supported = false;\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\t// retrieve parsed currentSrc, if any\n\t\tel.currentSrc = el[pf.ns].curSrc || el.src;\n\t}\n}\n\nfunction getStyle(el) {\n\tvar style = getComputedStyle(el).fontFamily;\n\tvar parsed;\n\tvar props = {};\n\twhile ((parsed = propRegex.exec(style)) !== null) {\n\t\tprops[parsed[1]] = parsed[2];\n\t}\n\treturn props;\n}\n\nfunction setPlaceholder(img, width, height) {\n\t// Default: fill width, no height\n\tvar placeholder = createPlaceholder(width || 1, height || 0);\n\n\t// Only set placeholder if it's different\n\tif (nativeGetAttribute.call(img, 'src') !== placeholder) {\n\t\tnativeSetAttribute.call(img, 'src', placeholder);\n\t}\n}\n\nfunction onImageReady(img, callback) {\n\t// naturalWidth is only available when the image headers are loaded,\n\t// this loop will poll it every 100ms.\n\tif (img.naturalWidth) {\n\t\tcallback(img);\n\t} else {\n\t\tsetTimeout(onImageReady, 100, img, callback);\n\t}\n}\n\nfunction fixOne(el) {\n\tvar style = getStyle(el);\n\tvar ofi = el[OFI];\n\tstyle['object-fit'] = style['object-fit'] || 'fill'; // default value\n\n\t// Avoid running where unnecessary, unless OFI had already done its deed\n\tif (!ofi.img) {\n\t\t// fill is the default behavior so no action is necessary\n\t\tif (style['object-fit'] === 'fill') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Where object-fit is supported and object-position isn't (Safari < 10)\n\t\tif (\n\t\t\t!ofi.skipTest && // unless user wants to apply regardless of browser support\n\t\t\tsupportsObjectFit && // if browser already supports object-fit\n\t\t\t!style['object-position'] // unless object-position is used\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// keep a clone in memory while resetting the original to a blank\n\tif (!ofi.img) {\n\t\tofi.img = new Image(el.width, el.height);\n\t\tofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n\t\tofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src;\n\n\t\t// preserve for any future cloneNode calls\n\t\t// https://github.com/bfred-it/object-fit-images/issues/53\n\t\tnativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\t\tif (el.srcset) {\n\t\t\tnativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n\t\t}\n\n\t\tsetPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height);\n\n\t\t// remove srcset because it overrides src\n\t\tif (el.srcset) {\n\t\t\tel.srcset = '';\n\t\t}\n\t\ttry {\n\t\t\tkeepSrcUsable(el);\n\t\t} catch (err) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.warn('https://bit.ly/ofi-old-browser');\n\t\t\t}\n\t\t}\n\t}\n\n\tpolyfillCurrentSrc(ofi.img);\n\n\tel.style.backgroundImage = \"url(\\\"\" + ((ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"')) + \"\\\")\";\n\tel.style.backgroundPosition = style['object-position'] || 'center';\n\tel.style.backgroundRepeat = 'no-repeat';\n\tel.style.backgroundOrigin = 'content-box';\n\n\tif (/scale-down/.test(style['object-fit'])) {\n\t\tonImageReady(ofi.img, function () {\n\t\t\tif (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n\t\t\t\tel.style.backgroundSize = 'contain';\n\t\t\t} else {\n\t\t\t\tel.style.backgroundSize = 'auto';\n\t\t\t}\n\t\t});\n\t} else {\n\t\tel.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n\t}\n\n\tonImageReady(ofi.img, function (img) {\n\t\tsetPlaceholder(el, img.naturalWidth, img.naturalHeight);\n\t});\n}\n\nfunction keepSrcUsable(el) {\n\tvar descriptors = {\n\t\tget: function get(prop) {\n\t\t\treturn el[OFI].img[prop ? prop : 'src'];\n\t\t},\n\t\tset: function set(value, prop) {\n\t\t\tel[OFI].img[prop ? prop : 'src'] = value;\n\t\t\tnativeSetAttribute.call(el, (\"data-ofi-\" + prop), value); // preserve for any future cloneNode\n\t\t\tfixOne(el);\n\t\t\treturn value;\n\t\t}\n\t};\n\tObject.defineProperty(el, 'src', descriptors);\n\tObject.defineProperty(el, 'currentSrc', {\n\t\tget: function () { return descriptors.get('currentSrc'); }\n\t});\n\tObject.defineProperty(el, 'srcset', {\n\t\tget: function () { return descriptors.get('srcset'); },\n\t\tset: function (ss) { return descriptors.set(ss, 'srcset'); }\n\t});\n}\n\nfunction hijackAttributes() {\n\tfunction getOfiImageMaybe(el, name) {\n\t\treturn el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n\t}\n\tif (!supportsObjectPosition) {\n\t\tHTMLImageElement.prototype.getAttribute = function (name) {\n\t\t\treturn nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n\t\t};\n\n\t\tHTMLImageElement.prototype.setAttribute = function (name, value) {\n\t\t\treturn nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n\t\t};\n\t}\n}\n\nfunction fix(imgs, opts) {\n\tvar startAutoMode = !autoModeEnabled && !imgs;\n\topts = opts || {};\n\timgs = imgs || 'img';\n\n\tif ((supportsObjectPosition && !opts.skipTest) || !supportsOFI) {\n\t\treturn false;\n\t}\n\n\t// use imgs as a selector or just select all images\n\tif (imgs === 'img') {\n\t\timgs = document.getElementsByTagName('img');\n\t} else if (typeof imgs === 'string') {\n\t\timgs = document.querySelectorAll(imgs);\n\t} else if (!('length' in imgs)) {\n\t\timgs = [imgs];\n\t}\n\n\t// apply fix to all\n\tfor (var i = 0; i < imgs.length; i++) {\n\t\timgs[i][OFI] = imgs[i][OFI] || {\n\t\t\tskipTest: opts.skipTest\n\t\t};\n\t\tfixOne(imgs[i]);\n\t}\n\n\tif (startAutoMode) {\n\t\tdocument.body.addEventListener('load', function (e) {\n\t\t\tif (e.target.tagName === 'IMG') {\n\t\t\t\tfix(e.target, {\n\t\t\t\t\tskipTest: opts.skipTest\n\t\t\t\t});\n\t\t\t}\n\t\t}, true);\n\t\tautoModeEnabled = true;\n\t\timgs = 'img'; // reset to a generic selector for watchMQ\n\t}\n\n\t// if requested, watch media queries for object-fit change\n\tif (opts.watchMQ) {\n\t\twindow.addEventListener('resize', fix.bind(null, imgs, {\n\t\t\tskipTest: opts.skipTest\n\t\t}));\n\t}\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\n\nhijackAttributes();\n\nmodule.exports = fix;\n","/**\n * Object Fit Videos\n * Polyfill for object-fit and object-position CSS properties on video elements\n * Covers IE9, IE10, IE11, Edge, Safari <10\n *\n * Usage\n * In your CSS, add a special font-family tag for IE/Edge\n * video {\n *   object-fit: cover;\n *   font-family: 'object-fit: cover;';\n * }\n *\n * Before the closing body tag, or whenever the DOM is ready,\n * make the JavaScript call\n * objectFitVideos();\n *\n * All video elements with the special CSS property will be targeted\n *\n * @license  MIT (https://opensource.org/licenses/MIT)\n * @author   Todd Miller <todd.miller@tricomb2b.com>\n * @version  1.0.2\n * @changelog\n * 2016-08-19 - Adds object-position support.\n * 2016-08-19 - Add throttle function for more performant resize events\n * 2016-08-19 - Initial release with object-fit support, and\n *              object-position default 'center'\n * 2016-10-14 - No longer relies on window load event, instead requires a specific\n *              function call to initialize the videos for object fit and position.\n * 2016-11-28 - Support CommonJS environment, courtesy of @msorensson\n * 2016-12-05 - Refactors the throttling function to support IE\n * 2017-09-26 - Fix an issue with autplay not working on polyfilled videos\n *            - Adds the capability to specify elements to polyfill,\n *              instead of just checking every video element for the\n *              CSS property. Slight performance gain in most usecases,\n *              and a bigger gain in a few usecases.\n * 2017-10-24 - Add user agent check to enable polyfill for all Edge browsers.\n *              object-fit is supported on Edge >= 16, but currently just for images.\n */\nvar objectFitVideos = function (videos) {\n  'use strict';\n\n  var isEdge = navigator.userAgent.indexOf('Edge/') >= 0;\n\n  var testImg                = new Image(),\n      supportsObjectFit      = 'object-fit' in testImg.style && !isEdge,\n      supportsObjectPosition = 'object-position' in testImg.style && !isEdge,\n      propRegex              = /(object-fit|object-position)\\s*:\\s*([-\\w\\s%]+)/g;\n\n  if (!supportsObjectFit || !supportsObjectPosition) {\n    initialize(videos);\n    throttle('resize', 'optimizedResize');\n  }\n\n  /**\n   * Parse the style and look for the special font-family tag\n   * @param  {object} $el The element to parse\n   * @return {object}     The font-family properties we're interested in\n   */\n  function getStyle ($el) {\n    var style  = getComputedStyle($el).fontFamily,\n        parsed = null,\n        props  = {};\n\n      while ((parsed = propRegex.exec(style)) !== null) {\n        props[parsed[1]] = parsed[2];\n      }\n\n      if (props['object-position'])\n        return parsePosition(props);\n\n      return props;\n  }\n\n  /**\n   * Initialize all the relevant video elements and get them fitted\n   */\n  function initialize (videos) {\n    var index = -1;\n\n    if (!videos) {\n      // if no videos given, query all video elements\n      videos = document.querySelectorAll('video');\n    } else if (!('length' in videos)) {\n      // convert to an array for proper looping if an array or NodeList\n      // was not given\n      videos = [videos];\n    }\n\n    while (videos[++index]) {\n      var style = getStyle(videos[index]);\n\n      // only do work if the property is on the element\n      if (style['object-fit'] || style['object-position']) {\n        // set the default values\n        style['object-fit'] = style['object-fit'] || 'fill';\n        fitIt(videos[index], style);\n      }\n    }\n  }\n\n  /**\n   * Object Fit\n   * @param  {object} $el Element to fit\n   * @return {object}     The element's relevant properties\n   */\n  function fitIt ($el, style) {\n    // fill is the default behavior, no action is necessary\n    if (style['object-fit'] === 'fill')\n      return;\n\n    // convenience style properties on the source element\n    var setCss = $el.style,\n        getCss = window.getComputedStyle($el);\n\n    // create and insert a wrapper element\n    var $wrap = document.createElement('object-fit');\n    $wrap.appendChild($el.parentNode.replaceChild($wrap, $el));\n\n    // style the wrapper element to mostly match the source element\n    var wrapCss = {\n      height:    '100%',\n      width:     '100%',\n      boxSizing: 'content-box',\n      display:   'inline-block',\n      overflow:  'hidden'\n    };\n\n    'backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility'.replace(/\\w+/g, function (key) {\n      wrapCss[key] = getCss[key];\n    });\n\n    for (var key in wrapCss)\n      $wrap.style[key] = wrapCss[key];\n\n    // give the source element some saner styles\n    setCss.border  = setCss.margin = setCss.padding = 0;\n    setCss.display = 'block';\n    setCss.opacity = 1;\n\n    // set up the event handlers\n    $el.addEventListener('loadedmetadata', doWork);\n    window.addEventListener('optimizedResize', doWork);\n\n    // we may have missed the loadedmetadata event, so if the video has loaded\n    // enough data, just drop the event listener and execute\n    if ($el.readyState >= 1) {\n      $el.removeEventListener('loadedmetadata', doWork);\n      doWork();\n    }\n\n    /**\n     * Do the actual sizing. Math.\n     * @methodOf fitIt\n     */\n    function doWork () {\n      // the actual size and ratio of the video\n      // we do this here, even though it doesn't change, because\n      // at this point we can be sure the metadata has loaded\n      var videoWidth  = $el.videoWidth,\n          videoHeight = $el.videoHeight,\n          videoRatio  = videoWidth / videoHeight;\n\n      var wrapWidth  = $wrap.clientWidth,\n          wrapHeight = $wrap.clientHeight,\n          wrapRatio  = wrapWidth / wrapHeight;\n\n      var newHeight = 0,\n          newWidth  = 0;\n      setCss.marginLeft = setCss.marginTop = 0;\n\n      // basically we do the opposite action for contain and cover,\n      // depending on whether the video aspect ratio is less than or\n      // greater than the wrapper's aspect ratio\n      if (videoRatio < wrapRatio ?\n          style['object-fit'] === 'contain' : style['object-fit'] === 'cover') {\n        newHeight = wrapHeight * videoRatio;\n        newWidth  = wrapWidth / videoRatio;\n\n        setCss.width  = Math.round(newHeight) + 'px';\n        setCss.height = wrapHeight + 'px';\n\n        if (style['object-position-x'] === 'left')\n          setCss.marginLeft = 0;\n        else if (style['object-position-x'] === 'right')\n          setCss.marginLeft = Math.round(wrapWidth - newHeight) + 'px';\n        else\n          setCss.marginLeft = Math.round((wrapWidth - newHeight) / 2) + 'px';\n      } else {\n        newWidth = wrapWidth / videoRatio;\n\n        setCss.width     = wrapWidth + 'px';\n        setCss.height    = Math.round(newWidth) + 'px';\n\n        if (style['object-position-y'] === 'top')\n          setCss.marginTop = 0;\n        else if (style['object-position-y'] === 'bottom')\n          setCss.marginTop = Math.round(wrapHeight - newWidth) + 'px';\n        else\n          setCss.marginTop = Math.round((wrapHeight - newWidth) / 2) + 'px';\n      }\n\n      // play the video if autoplay is set\n      if ($el.autoplay)\n        $el.play();\n    }\n  }\n\n  /**\n   * Split the object-position property into x and y position properties\n   * @param  {object} style Relevant element styles\n   * @return {object}       The style object with the added x and y props\n   */\n  function parsePosition (style) {\n    if (~style['object-position'].indexOf('left'))\n      style['object-position-x'] = 'left';\n    else if (~style['object-position'].indexOf('right'))\n      style['object-position-x'] = 'right';\n    else\n      style['object-position-x'] = 'center';\n\n    if (~style['object-position'].indexOf('top'))\n      style['object-position-y'] = 'top';\n    else if (~style['object-position'].indexOf('bottom'))\n      style['object-position-y'] = 'bottom';\n    else\n      style['object-position-y'] = 'center';\n\n    return style;\n  }\n\n  /**\n   * Throttle an event with RequestAnimationFrame API for better performance\n   * @param  {string} type The event to throttle\n   * @param  {string} name Custom event name to listen for\n   * @param  {object} obj  Optional object to attach the event to\n   */\n  function throttle (type, name, obj) {\n    obj = obj || window;\n    var running = false,\n        evt     = null;\n\n    // IE does not support the CustomEvent constructor\n    // so if that fails do it the old way\n    try {\n      evt = new CustomEvent(name);\n    } catch (e) {\n      evt = document.createEvent('Event');\n      evt.initEvent(name, true, true);\n    }\n\n    var func = function () {\n      if (running) return;\n\n      running = true;\n      requestAnimationFrame(function () {\n        obj.dispatchEvent(evt);\n        running = false;\n      });\n    };\n\n    obj.addEventListener(type, func);\n  }\n};\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined')\n  module.exports = objectFitVideos;\n","/*\n     _ _      _       _\n ___| (_) ___| | __  (_)___\n/ __| | |/ __| |/ /  | / __|\n\\__ \\ | | (__|   < _ | \\__ \\\n|___/_|_|\\___|_|\\_(_)/ |___/\n                   |__/\n\n Version: 1.8.1\n  Author: Ken Wheeler\n Website: http://kenwheeler.github.io\n    Docs: http://kenwheeler.github.io/slick\n    Repo: http://github.com/kenwheeler/slick\n  Issues: http://github.com/kenwheeler/slick/issues\n\n */\n/* global window, document, define, jQuery, setInterval, clearInterval */\n;(function(factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], factory);\n    } else if (typeof exports !== 'undefined') {\n        module.exports = factory(require('jquery'));\n    } else {\n        factory(jQuery);\n    }\n\n}(function($) {\n    'use strict';\n    var Slick = window.Slick || {};\n\n    Slick = (function() {\n\n        var instanceUid = 0;\n\n        function Slick(element, settings) {\n\n            var _ = this, dataSettings;\n\n            _.defaults = {\n                accessibility: true,\n                adaptiveHeight: false,\n                appendArrows: $(element),\n                appendDots: $(element),\n                arrows: true,\n                asNavFor: null,\n                prevArrow: '<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',\n                nextArrow: '<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',\n                autoplay: false,\n                autoplaySpeed: 3000,\n                centerMode: false,\n                centerPadding: '50px',\n                cssEase: 'ease',\n                customPaging: function(slider, i) {\n                    return $('<button type=\"button\" />').text(i + 1);\n                },\n                dots: false,\n                dotsClass: 'slick-dots',\n                draggable: true,\n                easing: 'linear',\n                edgeFriction: 0.35,\n                fade: false,\n                focusOnSelect: false,\n                focusOnChange: false,\n                infinite: true,\n                initialSlide: 0,\n                lazyLoad: 'ondemand',\n                mobileFirst: false,\n                pauseOnHover: true,\n                pauseOnFocus: true,\n                pauseOnDotsHover: false,\n                respondTo: 'window',\n                responsive: null,\n                rows: 1,\n                rtl: false,\n                slide: '',\n                slidesPerRow: 1,\n                slidesToShow: 1,\n                slidesToScroll: 1,\n                speed: 500,\n                swipe: true,\n                swipeToSlide: false,\n                touchMove: true,\n                touchThreshold: 5,\n                useCSS: true,\n                useTransform: true,\n                variableWidth: false,\n                vertical: false,\n                verticalSwiping: false,\n                waitForAnimate: true,\n                zIndex: 1000\n            };\n\n            _.initials = {\n                animating: false,\n                dragging: false,\n                autoPlayTimer: null,\n                currentDirection: 0,\n                currentLeft: null,\n                currentSlide: 0,\n                direction: 1,\n                $dots: null,\n                listWidth: null,\n                listHeight: null,\n                loadIndex: 0,\n                $nextArrow: null,\n                $prevArrow: null,\n                scrolling: false,\n                slideCount: null,\n                slideWidth: null,\n                $slideTrack: null,\n                $slides: null,\n                sliding: false,\n                slideOffset: 0,\n                swipeLeft: null,\n                swiping: false,\n                $list: null,\n                touchObject: {},\n                transformsEnabled: false,\n                unslicked: false\n            };\n\n            $.extend(_, _.initials);\n\n            _.activeBreakpoint = null;\n            _.animType = null;\n            _.animProp = null;\n            _.breakpoints = [];\n            _.breakpointSettings = [];\n            _.cssTransitions = false;\n            _.focussed = false;\n            _.interrupted = false;\n            _.hidden = 'hidden';\n            _.paused = true;\n            _.positionProp = null;\n            _.respondTo = null;\n            _.rowCount = 1;\n            _.shouldClick = true;\n            _.$slider = $(element);\n            _.$slidesCache = null;\n            _.transformType = null;\n            _.transitionType = null;\n            _.visibilityChange = 'visibilitychange';\n            _.windowWidth = 0;\n            _.windowTimer = null;\n\n            dataSettings = $(element).data('slick') || {};\n\n            _.options = $.extend({}, _.defaults, settings, dataSettings);\n\n            _.currentSlide = _.options.initialSlide;\n\n            _.originalSettings = _.options;\n\n            if (typeof document.mozHidden !== 'undefined') {\n                _.hidden = 'mozHidden';\n                _.visibilityChange = 'mozvisibilitychange';\n            } else if (typeof document.webkitHidden !== 'undefined') {\n                _.hidden = 'webkitHidden';\n                _.visibilityChange = 'webkitvisibilitychange';\n            }\n\n            _.autoPlay = $.proxy(_.autoPlay, _);\n            _.autoPlayClear = $.proxy(_.autoPlayClear, _);\n            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);\n            _.changeSlide = $.proxy(_.changeSlide, _);\n            _.clickHandler = $.proxy(_.clickHandler, _);\n            _.selectHandler = $.proxy(_.selectHandler, _);\n            _.setPosition = $.proxy(_.setPosition, _);\n            _.swipeHandler = $.proxy(_.swipeHandler, _);\n            _.dragHandler = $.proxy(_.dragHandler, _);\n            _.keyHandler = $.proxy(_.keyHandler, _);\n\n            _.instanceUid = instanceUid++;\n\n            // A simple way to check for HTML strings\n            // Strict HTML recognition (must start with <)\n            // Extracted from jQuery v1.11 source\n            _.htmlExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*)$/;\n\n\n            _.registerBreakpoints();\n            _.init(true);\n\n        }\n\n        return Slick;\n\n    }());\n\n    Slick.prototype.activateADA = function() {\n        var _ = this;\n\n        _.$slideTrack.find('.slick-active').attr({\n            'aria-hidden': 'false'\n        }).find('a, input, button, select').attr({\n            'tabindex': '0'\n        });\n\n    };\n\n    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {\n\n        var _ = this;\n\n        if (typeof(index) === 'boolean') {\n            addBefore = index;\n            index = null;\n        } else if (index < 0 || (index >= _.slideCount)) {\n            return false;\n        }\n\n        _.unload();\n\n        if (typeof(index) === 'number') {\n            if (index === 0 && _.$slides.length === 0) {\n                $(markup).appendTo(_.$slideTrack);\n            } else if (addBefore) {\n                $(markup).insertBefore(_.$slides.eq(index));\n            } else {\n                $(markup).insertAfter(_.$slides.eq(index));\n            }\n        } else {\n            if (addBefore === true) {\n                $(markup).prependTo(_.$slideTrack);\n            } else {\n                $(markup).appendTo(_.$slideTrack);\n            }\n        }\n\n        _.$slides = _.$slideTrack.children(this.options.slide);\n\n        _.$slideTrack.children(this.options.slide).detach();\n\n        _.$slideTrack.append(_.$slides);\n\n        _.$slides.each(function(index, element) {\n            $(element).attr('data-slick-index', index);\n        });\n\n        _.$slidesCache = _.$slides;\n\n        _.reinit();\n\n    };\n\n    Slick.prototype.animateHeight = function() {\n        var _ = this;\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\n            _.$list.animate({\n                height: targetHeight\n            }, _.options.speed);\n        }\n    };\n\n    Slick.prototype.animateSlide = function(targetLeft, callback) {\n\n        var animProps = {},\n            _ = this;\n\n        _.animateHeight();\n\n        if (_.options.rtl === true && _.options.vertical === false) {\n            targetLeft = -targetLeft;\n        }\n        if (_.transformsEnabled === false) {\n            if (_.options.vertical === false) {\n                _.$slideTrack.animate({\n                    left: targetLeft\n                }, _.options.speed, _.options.easing, callback);\n            } else {\n                _.$slideTrack.animate({\n                    top: targetLeft\n                }, _.options.speed, _.options.easing, callback);\n            }\n\n        } else {\n\n            if (_.cssTransitions === false) {\n                if (_.options.rtl === true) {\n                    _.currentLeft = -(_.currentLeft);\n                }\n                $({\n                    animStart: _.currentLeft\n                }).animate({\n                    animStart: targetLeft\n                }, {\n                    duration: _.options.speed,\n                    easing: _.options.easing,\n                    step: function(now) {\n                        now = Math.ceil(now);\n                        if (_.options.vertical === false) {\n                            animProps[_.animType] = 'translate(' +\n                                now + 'px, 0px)';\n                            _.$slideTrack.css(animProps);\n                        } else {\n                            animProps[_.animType] = 'translate(0px,' +\n                                now + 'px)';\n                            _.$slideTrack.css(animProps);\n                        }\n                    },\n                    complete: function() {\n                        if (callback) {\n                            callback.call();\n                        }\n                    }\n                });\n\n            } else {\n\n                _.applyTransition();\n                targetLeft = Math.ceil(targetLeft);\n\n                if (_.options.vertical === false) {\n                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';\n                } else {\n                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';\n                }\n                _.$slideTrack.css(animProps);\n\n                if (callback) {\n                    setTimeout(function() {\n\n                        _.disableTransition();\n\n                        callback.call();\n                    }, _.options.speed);\n                }\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.getNavTarget = function() {\n\n        var _ = this,\n            asNavFor = _.options.asNavFor;\n\n        if ( asNavFor && asNavFor !== null ) {\n            asNavFor = $(asNavFor).not(_.$slider);\n        }\n\n        return asNavFor;\n\n    };\n\n    Slick.prototype.asNavFor = function(index) {\n\n        var _ = this,\n            asNavFor = _.getNavTarget();\n\n        if ( asNavFor !== null && typeof asNavFor === 'object' ) {\n            asNavFor.each(function() {\n                var target = $(this).slick('getSlick');\n                if(!target.unslicked) {\n                    target.slideHandler(index, true);\n                }\n            });\n        }\n\n    };\n\n    Slick.prototype.applyTransition = function(slide) {\n\n        var _ = this,\n            transition = {};\n\n        if (_.options.fade === false) {\n            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;\n        } else {\n            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;\n        }\n\n        if (_.options.fade === false) {\n            _.$slideTrack.css(transition);\n        } else {\n            _.$slides.eq(slide).css(transition);\n        }\n\n    };\n\n    Slick.prototype.autoPlay = function() {\n\n        var _ = this;\n\n        _.autoPlayClear();\n\n        if ( _.slideCount > _.options.slidesToShow ) {\n            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );\n        }\n\n    };\n\n    Slick.prototype.autoPlayClear = function() {\n\n        var _ = this;\n\n        if (_.autoPlayTimer) {\n            clearInterval(_.autoPlayTimer);\n        }\n\n    };\n\n    Slick.prototype.autoPlayIterator = function() {\n\n        var _ = this,\n            slideTo = _.currentSlide + _.options.slidesToScroll;\n\n        if ( !_.paused && !_.interrupted && !_.focussed ) {\n\n            if ( _.options.infinite === false ) {\n\n                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {\n                    _.direction = 0;\n                }\n\n                else if ( _.direction === 0 ) {\n\n                    slideTo = _.currentSlide - _.options.slidesToScroll;\n\n                    if ( _.currentSlide - 1 === 0 ) {\n                        _.direction = 1;\n                    }\n\n                }\n\n            }\n\n            _.slideHandler( slideTo );\n\n        }\n\n    };\n\n    Slick.prototype.buildArrows = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true ) {\n\n            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');\n            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');\n\n            if( _.slideCount > _.options.slidesToShow ) {\n\n                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\n                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\n\n                if (_.htmlExpr.test(_.options.prevArrow)) {\n                    _.$prevArrow.prependTo(_.options.appendArrows);\n                }\n\n                if (_.htmlExpr.test(_.options.nextArrow)) {\n                    _.$nextArrow.appendTo(_.options.appendArrows);\n                }\n\n                if (_.options.infinite !== true) {\n                    _.$prevArrow\n                        .addClass('slick-disabled')\n                        .attr('aria-disabled', 'true');\n                }\n\n            } else {\n\n                _.$prevArrow.add( _.$nextArrow )\n\n                    .addClass('slick-hidden')\n                    .attr({\n                        'aria-disabled': 'true',\n                        'tabindex': '-1'\n                    });\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.buildDots = function() {\n\n        var _ = this,\n            i, dot;\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$slider.addClass('slick-dotted');\n\n            dot = $('<ul />').addClass(_.options.dotsClass);\n\n            for (i = 0; i <= _.getDotCount(); i += 1) {\n                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));\n            }\n\n            _.$dots = dot.appendTo(_.options.appendDots);\n\n            _.$dots.find('li').first().addClass('slick-active');\n\n        }\n\n    };\n\n    Slick.prototype.buildOut = function() {\n\n        var _ = this;\n\n        _.$slides =\n            _.$slider\n                .children( _.options.slide + ':not(.slick-cloned)')\n                .addClass('slick-slide');\n\n        _.slideCount = _.$slides.length;\n\n        _.$slides.each(function(index, element) {\n            $(element)\n                .attr('data-slick-index', index)\n                .data('originalStyling', $(element).attr('style') || '');\n        });\n\n        _.$slider.addClass('slick-slider');\n\n        _.$slideTrack = (_.slideCount === 0) ?\n            $('<div class=\"slick-track\"/>').appendTo(_.$slider) :\n            _.$slides.wrapAll('<div class=\"slick-track\"/>').parent();\n\n        _.$list = _.$slideTrack.wrap(\n            '<div class=\"slick-list\"/>').parent();\n        _.$slideTrack.css('opacity', 0);\n\n        if (_.options.centerMode === true || _.options.swipeToSlide === true) {\n            _.options.slidesToScroll = 1;\n        }\n\n        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');\n\n        _.setupInfinite();\n\n        _.buildArrows();\n\n        _.buildDots();\n\n        _.updateDots();\n\n\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\n\n        if (_.options.draggable === true) {\n            _.$list.addClass('draggable');\n        }\n\n    };\n\n    Slick.prototype.buildRows = function() {\n\n        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;\n\n        newSlides = document.createDocumentFragment();\n        originalSlides = _.$slider.children();\n\n        if(_.options.rows > 0) {\n\n            slidesPerSection = _.options.slidesPerRow * _.options.rows;\n            numOfSlides = Math.ceil(\n                originalSlides.length / slidesPerSection\n            );\n\n            for(a = 0; a < numOfSlides; a++){\n                var slide = document.createElement('div');\n                for(b = 0; b < _.options.rows; b++) {\n                    var row = document.createElement('div');\n                    for(c = 0; c < _.options.slidesPerRow; c++) {\n                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));\n                        if (originalSlides.get(target)) {\n                            row.appendChild(originalSlides.get(target));\n                        }\n                    }\n                    slide.appendChild(row);\n                }\n                newSlides.appendChild(slide);\n            }\n\n            _.$slider.empty().append(newSlides);\n            _.$slider.children().children().children()\n                .css({\n                    'width':(100 / _.options.slidesPerRow) + '%',\n                    'display': 'inline-block'\n                });\n\n        }\n\n    };\n\n    Slick.prototype.checkResponsive = function(initial, forceUpdate) {\n\n        var _ = this,\n            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;\n        var sliderWidth = _.$slider.width();\n        var windowWidth = window.innerWidth || $(window).width();\n\n        if (_.respondTo === 'window') {\n            respondToWidth = windowWidth;\n        } else if (_.respondTo === 'slider') {\n            respondToWidth = sliderWidth;\n        } else if (_.respondTo === 'min') {\n            respondToWidth = Math.min(windowWidth, sliderWidth);\n        }\n\n        if ( _.options.responsive &&\n            _.options.responsive.length &&\n            _.options.responsive !== null) {\n\n            targetBreakpoint = null;\n\n            for (breakpoint in _.breakpoints) {\n                if (_.breakpoints.hasOwnProperty(breakpoint)) {\n                    if (_.originalSettings.mobileFirst === false) {\n                        if (respondToWidth < _.breakpoints[breakpoint]) {\n                            targetBreakpoint = _.breakpoints[breakpoint];\n                        }\n                    } else {\n                        if (respondToWidth > _.breakpoints[breakpoint]) {\n                            targetBreakpoint = _.breakpoints[breakpoint];\n                        }\n                    }\n                }\n            }\n\n            if (targetBreakpoint !== null) {\n                if (_.activeBreakpoint !== null) {\n                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {\n                        _.activeBreakpoint =\n                            targetBreakpoint;\n                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\n                            _.unslick(targetBreakpoint);\n                        } else {\n                            _.options = $.extend({}, _.originalSettings,\n                                _.breakpointSettings[\n                                    targetBreakpoint]);\n                            if (initial === true) {\n                                _.currentSlide = _.options.initialSlide;\n                            }\n                            _.refresh(initial);\n                        }\n                        triggerBreakpoint = targetBreakpoint;\n                    }\n                } else {\n                    _.activeBreakpoint = targetBreakpoint;\n                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\n                        _.unslick(targetBreakpoint);\n                    } else {\n                        _.options = $.extend({}, _.originalSettings,\n                            _.breakpointSettings[\n                                targetBreakpoint]);\n                        if (initial === true) {\n                            _.currentSlide = _.options.initialSlide;\n                        }\n                        _.refresh(initial);\n                    }\n                    triggerBreakpoint = targetBreakpoint;\n                }\n            } else {\n                if (_.activeBreakpoint !== null) {\n                    _.activeBreakpoint = null;\n                    _.options = _.originalSettings;\n                    if (initial === true) {\n                        _.currentSlide = _.options.initialSlide;\n                    }\n                    _.refresh(initial);\n                    triggerBreakpoint = targetBreakpoint;\n                }\n            }\n\n            // only trigger breakpoints during an actual break. not on initialize.\n            if( !initial && triggerBreakpoint !== false ) {\n                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);\n            }\n        }\n\n    };\n\n    Slick.prototype.changeSlide = function(event, dontAnimate) {\n\n        var _ = this,\n            $target = $(event.currentTarget),\n            indexOffset, slideOffset, unevenOffset;\n\n        // If target is a link, prevent default action.\n        if($target.is('a')) {\n            event.preventDefault();\n        }\n\n        // If target is not the <li> element (ie: a child), find the <li>.\n        if(!$target.is('li')) {\n            $target = $target.closest('li');\n        }\n\n        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);\n        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;\n\n        switch (event.data.message) {\n\n            case 'previous':\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;\n                if (_.slideCount > _.options.slidesToShow) {\n                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);\n                }\n                break;\n\n            case 'next':\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;\n                if (_.slideCount > _.options.slidesToShow) {\n                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);\n                }\n                break;\n\n            case 'index':\n                var index = event.data.index === 0 ? 0 :\n                    event.data.index || $target.index() * _.options.slidesToScroll;\n\n                _.slideHandler(_.checkNavigable(index), false, dontAnimate);\n                $target.children().trigger('focus');\n                break;\n\n            default:\n                return;\n        }\n\n    };\n\n    Slick.prototype.checkNavigable = function(index) {\n\n        var _ = this,\n            navigables, prevNavigable;\n\n        navigables = _.getNavigableIndexes();\n        prevNavigable = 0;\n        if (index > navigables[navigables.length - 1]) {\n            index = navigables[navigables.length - 1];\n        } else {\n            for (var n in navigables) {\n                if (index < navigables[n]) {\n                    index = prevNavigable;\n                    break;\n                }\n                prevNavigable = navigables[n];\n            }\n        }\n\n        return index;\n    };\n\n    Slick.prototype.cleanUpEvents = function() {\n\n        var _ = this;\n\n        if (_.options.dots && _.$dots !== null) {\n\n            $('li', _.$dots)\n                .off('click.slick', _.changeSlide)\n                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))\n                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n            if (_.options.accessibility === true) {\n                _.$dots.off('keydown.slick', _.keyHandler);\n            }\n        }\n\n        _.$slider.off('focus.slick blur.slick');\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);\n            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);\n\n            if (_.options.accessibility === true) {\n                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);\n                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);\n            }\n        }\n\n        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);\n        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);\n        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);\n        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);\n\n        _.$list.off('click.slick', _.clickHandler);\n\n        $(document).off(_.visibilityChange, _.visibility);\n\n        _.cleanUpSlideEvents();\n\n        if (_.options.accessibility === true) {\n            _.$list.off('keydown.slick', _.keyHandler);\n        }\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().off('click.slick', _.selectHandler);\n        }\n\n        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);\n\n        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);\n\n        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);\n\n        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);\n\n    };\n\n    Slick.prototype.cleanUpSlideEvents = function() {\n\n        var _ = this;\n\n        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));\n        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n    };\n\n    Slick.prototype.cleanUpRows = function() {\n\n        var _ = this, originalSlides;\n\n        if(_.options.rows > 0) {\n            originalSlides = _.$slides.children().children();\n            originalSlides.removeAttr('style');\n            _.$slider.empty().append(originalSlides);\n        }\n\n    };\n\n    Slick.prototype.clickHandler = function(event) {\n\n        var _ = this;\n\n        if (_.shouldClick === false) {\n            event.stopImmediatePropagation();\n            event.stopPropagation();\n            event.preventDefault();\n        }\n\n    };\n\n    Slick.prototype.destroy = function(refresh) {\n\n        var _ = this;\n\n        _.autoPlayClear();\n\n        _.touchObject = {};\n\n        _.cleanUpEvents();\n\n        $('.slick-cloned', _.$slider).detach();\n\n        if (_.$dots) {\n            _.$dots.remove();\n        }\n\n        if ( _.$prevArrow && _.$prevArrow.length ) {\n\n            _.$prevArrow\n                .removeClass('slick-disabled slick-arrow slick-hidden')\n                .removeAttr('aria-hidden aria-disabled tabindex')\n                .css('display','');\n\n            if ( _.htmlExpr.test( _.options.prevArrow )) {\n                _.$prevArrow.remove();\n            }\n        }\n\n        if ( _.$nextArrow && _.$nextArrow.length ) {\n\n            _.$nextArrow\n                .removeClass('slick-disabled slick-arrow slick-hidden')\n                .removeAttr('aria-hidden aria-disabled tabindex')\n                .css('display','');\n\n            if ( _.htmlExpr.test( _.options.nextArrow )) {\n                _.$nextArrow.remove();\n            }\n        }\n\n\n        if (_.$slides) {\n\n            _.$slides\n                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')\n                .removeAttr('aria-hidden')\n                .removeAttr('data-slick-index')\n                .each(function(){\n                    $(this).attr('style', $(this).data('originalStyling'));\n                });\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slideTrack.detach();\n\n            _.$list.detach();\n\n            _.$slider.append(_.$slides);\n        }\n\n        _.cleanUpRows();\n\n        _.$slider.removeClass('slick-slider');\n        _.$slider.removeClass('slick-initialized');\n        _.$slider.removeClass('slick-dotted');\n\n        _.unslicked = true;\n\n        if(!refresh) {\n            _.$slider.trigger('destroy', [_]);\n        }\n\n    };\n\n    Slick.prototype.disableTransition = function(slide) {\n\n        var _ = this,\n            transition = {};\n\n        transition[_.transitionType] = '';\n\n        if (_.options.fade === false) {\n            _.$slideTrack.css(transition);\n        } else {\n            _.$slides.eq(slide).css(transition);\n        }\n\n    };\n\n    Slick.prototype.fadeSlide = function(slideIndex, callback) {\n\n        var _ = this;\n\n        if (_.cssTransitions === false) {\n\n            _.$slides.eq(slideIndex).css({\n                zIndex: _.options.zIndex\n            });\n\n            _.$slides.eq(slideIndex).animate({\n                opacity: 1\n            }, _.options.speed, _.options.easing, callback);\n\n        } else {\n\n            _.applyTransition(slideIndex);\n\n            _.$slides.eq(slideIndex).css({\n                opacity: 1,\n                zIndex: _.options.zIndex\n            });\n\n            if (callback) {\n                setTimeout(function() {\n\n                    _.disableTransition(slideIndex);\n\n                    callback.call();\n                }, _.options.speed);\n            }\n\n        }\n\n    };\n\n    Slick.prototype.fadeSlideOut = function(slideIndex) {\n\n        var _ = this;\n\n        if (_.cssTransitions === false) {\n\n            _.$slides.eq(slideIndex).animate({\n                opacity: 0,\n                zIndex: _.options.zIndex - 2\n            }, _.options.speed, _.options.easing);\n\n        } else {\n\n            _.applyTransition(slideIndex);\n\n            _.$slides.eq(slideIndex).css({\n                opacity: 0,\n                zIndex: _.options.zIndex - 2\n            });\n\n        }\n\n    };\n\n    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {\n\n        var _ = this;\n\n        if (filter !== null) {\n\n            _.$slidesCache = _.$slides;\n\n            _.unload();\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);\n\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.focusHandler = function() {\n\n        var _ = this;\n\n        _.$slider\n            .off('focus.slick blur.slick')\n            .on('focus.slick blur.slick', '*', function(event) {\n\n            event.stopImmediatePropagation();\n            var $sf = $(this);\n\n            setTimeout(function() {\n\n                if( _.options.pauseOnFocus ) {\n                    _.focussed = $sf.is(':focus');\n                    _.autoPlay();\n                }\n\n            }, 0);\n\n        });\n    };\n\n    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {\n\n        var _ = this;\n        return _.currentSlide;\n\n    };\n\n    Slick.prototype.getDotCount = function() {\n\n        var _ = this;\n\n        var breakPoint = 0;\n        var counter = 0;\n        var pagerQty = 0;\n\n        if (_.options.infinite === true) {\n            if (_.slideCount <= _.options.slidesToShow) {\n                 ++pagerQty;\n            } else {\n                while (breakPoint < _.slideCount) {\n                    ++pagerQty;\n                    breakPoint = counter + _.options.slidesToScroll;\n                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n                }\n            }\n        } else if (_.options.centerMode === true) {\n            pagerQty = _.slideCount;\n        } else if(!_.options.asNavFor) {\n            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);\n        }else {\n            while (breakPoint < _.slideCount) {\n                ++pagerQty;\n                breakPoint = counter + _.options.slidesToScroll;\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n            }\n        }\n\n        return pagerQty - 1;\n\n    };\n\n    Slick.prototype.getLeft = function(slideIndex) {\n\n        var _ = this,\n            targetLeft,\n            verticalHeight,\n            verticalOffset = 0,\n            targetSlide,\n            coef;\n\n        _.slideOffset = 0;\n        verticalHeight = _.$slides.first().outerHeight(true);\n\n        if (_.options.infinite === true) {\n            if (_.slideCount > _.options.slidesToShow) {\n                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;\n                coef = -1\n\n                if (_.options.vertical === true && _.options.centerMode === true) {\n                    if (_.options.slidesToShow === 2) {\n                        coef = -1.5;\n                    } else if (_.options.slidesToShow === 1) {\n                        coef = -2\n                    }\n                }\n                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;\n            }\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {\n                    if (slideIndex > _.slideCount) {\n                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;\n                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;\n                    } else {\n                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;\n                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;\n                    }\n                }\n            }\n        } else {\n            if (slideIndex + _.options.slidesToShow > _.slideCount) {\n                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;\n                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;\n            }\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            _.slideOffset = 0;\n            verticalOffset = 0;\n        }\n\n        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {\n            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);\n        } else if (_.options.centerMode === true && _.options.infinite === true) {\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;\n        } else if (_.options.centerMode === true) {\n            _.slideOffset = 0;\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);\n        }\n\n        if (_.options.vertical === false) {\n            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;\n        } else {\n            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;\n        }\n\n        if (_.options.variableWidth === true) {\n\n            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\n            } else {\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);\n            }\n\n            if (_.options.rtl === true) {\n                if (targetSlide[0]) {\n                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\n                } else {\n                    targetLeft =  0;\n                }\n            } else {\n                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\n            }\n\n            if (_.options.centerMode === true) {\n                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\n                } else {\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);\n                }\n\n                if (_.options.rtl === true) {\n                    if (targetSlide[0]) {\n                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\n                    } else {\n                        targetLeft =  0;\n                    }\n                } else {\n                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\n                }\n\n                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;\n            }\n        }\n\n        return targetLeft;\n\n    };\n\n    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {\n\n        var _ = this;\n\n        return _.options[option];\n\n    };\n\n    Slick.prototype.getNavigableIndexes = function() {\n\n        var _ = this,\n            breakPoint = 0,\n            counter = 0,\n            indexes = [],\n            max;\n\n        if (_.options.infinite === false) {\n            max = _.slideCount;\n        } else {\n            breakPoint = _.options.slidesToScroll * -1;\n            counter = _.options.slidesToScroll * -1;\n            max = _.slideCount * 2;\n        }\n\n        while (breakPoint < max) {\n            indexes.push(breakPoint);\n            breakPoint = counter + _.options.slidesToScroll;\n            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n        }\n\n        return indexes;\n\n    };\n\n    Slick.prototype.getSlick = function() {\n\n        return this;\n\n    };\n\n    Slick.prototype.getSlideCount = function() {\n\n        var _ = this,\n            slidesTraversed, swipedSlide, centerOffset;\n\n        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;\n\n        if (_.options.swipeToSlide === true) {\n            _.$slideTrack.find('.slick-slide').each(function(index, slide) {\n                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {\n                    swipedSlide = slide;\n                    return false;\n                }\n            });\n\n            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;\n\n            return slidesTraversed;\n\n        } else {\n            return _.options.slidesToScroll;\n        }\n\n    };\n\n    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'index',\n                index: parseInt(slide)\n            }\n        }, dontAnimate);\n\n    };\n\n    Slick.prototype.init = function(creation) {\n\n        var _ = this;\n\n        if (!$(_.$slider).hasClass('slick-initialized')) {\n\n            $(_.$slider).addClass('slick-initialized');\n\n            _.buildRows();\n            _.buildOut();\n            _.setProps();\n            _.startLoad();\n            _.loadSlider();\n            _.initializeEvents();\n            _.updateArrows();\n            _.updateDots();\n            _.checkResponsive(true);\n            _.focusHandler();\n\n        }\n\n        if (creation) {\n            _.$slider.trigger('init', [_]);\n        }\n\n        if (_.options.accessibility === true) {\n            _.initADA();\n        }\n\n        if ( _.options.autoplay ) {\n\n            _.paused = false;\n            _.autoPlay();\n\n        }\n\n    };\n\n    Slick.prototype.initADA = function() {\n        var _ = this,\n                numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),\n                tabControlIndexes = _.getNavigableIndexes().filter(function(val) {\n                    return (val >= 0) && (val < _.slideCount);\n                });\n\n        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n        }).find('a, input, button, select').attr({\n            'tabindex': '-1'\n        });\n\n        if (_.$dots !== null) {\n            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {\n                var slideControlIndex = tabControlIndexes.indexOf(i);\n\n                $(this).attr({\n                    'role': 'tabpanel',\n                    'id': 'slick-slide' + _.instanceUid + i,\n                    'tabindex': -1\n                });\n\n                if (slideControlIndex !== -1) {\n                   var ariaButtonControl = 'slick-slide-control' + _.instanceUid + slideControlIndex\n                   if ($('#' + ariaButtonControl).length) {\n                     $(this).attr({\n                         'aria-describedby': ariaButtonControl\n                     });\n                   }\n                }\n            });\n\n            _.$dots.attr('role', 'tablist').find('li').each(function(i) {\n                var mappedSlideIndex = tabControlIndexes[i];\n\n                $(this).attr({\n                    'role': 'presentation'\n                });\n\n                $(this).find('button').first().attr({\n                    'role': 'tab',\n                    'id': 'slick-slide-control' + _.instanceUid + i,\n                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,\n                    'aria-label': (i + 1) + ' of ' + numDotGroups,\n                    'aria-selected': null,\n                    'tabindex': '-1'\n                });\n\n            }).eq(_.currentSlide).find('button').attr({\n                'aria-selected': 'true',\n                'tabindex': '0'\n            }).end();\n        }\n\n        for (var i=_.currentSlide, max=i+_.options.slidesToShow; i < max; i++) {\n          if (_.options.focusOnChange) {\n            _.$slides.eq(i).attr({'tabindex': '0'});\n          } else {\n            _.$slides.eq(i).removeAttr('tabindex');\n          }\n        }\n\n        _.activateADA();\n\n    };\n\n    Slick.prototype.initArrowEvents = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n            _.$prevArrow\n               .off('click.slick')\n               .on('click.slick', {\n                    message: 'previous'\n               }, _.changeSlide);\n            _.$nextArrow\n               .off('click.slick')\n               .on('click.slick', {\n                    message: 'next'\n               }, _.changeSlide);\n\n            if (_.options.accessibility === true) {\n                _.$prevArrow.on('keydown.slick', _.keyHandler);\n                _.$nextArrow.on('keydown.slick', _.keyHandler);\n            }\n        }\n\n    };\n\n    Slick.prototype.initDotEvents = function() {\n\n        var _ = this;\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n            $('li', _.$dots).on('click.slick', {\n                message: 'index'\n            }, _.changeSlide);\n\n            if (_.options.accessibility === true) {\n                _.$dots.on('keydown.slick', _.keyHandler);\n            }\n        }\n\n        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.slideCount > _.options.slidesToShow) {\n\n            $('li', _.$dots)\n                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))\n                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n    };\n\n    Slick.prototype.initSlideEvents = function() {\n\n        var _ = this;\n\n        if ( _.options.pauseOnHover ) {\n\n            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));\n            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n    };\n\n    Slick.prototype.initializeEvents = function() {\n\n        var _ = this;\n\n        _.initArrowEvents();\n\n        _.initDotEvents();\n        _.initSlideEvents();\n\n        _.$list.on('touchstart.slick mousedown.slick', {\n            action: 'start'\n        }, _.swipeHandler);\n        _.$list.on('touchmove.slick mousemove.slick', {\n            action: 'move'\n        }, _.swipeHandler);\n        _.$list.on('touchend.slick mouseup.slick', {\n            action: 'end'\n        }, _.swipeHandler);\n        _.$list.on('touchcancel.slick mouseleave.slick', {\n            action: 'end'\n        }, _.swipeHandler);\n\n        _.$list.on('click.slick', _.clickHandler);\n\n        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));\n\n        if (_.options.accessibility === true) {\n            _.$list.on('keydown.slick', _.keyHandler);\n        }\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\n        }\n\n        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));\n\n        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));\n\n        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);\n\n        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);\n        $(_.setPosition);\n\n    };\n\n    Slick.prototype.initUI = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$prevArrow.show();\n            _.$nextArrow.show();\n\n        }\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$dots.show();\n\n        }\n\n    };\n\n    Slick.prototype.keyHandler = function(event) {\n\n        var _ = this;\n         //Dont slide if the cursor is inside the form fields and arrow keys are pressed\n        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {\n            if (event.keyCode === 37 && _.options.accessibility === true) {\n                _.changeSlide({\n                    data: {\n                        message: _.options.rtl === true ? 'next' :  'previous'\n                    }\n                });\n            } else if (event.keyCode === 39 && _.options.accessibility === true) {\n                _.changeSlide({\n                    data: {\n                        message: _.options.rtl === true ? 'previous' : 'next'\n                    }\n                });\n            }\n        }\n\n    };\n\n    Slick.prototype.lazyLoad = function() {\n\n        var _ = this,\n            loadRange, cloneRange, rangeStart, rangeEnd;\n\n        function loadImages(imagesScope) {\n\n            $('img[data-lazy]', imagesScope).each(function() {\n\n                var image = $(this),\n                    imageSource = $(this).attr('data-lazy'),\n                    imageSrcSet = $(this).attr('data-srcset'),\n                    imageSizes  = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),\n                    imageToLoad = document.createElement('img');\n\n                imageToLoad.onload = function() {\n\n                    image\n                        .animate({ opacity: 0 }, 100, function() {\n\n                            if (imageSrcSet) {\n                                image\n                                    .attr('srcset', imageSrcSet );\n\n                                if (imageSizes) {\n                                    image\n                                        .attr('sizes', imageSizes );\n                                }\n                            }\n\n                            image\n                                .attr('src', imageSource)\n                                .animate({ opacity: 1 }, 200, function() {\n                                    image\n                                        .removeAttr('data-lazy data-srcset data-sizes')\n                                        .removeClass('slick-loading');\n                                });\n                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);\n                        });\n\n                };\n\n                imageToLoad.onerror = function() {\n\n                    image\n                        .removeAttr( 'data-lazy' )\n                        .removeClass( 'slick-loading' )\n                        .addClass( 'slick-lazyload-error' );\n\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\n\n                };\n\n                imageToLoad.src = imageSource;\n\n            });\n\n        }\n\n        if (_.options.centerMode === true) {\n            if (_.options.infinite === true) {\n                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);\n                rangeEnd = rangeStart + _.options.slidesToShow + 2;\n            } else {\n                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));\n                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;\n            }\n        } else {\n            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;\n            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);\n            if (_.options.fade === true) {\n                if (rangeStart > 0) rangeStart--;\n                if (rangeEnd <= _.slideCount) rangeEnd++;\n            }\n        }\n\n        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);\n\n        if (_.options.lazyLoad === 'anticipated') {\n            var prevSlide = rangeStart - 1,\n                nextSlide = rangeEnd,\n                $slides = _.$slider.find('.slick-slide');\n\n            for (var i = 0; i < _.options.slidesToScroll; i++) {\n                if (prevSlide < 0) prevSlide = _.slideCount - 1;\n                loadRange = loadRange.add($slides.eq(prevSlide));\n                loadRange = loadRange.add($slides.eq(nextSlide));\n                prevSlide--;\n                nextSlide++;\n            }\n        }\n\n        loadImages(loadRange);\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            cloneRange = _.$slider.find('.slick-slide');\n            loadImages(cloneRange);\n        } else\n        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {\n            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);\n            loadImages(cloneRange);\n        } else if (_.currentSlide === 0) {\n            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);\n            loadImages(cloneRange);\n        }\n\n    };\n\n    Slick.prototype.loadSlider = function() {\n\n        var _ = this;\n\n        _.setPosition();\n\n        _.$slideTrack.css({\n            opacity: 1\n        });\n\n        _.$slider.removeClass('slick-loading');\n\n        _.initUI();\n\n        if (_.options.lazyLoad === 'progressive') {\n            _.progressiveLazyLoad();\n        }\n\n    };\n\n    Slick.prototype.next = Slick.prototype.slickNext = function() {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'next'\n            }\n        });\n\n    };\n\n    Slick.prototype.orientationChange = function() {\n\n        var _ = this;\n\n        _.checkResponsive();\n        _.setPosition();\n\n    };\n\n    Slick.prototype.pause = Slick.prototype.slickPause = function() {\n\n        var _ = this;\n\n        _.autoPlayClear();\n        _.paused = true;\n\n    };\n\n    Slick.prototype.play = Slick.prototype.slickPlay = function() {\n\n        var _ = this;\n\n        _.autoPlay();\n        _.options.autoplay = true;\n        _.paused = false;\n        _.focussed = false;\n        _.interrupted = false;\n\n    };\n\n    Slick.prototype.postSlide = function(index) {\n\n        var _ = this;\n\n        if( !_.unslicked ) {\n\n            _.$slider.trigger('afterChange', [_, index]);\n\n            _.animating = false;\n\n            if (_.slideCount > _.options.slidesToShow) {\n                _.setPosition();\n            }\n\n            _.swipeLeft = null;\n\n            if ( _.options.autoplay ) {\n                _.autoPlay();\n            }\n\n            if (_.options.accessibility === true) {\n                _.initADA();\n\n                if (_.options.focusOnChange) {\n                    var $currentSlide = $(_.$slides.get(_.currentSlide));\n                    $currentSlide.attr('tabindex', 0).focus();\n                }\n            }\n\n        }\n\n    };\n\n    Slick.prototype.prev = Slick.prototype.slickPrev = function() {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'previous'\n            }\n        });\n\n    };\n\n    Slick.prototype.preventDefault = function(event) {\n\n        event.preventDefault();\n\n    };\n\n    Slick.prototype.progressiveLazyLoad = function( tryCount ) {\n\n        tryCount = tryCount || 1;\n\n        var _ = this,\n            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),\n            image,\n            imageSource,\n            imageSrcSet,\n            imageSizes,\n            imageToLoad;\n\n        if ( $imgsToLoad.length ) {\n\n            image = $imgsToLoad.first();\n            imageSource = image.attr('data-lazy');\n            imageSrcSet = image.attr('data-srcset');\n            imageSizes  = image.attr('data-sizes') || _.$slider.attr('data-sizes');\n            imageToLoad = document.createElement('img');\n\n            imageToLoad.onload = function() {\n\n                if (imageSrcSet) {\n                    image\n                        .attr('srcset', imageSrcSet );\n\n                    if (imageSizes) {\n                        image\n                            .attr('sizes', imageSizes );\n                    }\n                }\n\n                image\n                    .attr( 'src', imageSource )\n                    .removeAttr('data-lazy data-srcset data-sizes')\n                    .removeClass('slick-loading');\n\n                if ( _.options.adaptiveHeight === true ) {\n                    _.setPosition();\n                }\n\n                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);\n                _.progressiveLazyLoad();\n\n            };\n\n            imageToLoad.onerror = function() {\n\n                if ( tryCount < 3 ) {\n\n                    /**\n                     * try to load the image 3 times,\n                     * leave a slight delay so we don't get\n                     * servers blocking the request.\n                     */\n                    setTimeout( function() {\n                        _.progressiveLazyLoad( tryCount + 1 );\n                    }, 500 );\n\n                } else {\n\n                    image\n                        .removeAttr( 'data-lazy' )\n                        .removeClass( 'slick-loading' )\n                        .addClass( 'slick-lazyload-error' );\n\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\n\n                    _.progressiveLazyLoad();\n\n                }\n\n            };\n\n            imageToLoad.src = imageSource;\n\n        } else {\n\n            _.$slider.trigger('allImagesLoaded', [ _ ]);\n\n        }\n\n    };\n\n    Slick.prototype.refresh = function( initializing ) {\n\n        var _ = this, currentSlide, lastVisibleIndex;\n\n        lastVisibleIndex = _.slideCount - _.options.slidesToShow;\n\n        // in non-infinite sliders, we don't want to go past the\n        // last visible index.\n        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {\n            _.currentSlide = lastVisibleIndex;\n        }\n\n        // if less slides than to show, go to start.\n        if ( _.slideCount <= _.options.slidesToShow ) {\n            _.currentSlide = 0;\n\n        }\n\n        currentSlide = _.currentSlide;\n\n        _.destroy(true);\n\n        $.extend(_, _.initials, { currentSlide: currentSlide });\n\n        _.init();\n\n        if( !initializing ) {\n\n            _.changeSlide({\n                data: {\n                    message: 'index',\n                    index: currentSlide\n                }\n            }, false);\n\n        }\n\n    };\n\n    Slick.prototype.registerBreakpoints = function() {\n\n        var _ = this, breakpoint, currentBreakpoint, l,\n            responsiveSettings = _.options.responsive || null;\n\n        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {\n\n            _.respondTo = _.options.respondTo || 'window';\n\n            for ( breakpoint in responsiveSettings ) {\n\n                l = _.breakpoints.length-1;\n\n                if (responsiveSettings.hasOwnProperty(breakpoint)) {\n                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;\n\n                    // loop through the breakpoints and cut out any existing\n                    // ones with the same breakpoint number, we don't want dupes.\n                    while( l >= 0 ) {\n                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {\n                            _.breakpoints.splice(l,1);\n                        }\n                        l--;\n                    }\n\n                    _.breakpoints.push(currentBreakpoint);\n                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;\n\n                }\n\n            }\n\n            _.breakpoints.sort(function(a, b) {\n                return ( _.options.mobileFirst ) ? a-b : b-a;\n            });\n\n        }\n\n    };\n\n    Slick.prototype.reinit = function() {\n\n        var _ = this;\n\n        _.$slides =\n            _.$slideTrack\n                .children(_.options.slide)\n                .addClass('slick-slide');\n\n        _.slideCount = _.$slides.length;\n\n        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {\n            _.currentSlide = _.currentSlide - _.options.slidesToScroll;\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            _.currentSlide = 0;\n        }\n\n        _.registerBreakpoints();\n\n        _.setProps();\n        _.setupInfinite();\n        _.buildArrows();\n        _.updateArrows();\n        _.initArrowEvents();\n        _.buildDots();\n        _.updateDots();\n        _.initDotEvents();\n        _.cleanUpSlideEvents();\n        _.initSlideEvents();\n\n        _.checkResponsive(false, true);\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\n        }\n\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\n\n        _.setPosition();\n        _.focusHandler();\n\n        _.paused = !_.options.autoplay;\n        _.autoPlay();\n\n        _.$slider.trigger('reInit', [_]);\n\n    };\n\n    Slick.prototype.resize = function() {\n\n        var _ = this;\n\n        if ($(window).width() !== _.windowWidth) {\n            clearTimeout(_.windowDelay);\n            _.windowDelay = window.setTimeout(function() {\n                _.windowWidth = $(window).width();\n                _.checkResponsive();\n                if( !_.unslicked ) { _.setPosition(); }\n            }, 50);\n        }\n    };\n\n    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {\n\n        var _ = this;\n\n        if (typeof(index) === 'boolean') {\n            removeBefore = index;\n            index = removeBefore === true ? 0 : _.slideCount - 1;\n        } else {\n            index = removeBefore === true ? --index : index;\n        }\n\n        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {\n            return false;\n        }\n\n        _.unload();\n\n        if (removeAll === true) {\n            _.$slideTrack.children().remove();\n        } else {\n            _.$slideTrack.children(this.options.slide).eq(index).remove();\n        }\n\n        _.$slides = _.$slideTrack.children(this.options.slide);\n\n        _.$slideTrack.children(this.options.slide).detach();\n\n        _.$slideTrack.append(_.$slides);\n\n        _.$slidesCache = _.$slides;\n\n        _.reinit();\n\n    };\n\n    Slick.prototype.setCSS = function(position) {\n\n        var _ = this,\n            positionProps = {},\n            x, y;\n\n        if (_.options.rtl === true) {\n            position = -position;\n        }\n        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';\n        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';\n\n        positionProps[_.positionProp] = position;\n\n        if (_.transformsEnabled === false) {\n            _.$slideTrack.css(positionProps);\n        } else {\n            positionProps = {};\n            if (_.cssTransitions === false) {\n                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';\n                _.$slideTrack.css(positionProps);\n            } else {\n                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';\n                _.$slideTrack.css(positionProps);\n            }\n        }\n\n    };\n\n    Slick.prototype.setDimensions = function() {\n\n        var _ = this;\n\n        if (_.options.vertical === false) {\n            if (_.options.centerMode === true) {\n                _.$list.css({\n                    padding: ('0px ' + _.options.centerPadding)\n                });\n            }\n        } else {\n            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);\n            if (_.options.centerMode === true) {\n                _.$list.css({\n                    padding: (_.options.centerPadding + ' 0px')\n                });\n            }\n        }\n\n        _.listWidth = _.$list.width();\n        _.listHeight = _.$list.height();\n\n\n        if (_.options.vertical === false && _.options.variableWidth === false) {\n            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);\n            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));\n\n        } else if (_.options.variableWidth === true) {\n            _.$slideTrack.width(5000 * _.slideCount);\n        } else {\n            _.slideWidth = Math.ceil(_.listWidth);\n            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));\n        }\n\n        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();\n        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);\n\n    };\n\n    Slick.prototype.setFade = function() {\n\n        var _ = this,\n            targetLeft;\n\n        _.$slides.each(function(index, element) {\n            targetLeft = (_.slideWidth * index) * -1;\n            if (_.options.rtl === true) {\n                $(element).css({\n                    position: 'relative',\n                    right: targetLeft,\n                    top: 0,\n                    zIndex: _.options.zIndex - 2,\n                    opacity: 0\n                });\n            } else {\n                $(element).css({\n                    position: 'relative',\n                    left: targetLeft,\n                    top: 0,\n                    zIndex: _.options.zIndex - 2,\n                    opacity: 0\n                });\n            }\n        });\n\n        _.$slides.eq(_.currentSlide).css({\n            zIndex: _.options.zIndex - 1,\n            opacity: 1\n        });\n\n    };\n\n    Slick.prototype.setHeight = function() {\n\n        var _ = this;\n\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\n            _.$list.css('height', targetHeight);\n        }\n\n    };\n\n    Slick.prototype.setOption =\n    Slick.prototype.slickSetOption = function() {\n\n        /**\n         * accepts arguments in format of:\n         *\n         *  - for changing a single option's value:\n         *     .slick(\"setOption\", option, value, refresh )\n         *\n         *  - for changing a set of responsive options:\n         *     .slick(\"setOption\", 'responsive', [{}, ...], refresh )\n         *\n         *  - for updating multiple values at once (not responsive)\n         *     .slick(\"setOption\", { 'option': value, ... }, refresh )\n         */\n\n        var _ = this, l, item, option, value, refresh = false, type;\n\n        if( $.type( arguments[0] ) === 'object' ) {\n\n            option =  arguments[0];\n            refresh = arguments[1];\n            type = 'multiple';\n\n        } else if ( $.type( arguments[0] ) === 'string' ) {\n\n            option =  arguments[0];\n            value = arguments[1];\n            refresh = arguments[2];\n\n            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {\n\n                type = 'responsive';\n\n            } else if ( typeof arguments[1] !== 'undefined' ) {\n\n                type = 'single';\n\n            }\n\n        }\n\n        if ( type === 'single' ) {\n\n            _.options[option] = value;\n\n\n        } else if ( type === 'multiple' ) {\n\n            $.each( option , function( opt, val ) {\n\n                _.options[opt] = val;\n\n            });\n\n\n        } else if ( type === 'responsive' ) {\n\n            for ( item in value ) {\n\n                if( $.type( _.options.responsive ) !== 'array' ) {\n\n                    _.options.responsive = [ value[item] ];\n\n                } else {\n\n                    l = _.options.responsive.length-1;\n\n                    // loop through the responsive object and splice out duplicates.\n                    while( l >= 0 ) {\n\n                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {\n\n                            _.options.responsive.splice(l,1);\n\n                        }\n\n                        l--;\n\n                    }\n\n                    _.options.responsive.push( value[item] );\n\n                }\n\n            }\n\n        }\n\n        if ( refresh ) {\n\n            _.unload();\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.setPosition = function() {\n\n        var _ = this;\n\n        _.setDimensions();\n\n        _.setHeight();\n\n        if (_.options.fade === false) {\n            _.setCSS(_.getLeft(_.currentSlide));\n        } else {\n            _.setFade();\n        }\n\n        _.$slider.trigger('setPosition', [_]);\n\n    };\n\n    Slick.prototype.setProps = function() {\n\n        var _ = this,\n            bodyStyle = document.body.style;\n\n        _.positionProp = _.options.vertical === true ? 'top' : 'left';\n\n        if (_.positionProp === 'top') {\n            _.$slider.addClass('slick-vertical');\n        } else {\n            _.$slider.removeClass('slick-vertical');\n        }\n\n        if (bodyStyle.WebkitTransition !== undefined ||\n            bodyStyle.MozTransition !== undefined ||\n            bodyStyle.msTransition !== undefined) {\n            if (_.options.useCSS === true) {\n                _.cssTransitions = true;\n            }\n        }\n\n        if ( _.options.fade ) {\n            if ( typeof _.options.zIndex === 'number' ) {\n                if( _.options.zIndex < 3 ) {\n                    _.options.zIndex = 3;\n                }\n            } else {\n                _.options.zIndex = _.defaults.zIndex;\n            }\n        }\n\n        if (bodyStyle.OTransform !== undefined) {\n            _.animType = 'OTransform';\n            _.transformType = '-o-transform';\n            _.transitionType = 'OTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.MozTransform !== undefined) {\n            _.animType = 'MozTransform';\n            _.transformType = '-moz-transform';\n            _.transitionType = 'MozTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.webkitTransform !== undefined) {\n            _.animType = 'webkitTransform';\n            _.transformType = '-webkit-transform';\n            _.transitionType = 'webkitTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.msTransform !== undefined) {\n            _.animType = 'msTransform';\n            _.transformType = '-ms-transform';\n            _.transitionType = 'msTransition';\n            if (bodyStyle.msTransform === undefined) _.animType = false;\n        }\n        if (bodyStyle.transform !== undefined && _.animType !== false) {\n            _.animType = 'transform';\n            _.transformType = 'transform';\n            _.transitionType = 'transition';\n        }\n        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);\n    };\n\n\n    Slick.prototype.setSlideClasses = function(index) {\n\n        var _ = this,\n            centerOffset, allSlides, indexOffset, remainder;\n\n        allSlides = _.$slider\n            .find('.slick-slide')\n            .removeClass('slick-active slick-center slick-current')\n            .attr('aria-hidden', 'true');\n\n        _.$slides\n            .eq(index)\n            .addClass('slick-current');\n\n        if (_.options.centerMode === true) {\n\n            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;\n\n            centerOffset = Math.floor(_.options.slidesToShow / 2);\n\n            if (_.options.infinite === true) {\n\n                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {\n                    _.$slides\n                        .slice(index - centerOffset + evenCoef, index + centerOffset + 1)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                } else {\n\n                    indexOffset = _.options.slidesToShow + index;\n                    allSlides\n                        .slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                }\n\n                if (index === 0) {\n\n                    allSlides\n                        .eq(allSlides.length - 1 - _.options.slidesToShow)\n                        .addClass('slick-center');\n\n                } else if (index === _.slideCount - 1) {\n\n                    allSlides\n                        .eq(_.options.slidesToShow)\n                        .addClass('slick-center');\n\n                }\n\n            }\n\n            _.$slides\n                .eq(index)\n                .addClass('slick-center');\n\n        } else {\n\n            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {\n\n                _.$slides\n                    .slice(index, index + _.options.slidesToShow)\n                    .addClass('slick-active')\n                    .attr('aria-hidden', 'false');\n\n            } else if (allSlides.length <= _.options.slidesToShow) {\n\n                allSlides\n                    .addClass('slick-active')\n                    .attr('aria-hidden', 'false');\n\n            } else {\n\n                remainder = _.slideCount % _.options.slidesToShow;\n                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;\n\n                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {\n\n                    allSlides\n                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                } else {\n\n                    allSlides\n                        .slice(indexOffset, indexOffset + _.options.slidesToShow)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                }\n\n            }\n\n        }\n\n        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {\n            _.lazyLoad();\n        }\n    };\n\n    Slick.prototype.setupInfinite = function() {\n\n        var _ = this,\n            i, slideIndex, infiniteCount;\n\n        if (_.options.fade === true) {\n            _.options.centerMode = false;\n        }\n\n        if (_.options.infinite === true && _.options.fade === false) {\n\n            slideIndex = null;\n\n            if (_.slideCount > _.options.slidesToShow) {\n\n                if (_.options.centerMode === true) {\n                    infiniteCount = _.options.slidesToShow + 1;\n                } else {\n                    infiniteCount = _.options.slidesToShow;\n                }\n\n                for (i = _.slideCount; i > (_.slideCount -\n                        infiniteCount); i -= 1) {\n                    slideIndex = i - 1;\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\n                        .attr('data-slick-index', slideIndex - _.slideCount)\n                        .prependTo(_.$slideTrack).addClass('slick-cloned');\n                }\n                for (i = 0; i < infiniteCount  + _.slideCount; i += 1) {\n                    slideIndex = i;\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\n                        .attr('data-slick-index', slideIndex + _.slideCount)\n                        .appendTo(_.$slideTrack).addClass('slick-cloned');\n                }\n                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {\n                    $(this).attr('id', '');\n                });\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.interrupt = function( toggle ) {\n\n        var _ = this;\n\n        if( !toggle ) {\n            _.autoPlay();\n        }\n        _.interrupted = toggle;\n\n    };\n\n    Slick.prototype.selectHandler = function(event) {\n\n        var _ = this;\n\n        var targetElement =\n            $(event.target).is('.slick-slide') ?\n                $(event.target) :\n                $(event.target).parents('.slick-slide');\n\n        var index = parseInt(targetElement.attr('data-slick-index'));\n\n        if (!index) index = 0;\n\n        if (_.slideCount <= _.options.slidesToShow) {\n\n            _.slideHandler(index, false, true);\n            return;\n\n        }\n\n        _.slideHandler(index);\n\n    };\n\n    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {\n\n        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,\n            _ = this, navTarget;\n\n        sync = sync || false;\n\n        if (_.animating === true && _.options.waitForAnimate === true) {\n            return;\n        }\n\n        if (_.options.fade === true && _.currentSlide === index) {\n            return;\n        }\n\n        if (sync === false) {\n            _.asNavFor(index);\n        }\n\n        targetSlide = index;\n        targetLeft = _.getLeft(targetSlide);\n        slideLeft = _.getLeft(_.currentSlide);\n\n        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;\n\n        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {\n            if (_.options.fade === false) {\n                targetSlide = _.currentSlide;\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\n                    _.animateSlide(slideLeft, function() {\n                        _.postSlide(targetSlide);\n                    });\n                } else {\n                    _.postSlide(targetSlide);\n                }\n            }\n            return;\n        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {\n            if (_.options.fade === false) {\n                targetSlide = _.currentSlide;\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\n                    _.animateSlide(slideLeft, function() {\n                        _.postSlide(targetSlide);\n                    });\n                } else {\n                    _.postSlide(targetSlide);\n                }\n            }\n            return;\n        }\n\n        if ( _.options.autoplay ) {\n            clearInterval(_.autoPlayTimer);\n        }\n\n        if (targetSlide < 0) {\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);\n            } else {\n                animSlide = _.slideCount + targetSlide;\n            }\n        } else if (targetSlide >= _.slideCount) {\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                animSlide = 0;\n            } else {\n                animSlide = targetSlide - _.slideCount;\n            }\n        } else {\n            animSlide = targetSlide;\n        }\n\n        _.animating = true;\n\n        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);\n\n        oldSlide = _.currentSlide;\n        _.currentSlide = animSlide;\n\n        _.setSlideClasses(_.currentSlide);\n\n        if ( _.options.asNavFor ) {\n\n            navTarget = _.getNavTarget();\n            navTarget = navTarget.slick('getSlick');\n\n            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {\n                navTarget.setSlideClasses(_.currentSlide);\n            }\n\n        }\n\n        _.updateDots();\n        _.updateArrows();\n\n        if (_.options.fade === true) {\n            if (dontAnimate !== true) {\n\n                _.fadeSlideOut(oldSlide);\n\n                _.fadeSlide(animSlide, function() {\n                    _.postSlide(animSlide);\n                });\n\n            } else {\n                _.postSlide(animSlide);\n            }\n            _.animateHeight();\n            return;\n        }\n\n        if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\n            _.animateSlide(targetLeft, function() {\n                _.postSlide(animSlide);\n            });\n        } else {\n            _.postSlide(animSlide);\n        }\n\n    };\n\n    Slick.prototype.startLoad = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$prevArrow.hide();\n            _.$nextArrow.hide();\n\n        }\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$dots.hide();\n\n        }\n\n        _.$slider.addClass('slick-loading');\n\n    };\n\n    Slick.prototype.swipeDirection = function() {\n\n        var xDist, yDist, r, swipeAngle, _ = this;\n\n        xDist = _.touchObject.startX - _.touchObject.curX;\n        yDist = _.touchObject.startY - _.touchObject.curY;\n        r = Math.atan2(yDist, xDist);\n\n        swipeAngle = Math.round(r * 180 / Math.PI);\n        if (swipeAngle < 0) {\n            swipeAngle = 360 - Math.abs(swipeAngle);\n        }\n\n        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {\n            return (_.options.rtl === false ? 'left' : 'right');\n        }\n        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {\n            return (_.options.rtl === false ? 'left' : 'right');\n        }\n        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {\n            return (_.options.rtl === false ? 'right' : 'left');\n        }\n        if (_.options.verticalSwiping === true) {\n            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {\n                return 'down';\n            } else {\n                return 'up';\n            }\n        }\n\n        return 'vertical';\n\n    };\n\n    Slick.prototype.swipeEnd = function(event) {\n\n        var _ = this,\n            slideCount,\n            direction;\n\n        _.dragging = false;\n        _.swiping = false;\n\n        if (_.scrolling) {\n            _.scrolling = false;\n            return false;\n        }\n\n        _.interrupted = false;\n        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;\n\n        if ( _.touchObject.curX === undefined ) {\n            return false;\n        }\n\n        if ( _.touchObject.edgeHit === true ) {\n            _.$slider.trigger('edge', [_, _.swipeDirection() ]);\n        }\n\n        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {\n\n            direction = _.swipeDirection();\n\n            switch ( direction ) {\n\n                case 'left':\n                case 'down':\n\n                    slideCount =\n                        _.options.swipeToSlide ?\n                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :\n                            _.currentSlide + _.getSlideCount();\n\n                    _.currentDirection = 0;\n\n                    break;\n\n                case 'right':\n                case 'up':\n\n                    slideCount =\n                        _.options.swipeToSlide ?\n                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :\n                            _.currentSlide - _.getSlideCount();\n\n                    _.currentDirection = 1;\n\n                    break;\n\n                default:\n\n\n            }\n\n            if( direction != 'vertical' ) {\n\n                _.slideHandler( slideCount );\n                _.touchObject = {};\n                _.$slider.trigger('swipe', [_, direction ]);\n\n            }\n\n        } else {\n\n            if ( _.touchObject.startX !== _.touchObject.curX ) {\n\n                _.slideHandler( _.currentSlide );\n                _.touchObject = {};\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.swipeHandler = function(event) {\n\n        var _ = this;\n\n        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {\n            return;\n        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {\n            return;\n        }\n\n        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?\n            event.originalEvent.touches.length : 1;\n\n        _.touchObject.minSwipe = _.listWidth / _.options\n            .touchThreshold;\n\n        if (_.options.verticalSwiping === true) {\n            _.touchObject.minSwipe = _.listHeight / _.options\n                .touchThreshold;\n        }\n\n        switch (event.data.action) {\n\n            case 'start':\n                _.swipeStart(event);\n                break;\n\n            case 'move':\n                _.swipeMove(event);\n                break;\n\n            case 'end':\n                _.swipeEnd(event);\n                break;\n\n        }\n\n    };\n\n    Slick.prototype.swipeMove = function(event) {\n\n        var _ = this,\n            edgeWasHit = false,\n            curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength;\n\n        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;\n\n        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {\n            return false;\n        }\n\n        curLeft = _.getLeft(_.currentSlide);\n\n        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;\n        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;\n\n        _.touchObject.swipeLength = Math.round(Math.sqrt(\n            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));\n\n        verticalSwipeLength = Math.round(Math.sqrt(\n            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));\n\n        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {\n            _.scrolling = true;\n            return false;\n        }\n\n        if (_.options.verticalSwiping === true) {\n            _.touchObject.swipeLength = verticalSwipeLength;\n        }\n\n        swipeDirection = _.swipeDirection();\n\n        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {\n            _.swiping = true;\n            event.preventDefault();\n        }\n\n        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);\n        if (_.options.verticalSwiping === true) {\n            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;\n        }\n\n\n        swipeLength = _.touchObject.swipeLength;\n\n        _.touchObject.edgeHit = false;\n\n        if (_.options.infinite === false) {\n            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {\n                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;\n                _.touchObject.edgeHit = true;\n            }\n        }\n\n        if (_.options.vertical === false) {\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\n        } else {\n            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;\n        }\n        if (_.options.verticalSwiping === true) {\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\n        }\n\n        if (_.options.fade === true || _.options.touchMove === false) {\n            return false;\n        }\n\n        if (_.animating === true) {\n            _.swipeLeft = null;\n            return false;\n        }\n\n        _.setCSS(_.swipeLeft);\n\n    };\n\n    Slick.prototype.swipeStart = function(event) {\n\n        var _ = this,\n            touches;\n\n        _.interrupted = true;\n\n        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {\n            _.touchObject = {};\n            return false;\n        }\n\n        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {\n            touches = event.originalEvent.touches[0];\n        }\n\n        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;\n        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;\n\n        _.dragging = true;\n\n    };\n\n    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {\n\n        var _ = this;\n\n        if (_.$slidesCache !== null) {\n\n            _.unload();\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slidesCache.appendTo(_.$slideTrack);\n\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.unload = function() {\n\n        var _ = this;\n\n        $('.slick-cloned', _.$slider).remove();\n\n        if (_.$dots) {\n            _.$dots.remove();\n        }\n\n        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {\n            _.$prevArrow.remove();\n        }\n\n        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {\n            _.$nextArrow.remove();\n        }\n\n        _.$slides\n            .removeClass('slick-slide slick-active slick-visible slick-current')\n            .attr('aria-hidden', 'true')\n            .css('width', '');\n\n    };\n\n    Slick.prototype.unslick = function(fromBreakpoint) {\n\n        var _ = this;\n        _.$slider.trigger('unslick', [_, fromBreakpoint]);\n        _.destroy();\n\n    };\n\n    Slick.prototype.updateArrows = function() {\n\n        var _ = this,\n            centerOffset;\n\n        centerOffset = Math.floor(_.options.slidesToShow / 2);\n\n        if ( _.options.arrows === true &&\n            _.slideCount > _.options.slidesToShow &&\n            !_.options.infinite ) {\n\n            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            if (_.currentSlide === 0) {\n\n                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {\n\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {\n\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.updateDots = function() {\n\n        var _ = this;\n\n        if (_.$dots !== null) {\n\n            _.$dots\n                .find('li')\n                    .removeClass('slick-active')\n                    .end();\n\n            _.$dots\n                .find('li')\n                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))\n                .addClass('slick-active');\n\n        }\n\n    };\n\n    Slick.prototype.visibility = function() {\n\n        var _ = this;\n\n        if ( _.options.autoplay ) {\n\n            if ( document[_.hidden] ) {\n\n                _.interrupted = true;\n\n            } else {\n\n                _.interrupted = false;\n\n            }\n\n        }\n\n    };\n\n    $.fn.slick = function() {\n        var _ = this,\n            opt = arguments[0],\n            args = Array.prototype.slice.call(arguments, 1),\n            l = _.length,\n            i,\n            ret;\n        for (i = 0; i < l; i++) {\n            if (typeof opt == 'object' || typeof opt == 'undefined')\n                _[i].slick = new Slick(_[i], opt);\n            else\n                ret = _[i].slick[opt].apply(_[i].slick, args);\n            if (typeof ret != 'undefined') return ret;\n        }\n        return _;\n    };\n\n}));\n","/*! tablesorter (FORK) - updated 2018-08-27 (v2.31.0)*/\n/* Includes widgets ( storage,uitheme,columns,filter,stickyHeaders,resizable,saveSort ) */\n(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery) {\n/*! TableSorter (FORK) v2.31.0 *//*\n* Client-side table sorting with ease!\n* @requires jQuery v1.2.6+\n*\n* Copyright (c) 2007 Christian Bach\n* fork maintained by Rob Garrison\n*\n* Examples and original docs at: http://tablesorter.com\n* Dual licensed under the MIT and GPL licenses:\n* http://www.opensource.org/licenses/mit-license.php\n* http://www.gnu.org/licenses/gpl.html\n*\n* @type jQuery\n* @name tablesorter (FORK)\n* @cat Plugins/Tablesorter\n* @author Christian Bach - christian.bach@polyester.se\n* @contributor Rob Garrison - https://github.com/Mottie/tablesorter\n* @docs (fork) - https://mottie.github.io/tablesorter/docs/\n*/\n/*jshint browser:true, jquery:true, unused:false, expr: true */\n;( function( $ ) {\n\t'use strict';\n\tvar ts = $.tablesorter = {\n\n\t\tversion : '2.31.0',\n\n\t\tparsers : [],\n\t\twidgets : [],\n\t\tdefaults : {\n\n\t\t\t// *** appearance\n\t\t\ttheme            : 'default',  // adds tablesorter-{theme} to the table for styling\n\t\t\twidthFixed       : false,      // adds colgroup to fix widths of columns\n\t\t\tshowProcessing   : false,      // show an indeterminate timer icon in the header when the table is sorted or filtered.\n\n\t\t\theaderTemplate   : '{content}',// header layout template (HTML ok); {content} = innerHTML, {icon} = <i/> // class from cssIcon\n\t\t\tonRenderTemplate : null,       // function( index, template ) { return template; }, // template is a string\n\t\t\tonRenderHeader   : null,       // function( index ) {}, // nothing to return\n\n\t\t\t// *** functionality\n\t\t\tcancelSelection  : true,       // prevent text selection in the header\n\t\t\ttabIndex         : true,       // add tabindex to header for keyboard accessibility\n\t\t\tdateFormat       : 'mmddyyyy', // other options: 'ddmmyyy' or 'yyyymmdd'\n\t\t\tsortMultiSortKey : 'shiftKey', // key used to select additional columns\n\t\t\tsortResetKey     : 'ctrlKey',  // key used to remove sorting on a column\n\t\t\tusNumberFormat   : true,       // false for German '1.234.567,89' or French '1 234 567,89'\n\t\t\tdelayInit        : false,      // if false, the parsed table contents will not update until the first sort\n\t\t\tserverSideSorting: false,      // if true, server-side sorting should be performed because client-side sorting will be disabled, but the ui and events will still be used.\n\t\t\tresort           : true,       // default setting to trigger a resort after an 'update', 'addRows', 'updateCell', etc has completed\n\n\t\t\t// *** sort options\n\t\t\theaders          : {},         // set sorter, string, empty, locked order, sortInitialOrder, filter, etc.\n\t\t\tignoreCase       : true,       // ignore case while sorting\n\t\t\tsortForce        : null,       // column(s) first sorted; always applied\n\t\t\tsortList         : [],         // Initial sort order; applied initially; updated when manually sorted\n\t\t\tsortAppend       : null,       // column(s) sorted last; always applied\n\t\t\tsortStable       : false,      // when sorting two rows with exactly the same content, the original sort order is maintained\n\n\t\t\tsortInitialOrder : 'asc',      // sort direction on first click\n\t\t\tsortLocaleCompare: false,      // replace equivalent character (accented characters)\n\t\t\tsortReset        : false,      // third click on the header will reset column to default - unsorted\n\t\t\tsortRestart      : false,      // restart sort to 'sortInitialOrder' when clicking on previously unsorted columns\n\n\t\t\temptyTo          : 'bottom',   // sort empty cell to bottom, top, none, zero, emptyMax, emptyMin\n\t\t\tstringTo         : 'max',      // sort strings in numerical column as max, min, top, bottom, zero\n\t\t\tduplicateSpan    : true,       // colspan cells in the tbody will have duplicated content in the cache for each spanned column\n\t\t\ttextExtraction   : 'basic',    // text extraction method/function - function( node, table, cellIndex ) {}\n\t\t\ttextAttribute    : 'data-text',// data-attribute that contains alternate cell text (used in default textExtraction function)\n\t\t\ttextSorter       : null,       // choose overall or specific column sorter function( a, b, direction, table, columnIndex ) [alt: ts.sortText]\n\t\t\tnumberSorter     : null,       // choose overall numeric sorter function( a, b, direction, maxColumnValue )\n\n\t\t\t// *** widget options\n\t\t\tinitWidgets      : true,       // apply widgets on tablesorter initialization\n\t\t\twidgetClass      : 'widget-{name}', // table class name template to match to include a widget\n\t\t\twidgets          : [],         // method to add widgets, e.g. widgets: ['zebra']\n\t\t\twidgetOptions    : {\n\t\t\t\tzebra : [ 'even', 'odd' ]  // zebra widget alternating row class names\n\t\t\t},\n\n\t\t\t// *** callbacks\n\t\t\tinitialized      : null,       // function( table ) {},\n\n\t\t\t// *** extra css class names\n\t\t\ttableClass       : '',\n\t\t\tcssAsc           : '',\n\t\t\tcssDesc          : '',\n\t\t\tcssNone          : '',\n\t\t\tcssHeader        : '',\n\t\t\tcssHeaderRow     : '',\n\t\t\tcssProcessing    : '', // processing icon applied to header during sort/filter\n\n\t\t\tcssChildRow      : 'tablesorter-childRow', // class name indiciating that a row is to be attached to its parent\n\t\t\tcssInfoBlock     : 'tablesorter-infoOnly', // don't sort tbody with this class name (only one class name allowed here!)\n\t\t\tcssNoSort        : 'tablesorter-noSort',   // class name added to element inside header; clicking on it won't cause a sort\n\t\t\tcssIgnoreRow     : 'tablesorter-ignoreRow',// header row to ignore; cells within this row will not be added to c.$headers\n\n\t\t\tcssIcon          : 'tablesorter-icon', // if this class does not exist, the {icon} will not be added from the headerTemplate\n\t\t\tcssIconNone      : '', // class name added to the icon when there is no column sort\n\t\t\tcssIconAsc       : '', // class name added to the icon when the column has an ascending sort\n\t\t\tcssIconDesc      : '', // class name added to the icon when the column has a descending sort\n\t\t\tcssIconDisabled  : '', // class name added to the icon when the column has a disabled sort\n\n\t\t\t// *** events\n\t\t\tpointerClick     : 'click',\n\t\t\tpointerDown      : 'mousedown',\n\t\t\tpointerUp        : 'mouseup',\n\n\t\t\t// *** selectors\n\t\t\tselectorHeaders  : '> thead th, > thead td',\n\t\t\tselectorSort     : 'th, td', // jQuery selector of content within selectorHeaders that is clickable to trigger a sort\n\t\t\tselectorRemove   : '.remove-me',\n\n\t\t\t// *** advanced\n\t\t\tdebug            : false,\n\n\t\t\t// *** Internal variables\n\t\t\theaderList: [],\n\t\t\tempties: {},\n\t\t\tstrings: {},\n\t\t\tparsers: [],\n\n\t\t\t// *** parser options for validator; values must be falsy!\n\t\t\tglobalize: 0,\n\t\t\timgAttr: 0\n\n\t\t\t// removed: widgetZebra: { css: ['even', 'odd'] }\n\n\t\t},\n\n\t\t// internal css classes - these will ALWAYS be added to\n\t\t// the table and MUST only contain one class name - fixes #381\n\t\tcss : {\n\t\t\ttable      : 'tablesorter',\n\t\t\tcssHasChild: 'tablesorter-hasChildRow',\n\t\t\tchildRow   : 'tablesorter-childRow',\n\t\t\tcolgroup   : 'tablesorter-colgroup',\n\t\t\theader     : 'tablesorter-header',\n\t\t\theaderRow  : 'tablesorter-headerRow',\n\t\t\theaderIn   : 'tablesorter-header-inner',\n\t\t\ticon       : 'tablesorter-icon',\n\t\t\tprocessing : 'tablesorter-processing',\n\t\t\tsortAsc    : 'tablesorter-headerAsc',\n\t\t\tsortDesc   : 'tablesorter-headerDesc',\n\t\t\tsortNone   : 'tablesorter-headerUnSorted'\n\t\t},\n\n\t\t// labels applied to sortable headers for accessibility (aria) support\n\t\tlanguage : {\n\t\t\tsortAsc      : 'Ascending sort applied, ',\n\t\t\tsortDesc     : 'Descending sort applied, ',\n\t\t\tsortNone     : 'No sort applied, ',\n\t\t\tsortDisabled : 'sorting is disabled',\n\t\t\tnextAsc      : 'activate to apply an ascending sort',\n\t\t\tnextDesc     : 'activate to apply a descending sort',\n\t\t\tnextNone     : 'activate to remove the sort'\n\t\t},\n\n\t\tregex : {\n\t\t\ttemplateContent : /\\{content\\}/g,\n\t\t\ttemplateIcon    : /\\{icon\\}/g,\n\t\t\ttemplateName    : /\\{name\\}/i,\n\t\t\tspaces          : /\\s+/g,\n\t\t\tnonWord         : /\\W/g,\n\t\t\tformElements    : /(input|select|button|textarea)/i,\n\n\t\t\t// *** sort functions ***\n\t\t\t// regex used in natural sort\n\t\t\t// chunk/tokenize numbers & letters\n\t\t\tchunk  : /(^([+\\-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?$|^0x[0-9a-f]+$|\\d+)/gi,\n\t\t\t// replace chunks @ ends\n\t\t\tchunks : /(^\\\\0|\\\\0$)/,\n\t\t\thex    : /^0x[0-9a-f]+$/i,\n\n\t\t\t// *** formatFloat ***\n\t\t\tcomma                : /,/g,\n\t\t\tdigitNonUS           : /[\\s|\\.]/g,\n\t\t\tdigitNegativeTest    : /^\\s*\\([.\\d]+\\)/,\n\t\t\tdigitNegativeReplace : /^\\s*\\(([.\\d]+)\\)/,\n\n\t\t\t// *** isDigit ***\n\t\t\tdigitTest    : /^[\\-+(]?\\d+[)]?$/,\n\t\t\tdigitReplace : /[,.'\"\\s]/g\n\n\t\t},\n\n\t\t// digit sort, text location\n\t\tstring : {\n\t\t\tmax      : 1,\n\t\t\tmin      : -1,\n\t\t\temptymin : 1,\n\t\t\temptymax : -1,\n\t\t\tzero     : 0,\n\t\t\tnone     : 0,\n\t\t\t'null'   : 0,\n\t\t\ttop      : true,\n\t\t\tbottom   : false\n\t\t},\n\n\t\tkeyCodes : {\n\t\t\tenter : 13\n\t\t},\n\n\t\t// placeholder date parser data (globalize)\n\t\tdates : {},\n\n\t\t// These methods can be applied on table.config instance\n\t\tinstanceMethods : {},\n\n\t\t/*\n\t\t▄█████ ██████ ██████ ██  ██ █████▄\n\t\t▀█▄    ██▄▄     ██   ██  ██ ██▄▄██\n\t\t   ▀█▄ ██▀▀     ██   ██  ██ ██▀▀▀\n\t\t█████▀ ██████   ██   ▀████▀ ██\n\t\t*/\n\n\t\tsetup : function( table, c ) {\n\t\t\t// if no thead or tbody, or tablesorter is already present, quit\n\t\t\tif ( !table || !table.tHead || table.tBodies.length === 0 || table.hasInitialized === true ) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tif ( table.hasInitialized ) {\n\t\t\t\t\t\tconsole.warn( 'Stopping initialization. Tablesorter has already been initialized' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error( 'Stopping initialization! No table, thead or tbody', table );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tmp = '',\n\t\t\t\t$table = $( table ),\n\t\t\t\tmeta = $.metadata;\n\t\t\t// initialization flag\n\t\t\ttable.hasInitialized = false;\n\t\t\t// table is being processed flag\n\t\t\ttable.isProcessing = true;\n\t\t\t// make sure to store the config object\n\t\t\ttable.config = c;\n\t\t\t// save the settings where they read\n\t\t\t$.data( table, 'tablesorter', c );\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Initializing tablesorter v' + ts.version );\n\t\t\t\t$.data( table, 'startoveralltimer', new Date() );\n\t\t\t}\n\n\t\t\t// removing this in version 3 (only supports jQuery 1.7+)\n\t\t\tc.supportsDataObject = ( function( version ) {\n\t\t\t\tversion[ 0 ] = parseInt( version[ 0 ], 10 );\n\t\t\t\treturn ( version[ 0 ] > 1 ) || ( version[ 0 ] === 1 && parseInt( version[ 1 ], 10 ) >= 4 );\n\t\t\t})( $.fn.jquery.split( '.' ) );\n\t\t\t// ensure case insensitivity\n\t\t\tc.emptyTo = c.emptyTo.toLowerCase();\n\t\t\tc.stringTo = c.stringTo.toLowerCase();\n\t\t\tc.last = { sortList : [], clickedIndex : -1 };\n\t\t\t// add table theme class only if there isn't already one there\n\t\t\tif ( !/tablesorter\\-/.test( $table.attr( 'class' ) ) ) {\n\t\t\t\ttmp = ( c.theme !== '' ? ' tablesorter-' + c.theme : '' );\n\t\t\t}\n\n\t\t\t// give the table a unique id, which will be used in namespace binding\n\t\t\tif ( !c.namespace ) {\n\t\t\t\tc.namespace = '.tablesorter' + Math.random().toString( 16 ).slice( 2 );\n\t\t\t} else {\n\t\t\t\t// make sure namespace starts with a period & doesn't have weird characters\n\t\t\t\tc.namespace = '.' + c.namespace.replace( ts.regex.nonWord, '' );\n\t\t\t}\n\n\t\t\tc.table = table;\n\t\t\tc.$table = $table\n\t\t\t\t// add namespace to table to allow bindings on extra elements to target\n\t\t\t\t// the parent table (e.g. parser-input-select)\n\t\t\t\t.addClass( ts.css.table + ' ' + c.tableClass + tmp + ' ' + c.namespace.slice(1) )\n\t\t\t\t.attr( 'role', 'grid' );\n\t\t\tc.$headers = $table.find( c.selectorHeaders );\n\n\t\t\tc.$table.children().children( 'tr' ).attr( 'role', 'row' );\n\t\t\tc.$tbodies = $table.children( 'tbody:not(.' + c.cssInfoBlock + ')' ).attr({\n\t\t\t\t'aria-live' : 'polite',\n\t\t\t\t'aria-relevant' : 'all'\n\t\t\t});\n\t\t\tif ( c.$table.children( 'caption' ).length ) {\n\t\t\t\ttmp = c.$table.children( 'caption' )[ 0 ];\n\t\t\t\tif ( !tmp.id ) { tmp.id = c.namespace.slice( 1 ) + 'caption'; }\n\t\t\t\tc.$table.attr( 'aria-labelledby', tmp.id );\n\t\t\t}\n\t\t\tc.widgetInit = {}; // keep a list of initialized widgets\n\t\t\t// change textExtraction via data-attribute\n\t\t\tc.textExtraction = c.$table.attr( 'data-text-extraction' ) || c.textExtraction || 'basic';\n\t\t\t// build headers\n\t\t\tts.buildHeaders( c );\n\t\t\t// fixate columns if the users supplies the fixedWidth option\n\t\t\t// do this after theme has been applied\n\t\t\tts.fixColumnWidth( table );\n\t\t\t// add widgets from class name\n\t\t\tts.addWidgetFromClass( table );\n\t\t\t// add widget options before parsing (e.g. grouping widget has parser settings)\n\t\t\tts.applyWidgetOptions( table );\n\t\t\t// try to auto detect column type, and store in tables config\n\t\t\tts.setupParsers( c );\n\t\t\t// start total row count at zero\n\t\t\tc.totalRows = 0;\n\t\t\t// only validate options while debugging. See #1528\n\t\t\tif (c.debug) {\n\t\t\t\tts.validateOptions( c );\n\t\t\t}\n\t\t\t// build the cache for the tbody cells\n\t\t\t// delayInit will delay building the cache until the user starts a sort\n\t\t\tif ( !c.delayInit ) { ts.buildCache( c ); }\n\t\t\t// bind all header events and methods\n\t\t\tts.bindEvents( table, c.$headers, true );\n\t\t\tts.bindMethods( c );\n\t\t\t// get sort list from jQuery data or metadata\n\t\t\t// in jQuery < 1.4, an error occurs when calling $table.data()\n\t\t\tif ( c.supportsDataObject && typeof $table.data().sortlist !== 'undefined' ) {\n\t\t\t\tc.sortList = $table.data().sortlist;\n\t\t\t} else if ( meta && ( $table.metadata() && $table.metadata().sortlist ) ) {\n\t\t\t\tc.sortList = $table.metadata().sortlist;\n\t\t\t}\n\t\t\t// apply widget init code\n\t\t\tts.applyWidget( table, true );\n\t\t\t// if user has supplied a sort list to constructor\n\t\t\tif ( c.sortList.length > 0 ) {\n\t\t\t\tts.sortOn( c, c.sortList, {}, !c.initWidgets );\n\t\t\t} else {\n\t\t\t\tts.setHeadersCss( c );\n\t\t\t\tif ( c.initWidgets ) {\n\t\t\t\t\t// apply widget format\n\t\t\t\t\tts.applyWidget( table, false );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// show processesing icon\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\t$table\n\t\t\t\t.unbind( 'sortBegin' + c.namespace + ' sortEnd' + c.namespace )\n\t\t\t\t.bind( 'sortBegin' + c.namespace + ' sortEnd' + c.namespace, function( e ) {\n\t\t\t\t\tclearTimeout( c.timerProcessing );\n\t\t\t\t\tts.isProcessing( table );\n\t\t\t\t\tif ( e.type === 'sortBegin' ) {\n\t\t\t\t\t\tc.timerProcessing = setTimeout( function() {\n\t\t\t\t\t\t\tts.isProcessing( table, true );\n\t\t\t\t\t\t}, 500 );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// initialized\n\t\t\ttable.hasInitialized = true;\n\t\t\ttable.isProcessing = false;\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Overall initialization time:' + ts.benchmark( $.data( table, 'startoveralltimer' ) ) );\n\t\t\t\tif ( ts.debug(c, 'core') && console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\t$table.triggerHandler( 'tablesorter-initialized', table );\n\t\t\tif ( typeof c.initialized === 'function' ) {\n\t\t\t\tc.initialized( table );\n\t\t\t}\n\t\t},\n\n\t\tbindMethods : function( c ) {\n\t\t\tvar $table = c.$table,\n\t\t\t\tnamespace = c.namespace,\n\t\t\t\tevents = ( 'sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete ' +\n\t\t\t\t\t'sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup ' +\n\t\t\t\t\t'mouseleave ' ).split( ' ' )\n\t\t\t\t\t.join( namespace + ' ' );\n\t\t\t// apply easy methods that trigger bound events\n\t\t\t$table\n\t\t\t.unbind( events.replace( ts.regex.spaces, ' ' ) )\n\t\t\t.bind( 'sortReset' + namespace, function( e, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t// using this.config to ensure functions are getting a non-cached version of the config\n\t\t\t\tts.sortReset( this.config, function( table ) {\n\t\t\t\t\tif (table.isApplyingWidgets) {\n\t\t\t\t\t\t// multiple triggers in a row... filterReset, then sortReset - see #1361\n\t\t\t\t\t\t// wait to update widgets\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tts.applyWidget( table, '', callback );\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tts.applyWidget( table, '', callback );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.bind( 'updateAll' + namespace, function( e, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateAll( this.config, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'update' + namespace + ' updateRows' + namespace, function( e, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.update( this.config, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'updateHeaders' + namespace, function( e, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateHeaders( this.config, callback );\n\t\t\t})\n\t\t\t.bind( 'updateCell' + namespace, function( e, cell, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateCell( this.config, cell, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'addRows' + namespace, function( e, $row, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.addRows( this.config, $row, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'updateComplete' + namespace, function() {\n\t\t\t\tthis.isUpdating = false;\n\t\t\t})\n\t\t\t.bind( 'sorton' + namespace, function( e, list, callback, init ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.sortOn( this.config, list, callback, init );\n\t\t\t})\n\t\t\t.bind( 'appendCache' + namespace, function( e, callback, init ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.appendCache( this.config, init );\n\t\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\t\tcallback( this );\n\t\t\t\t}\n\t\t\t})\n\t\t\t// $tbodies variable is used by the tbody sorting widget\n\t\t\t.bind( 'updateCache' + namespace, function( e, callback, $tbodies ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateCache( this.config, callback, $tbodies );\n\t\t\t})\n\t\t\t.bind( 'applyWidgetId' + namespace, function( e, id ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.applyWidgetId( this, id );\n\t\t\t})\n\t\t\t.bind( 'applyWidgets' + namespace, function( e, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t// apply widgets (false = not initializing)\n\t\t\t\tts.applyWidget( this, false, callback );\n\t\t\t})\n\t\t\t.bind( 'refreshWidgets' + namespace, function( e, all, dontapply ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.refreshWidgets( this, all, dontapply );\n\t\t\t})\n\t\t\t.bind( 'removeWidget' + namespace, function( e, name, refreshing ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.removeWidget( this, name, refreshing );\n\t\t\t})\n\t\t\t.bind( 'destroy' + namespace, function( e, removeClasses, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.destroy( this, removeClasses, callback );\n\t\t\t})\n\t\t\t.bind( 'resetToLoadState' + namespace, function( e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t// remove all widgets\n\t\t\t\tts.removeWidget( this, true, false );\n\t\t\t\tvar tmp = $.extend( true, {}, c.originalSettings );\n\t\t\t\t// restore original settings; this clears out current settings, but does not clear\n\t\t\t\t// values saved to storage.\n\t\t\t\tc = $.extend( true, {}, ts.defaults, tmp );\n\t\t\t\tc.originalSettings = tmp;\n\t\t\t\tthis.hasInitialized = false;\n\t\t\t\t// setup the entire table again\n\t\t\t\tts.setup( this, c );\n\t\t\t});\n\t\t},\n\n\t\tbindEvents : function( table, $headers, core ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar tmp,\n\t\t\t\tc = table.config,\n\t\t\t\tnamespace = c.namespace,\n\t\t\t\tdownTarget = null;\n\t\t\tif ( core !== true ) {\n\t\t\t\t$headers.addClass( namespace.slice( 1 ) + '_extra_headers' );\n\t\t\t\ttmp = ts.getClosest( $headers, 'table' );\n\t\t\t\tif ( tmp.length && tmp[ 0 ].nodeName === 'TABLE' && tmp[ 0 ] !== table ) {\n\t\t\t\t\t$( tmp[ 0 ] ).addClass( namespace.slice( 1 ) + '_extra_table' );\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp = ( c.pointerDown + ' ' + c.pointerUp + ' ' + c.pointerClick + ' sort keyup ' )\n\t\t\t\t.replace( ts.regex.spaces, ' ' )\n\t\t\t\t.split( ' ' )\n\t\t\t\t.join( namespace + ' ' );\n\t\t\t// apply event handling to headers and/or additional headers (stickyheaders, scroller, etc)\n\t\t\t$headers\n\t\t\t// http://stackoverflow.com/questions/5312849/jquery-find-self;\n\t\t\t.find( c.selectorSort )\n\t\t\t.add( $headers.filter( c.selectorSort ) )\n\t\t\t.unbind( tmp )\n\t\t\t.bind( tmp, function( e, external ) {\n\t\t\t\tvar $cell, cell, temp,\n\t\t\t\t\t$target = $( e.target ),\n\t\t\t\t\t// wrap event type in spaces, so the match doesn't trigger on inner words\n\t\t\t\t\ttype = ' ' + e.type + ' ';\n\t\t\t\t// only recognize left clicks\n\t\t\t\tif ( ( ( e.which || e.button ) !== 1 && !type.match( ' ' + c.pointerClick + ' | sort | keyup ' ) ) ||\n\t\t\t\t\t// allow pressing enter\n\t\t\t\t\t( type === ' keyup ' && e.which !== ts.keyCodes.enter ) ||\n\t\t\t\t\t// allow triggering a click event (e.which is undefined) & ignore physical clicks\n\t\t\t\t\t( type.match( ' ' + c.pointerClick + ' ' ) && typeof e.which !== 'undefined' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ignore mouseup if mousedown wasn't on the same target\n\t\t\t\tif ( type.match( ' ' + c.pointerUp + ' ' ) && downTarget !== e.target && external !== true ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// set target on mousedown\n\t\t\t\tif ( type.match( ' ' + c.pointerDown + ' ' ) ) {\n\t\t\t\t\tdownTarget = e.target;\n\t\t\t\t\t// preventDefault needed or jQuery v1.3.2 and older throws an\n\t\t\t\t\t// \"Uncaught TypeError: handler.apply is not a function\" error\n\t\t\t\t\ttemp = $target.jquery.split( '.' );\n\t\t\t\t\tif ( temp[ 0 ] === '1' && temp[ 1 ] < 4 ) { e.preventDefault(); }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdownTarget = null;\n\t\t\t\t$cell = ts.getClosest( $( this ), '.' + ts.css.header );\n\t\t\t\t// prevent sort being triggered on form elements\n\t\t\t\tif ( ts.regex.formElements.test( e.target.nodeName ) ||\n\t\t\t\t\t// nosort class name, or elements within a nosort container\n\t\t\t\t\t$target.hasClass( c.cssNoSort ) || $target.parents( '.' + c.cssNoSort ).length > 0 ||\n\t\t\t\t\t// disabled cell directly clicked\n\t\t\t\t\t$cell.hasClass( 'sorter-false' ) ||\n\t\t\t\t\t// elements within a button\n\t\t\t\t\t$target.parents( 'button' ).length > 0 ) {\n\t\t\t\t\treturn !c.cancelSelection;\n\t\t\t\t}\n\t\t\t\tif ( c.delayInit && ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t\tts.buildCache( c );\n\t\t\t\t}\n\t\t\t\t// use column index from data-attribute or index of current row; fixes #1116\n\t\t\t\tc.last.clickedIndex = $cell.attr( 'data-column' ) || $cell.index();\n\t\t\t\tcell = c.$headerIndexed[ c.last.clickedIndex ][0];\n\t\t\t\tif ( cell && !cell.sortDisabled ) {\n\t\t\t\t\tts.initSort( c, cell, e );\n\t\t\t\t}\n\t\t\t});\n\t\t\tif ( c.cancelSelection ) {\n\t\t\t\t// cancel selection\n\t\t\t\t$headers\n\t\t\t\t\t.attr( 'unselectable', 'on' )\n\t\t\t\t\t.bind( 'selectstart', false )\n\t\t\t\t\t.css({\n\t\t\t\t\t\t'user-select' : 'none',\n\t\t\t\t\t\t'MozUserSelect' : 'none' // not needed for jQuery 1.8+\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tbuildHeaders : function( c ) {\n\t\t\tvar $temp, icon, timer, indx;\n\t\t\tc.headerList = [];\n\t\t\tc.headerContent = [];\n\t\t\tc.sortVars = [];\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\ttimer = new Date();\n\t\t\t}\n\t\t\t// children tr in tfoot - see issue #196 & #547\n\t\t\t// don't pass table.config to computeColumnIndex here - widgets (math) pass it to \"quickly\" index tbody cells\n\t\t\tc.columns = ts.computeColumnIndex( c.$table.children( 'thead, tfoot' ).children( 'tr' ) );\n\t\t\t// add icon if cssIcon option exists\n\t\t\ticon = c.cssIcon ?\n\t\t\t\t'<i class=\"' + ( c.cssIcon === ts.css.icon ? ts.css.icon : c.cssIcon + ' ' + ts.css.icon ) + '\"></i>' :\n\t\t\t\t'';\n\t\t\t// redefine c.$headers here in case of an updateAll that replaces or adds an entire header cell - see #683\n\t\t\tc.$headers = $( $.map( c.$table.find( c.selectorHeaders ), function( elem, index ) {\n\t\t\t\tvar configHeaders, header, column, template, tmp,\n\t\t\t\t\t$elem = $( elem );\n\t\t\t\t// ignore cell (don't add it to c.$headers) if row has ignoreRow class\n\t\t\t\tif ( ts.getClosest( $elem, 'tr' ).hasClass( c.cssIgnoreRow ) ) { return; }\n\t\t\t\t// transfer data-column to element if not th/td - #1459\n\t\t\t\tif ( !/(th|td)/i.test( elem.nodeName ) ) {\n\t\t\t\t\ttmp = ts.getClosest( $elem, 'th, td' );\n\t\t\t\t\t$elem.attr( 'data-column', tmp.attr( 'data-column' ) );\n\t\t\t\t}\n\t\t\t\t// make sure to get header cell & not column indexed cell\n\t\t\t\tconfigHeaders = ts.getColumnData( c.table, c.headers, index, true );\n\t\t\t\t// save original header content\n\t\t\t\tc.headerContent[ index ] = $elem.html();\n\t\t\t\t// if headerTemplate is empty, don't reformat the header cell\n\t\t\t\tif ( c.headerTemplate !== '' && !$elem.find( '.' + ts.css.headerIn ).length ) {\n\t\t\t\t\t// set up header template\n\t\t\t\t\ttemplate = c.headerTemplate\n\t\t\t\t\t\t.replace( ts.regex.templateContent, $elem.html() )\n\t\t\t\t\t\t.replace( ts.regex.templateIcon, $elem.find( '.' + ts.css.icon ).length ? '' : icon );\n\t\t\t\t\tif ( c.onRenderTemplate ) {\n\t\t\t\t\t\theader = c.onRenderTemplate.apply( $elem, [ index, template ] );\n\t\t\t\t\t\t// only change t if something is returned\n\t\t\t\t\t\tif ( header && typeof header === 'string' ) {\n\t\t\t\t\t\t\ttemplate = header;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$elem.html( '<div class=\"' + ts.css.headerIn + '\">' + template + '</div>' ); // faster than wrapInner\n\t\t\t\t}\n\t\t\t\tif ( c.onRenderHeader ) {\n\t\t\t\t\tc.onRenderHeader.apply( $elem, [ index, c, c.$table ] );\n\t\t\t\t}\n\t\t\t\tcolumn = parseInt( $elem.attr( 'data-column' ), 10 );\n\t\t\t\telem.column = column;\n\t\t\t\ttmp = ts.getOrder( ts.getData( $elem, configHeaders, 'sortInitialOrder' ) || c.sortInitialOrder );\n\t\t\t\t// this may get updated numerous times if there are multiple rows\n\t\t\t\tc.sortVars[ column ] = {\n\t\t\t\t\tcount : -1, // set to -1 because clicking on the header automatically adds one\n\t\t\t\t\torder : tmp ?\n\t\t\t\t\t\t( c.sortReset ? [ 1, 0, 2 ] : [ 1, 0 ] ) : // desc, asc, unsorted\n\t\t\t\t\t\t( c.sortReset ? [ 0, 1, 2 ] : [ 0, 1 ] ),  // asc, desc, unsorted\n\t\t\t\t\tlockedOrder : false,\n\t\t\t\t\tsortedBy : ''\n\t\t\t\t};\n\t\t\t\ttmp = ts.getData( $elem, configHeaders, 'lockedOrder' ) || false;\n\t\t\t\tif ( typeof tmp !== 'undefined' && tmp !== false ) {\n\t\t\t\t\tc.sortVars[ column ].lockedOrder = true;\n\t\t\t\t\tc.sortVars[ column ].order = ts.getOrder( tmp ) ? [ 1, 1 ] : [ 0, 0 ];\n\t\t\t\t}\n\t\t\t\t// add cell to headerList\n\t\t\t\tc.headerList[ index ] = elem;\n\t\t\t\t$elem.addClass( ts.css.header + ' ' + c.cssHeader );\n\t\t\t\t// add to parent in case there are multiple rows\n\t\t\t\tts.getClosest( $elem, 'tr' )\n\t\t\t\t\t.addClass( ts.css.headerRow + ' ' + c.cssHeaderRow )\n\t\t\t\t\t.attr( 'role', 'row' );\n\t\t\t\t// allow keyboard cursor to focus on element\n\t\t\t\tif ( c.tabIndex ) {\n\t\t\t\t\t$elem.attr( 'tabindex', 0 );\n\t\t\t\t}\n\t\t\t\treturn elem;\n\t\t\t}) );\n\t\t\t// cache headers per column\n\t\t\tc.$headerIndexed = [];\n\t\t\tfor ( indx = 0; indx < c.columns; indx++ ) {\n\t\t\t\t// colspan in header making a column undefined\n\t\t\t\tif ( ts.isEmptyObject( c.sortVars[ indx ] ) ) {\n\t\t\t\t\tc.sortVars[ indx ] = {};\n\t\t\t\t}\n\t\t\t\t// Use c.$headers.parent() in case selectorHeaders doesn't point to the th/td\n\t\t\t\t$temp = c.$headers.filter( '[data-column=\"' + indx + '\"]' );\n\t\t\t\t// target sortable column cells, unless there are none, then use non-sortable cells\n\t\t\t\t// .last() added in jQuery 1.4; use .filter(':last') to maintain compatibility with jQuery v1.2.6\n\t\t\t\tc.$headerIndexed[ indx ] = $temp.length ?\n\t\t\t\t\t$temp.not( '.sorter-false' ).length ?\n\t\t\t\t\t\t$temp.not( '.sorter-false' ).filter( ':last' ) :\n\t\t\t\t\t\t$temp.filter( ':last' ) :\n\t\t\t\t\t$();\n\t\t\t}\n\t\t\tc.$table.find( c.selectorHeaders ).attr({\n\t\t\t\tscope: 'col',\n\t\t\t\trole : 'columnheader'\n\t\t\t});\n\t\t\t// enable/disable sorting\n\t\t\tts.updateHeader( c );\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Built headers:' + ts.benchmark( timer ) );\n\t\t\t\tconsole.log( c.$headers );\n\t\t\t}\n\t\t},\n\n\t\t// Use it to add a set of methods to table.config which will be available for all tables.\n\t\t// This should be done before table initialization\n\t\taddInstanceMethods : function( methods ) {\n\t\t\t$.extend( ts.instanceMethods, methods );\n\t\t},\n\n\t\t/*\n\t\t█████▄ ▄████▄ █████▄ ▄█████ ██████ █████▄ ▄█████\n\t\t██▄▄██ ██▄▄██ ██▄▄██ ▀█▄    ██▄▄   ██▄▄██ ▀█▄\n\t\t██▀▀▀  ██▀▀██ ██▀██     ▀█▄ ██▀▀   ██▀██     ▀█▄\n\t\t██     ██  ██ ██  ██ █████▀ ██████ ██  ██ █████▀\n\t\t*/\n\t\tsetupParsers : function( c, $tbodies ) {\n\t\t\tvar rows, list, span, max, colIndex, indx, header, configHeaders,\n\t\t\t\tnoParser, parser, extractor, time, tbody, len,\n\t\t\t\ttable = c.table,\n\t\t\t\ttbodyIndex = 0,\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\tdebugOutput = {};\n\t\t\t// update table bodies in case we start with an empty table\n\t\t\tc.$tbodies = c.$table.children( 'tbody:not(.' + c.cssInfoBlock + ')' );\n\t\t\ttbody = typeof $tbodies === 'undefined' ? c.$tbodies : $tbodies;\n\t\t\tlen = tbody.length;\n\t\t\tif ( len === 0 ) {\n\t\t\t\treturn debug ? console.warn( 'Warning: *Empty table!* Not building a parser cache' ) : '';\n\t\t\t} else if ( debug ) {\n\t\t\t\ttime = new Date();\n\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Detecting parsers for each column' );\n\t\t\t}\n\t\t\tlist = {\n\t\t\t\textractors: [],\n\t\t\t\tparsers: []\n\t\t\t};\n\t\t\twhile ( tbodyIndex < len ) {\n\t\t\t\trows = tbody[ tbodyIndex ].rows;\n\t\t\t\tif ( rows.length ) {\n\t\t\t\t\tcolIndex = 0;\n\t\t\t\t\tmax = c.columns;\n\t\t\t\t\tfor ( indx = 0; indx < max; indx++ ) {\n\t\t\t\t\t\theader = c.$headerIndexed[ colIndex ];\n\t\t\t\t\t\tif ( header && header.length ) {\n\t\t\t\t\t\t\t// get column indexed table cell; adding true parameter fixes #1362 but\n\t\t\t\t\t\t\t// it would break backwards compatibility...\n\t\t\t\t\t\t\tconfigHeaders = ts.getColumnData( table, c.headers, colIndex ); // , true );\n\t\t\t\t\t\t\t// get column parser/extractor\n\t\t\t\t\t\t\textractor = ts.getParserById( ts.getData( header, configHeaders, 'extractor' ) );\n\t\t\t\t\t\t\tparser = ts.getParserById( ts.getData( header, configHeaders, 'sorter' ) );\n\t\t\t\t\t\t\tnoParser = ts.getData( header, configHeaders, 'parser' ) === 'false';\n\t\t\t\t\t\t\t// empty cells behaviour - keeping emptyToBottom for backwards compatibility\n\t\t\t\t\t\t\tc.empties[colIndex] = (\n\t\t\t\t\t\t\t\tts.getData( header, configHeaders, 'empty' ) ||\n\t\t\t\t\t\t\t\tc.emptyTo || ( c.emptyToBottom ? 'bottom' : 'top' ) ).toLowerCase();\n\t\t\t\t\t\t\t// text strings behaviour in numerical sorts\n\t\t\t\t\t\t\tc.strings[colIndex] = (\n\t\t\t\t\t\t\t\tts.getData( header, configHeaders, 'string' ) ||\n\t\t\t\t\t\t\t\tc.stringTo ||\n\t\t\t\t\t\t\t\t'max' ).toLowerCase();\n\t\t\t\t\t\t\tif ( noParser ) {\n\t\t\t\t\t\t\t\tparser = ts.getParserById( 'no-parser' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( !extractor ) {\n\t\t\t\t\t\t\t\t// For now, maybe detect someday\n\t\t\t\t\t\t\t\textractor = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( !parser ) {\n\t\t\t\t\t\t\t\tparser = ts.detectParserForColumn( c, rows, -1, colIndex );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\t\t\tdebugOutput[ '(' + colIndex + ') ' + header.text() ] = {\n\t\t\t\t\t\t\t\t\tparser : parser.id,\n\t\t\t\t\t\t\t\t\textractor : extractor ? extractor.id : 'none',\n\t\t\t\t\t\t\t\t\tstring : c.strings[ colIndex ],\n\t\t\t\t\t\t\t\t\tempty  : c.empties[ colIndex ]\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlist.parsers[ colIndex ] = parser;\n\t\t\t\t\t\t\tlist.extractors[ colIndex ] = extractor;\n\t\t\t\t\t\t\tspan = header[ 0 ].colSpan - 1;\n\t\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\t\tcolIndex += span;\n\t\t\t\t\t\t\t\tmax += span;\n\t\t\t\t\t\t\t\twhile ( span + 1 > 0 ) {\n\t\t\t\t\t\t\t\t\t// set colspan columns to use the same parsers & extractors\n\t\t\t\t\t\t\t\t\tlist.parsers[ colIndex - span ] = parser;\n\t\t\t\t\t\t\t\t\tlist.extractors[ colIndex - span ] = extractor;\n\t\t\t\t\t\t\t\t\tspan--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolIndex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttbodyIndex += ( list.parsers.length ) ? len : 1;\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tif ( !ts.isEmptyObject( debugOutput ) ) {\n\t\t\t\t\tconsole[ console.table ? 'table' : 'log' ]( debugOutput );\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn( '  No parsers detected!' );\n\t\t\t\t}\n\t\t\t\tconsole.log( 'Completed detecting parsers' + ts.benchmark( time ) );\n\t\t\t\tif ( console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\tc.parsers = list.parsers;\n\t\t\tc.extractors = list.extractors;\n\t\t},\n\n\t\taddParser : function( parser ) {\n\t\t\tvar indx,\n\t\t\t\tlen = ts.parsers.length,\n\t\t\t\tadd = true;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( ts.parsers[ indx ].id.toLowerCase() === parser.id.toLowerCase() ) {\n\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( add ) {\n\t\t\t\tts.parsers[ ts.parsers.length ] = parser;\n\t\t\t}\n\t\t},\n\n\t\tgetParserById : function( name ) {\n\t\t\t/*jshint eqeqeq:false */ // eslint-disable-next-line eqeqeq\n\t\t\tif ( name == 'false' ) { return false; }\n\t\t\tvar indx,\n\t\t\t\tlen = ts.parsers.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( ts.parsers[ indx ].id.toLowerCase() === ( name.toString() ).toLowerCase() ) {\n\t\t\t\t\treturn ts.parsers[ indx ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tdetectParserForColumn : function( c, rows, rowIndex, cellIndex ) {\n\t\t\tvar cur, $node, row,\n\t\t\t\tindx = ts.parsers.length,\n\t\t\t\tnode = false,\n\t\t\t\tnodeValue = '',\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\tkeepLooking = true;\n\t\t\twhile ( nodeValue === '' && keepLooking ) {\n\t\t\t\trowIndex++;\n\t\t\t\trow = rows[ rowIndex ];\n\t\t\t\t// stop looking after 50 empty rows\n\t\t\t\tif ( row && rowIndex < 50 ) {\n\t\t\t\t\tif ( row.className.indexOf( ts.cssIgnoreRow ) < 0 ) {\n\t\t\t\t\t\tnode = rows[ rowIndex ].cells[ cellIndex ];\n\t\t\t\t\t\tnodeValue = ts.getElementText( c, node, cellIndex );\n\t\t\t\t\t\t$node = $( node );\n\t\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\t\tconsole.log( 'Checking if value was empty on row ' + rowIndex + ', column: ' +\n\t\t\t\t\t\t\t\tcellIndex + ': \"' + nodeValue + '\"' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tkeepLooking = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile ( --indx >= 0 ) {\n\t\t\t\tcur = ts.parsers[ indx ];\n\t\t\t\t// ignore the default text parser because it will always be true\n\t\t\t\tif ( cur && cur.id !== 'text' && cur.is && cur.is( nodeValue, c.table, node, $node ) ) {\n\t\t\t\t\treturn cur;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// nothing found, return the generic parser (text)\n\t\t\treturn ts.getParserById( 'text' );\n\t\t},\n\n\t\tgetElementText : function( c, node, cellIndex ) {\n\t\t\tif ( !node ) { return ''; }\n\t\t\tvar tmp,\n\t\t\t\textract = c.textExtraction || '',\n\t\t\t\t// node could be a jquery object\n\t\t\t\t// http://jsperf.com/jquery-vs-instanceof-jquery/2\n\t\t\t\t$node = node.jquery ? node : $( node );\n\t\t\tif ( typeof extract === 'string' ) {\n\t\t\t\t// check data-attribute first when set to 'basic'; don't use node.innerText - it's really slow!\n\t\t\t\t// http://www.kellegous.com/j/2013/02/27/innertext-vs-textcontent/\n\t\t\t\tif ( extract === 'basic' && typeof ( tmp = $node.attr( c.textAttribute ) ) !== 'undefined' ) {\n\t\t\t\t\treturn $.trim( tmp );\n\t\t\t\t}\n\t\t\t\treturn $.trim( node.textContent || $node.text() );\n\t\t\t} else {\n\t\t\t\tif ( typeof extract === 'function' ) {\n\t\t\t\t\treturn $.trim( extract( $node[ 0 ], c.table, cellIndex ) );\n\t\t\t\t} else if ( typeof ( tmp = ts.getColumnData( c.table, extract, cellIndex ) ) === 'function' ) {\n\t\t\t\t\treturn $.trim( tmp( $node[ 0 ], c.table, cellIndex ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// fallback\n\t\t\treturn $.trim( $node[ 0 ].textContent || $node.text() );\n\t\t},\n\n\t\t// centralized function to extract/parse cell contents\n\t\tgetParsedText : function( c, cell, colIndex, txt ) {\n\t\t\tif ( typeof txt === 'undefined' ) {\n\t\t\t\ttxt = ts.getElementText( c, cell, colIndex );\n\t\t\t}\n\t\t\t// if no parser, make sure to return the txt\n\t\t\tvar val = '' + txt,\n\t\t\t\tparser = c.parsers[ colIndex ],\n\t\t\t\textractor = c.extractors[ colIndex ];\n\t\t\tif ( parser ) {\n\t\t\t\t// do extract before parsing, if there is one\n\t\t\t\tif ( extractor && typeof extractor.format === 'function' ) {\n\t\t\t\t\ttxt = extractor.format( txt, c.table, cell, colIndex );\n\t\t\t\t}\n\t\t\t\t// allow parsing if the string is empty, previously parsing would change it to zero,\n\t\t\t\t// in case the parser needs to extract data from the table cell attributes\n\t\t\t\tval = parser.id === 'no-parser' ? '' :\n\t\t\t\t\t// make sure txt is a string (extractor may have converted it)\n\t\t\t\t\tparser.format( '' + txt, c.table, cell, colIndex );\n\t\t\t\tif ( c.ignoreCase && typeof val === 'string' ) {\n\t\t\t\t\tval = val.toLowerCase();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\t/*\n\t\t▄████▄ ▄████▄ ▄████▄ ██  ██ ██████\n\t\t██  ▀▀ ██▄▄██ ██  ▀▀ ██▄▄██ ██▄▄\n\t\t██  ▄▄ ██▀▀██ ██  ▄▄ ██▀▀██ ██▀▀\n\t\t▀████▀ ██  ██ ▀████▀ ██  ██ ██████\n\t\t*/\n\t\tbuildCache : function( c, callback, $tbodies ) {\n\t\t\tvar cache, val, txt, rowIndex, colIndex, tbodyIndex, $tbody, $row,\n\t\t\t\tcols, $cells, cell, cacheTime, totalRows, rowData, prevRowData,\n\t\t\t\tcolMax, span, cacheIndex, hasParser, max, len, index,\n\t\t\t\ttable = c.table,\n\t\t\t\tparsers = c.parsers,\n\t\t\t\tdebug = ts.debug(c, 'core');\n\t\t\t// update tbody variable\n\t\t\tc.$tbodies = c.$table.children( 'tbody:not(.' + c.cssInfoBlock + ')' );\n\t\t\t$tbody = typeof $tbodies === 'undefined' ? c.$tbodies : $tbodies,\n\t\t\tc.cache = {};\n\t\t\tc.totalRows = 0;\n\t\t\t// if no parsers found, return - it's an empty table.\n\t\t\tif ( !parsers ) {\n\t\t\t\treturn debug ? console.warn( 'Warning: *Empty table!* Not building a cache' ) : '';\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tcacheTime = new Date();\n\t\t\t}\n\t\t\t// processing icon\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\tts.isProcessing( table, true );\n\t\t\t}\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbody.length; tbodyIndex++ ) {\n\t\t\t\tcolMax = []; // column max value per tbody\n\t\t\t\tcache = c.cache[ tbodyIndex ] = {\n\t\t\t\t\tnormalized: [] // array of normalized row data; last entry contains 'rowData' above\n\t\t\t\t\t// colMax: #   // added at the end\n\t\t\t\t};\n\n\t\t\t\ttotalRows = ( $tbody[ tbodyIndex ] && $tbody[ tbodyIndex ].rows.length ) || 0;\n\t\t\t\tfor ( rowIndex = 0; rowIndex < totalRows; ++rowIndex ) {\n\t\t\t\t\trowData = {\n\t\t\t\t\t\t// order: original row order #\n\t\t\t\t\t\t// $row : jQuery Object[]\n\t\t\t\t\t\tchild: [], // child row text (filter widget)\n\t\t\t\t\t\traw: []    // original row text\n\t\t\t\t\t};\n\t\t\t\t\t/** Add the table data to main data array */\n\t\t\t\t\t$row = $( $tbody[ tbodyIndex ].rows[ rowIndex ] );\n\t\t\t\t\tcols = [];\n\t\t\t\t\t// ignore \"remove-me\" rows\n\t\t\t\t\tif ( $row.hasClass( c.selectorRemove.slice(1) ) ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t// if this is a child row, add it to the last row's children and continue to the next row\n\t\t\t\t\t// ignore child row class, if it is the first row\n\t\t\t\t\tif ( $row.hasClass( c.cssChildRow ) && rowIndex !== 0 ) {\n\t\t\t\t\t\tlen = cache.normalized.length - 1;\n\t\t\t\t\t\tprevRowData = cache.normalized[ len ][ c.columns ];\n\t\t\t\t\t\tprevRowData.$row = prevRowData.$row.add( $row );\n\t\t\t\t\t\t// add 'hasChild' class name to parent row\n\t\t\t\t\t\tif ( !$row.prev().hasClass( c.cssChildRow ) ) {\n\t\t\t\t\t\t\t$row.prev().addClass( ts.css.cssHasChild );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// save child row content (un-parsed!)\n\t\t\t\t\t\t$cells = $row.children( 'th, td' );\n\t\t\t\t\t\tlen = prevRowData.child.length;\n\t\t\t\t\t\tprevRowData.child[ len ] = [];\n\t\t\t\t\t\t// child row content does not account for colspans/rowspans; so indexing may be off\n\t\t\t\t\t\tcacheIndex = 0;\n\t\t\t\t\t\tmax = c.columns;\n\t\t\t\t\t\tfor ( colIndex = 0; colIndex < max; colIndex++ ) {\n\t\t\t\t\t\t\tcell = $cells[ colIndex ];\n\t\t\t\t\t\t\tif ( cell ) {\n\t\t\t\t\t\t\t\tprevRowData.child[ len ][ colIndex ] = ts.getParsedText( c, cell, colIndex );\n\t\t\t\t\t\t\t\tspan = $cells[ colIndex ].colSpan - 1;\n\t\t\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\t\t\tcacheIndex += span;\n\t\t\t\t\t\t\t\t\tmax += span;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcacheIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// go to the next for loop\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\trowData.$row = $row;\n\t\t\t\t\trowData.order = rowIndex; // add original row position to rowCache\n\t\t\t\t\tcacheIndex = 0;\n\t\t\t\t\tmax = c.columns;\n\t\t\t\t\tfor ( colIndex = 0; colIndex < max; ++colIndex ) {\n\t\t\t\t\t\tcell = $row[ 0 ].cells[ colIndex ];\n\t\t\t\t\t\tif ( cell && cacheIndex < c.columns ) {\n\t\t\t\t\t\t\thasParser = typeof parsers[ cacheIndex ] !== 'undefined';\n\t\t\t\t\t\t\tif ( !hasParser && debug ) {\n\t\t\t\t\t\t\t\tconsole.warn( 'No parser found for row: ' + rowIndex + ', column: ' + colIndex +\n\t\t\t\t\t\t\t\t\t'; cell containing: \"' + $(cell).text() + '\"; does it have a header?' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tval = ts.getElementText( c, cell, cacheIndex );\n\t\t\t\t\t\t\trowData.raw[ cacheIndex ] = val; // save original row text\n\t\t\t\t\t\t\t// save raw column text even if there is no parser set\n\t\t\t\t\t\t\ttxt = ts.getParsedText( c, cell, cacheIndex, val );\n\t\t\t\t\t\t\tcols[ cacheIndex ] = txt;\n\t\t\t\t\t\t\tif ( hasParser && ( parsers[ cacheIndex ].type || '' ).toLowerCase() === 'numeric' ) {\n\t\t\t\t\t\t\t\t// determine column max value (ignore sign)\n\t\t\t\t\t\t\t\tcolMax[ cacheIndex ] = Math.max( Math.abs( txt ) || 0, colMax[ cacheIndex ] || 0 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// allow colSpan in tbody\n\t\t\t\t\t\t\tspan = cell.colSpan - 1;\n\t\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\t\twhile ( index <= span ) {\n\t\t\t\t\t\t\t\t\t// duplicate text (or not) to spanned columns\n\t\t\t\t\t\t\t\t\t// instead of setting duplicate span to empty string, use textExtraction to try to get a value\n\t\t\t\t\t\t\t\t\t// see http://stackoverflow.com/q/36449711/145346\n\t\t\t\t\t\t\t\t\ttxt = c.duplicateSpan || index === 0 ?\n\t\t\t\t\t\t\t\t\t\tval :\n\t\t\t\t\t\t\t\t\t\ttypeof c.textExtraction !== 'string' ?\n\t\t\t\t\t\t\t\t\t\t\tts.getElementText( c, cell, cacheIndex + index ) || '' :\n\t\t\t\t\t\t\t\t\t\t\t'';\n\t\t\t\t\t\t\t\t\trowData.raw[ cacheIndex + index ] = txt;\n\t\t\t\t\t\t\t\t\tcols[ cacheIndex + index ] = txt;\n\t\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcacheIndex += span;\n\t\t\t\t\t\t\t\tmax += span;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcacheIndex++;\n\t\t\t\t\t}\n\t\t\t\t\t// ensure rowData is always in the same location (after the last column)\n\t\t\t\t\tcols[ c.columns ] = rowData;\n\t\t\t\t\tcache.normalized[ cache.normalized.length ] = cols;\n\t\t\t\t}\n\t\t\t\tcache.colMax = colMax;\n\t\t\t\t// total up rows, not including child rows\n\t\t\t\tc.totalRows += cache.normalized.length;\n\n\t\t\t}\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\tts.isProcessing( table ); // remove processing icon\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tlen = Math.min( 5, c.cache[ 0 ].normalized.length );\n\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Building cache for ' + c.totalRows +\n\t\t\t\t\t' rows (showing ' + len + ' rows in log) and ' + c.columns + ' columns' +\n\t\t\t\t\tts.benchmark( cacheTime ) );\n\t\t\t\tval = {};\n\t\t\t\tfor ( colIndex = 0; colIndex < c.columns; colIndex++ ) {\n\t\t\t\t\tfor ( cacheIndex = 0; cacheIndex < len; cacheIndex++ ) {\n\t\t\t\t\t\tif ( !val[ 'row: ' + cacheIndex ] ) {\n\t\t\t\t\t\t\tval[ 'row: ' + cacheIndex ] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tval[ 'row: ' + cacheIndex ][ c.$headerIndexed[ colIndex ].text() ] =\n\t\t\t\t\t\t\tc.cache[ 0 ].normalized[ cacheIndex ][ colIndex ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole[ console.table ? 'table' : 'log' ]( val );\n\t\t\t\tif ( console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t},\n\n\t\tgetColumnText : function( table, column, callback, rowFilter ) {\n\t\t\ttable = $( table )[0];\n\t\t\tvar tbodyIndex, rowIndex, cache, row, tbodyLen, rowLen, raw, parsed, $cell, result,\n\t\t\t\thasCallback = typeof callback === 'function',\n\t\t\t\tallColumns = column === 'all',\n\t\t\t\tdata = { raw : [], parsed: [], $cell: [] },\n\t\t\t\tc = table.config;\n\t\t\tif ( ts.isEmptyObject( c ) ) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.warn( 'No cache found - aborting getColumnText function!' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttbodyLen = c.$tbodies.length;\n\t\t\t\tfor ( tbodyIndex = 0; tbodyIndex < tbodyLen; tbodyIndex++ ) {\n\t\t\t\t\tcache = c.cache[ tbodyIndex ].normalized;\n\t\t\t\t\trowLen = cache.length;\n\t\t\t\t\tfor ( rowIndex = 0; rowIndex < rowLen; rowIndex++ ) {\n\t\t\t\t\t\trow = cache[ rowIndex ];\n\t\t\t\t\t\tif ( rowFilter && !row[ c.columns ].$row.is( rowFilter ) ) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\tparsed = ( allColumns ) ? row.slice( 0, c.columns ) : row[ column ];\n\t\t\t\t\t\trow = row[ c.columns ];\n\t\t\t\t\t\traw = ( allColumns ) ? row.raw : row.raw[ column ];\n\t\t\t\t\t\t$cell = ( allColumns ) ? row.$row.children() : row.$row.children().eq( column );\n\t\t\t\t\t\tif ( hasCallback ) {\n\t\t\t\t\t\t\tresult = callback({\n\t\t\t\t\t\t\t\ttbodyIndex : tbodyIndex,\n\t\t\t\t\t\t\t\trowIndex : rowIndex,\n\t\t\t\t\t\t\t\tparsed : parsed,\n\t\t\t\t\t\t\t\traw : raw,\n\t\t\t\t\t\t\t\t$row : row.$row,\n\t\t\t\t\t\t\t\t$cell : $cell\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== false ) {\n\t\t\t\t\t\t\tdata.parsed[ data.parsed.length ] = parsed;\n\t\t\t\t\t\t\tdata.raw[ data.raw.length ] = raw;\n\t\t\t\t\t\t\tdata.$cell[ data.$cell.length ] = $cell;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// return everything\n\t\t\t\treturn data;\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t██  ██ █████▄ █████▄ ▄████▄ ██████ ██████\n\t\t██  ██ ██▄▄██ ██  ██ ██▄▄██   ██   ██▄▄\n\t\t██  ██ ██▀▀▀  ██  ██ ██▀▀██   ██   ██▀▀\n\t\t▀████▀ ██     █████▀ ██  ██   ██   ██████\n\t\t*/\n\t\tsetHeadersCss : function( c ) {\n\t\t\tvar indx, column,\n\t\t\t\tlist = c.sortList,\n\t\t\t\tlen = list.length,\n\t\t\t\tnone = ts.css.sortNone + ' ' + c.cssNone,\n\t\t\t\tcss = [ ts.css.sortAsc + ' ' + c.cssAsc, ts.css.sortDesc + ' ' + c.cssDesc ],\n\t\t\t\tcssIcon = [ c.cssIconAsc, c.cssIconDesc, c.cssIconNone ],\n\t\t\t\taria = [ 'ascending', 'descending' ],\n\t\t\t\tupdateColumnSort = function($el, index) {\n\t\t\t\t\t$el\n\t\t\t\t\t\t.removeClass( none )\n\t\t\t\t\t\t.addClass( css[ index ] )\n\t\t\t\t\t\t.attr( 'aria-sort', aria[ index ] )\n\t\t\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t\t\t.removeClass( cssIcon[ 2 ] )\n\t\t\t\t\t\t.addClass( cssIcon[ index ] );\n\t\t\t\t},\n\t\t\t\t// find the footer\n\t\t\t\t$extras = c.$table\n\t\t\t\t\t.find( 'tfoot tr' )\n\t\t\t\t\t.children( 'td, th' )\n\t\t\t\t\t.add( $( c.namespace + '_extra_headers' ) )\n\t\t\t\t\t.removeClass( css.join( ' ' ) ),\n\t\t\t\t// remove all header information\n\t\t\t\t$sorted = c.$headers\n\t\t\t\t\t.add( $( 'thead ' + c.namespace + '_extra_headers' ) )\n\t\t\t\t\t.removeClass( css.join( ' ' ) )\n\t\t\t\t\t.addClass( none )\n\t\t\t\t\t.attr( 'aria-sort', 'none' )\n\t\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t\t.removeClass( cssIcon.join( ' ' ) )\n\t\t\t\t\t.end();\n\t\t\t// add css none to all sortable headers\n\t\t\t$sorted\n\t\t\t\t.not( '.sorter-false' )\n\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t.addClass( cssIcon[ 2 ] );\n\t\t\t// add disabled css icon class\n\t\t\tif ( c.cssIconDisabled ) {\n\t\t\t\t$sorted\n\t\t\t\t\t.filter( '.sorter-false' )\n\t\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t\t.addClass( c.cssIconDisabled );\n\t\t\t}\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t// direction = 2 means reset!\n\t\t\t\tif ( list[ indx ][ 1 ] !== 2 ) {\n\t\t\t\t\t// multicolumn sorting updating - see #1005\n\t\t\t\t\t// .not(function() {}) needs jQuery 1.4\n\t\t\t\t\t// filter(function(i, el) {}) <- el is undefined in jQuery v1.2.6\n\t\t\t\t\t$sorted = c.$headers.filter( function( i ) {\n\t\t\t\t\t\t// only include headers that are in the sortList (this includes colspans)\n\t\t\t\t\t\tvar include = true,\n\t\t\t\t\t\t\t$el = c.$headers.eq( i ),\n\t\t\t\t\t\t\tcol = parseInt( $el.attr( 'data-column' ), 10 ),\n\t\t\t\t\t\t\tend = col + ts.getClosest( $el, 'th, td' )[0].colSpan;\n\t\t\t\t\t\tfor ( ; col < end; col++ ) {\n\t\t\t\t\t\t\tinclude = include ? include || ts.isValueInArray( col, c.sortList ) > -1 : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn include;\n\t\t\t\t\t});\n\n\t\t\t\t\t// choose the :last in case there are nested columns\n\t\t\t\t\t$sorted = $sorted\n\t\t\t\t\t\t.not( '.sorter-false' )\n\t\t\t\t\t\t.filter( '[data-column=\"' + list[ indx ][ 0 ] + '\"]' + ( len === 1 ? ':last' : '' ) );\n\t\t\t\t\tif ( $sorted.length ) {\n\t\t\t\t\t\tfor ( column = 0; column < $sorted.length; column++ ) {\n\t\t\t\t\t\t\tif ( !$sorted[ column ].sortDisabled ) {\n\t\t\t\t\t\t\t\tupdateColumnSort( $sorted.eq( column ), list[ indx ][ 1 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// add sorted class to footer & extra headers, if they exist\n\t\t\t\t\tif ( $extras.length ) {\n\t\t\t\t\t\tupdateColumnSort( $extras.filter( '[data-column=\"' + list[ indx ][ 0 ] + '\"]' ), list[ indx ][ 1 ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add verbose aria labels\n\t\t\tlen = c.$headers.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tts.setColumnAriaLabel( c, c.$headers.eq( indx ) );\n\t\t\t}\n\t\t},\n\n\t\tgetClosest : function( $el, selector ) {\n\t\t\t// jQuery v1.2.6 doesn't have closest()\n\t\t\tif ( $.fn.closest ) {\n\t\t\t\treturn $el.closest( selector );\n\t\t\t}\n\t\t\treturn $el.is( selector ) ?\n\t\t\t\t$el :\n\t\t\t\t$el.parents( selector ).filter( ':first' );\n\t\t},\n\n\t\t// nextSort (optional), lets you disable next sort text\n\t\tsetColumnAriaLabel : function( c, $header, nextSort ) {\n\t\t\tif ( $header.length ) {\n\t\t\t\tvar column = parseInt( $header.attr( 'data-column' ), 10 ),\n\t\t\t\t\tvars = c.sortVars[ column ],\n\t\t\t\t\ttmp = $header.hasClass( ts.css.sortAsc ) ?\n\t\t\t\t\t\t'sortAsc' :\n\t\t\t\t\t\t$header.hasClass( ts.css.sortDesc ) ? 'sortDesc' : 'sortNone',\n\t\t\t\t\ttxt = $.trim( $header.text() ) + ': ' + ts.language[ tmp ];\n\t\t\t\tif ( $header.hasClass( 'sorter-false' ) || nextSort === false ) {\n\t\t\t\t\ttxt += ts.language.sortDisabled;\n\t\t\t\t} else {\n\t\t\t\t\ttmp = ( vars.count + 1 ) % vars.order.length;\n\t\t\t\t\tnextSort = vars.order[ tmp ];\n\t\t\t\t\t// if nextSort\n\t\t\t\t\ttxt += ts.language[ nextSort === 0 ? 'nextAsc' : nextSort === 1 ? 'nextDesc' : 'nextNone' ];\n\t\t\t\t}\n\t\t\t\t$header.attr( 'aria-label', txt );\n\t\t\t\tif (vars.sortedBy) {\n\t\t\t\t\t$header.attr( 'data-sortedBy', vars.sortedBy );\n\t\t\t\t} else {\n\t\t\t\t\t$header.removeAttr('data-sortedBy');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateHeader : function( c ) {\n\t\t\tvar index, isDisabled, $header, col,\n\t\t\t\ttable = c.table,\n\t\t\t\tlen = c.$headers.length;\n\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t$header = c.$headers.eq( index );\n\t\t\t\tcol = ts.getColumnData( table, c.headers, index, true );\n\t\t\t\t// add 'sorter-false' class if 'parser-false' is set\n\t\t\t\tisDisabled = ts.getData( $header, col, 'sorter' ) === 'false' || ts.getData( $header, col, 'parser' ) === 'false';\n\t\t\t\tts.setColumnSort( c, $header, isDisabled );\n\t\t\t}\n\t\t},\n\n\t\tsetColumnSort : function( c, $header, isDisabled ) {\n\t\t\tvar id = c.table.id;\n\t\t\t$header[ 0 ].sortDisabled = isDisabled;\n\t\t\t$header[ isDisabled ? 'addClass' : 'removeClass' ]( 'sorter-false' )\n\t\t\t\t.attr( 'aria-disabled', '' + isDisabled );\n\t\t\t// disable tab index on disabled cells\n\t\t\tif ( c.tabIndex ) {\n\t\t\t\tif ( isDisabled ) {\n\t\t\t\t\t$header.removeAttr( 'tabindex' );\n\t\t\t\t} else {\n\t\t\t\t\t$header.attr( 'tabindex', '0' );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// aria-controls - requires table ID\n\t\t\tif ( id ) {\n\t\t\t\tif ( isDisabled ) {\n\t\t\t\t\t$header.removeAttr( 'aria-controls' );\n\t\t\t\t} else {\n\t\t\t\t\t$header.attr( 'aria-controls', id );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateHeaderSortCount : function( c, list ) {\n\t\t\tvar col, dir, group, indx, primary, temp, val, order,\n\t\t\t\tsortList = list || c.sortList,\n\t\t\t\tlen = sortList.length;\n\t\t\tc.sortList = [];\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tval = sortList[ indx ];\n\t\t\t\t// ensure all sortList values are numeric - fixes #127\n\t\t\t\tcol = parseInt( val[ 0 ], 10 );\n\t\t\t\t// prevents error if sorton array is wrong\n\t\t\t\tif ( col < c.columns ) {\n\n\t\t\t\t\t// set order if not already defined - due to colspan header without associated header cell\n\t\t\t\t\t// adding this check prevents a javascript error\n\t\t\t\t\tif ( !c.sortVars[ col ].order ) {\n\t\t\t\t\t\tif ( ts.getOrder( c.sortInitialOrder ) ) {\n\t\t\t\t\t\t\torder = c.sortReset ? [ 1, 0, 2 ] : [ 1, 0 ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\torder = c.sortReset ? [ 0, 1, 2 ] : [ 0, 1 ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tc.sortVars[ col ].order = order;\n\t\t\t\t\t\tc.sortVars[ col ].count = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\torder = c.sortVars[ col ].order;\n\t\t\t\t\tdir = ( '' + val[ 1 ] ).match( /^(1|d|s|o|n)/ );\n\t\t\t\t\tdir = dir ? dir[ 0 ] : '';\n\t\t\t\t\t// 0/(a)sc (default), 1/(d)esc, (s)ame, (o)pposite, (n)ext\n\t\t\t\t\tswitch ( dir ) {\n\t\t\t\t\t\tcase '1' : case 'd' : // descending\n\t\t\t\t\t\t\tdir = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 's' : // same direction (as primary column)\n\t\t\t\t\t\t\t// if primary sort is set to 's', make it ascending\n\t\t\t\t\t\t\tdir = primary || 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'o' :\n\t\t\t\t\t\t\ttemp = order[ ( primary || 0 ) % order.length ];\n\t\t\t\t\t\t\t// opposite of primary column; but resets if primary resets\n\t\t\t\t\t\t\tdir = temp === 0 ? 1 : temp === 1 ? 0 : 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'n' :\n\t\t\t\t\t\t\tdir = order[ ( ++c.sortVars[ col ].count ) % order.length ];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault : // ascending\n\t\t\t\t\t\t\tdir = 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tprimary = indx === 0 ? dir : primary;\n\t\t\t\t\tgroup = [ col, parseInt( dir, 10 ) || 0 ];\n\t\t\t\t\tc.sortList[ c.sortList.length ] = group;\n\t\t\t\t\tdir = $.inArray( group[ 1 ], order ); // fixes issue #167\n\t\t\t\t\tc.sortVars[ col ].count = dir >= 0 ? dir : group[ 1 ] % order.length;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateAll : function( c, resort, callback ) {\n\t\t\tvar table = c.table;\n\t\t\ttable.isUpdating = true;\n\t\t\tts.refreshWidgets( table, true, true );\n\t\t\tts.buildHeaders( c );\n\t\t\tts.bindEvents( table, c.$headers, true );\n\t\t\tts.bindMethods( c );\n\t\t\tts.commonUpdate( c, resort, callback );\n\t\t},\n\n\t\tupdate : function( c, resort, callback ) {\n\t\t\tvar table = c.table;\n\t\t\ttable.isUpdating = true;\n\t\t\t// update sorting (if enabled/disabled)\n\t\t\tts.updateHeader( c );\n\t\t\tts.commonUpdate( c, resort, callback );\n\t\t},\n\n\t\t// simple header update - see #989\n\t\tupdateHeaders : function( c, callback ) {\n\t\t\tc.table.isUpdating = true;\n\t\t\tts.buildHeaders( c );\n\t\t\tts.bindEvents( c.table, c.$headers, true );\n\t\t\tts.resortComplete( c, callback );\n\t\t},\n\n\t\tupdateCell : function( c, cell, resort, callback ) {\n\t\t\t// updateCell for child rows is a mess - we'll ignore them for now\n\t\t\t// eventually I'll break out the \"update\" row cache code to make everything consistent\n\t\t\tif ( $( cell ).closest( 'tr' ).hasClass( c.cssChildRow ) ) {\n\t\t\t\tconsole.warn('Tablesorter Warning! \"updateCell\" for child row content has been disabled, use \"update\" instead');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t// empty table, do an update instead - fixes #1099\n\t\t\t\tts.updateHeader( c );\n\t\t\t\tts.commonUpdate( c, resort, callback );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tc.table.isUpdating = true;\n\t\t\tc.$table.find( c.selectorRemove ).remove();\n\t\t\t// get position from the dom\n\t\t\tvar tmp, indx, row, icell, cache, len,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\t$cell = $( cell ),\n\t\t\t\t// update cache - format: function( s, table, cell, cellIndex )\n\t\t\t\t// no closest in jQuery v1.2.6\n\t\t\t\ttbodyIndex = $tbodies.index( ts.getClosest( $cell, 'tbody' ) ),\n\t\t\t\ttbcache = c.cache[ tbodyIndex ],\n\t\t\t\t$row = ts.getClosest( $cell, 'tr' );\n\t\t\tcell = $cell[ 0 ]; // in case cell is a jQuery object\n\t\t\t// tbody may not exist if update is initialized while tbody is removed for processing\n\t\t\tif ( $tbodies.length && tbodyIndex >= 0 ) {\n\t\t\t\trow = $tbodies.eq( tbodyIndex ).find( 'tr' ).not( '.' + c.cssChildRow ).index( $row );\n\t\t\t\tcache = tbcache.normalized[ row ];\n\t\t\t\tlen = $row[ 0 ].cells.length;\n\t\t\t\tif ( len !== c.columns ) {\n\t\t\t\t\t// colspan in here somewhere!\n\t\t\t\t\ticell = 0;\n\t\t\t\t\ttmp = false;\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\t\tif ( !tmp && $row[ 0 ].cells[ indx ] !== cell ) {\n\t\t\t\t\t\t\ticell += $row[ 0 ].cells[ indx ].colSpan;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ticell = $cell.index();\n\t\t\t\t}\n\t\t\t\ttmp = ts.getElementText( c, cell, icell ); // raw\n\t\t\t\tcache[ c.columns ].raw[ icell ] = tmp;\n\t\t\t\ttmp = ts.getParsedText( c, cell, icell, tmp );\n\t\t\t\tcache[ icell ] = tmp; // parsed\n\t\t\t\tif ( ( c.parsers[ icell ].type || '' ).toLowerCase() === 'numeric' ) {\n\t\t\t\t\t// update column max value (ignore sign)\n\t\t\t\t\ttbcache.colMax[ icell ] = Math.max( Math.abs( tmp ) || 0, tbcache.colMax[ icell ] || 0 );\n\t\t\t\t}\n\t\t\t\ttmp = resort !== 'undefined' ? resort : c.resort;\n\t\t\t\tif ( tmp !== false ) {\n\t\t\t\t\t// widgets will be reapplied\n\t\t\t\t\tts.checkResort( c, tmp, callback );\n\t\t\t\t} else {\n\t\t\t\t\t// don't reapply widgets is resort is false, just in case it causes\n\t\t\t\t\t// problems with element focus\n\t\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.error( 'updateCell aborted, tbody missing or not within the indicated table' );\n\t\t\t\t}\n\t\t\t\tc.table.isUpdating = false;\n\t\t\t}\n\t\t},\n\n\t\taddRows : function( c, $row, resort, callback ) {\n\t\t\tvar txt, val, tbodyIndex, rowIndex, rows, cellIndex, len, order,\n\t\t\t\tcacheIndex, rowData, cells, cell, span,\n\t\t\t\t// allow passing a row string if only one non-info tbody exists in the table\n\t\t\t\tvalid = typeof $row === 'string' && c.$tbodies.length === 1 && /<tr/.test( $row || '' ),\n\t\t\t\ttable = c.table;\n\t\t\tif ( valid ) {\n\t\t\t\t$row = $( $row );\n\t\t\t\tc.$tbodies.append( $row );\n\t\t\t} else if (\n\t\t\t\t!$row ||\n\t\t\t\t// row is a jQuery object?\n\t\t\t\t!( $row instanceof $ ) ||\n\t\t\t\t// row contained in the table?\n\t\t\t\t( ts.getClosest( $row, 'table' )[ 0 ] !== c.table )\n\t\t\t) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.error( 'addRows method requires (1) a jQuery selector reference to rows that have already ' +\n\t\t\t\t\t\t'been added to the table, or (2) row HTML string to be added to a table with only one tbody' );\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttable.isUpdating = true;\n\t\t\tif ( ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t// empty table, do an update instead - fixes #450\n\t\t\t\tts.updateHeader( c );\n\t\t\t\tts.commonUpdate( c, resort, callback );\n\t\t\t} else {\n\t\t\t\trows = $row.filter( 'tr' ).attr( 'role', 'row' ).length;\n\t\t\t\ttbodyIndex = c.$tbodies.index( $row.parents( 'tbody' ).filter( ':first' ) );\n\t\t\t\t// fixes adding rows to an empty table - see issue #179\n\t\t\t\tif ( !( c.parsers && c.parsers.length ) ) {\n\t\t\t\t\tts.setupParsers( c );\n\t\t\t\t}\n\t\t\t\t// add each row\n\t\t\t\tfor ( rowIndex = 0; rowIndex < rows; rowIndex++ ) {\n\t\t\t\t\tcacheIndex = 0;\n\t\t\t\t\tlen = $row[ rowIndex ].cells.length;\n\t\t\t\t\torder = c.cache[ tbodyIndex ].normalized.length;\n\t\t\t\t\tcells = [];\n\t\t\t\t\trowData = {\n\t\t\t\t\t\tchild : [],\n\t\t\t\t\t\traw : [],\n\t\t\t\t\t\t$row : $row.eq( rowIndex ),\n\t\t\t\t\t\torder : order\n\t\t\t\t\t};\n\t\t\t\t\t// add each cell\n\t\t\t\t\tfor ( cellIndex = 0; cellIndex < len; cellIndex++ ) {\n\t\t\t\t\t\tcell = $row[ rowIndex ].cells[ cellIndex ];\n\t\t\t\t\t\ttxt = ts.getElementText( c, cell, cacheIndex );\n\t\t\t\t\t\trowData.raw[ cacheIndex ] = txt;\n\t\t\t\t\t\tval = ts.getParsedText( c, cell, cacheIndex, txt );\n\t\t\t\t\t\tcells[ cacheIndex ] = val;\n\t\t\t\t\t\tif ( ( c.parsers[ cacheIndex ].type || '' ).toLowerCase() === 'numeric' ) {\n\t\t\t\t\t\t\t// update column max value (ignore sign)\n\t\t\t\t\t\t\tc.cache[ tbodyIndex ].colMax[ cacheIndex ] =\n\t\t\t\t\t\t\t\tMath.max( Math.abs( val ) || 0, c.cache[ tbodyIndex ].colMax[ cacheIndex ] || 0 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tspan = cell.colSpan - 1;\n\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\tcacheIndex += span;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcacheIndex++;\n\t\t\t\t\t}\n\t\t\t\t\t// add the row data to the end\n\t\t\t\t\tcells[ c.columns ] = rowData;\n\t\t\t\t\t// update cache\n\t\t\t\t\tc.cache[ tbodyIndex ].normalized[ order ] = cells;\n\t\t\t\t}\n\t\t\t\t// resort using current settings\n\t\t\t\tts.checkResort( c, resort, callback );\n\t\t\t}\n\t\t},\n\n\t\tupdateCache : function( c, callback, $tbodies ) {\n\t\t\t// rebuild parsers\n\t\t\tif ( !( c.parsers && c.parsers.length ) ) {\n\t\t\t\tts.setupParsers( c, $tbodies );\n\t\t\t}\n\t\t\t// rebuild the cache map\n\t\t\tts.buildCache( c, callback, $tbodies );\n\t\t},\n\n\t\t// init flag (true) used by pager plugin to prevent widget application\n\t\t// renamed from appendToTable\n\t\tappendCache : function( c, init ) {\n\t\t\tvar parsed, totalRows, $tbody, $curTbody, rowIndex, tbodyIndex, appendTime,\n\t\t\t\ttable = c.table,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\trows = [],\n\t\t\t\tcache = c.cache;\n\t\t\t// empty table - fixes #206/#346\n\t\t\tif ( ts.isEmptyObject( cache ) ) {\n\t\t\t\t// run pager appender in case the table was just emptied\n\t\t\t\treturn c.appender ? c.appender( table, rows ) :\n\t\t\t\t\ttable.isUpdating ? c.$table.triggerHandler( 'updateComplete', table ) : ''; // Fixes #532\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tappendTime = new Date();\n\t\t\t}\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = $tbodies.eq( tbodyIndex );\n\t\t\t\tif ( $tbody.length ) {\n\t\t\t\t\t// detach tbody for manipulation\n\t\t\t\t\t$curTbody = ts.processTbody( table, $tbody, true );\n\t\t\t\t\tparsed = cache[ tbodyIndex ].normalized;\n\t\t\t\t\ttotalRows = parsed.length;\n\t\t\t\t\tfor ( rowIndex = 0; rowIndex < totalRows; rowIndex++ ) {\n\t\t\t\t\t\trows[rows.length] = parsed[ rowIndex ][ c.columns ].$row;\n\t\t\t\t\t\t// removeRows used by the pager plugin; don't render if using ajax - fixes #411\n\t\t\t\t\t\tif ( !c.appender || ( c.pager && !c.pager.removeRows && !c.pager.ajax ) ) {\n\t\t\t\t\t\t\t$curTbody.append( parsed[ rowIndex ][ c.columns ].$row );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// restore tbody\n\t\t\t\t\tts.processTbody( table, $curTbody, false );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( c.appender ) {\n\t\t\t\tc.appender( table, rows );\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Rebuilt table' + ts.benchmark( appendTime ) );\n\t\t\t}\n\t\t\t// apply table widgets; but not before ajax completes\n\t\t\tif ( !init && !c.appender ) {\n\t\t\t\tts.applyWidget( table );\n\t\t\t}\n\t\t\tif ( table.isUpdating ) {\n\t\t\t\tc.$table.triggerHandler( 'updateComplete', table );\n\t\t\t}\n\t\t},\n\n\t\tcommonUpdate : function( c, resort, callback ) {\n\t\t\t// remove rows/elements before update\n\t\t\tc.$table.find( c.selectorRemove ).remove();\n\t\t\t// rebuild parsers\n\t\t\tts.setupParsers( c );\n\t\t\t// rebuild the cache map\n\t\t\tts.buildCache( c );\n\t\t\tts.checkResort( c, resort, callback );\n\t\t},\n\n\t\t/*\n\t\t▄█████ ▄████▄ █████▄ ██████ ██ █████▄ ▄████▄\n\t\t▀█▄    ██  ██ ██▄▄██   ██   ██ ██  ██ ██ ▄▄▄\n\t\t   ▀█▄ ██  ██ ██▀██    ██   ██ ██  ██ ██ ▀██\n\t\t█████▀ ▀████▀ ██  ██   ██   ██ ██  ██ ▀████▀\n\t\t*/\n\t\tinitSort : function( c, cell, event ) {\n\t\t\tif ( c.table.isUpdating ) {\n\t\t\t\t// let any updates complete before initializing a sort\n\t\t\t\treturn setTimeout( function() {\n\t\t\t\t\tts.initSort( c, cell, event );\n\t\t\t\t}, 50 );\n\t\t\t}\n\n\t\t\tvar arry, indx, headerIndx, dir, temp, tmp, $header,\n\t\t\t\tnotMultiSort = !event[ c.sortMultiSortKey ],\n\t\t\t\ttable = c.table,\n\t\t\t\tlen = c.$headers.length,\n\t\t\t\tth = ts.getClosest( $( cell ), 'th, td' ),\n\t\t\t\tcol = parseInt( th.attr( 'data-column' ), 10 ),\n\t\t\t\tsortedBy = event.type === 'mouseup' ? 'user' : event.type,\n\t\t\t\torder = c.sortVars[ col ].order;\n\t\t\tth = th[0];\n\t\t\t// Only call sortStart if sorting is enabled\n\t\t\tc.$table.triggerHandler( 'sortStart', table );\n\t\t\t// get current column sort order\n\t\t\ttmp = ( c.sortVars[ col ].count + 1 ) % order.length;\n\t\t\tc.sortVars[ col ].count = event[ c.sortResetKey ] ? 2 : tmp;\n\t\t\t// reset all sorts on non-current column - issue #30\n\t\t\tif ( c.sortRestart ) {\n\t\t\t\tfor ( headerIndx = 0; headerIndx < len; headerIndx++ ) {\n\t\t\t\t\t$header = c.$headers.eq( headerIndx );\n\t\t\t\t\ttmp = parseInt( $header.attr( 'data-column' ), 10 );\n\t\t\t\t\t// only reset counts on columns that weren't just clicked on and if not included in a multisort\n\t\t\t\t\tif ( col !== tmp && ( notMultiSort || $header.hasClass( ts.css.sortNone ) ) ) {\n\t\t\t\t\t\tc.sortVars[ tmp ].count = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// user only wants to sort on one column\n\t\t\tif ( notMultiSort ) {\n\t\t\t\t$.each( c.sortVars, function( i ) {\n\t\t\t\t\tc.sortVars[ i ].sortedBy = '';\n\t\t\t\t});\n\t\t\t\t// flush the sort list\n\t\t\t\tc.sortList = [];\n\t\t\t\tc.last.sortList = [];\n\t\t\t\tif ( c.sortForce !== null ) {\n\t\t\t\t\tarry = c.sortForce;\n\t\t\t\t\tfor ( indx = 0; indx < arry.length; indx++ ) {\n\t\t\t\t\t\tif ( arry[ indx ][ 0 ] !== col ) {\n\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = arry[ indx ];\n\t\t\t\t\t\t\tc.sortVars[ arry[ indx ][ 0 ] ].sortedBy = 'sortForce';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// add column to sort list\n\t\t\t\tdir = order[ c.sortVars[ col ].count ];\n\t\t\t\tif ( dir < 2 ) {\n\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col, dir ];\n\t\t\t\t\tc.sortVars[ col ].sortedBy = sortedBy;\n\t\t\t\t\t// add other columns if header spans across multiple\n\t\t\t\t\tif ( th.colSpan > 1 ) {\n\t\t\t\t\t\tfor ( indx = 1; indx < th.colSpan; indx++ ) {\n\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col + indx, dir ];\n\t\t\t\t\t\t\t// update count on columns in colSpan\n\t\t\t\t\t\t\tc.sortVars[ col + indx ].count = $.inArray( dir, order );\n\t\t\t\t\t\t\tc.sortVars[ col + indx ].sortedBy = sortedBy;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// multi column sorting\n\t\t\t} else {\n\t\t\t\t// get rid of the sortAppend before adding more - fixes issue #115 & #523\n\t\t\t\tc.sortList = $.extend( [], c.last.sortList );\n\n\t\t\t\t// the user has clicked on an already sorted column\n\t\t\t\tif ( ts.isValueInArray( col, c.sortList ) >= 0 ) {\n\t\t\t\t\t// reverse the sorting direction\n\t\t\t\t\tc.sortVars[ col ].sortedBy = sortedBy;\n\t\t\t\t\tfor ( indx = 0; indx < c.sortList.length; indx++ ) {\n\t\t\t\t\t\ttmp = c.sortList[ indx ];\n\t\t\t\t\t\tif ( tmp[ 0 ] === col ) {\n\t\t\t\t\t\t\t// order.count seems to be incorrect when compared to cell.count\n\t\t\t\t\t\t\ttmp[ 1 ] = order[ c.sortVars[ col ].count ];\n\t\t\t\t\t\t\tif ( tmp[1] === 2 ) {\n\t\t\t\t\t\t\t\tc.sortList.splice( indx, 1 );\n\t\t\t\t\t\t\t\tc.sortVars[ col ].count = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// add column to sort list array\n\t\t\t\t\tdir = order[ c.sortVars[ col ].count ];\n\t\t\t\t\tc.sortVars[ col ].sortedBy = sortedBy;\n\t\t\t\t\tif ( dir < 2 ) {\n\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col, dir ];\n\t\t\t\t\t\t// add other columns if header spans across multiple\n\t\t\t\t\t\tif ( th.colSpan > 1 ) {\n\t\t\t\t\t\t\tfor ( indx = 1; indx < th.colSpan; indx++ ) {\n\t\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col + indx, dir ];\n\t\t\t\t\t\t\t\t// update count on columns in colSpan\n\t\t\t\t\t\t\t\tc.sortVars[ col + indx ].count = $.inArray( dir, order );\n\t\t\t\t\t\t\t\tc.sortVars[ col + indx ].sortedBy = sortedBy;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// save sort before applying sortAppend\n\t\t\tc.last.sortList = $.extend( [], c.sortList );\n\t\t\tif ( c.sortList.length && c.sortAppend ) {\n\t\t\t\tarry = $.isArray( c.sortAppend ) ? c.sortAppend : c.sortAppend[ c.sortList[ 0 ][ 0 ] ];\n\t\t\t\tif ( !ts.isEmptyObject( arry ) ) {\n\t\t\t\t\tfor ( indx = 0; indx < arry.length; indx++ ) {\n\t\t\t\t\t\tif ( arry[ indx ][ 0 ] !== col && ts.isValueInArray( arry[ indx ][ 0 ], c.sortList ) < 0 ) {\n\t\t\t\t\t\t\tdir = arry[ indx ][ 1 ];\n\t\t\t\t\t\t\ttemp = ( '' + dir ).match( /^(a|d|s|o|n)/ );\n\t\t\t\t\t\t\tif ( temp ) {\n\t\t\t\t\t\t\t\ttmp = c.sortList[ 0 ][ 1 ];\n\t\t\t\t\t\t\t\tswitch ( temp[ 0 ] ) {\n\t\t\t\t\t\t\t\t\tcase 'd' :\n\t\t\t\t\t\t\t\t\t\tdir = 1;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 's' :\n\t\t\t\t\t\t\t\t\t\tdir = tmp;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'o' :\n\t\t\t\t\t\t\t\t\t\tdir = tmp === 0 ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'n' :\n\t\t\t\t\t\t\t\t\t\tdir = ( tmp + 1 ) % order.length;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tdir = 0;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ arry[ indx ][ 0 ], dir ];\n\t\t\t\t\t\t\tc.sortVars[ arry[ indx ][ 0 ] ].sortedBy = 'sortAppend';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// sortBegin event triggered immediately before the sort\n\t\t\tc.$table.triggerHandler( 'sortBegin', table );\n\t\t\t// setTimeout needed so the processing icon shows up\n\t\t\tsetTimeout( function() {\n\t\t\t\t// set css for headers\n\t\t\t\tts.setHeadersCss( c );\n\t\t\t\tts.multisort( c );\n\t\t\t\tts.appendCache( c );\n\t\t\t\tc.$table.triggerHandler( 'sortBeforeEnd', table );\n\t\t\t\tc.$table.triggerHandler( 'sortEnd', table );\n\t\t\t}, 1 );\n\t\t},\n\n\t\t// sort multiple columns\n\t\tmultisort : function( c ) { /*jshint loopfunc:true */\n\t\t\tvar tbodyIndex, sortTime, colMax, rows, tmp,\n\t\t\t\ttable = c.table,\n\t\t\t\tsorter = [],\n\t\t\t\tdir = 0,\n\t\t\t\ttextSorter = c.textSorter || '',\n\t\t\t\tsortList = c.sortList,\n\t\t\t\tsortLen = sortList.length,\n\t\t\t\tlen = c.$tbodies.length;\n\t\t\tif ( c.serverSideSorting || ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t// empty table - fixes #206/#346\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) { sortTime = new Date(); }\n\t\t\t// cache textSorter to optimize speed\n\t\t\tif ( typeof textSorter === 'object' ) {\n\t\t\t\tcolMax = c.columns;\n\t\t\t\twhile ( colMax-- ) {\n\t\t\t\t\ttmp = ts.getColumnData( table, textSorter, colMax );\n\t\t\t\t\tif ( typeof tmp === 'function' ) {\n\t\t\t\t\t\tsorter[ colMax ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < len; tbodyIndex++ ) {\n\t\t\t\tcolMax = c.cache[ tbodyIndex ].colMax;\n\t\t\t\trows = c.cache[ tbodyIndex ].normalized;\n\n\t\t\t\trows.sort( function( a, b ) {\n\t\t\t\t\tvar sortIndex, num, col, order, sort, x, y;\n\t\t\t\t\t// rows is undefined here in IE, so don't use it!\n\t\t\t\t\tfor ( sortIndex = 0; sortIndex < sortLen; sortIndex++ ) {\n\t\t\t\t\t\tcol = sortList[ sortIndex ][ 0 ];\n\t\t\t\t\t\torder = sortList[ sortIndex ][ 1 ];\n\t\t\t\t\t\t// sort direction, true = asc, false = desc\n\t\t\t\t\t\tdir = order === 0;\n\n\t\t\t\t\t\tif ( c.sortStable && a[ col ] === b[ col ] && sortLen === 1 ) {\n\t\t\t\t\t\t\treturn a[ c.columns ].order - b[ c.columns ].order;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// fallback to natural sort since it is more robust\n\t\t\t\t\t\tnum = /n/i.test( ts.getSortType( c.parsers, col ) );\n\t\t\t\t\t\tif ( num && c.strings[ col ] ) {\n\t\t\t\t\t\t\t// sort strings in numerical columns\n\t\t\t\t\t\t\tif ( typeof ( ts.string[ c.strings[ col ] ] ) === 'boolean' ) {\n\t\t\t\t\t\t\t\tnum = ( dir ? 1 : -1 ) * ( ts.string[ c.strings[ col ] ] ? -1 : 1 );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnum = ( c.strings[ col ] ) ? ts.string[ c.strings[ col ] ] || 0 : 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// fall back to built-in numeric sort\n\t\t\t\t\t\t\t// var sort = $.tablesorter['sort' + s]( a[col], b[col], dir, colMax[col], table );\n\t\t\t\t\t\t\tsort = c.numberSorter ? c.numberSorter( a[ col ], b[ col ], dir, colMax[ col ], table ) :\n\t\t\t\t\t\t\t\tts[ 'sortNumeric' + ( dir ? 'Asc' : 'Desc' ) ]( a[ col ], b[ col ], num, colMax[ col ], col, c );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// set a & b depending on sort direction\n\t\t\t\t\t\t\tx = dir ? a : b;\n\t\t\t\t\t\t\ty = dir ? b : a;\n\t\t\t\t\t\t\t// text sort function\n\t\t\t\t\t\t\tif ( typeof textSorter === 'function' ) {\n\t\t\t\t\t\t\t\t// custom OVERALL text sorter\n\t\t\t\t\t\t\t\tsort = textSorter( x[ col ], y[ col ], dir, col, table );\n\t\t\t\t\t\t\t} else if ( typeof sorter[ col ] === 'function' ) {\n\t\t\t\t\t\t\t\t// custom text sorter for a SPECIFIC COLUMN\n\t\t\t\t\t\t\t\tsort = sorter[ col ]( x[ col ], y[ col ], dir, col, table );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// fall back to natural sort\n\t\t\t\t\t\t\t\tsort = ts[ 'sortNatural' + ( dir ? 'Asc' : 'Desc' ) ]( a[ col ] || '', b[ col ] || '', col, c );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( sort ) { return sort; }\n\t\t\t\t\t}\n\t\t\t\t\treturn a[ c.columns ].order - b[ c.columns ].order;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Applying sort ' + sortList.toString() + ts.benchmark( sortTime ) );\n\t\t\t}\n\t\t},\n\n\t\tresortComplete : function( c, callback ) {\n\t\t\tif ( c.table.isUpdating ) {\n\t\t\t\tc.$table.triggerHandler( 'updateComplete', c.table );\n\t\t\t}\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( c.table );\n\t\t\t}\n\t\t},\n\n\t\tcheckResort : function( c, resort, callback ) {\n\t\t\tvar sortList = $.isArray( resort ) ? resort : c.sortList,\n\t\t\t\t// if no resort parameter is passed, fallback to config.resort (true by default)\n\t\t\t\tresrt = typeof resort === 'undefined' ? c.resort : resort;\n\t\t\t// don't try to resort if the table is still processing\n\t\t\t// this will catch spamming of the updateCell method\n\t\t\tif ( resrt !== false && !c.serverSideSorting && !c.table.isProcessing ) {\n\t\t\t\tif ( sortList.length ) {\n\t\t\t\t\tts.sortOn( c, sortList, function() {\n\t\t\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\t\t}, true );\n\t\t\t\t} else {\n\t\t\t\t\tts.sortReset( c, function() {\n\t\t\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\t\t\tts.applyWidget( c.table, false );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\tts.applyWidget( c.table, false );\n\t\t\t}\n\t\t},\n\n\t\tsortOn : function( c, list, callback, init ) {\n\t\t\tvar indx,\n\t\t\t\ttable = c.table;\n\t\t\tc.$table.triggerHandler( 'sortStart', table );\n\t\t\tfor (indx = 0; indx < c.columns; indx++) {\n\t\t\t\tc.sortVars[ indx ].sortedBy = ts.isValueInArray( indx, list ) > -1 ? 'sorton' : '';\n\t\t\t}\n\t\t\t// update header count index\n\t\t\tts.updateHeaderSortCount( c, list );\n\t\t\t// set css for headers\n\t\t\tts.setHeadersCss( c );\n\t\t\t// fixes #346\n\t\t\tif ( c.delayInit && ts.isEmptyObject( c.cache ) ) {\n\t\t\t\tts.buildCache( c );\n\t\t\t}\n\t\t\tc.$table.triggerHandler( 'sortBegin', table );\n\t\t\t// sort the table and append it to the dom\n\t\t\tts.multisort( c );\n\t\t\tts.appendCache( c, init );\n\t\t\tc.$table.triggerHandler( 'sortBeforeEnd', table );\n\t\t\tc.$table.triggerHandler( 'sortEnd', table );\n\t\t\tts.applyWidget( table );\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t},\n\n\t\tsortReset : function( c, callback ) {\n\t\t\tc.sortList = [];\n\t\t\tvar indx;\n\t\t\tfor (indx = 0; indx < c.columns; indx++) {\n\t\t\t\tc.sortVars[ indx ].count = -1;\n\t\t\t\tc.sortVars[ indx ].sortedBy = '';\n\t\t\t}\n\t\t\tts.setHeadersCss( c );\n\t\t\tts.multisort( c );\n\t\t\tts.appendCache( c );\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( c.table );\n\t\t\t}\n\t\t},\n\n\t\tgetSortType : function( parsers, column ) {\n\t\t\treturn ( parsers && parsers[ column ] ) ? parsers[ column ].type || '' : '';\n\t\t},\n\n\t\tgetOrder : function( val ) {\n\t\t\t// look for 'd' in 'desc' order; return true\n\t\t\treturn ( /^d/i.test( val ) || val === 1 );\n\t\t},\n\n\t\t// Natural sort - https://github.com/overset/javascript-natural-sort (date sorting removed)\n\t\tsortNatural : function( a, b ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\ta = ( a || '' ).toString();\n\t\t\tb = ( b || '' ).toString();\n\t\t\tvar aNum, bNum, aFloat, bFloat, indx, max,\n\t\t\t\tregex = ts.regex;\n\t\t\t// first try and sort Hex codes\n\t\t\tif ( regex.hex.test( b ) ) {\n\t\t\t\taNum = parseInt( a.match( regex.hex ), 16 );\n\t\t\t\tbNum = parseInt( b.match( regex.hex ), 16 );\n\t\t\t\tif ( aNum < bNum ) { return -1; }\n\t\t\t\tif ( aNum > bNum ) { return 1; }\n\t\t\t}\n\t\t\t// chunk/tokenize\n\t\t\taNum = a.replace( regex.chunk, '\\\\0$1\\\\0' ).replace( regex.chunks, '' ).split( '\\\\0' );\n\t\t\tbNum = b.replace( regex.chunk, '\\\\0$1\\\\0' ).replace( regex.chunks, '' ).split( '\\\\0' );\n\t\t\tmax = Math.max( aNum.length, bNum.length );\n\t\t\t// natural sorting through split numeric strings and default strings\n\t\t\tfor ( indx = 0; indx < max; indx++ ) {\n\t\t\t\t// find floats not starting with '0', string or 0 if not defined\n\t\t\t\taFloat = isNaN( aNum[ indx ] ) ? aNum[ indx ] || 0 : parseFloat( aNum[ indx ] ) || 0;\n\t\t\t\tbFloat = isNaN( bNum[ indx ] ) ? bNum[ indx ] || 0 : parseFloat( bNum[ indx ] ) || 0;\n\t\t\t\t// handle numeric vs string comparison - number < string - (Kyle Adams)\n\t\t\t\tif ( isNaN( aFloat ) !== isNaN( bFloat ) ) { return isNaN( aFloat ) ? 1 : -1; }\n\t\t\t\t// rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n\t\t\t\tif ( typeof aFloat !== typeof bFloat ) {\n\t\t\t\t\taFloat += '';\n\t\t\t\t\tbFloat += '';\n\t\t\t\t}\n\t\t\t\tif ( aFloat < bFloat ) { return -1; }\n\t\t\t\tif ( aFloat > bFloat ) { return 1; }\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\tsortNaturalAsc : function( a, b, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : -empty || -1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : empty || 1; }\n\t\t\treturn ts.sortNatural( a, b );\n\t\t},\n\n\t\tsortNaturalDesc : function( a, b, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : empty || 1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : -empty || -1; }\n\t\t\treturn ts.sortNatural( b, a );\n\t\t},\n\n\t\t// basic alphabetical sort\n\t\tsortText : function( a, b ) {\n\t\t\treturn a > b ? 1 : ( a < b ? -1 : 0 );\n\t\t},\n\n\t\t// return text string value by adding up ascii value\n\t\t// so the text is somewhat sorted when using a digital sort\n\t\t// this is NOT an alphanumeric sort\n\t\tgetTextValue : function( val, num, max ) {\n\t\t\tif ( max ) {\n\t\t\t\t// make sure the text value is greater than the max numerical value (max)\n\t\t\t\tvar indx,\n\t\t\t\t\tlen = val ? val.length : 0,\n\t\t\t\t\tn = max + num;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\tn += val.charCodeAt( indx );\n\t\t\t\t}\n\t\t\t\treturn num * n;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\tsortNumericAsc : function( a, b, num, max, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : -empty || -1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : empty || 1; }\n\t\t\tif ( isNaN( a ) ) { a = ts.getTextValue( a, num, max ); }\n\t\t\tif ( isNaN( b ) ) { b = ts.getTextValue( b, num, max ); }\n\t\t\treturn a - b;\n\t\t},\n\n\t\tsortNumericDesc : function( a, b, num, max, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : empty || 1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : -empty || -1; }\n\t\t\tif ( isNaN( a ) ) { a = ts.getTextValue( a, num, max ); }\n\t\t\tif ( isNaN( b ) ) { b = ts.getTextValue( b, num, max ); }\n\t\t\treturn b - a;\n\t\t},\n\n\t\tsortNumeric : function( a, b ) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\t/*\n\t\t██ ██ ██ ██ █████▄ ▄████▄ ██████ ██████ ▄█████\n\t\t██ ██ ██ ██ ██  ██ ██ ▄▄▄ ██▄▄     ██   ▀█▄\n\t\t██ ██ ██ ██ ██  ██ ██ ▀██ ██▀▀     ██      ▀█▄\n\t\t███████▀ ██ █████▀ ▀████▀ ██████   ██   █████▀\n\t\t*/\n\t\taddWidget : function( widget ) {\n\t\t\tif ( widget.id && !ts.isEmptyObject( ts.getWidgetById( widget.id ) ) ) {\n\t\t\t\tconsole.warn( '\"' + widget.id + '\" widget was loaded more than once!' );\n\t\t\t}\n\t\t\tts.widgets[ ts.widgets.length ] = widget;\n\t\t},\n\n\t\thasWidget : function( $table, name ) {\n\t\t\t$table = $( $table );\n\t\t\treturn $table.length && $table[ 0 ].config && $table[ 0 ].config.widgetInit[ name ] || false;\n\t\t},\n\n\t\tgetWidgetById : function( name ) {\n\t\t\tvar indx, widget,\n\t\t\t\tlen = ts.widgets.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\twidget = ts.widgets[ indx ];\n\t\t\t\tif ( widget && widget.id && widget.id.toLowerCase() === name.toLowerCase() ) {\n\t\t\t\t\treturn widget;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyWidgetOptions : function( table ) {\n\t\t\tvar indx, widget, wo,\n\t\t\t\tc = table.config,\n\t\t\t\tlen = c.widgets.length;\n\t\t\tif ( len ) {\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = ts.getWidgetById( c.widgets[ indx ] );\n\t\t\t\t\tif ( widget && widget.options ) {\n\t\t\t\t\t\two = $.extend( true, {}, widget.options );\n\t\t\t\t\t\tc.widgetOptions = $.extend( true, wo, c.widgetOptions );\n\t\t\t\t\t\t// add widgetOptions to defaults for option validator\n\t\t\t\t\t\t$.extend( true, ts.defaults.widgetOptions, widget.options );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\taddWidgetFromClass : function( table ) {\n\t\t\tvar len, indx,\n\t\t\t\tc = table.config,\n\t\t\t\t// look for widgets to apply from table class\n\t\t\t\t// don't match from 'ui-widget-content'; use \\S instead of \\w to include widgets\n\t\t\t\t// with dashes in the name, e.g. \"widget-test-2\" extracts out \"test-2\"\n\t\t\t\tregex = '^' + c.widgetClass.replace( ts.regex.templateName, '(\\\\S+)+' ) + '$',\n\t\t\t\twidgetClass = new RegExp( regex, 'g' ),\n\t\t\t\t// split up table class (widget id's can include dashes) - stop using match\n\t\t\t\t// otherwise only one widget gets extracted, see #1109\n\t\t\t\twidgets = ( table.className || '' ).split( ts.regex.spaces );\n\t\t\tif ( widgets.length ) {\n\t\t\t\tlen = widgets.length;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\tif ( widgets[ indx ].match( widgetClass ) ) {\n\t\t\t\t\t\tc.widgets[ c.widgets.length ] = widgets[ indx ].replace( widgetClass, '$1' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyWidgetId : function( table, id, init ) {\n\t\t\ttable = $(table)[0];\n\t\t\tvar applied, time, name,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\twidget = ts.getWidgetById( id );\n\t\t\tif ( widget ) {\n\t\t\t\tname = widget.id;\n\t\t\t\tapplied = false;\n\t\t\t\t// add widget name to option list so it gets reapplied after sorting, filtering, etc\n\t\t\t\tif ( $.inArray( name, c.widgets ) < 0 ) {\n\t\t\t\t\tc.widgets[ c.widgets.length ] = name;\n\t\t\t\t}\n\t\t\t\tif ( debug ) { time = new Date(); }\n\n\t\t\t\tif ( init || !( c.widgetInit[ name ] ) ) {\n\t\t\t\t\t// set init flag first to prevent calling init more than once (e.g. pager)\n\t\t\t\t\tc.widgetInit[ name ] = true;\n\t\t\t\t\tif ( table.hasInitialized ) {\n\t\t\t\t\t\t// don't reapply widget options on tablesorter init\n\t\t\t\t\t\tts.applyWidgetOptions( table );\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof widget.init === 'function' ) {\n\t\t\t\t\t\tapplied = true;\n\t\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Initializing ' + name + ' widget' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\twidget.init( table, widget, c, wo );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( !init && typeof widget.format === 'function' ) {\n\t\t\t\t\tapplied = true;\n\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Updating ' + name + ' widget' );\n\t\t\t\t\t}\n\t\t\t\t\twidget.format( table, c, wo, false );\n\t\t\t\t}\n\t\t\t\tif ( debug ) {\n\t\t\t\t\tif ( applied ) {\n\t\t\t\t\t\tconsole.log( 'Completed ' + ( init ? 'initializing ' : 'applying ' ) + name + ' widget' + ts.benchmark( time ) );\n\t\t\t\t\t\tif ( console.groupEnd ) { console.groupEnd(); }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyWidget : function( table, init, callback ) {\n\t\t\ttable = $( table )[ 0 ]; // in case this is called externally\n\t\t\tvar indx, len, names, widget, time,\n\t\t\t\tc = table.config,\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\twidgets = [];\n\t\t\t// prevent numerous consecutive widget applications\n\t\t\tif ( init !== false && table.hasInitialized && ( table.isApplyingWidgets || table.isUpdating ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( debug ) { time = new Date(); }\n\t\t\tts.addWidgetFromClass( table );\n\t\t\t// prevent \"tablesorter-ready\" from firing multiple times in a row\n\t\t\tclearTimeout( c.timerReady );\n\t\t\tif ( c.widgets.length ) {\n\t\t\t\ttable.isApplyingWidgets = true;\n\t\t\t\t// ensure unique widget ids\n\t\t\t\tc.widgets = $.grep( c.widgets, function( val, index ) {\n\t\t\t\t\treturn $.inArray( val, c.widgets ) === index;\n\t\t\t\t});\n\t\t\t\tnames = c.widgets || [];\n\t\t\t\tlen = names.length;\n\t\t\t\t// build widget array & add priority as needed\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = ts.getWidgetById( names[ indx ] );\n\t\t\t\t\tif ( widget && widget.id ) {\n\t\t\t\t\t\t// set priority to 10 if not defined\n\t\t\t\t\t\tif ( !widget.priority ) { widget.priority = 10; }\n\t\t\t\t\t\twidgets[ indx ] = widget;\n\t\t\t\t\t} else if ( debug ) {\n\t\t\t\t\t\tconsole.warn( '\"' + names[ indx ] + '\" was enabled, but the widget code has not been loaded!' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// sort widgets by priority\n\t\t\t\twidgets.sort( function( a, b ) {\n\t\t\t\t\treturn a.priority < b.priority ? -1 : a.priority === b.priority ? 0 : 1;\n\t\t\t\t});\n\t\t\t\t// add/update selected widgets\n\t\t\t\tlen = widgets.length;\n\t\t\t\tif ( debug ) {\n\t\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Start ' + ( init ? 'initializing' : 'applying' ) + ' widgets' );\n\t\t\t\t}\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = widgets[ indx ];\n\t\t\t\t\tif ( widget && widget.id ) {\n\t\t\t\t\t\tts.applyWidgetId( table, widget.id, init );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( debug && console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\tc.timerReady = setTimeout( function() {\n\t\t\t\ttable.isApplyingWidgets = false;\n\t\t\t\t$.data( table, 'lastWidgetApplication', new Date() );\n\t\t\t\tc.$table.triggerHandler( 'tablesorter-ready' );\n\t\t\t\t// callback executed on init only\n\t\t\t\tif ( !init && typeof callback === 'function' ) {\n\t\t\t\t\tcallback( table );\n\t\t\t\t}\n\t\t\t\tif ( debug ) {\n\t\t\t\t\twidget = c.widgets.length;\n\t\t\t\t\tconsole.log( 'Completed ' +\n\t\t\t\t\t\t( init === true ? 'initializing ' : 'applying ' ) + widget +\n\t\t\t\t\t\t' widget' + ( widget !== 1 ? 's' : '' ) + ts.benchmark( time ) );\n\t\t\t\t}\n\t\t\t}, 10 );\n\t\t},\n\n\t\tremoveWidget : function( table, name, refreshing ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar index, widget, indx, len,\n\t\t\t\tc = table.config;\n\t\t\t// if name === true, add all widgets from $.tablesorter.widgets\n\t\t\tif ( name === true ) {\n\t\t\t\tname = [];\n\t\t\t\tlen = ts.widgets.length;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = ts.widgets[ indx ];\n\t\t\t\t\tif ( widget && widget.id ) {\n\t\t\t\t\t\tname[ name.length ] = widget.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// name can be either an array of widgets names,\n\t\t\t\t// or a space/comma separated list of widget names\n\t\t\t\tname = ( $.isArray( name ) ? name.join( ',' ) : name || '' ).toLowerCase().split( /[\\s,]+/ );\n\t\t\t}\n\t\t\tlen = name.length;\n\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\twidget = ts.getWidgetById( name[ index ] );\n\t\t\t\tindx = $.inArray( name[ index ], c.widgets );\n\t\t\t\t// don't remove the widget from config.widget if refreshing\n\t\t\t\tif ( indx >= 0 && refreshing !== true ) {\n\t\t\t\t\tc.widgets.splice( indx, 1 );\n\t\t\t\t}\n\t\t\t\tif ( widget && widget.remove ) {\n\t\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\t\tconsole.log( ( refreshing ? 'Refreshing' : 'Removing' ) + ' \"' + name[ index ] + '\" widget' );\n\t\t\t\t\t}\n\t\t\t\t\twidget.remove( table, c, c.widgetOptions, refreshing );\n\t\t\t\t\tc.widgetInit[ name[ index ] ] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tc.$table.triggerHandler( 'widgetRemoveEnd', table );\n\t\t},\n\n\t\trefreshWidgets : function( table, doAll, dontapply ) {\n\t\t\ttable = $( table )[ 0 ]; // see issue #243\n\t\t\tvar indx, widget,\n\t\t\t\tc = table.config,\n\t\t\t\tcurWidgets = c.widgets,\n\t\t\t\twidgets = ts.widgets,\n\t\t\t\tlen = widgets.length,\n\t\t\t\tlist = [],\n\t\t\t\tcallback = function( table ) {\n\t\t\t\t\t$( table ).triggerHandler( 'refreshComplete' );\n\t\t\t\t};\n\t\t\t// remove widgets not defined in config.widgets, unless doAll is true\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\twidget = widgets[ indx ];\n\t\t\t\tif ( widget && widget.id && ( doAll || $.inArray( widget.id, curWidgets ) < 0 ) ) {\n\t\t\t\t\tlist[ list.length ] = widget.id;\n\t\t\t\t}\n\t\t\t}\n\t\t\tts.removeWidget( table, list.join( ',' ), true );\n\t\t\tif ( dontapply !== true ) {\n\t\t\t\t// call widget init if\n\t\t\t\tts.applyWidget( table, doAll || false, callback );\n\t\t\t\tif ( doAll ) {\n\t\t\t\t\t// apply widget format\n\t\t\t\t\tts.applyWidget( table, false, callback );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t██  ██ ██████ ██ ██     ██ ██████ ██ ██████ ▄█████\n\t\t██  ██   ██   ██ ██     ██   ██   ██ ██▄▄   ▀█▄\n\t\t██  ██   ██   ██ ██     ██   ██   ██ ██▀▀      ▀█▄\n\t\t▀████▀   ██   ██ ██████ ██   ██   ██ ██████ █████▀\n\t\t*/\n\t\tbenchmark : function( diff ) {\n\t\t\treturn ( ' (' + ( new Date().getTime() - diff.getTime() ) + ' ms)' );\n\t\t},\n\t\t// deprecated ts.log\n\t\tlog : function() {\n\t\t\tconsole.log( arguments );\n\t\t},\n\t\tdebug : function(c, name) {\n\t\t\treturn c && (\n\t\t\t\tc.debug === true ||\n\t\t\t\ttypeof c.debug === 'string' && c.debug.indexOf(name) > -1\n\t\t\t);\n\t\t},\n\n\t\t// $.isEmptyObject from jQuery v1.4\n\t\tisEmptyObject : function( obj ) {\n\t\t\t/*jshint forin: false */\n\t\t\tfor ( var name in obj ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tisValueInArray : function( column, arry ) {\n\t\t\tvar indx,\n\t\t\t\tlen = arry && arry.length || 0;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( arry[ indx ][ 0 ] === column ) {\n\t\t\t\t\treturn indx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\tformatFloat : function( str, table ) {\n\t\t\tif ( typeof str !== 'string' || str === '' ) { return str; }\n\t\t\t// allow using formatFloat without a table; defaults to US number format\n\t\t\tvar num,\n\t\t\t\tusFormat = table && table.config ? table.config.usNumberFormat !== false :\n\t\t\t\t\ttypeof table !== 'undefined' ? table : true;\n\t\t\tif ( usFormat ) {\n\t\t\t\t// US Format - 1,234,567.89 -> 1234567.89\n\t\t\t\tstr = str.replace( ts.regex.comma, '' );\n\t\t\t} else {\n\t\t\t\t// German Format = 1.234.567,89 -> 1234567.89\n\t\t\t\t// French Format = 1 234 567,89 -> 1234567.89\n\t\t\t\tstr = str.replace( ts.regex.digitNonUS, '' ).replace( ts.regex.comma, '.' );\n\t\t\t}\n\t\t\tif ( ts.regex.digitNegativeTest.test( str ) ) {\n\t\t\t\t// make (#) into a negative number -> (10) = -10\n\t\t\t\tstr = str.replace( ts.regex.digitNegativeReplace, '-$1' );\n\t\t\t}\n\t\t\tnum = parseFloat( str );\n\t\t\t// return the text instead of zero\n\t\t\treturn isNaN( num ) ? $.trim( str ) : num;\n\t\t},\n\n\t\tisDigit : function( str ) {\n\t\t\t// replace all unwanted chars and match\n\t\t\treturn isNaN( str ) ?\n\t\t\t\tts.regex.digitTest.test( str.toString().replace( ts.regex.digitReplace, '' ) ) :\n\t\t\t\tstr !== '';\n\t\t},\n\n\t\t// computeTableHeaderCellIndexes from:\n\t\t// http://www.javascripttoolbox.com/lib/table/examples.php\n\t\t// http://www.javascripttoolbox.com/temp/table_cellindex.html\n\t\tcomputeColumnIndex : function( $rows, c ) {\n\t\t\tvar i, j, k, l, cell, cells, rowIndex, rowSpan, colSpan, firstAvailCol,\n\t\t\t\t// total columns has been calculated, use it to set the matrixrow\n\t\t\t\tcolumns = c && c.columns || 0,\n\t\t\t\tmatrix = [],\n\t\t\t\tmatrixrow = new Array( columns );\n\t\t\tfor ( i = 0; i < $rows.length; i++ ) {\n\t\t\t\tcells = $rows[ i ].cells;\n\t\t\t\tfor ( j = 0; j < cells.length; j++ ) {\n\t\t\t\t\tcell = cells[ j ];\n\t\t\t\t\trowIndex = i;\n\t\t\t\t\trowSpan = cell.rowSpan || 1;\n\t\t\t\t\tcolSpan = cell.colSpan || 1;\n\t\t\t\t\tif ( typeof matrix[ rowIndex ] === 'undefined' ) {\n\t\t\t\t\t\tmatrix[ rowIndex ] = [];\n\t\t\t\t\t}\n\t\t\t\t\t// Find first available column in the first row\n\t\t\t\t\tfor ( k = 0; k < matrix[ rowIndex ].length + 1; k++ ) {\n\t\t\t\t\t\tif ( typeof matrix[ rowIndex ][ k ] === 'undefined' ) {\n\t\t\t\t\t\t\tfirstAvailCol = k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// jscs:disable disallowEmptyBlocks\n\t\t\t\t\tif ( columns && cell.cellIndex === firstAvailCol ) {\n\t\t\t\t\t\t// don't to anything\n\t\t\t\t\t} else if ( cell.setAttribute ) {\n\t\t\t\t\t\t// jscs:enable disallowEmptyBlocks\n\t\t\t\t\t\t// add data-column (setAttribute = IE8+)\n\t\t\t\t\t\tcell.setAttribute( 'data-column', firstAvailCol );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// remove once we drop support for IE7 - 1/12/2016\n\t\t\t\t\t\t$( cell ).attr( 'data-column', firstAvailCol );\n\t\t\t\t\t}\n\t\t\t\t\tfor ( k = rowIndex; k < rowIndex + rowSpan; k++ ) {\n\t\t\t\t\t\tif ( typeof matrix[ k ] === 'undefined' ) {\n\t\t\t\t\t\t\tmatrix[ k ] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatrixrow = matrix[ k ];\n\t\t\t\t\t\tfor ( l = firstAvailCol; l < firstAvailCol + colSpan; l++ ) {\n\t\t\t\t\t\t\tmatrixrow[ l ] = 'x';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tts.checkColumnCount($rows, matrix, matrixrow.length);\n\t\t\treturn matrixrow.length;\n\t\t},\n\n\t\tcheckColumnCount : function($rows, matrix, columns) {\n\t\t\t// this DOES NOT report any tbody column issues, except for the math and\n\t\t\t// and column selector widgets\n\t\t\tvar i, len,\n\t\t\t\tvalid = true,\n\t\t\t\tcells = [];\n\t\t\tfor ( i = 0; i < matrix.length; i++ ) {\n\t\t\t\t// some matrix entries are undefined when testing the footer because\n\t\t\t\t// it is using the rowIndex property\n\t\t\t\tif ( matrix[i] ) {\n\t\t\t\t\tlen = matrix[i].length;\n\t\t\t\t\tif ( matrix[i].length !== columns ) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !valid ) {\n\t\t\t\t$rows.each( function( indx, el ) {\n\t\t\t\t\tvar cell = el.parentElement.nodeName;\n\t\t\t\t\tif ( cells.indexOf( cell ) < 0 ) {\n\t\t\t\t\t\tcells.push( cell );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Invalid or incorrect number of columns in the ' +\n\t\t\t\t\tcells.join( ' or ' ) + '; expected ' + columns +\n\t\t\t\t\t', but found ' + len + ' columns'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t// automatically add a colgroup with col elements set to a percentage width\n\t\tfixColumnWidth : function( table ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar overallWidth, percent, $tbodies, len, index,\n\t\t\t\tc = table.config,\n\t\t\t\t$colgroup = c.$table.children( 'colgroup' );\n\t\t\t// remove plugin-added colgroup, in case we need to refresh the widths\n\t\t\tif ( $colgroup.length && $colgroup.hasClass( ts.css.colgroup ) ) {\n\t\t\t\t$colgroup.remove();\n\t\t\t}\n\t\t\tif ( c.widthFixed && c.$table.children( 'colgroup' ).length === 0 ) {\n\t\t\t\t$colgroup = $( '<colgroup class=\"' + ts.css.colgroup + '\">' );\n\t\t\t\toverallWidth = c.$table.width();\n\t\t\t\t// only add col for visible columns - fixes #371\n\t\t\t\t$tbodies = c.$tbodies.find( 'tr:first' ).children( ':visible' );\n\t\t\t\tlen = $tbodies.length;\n\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\tpercent = parseInt( ( $tbodies.eq( index ).width() / overallWidth ) * 1000, 10 ) / 10 + '%';\n\t\t\t\t\t$colgroup.append( $( '<col>' ).css( 'width', percent ) );\n\t\t\t\t}\n\t\t\t\tc.$table.prepend( $colgroup );\n\t\t\t}\n\t\t},\n\n\t\t// get sorter, string, empty, etc options for each column from\n\t\t// jQuery data, metadata, header option or header class name ('sorter-false')\n\t\t// priority = jQuery data > meta > headers option > header class name\n\t\tgetData : function( header, configHeader, key ) {\n\t\t\tvar meta, cl4ss,\n\t\t\t\tval = '',\n\t\t\t\t$header = $( header );\n\t\t\tif ( !$header.length ) { return ''; }\n\t\t\tmeta = $.metadata ? $header.metadata() : false;\n\t\t\tcl4ss = ' ' + ( $header.attr( 'class' ) || '' );\n\t\t\tif ( typeof $header.data( key ) !== 'undefined' ||\n\t\t\t\ttypeof $header.data( key.toLowerCase() ) !== 'undefined' ) {\n\t\t\t\t// 'data-lockedOrder' is assigned to 'lockedorder'; but 'data-locked-order' is assigned to 'lockedOrder'\n\t\t\t\t// 'data-sort-initial-order' is assigned to 'sortInitialOrder'\n\t\t\t\tval += $header.data( key ) || $header.data( key.toLowerCase() );\n\t\t\t} else if ( meta && typeof meta[ key ] !== 'undefined' ) {\n\t\t\t\tval += meta[ key ];\n\t\t\t} else if ( configHeader && typeof configHeader[ key ] !== 'undefined' ) {\n\t\t\t\tval += configHeader[ key ];\n\t\t\t} else if ( cl4ss !== ' ' && cl4ss.match( ' ' + key + '-' ) ) {\n\t\t\t\t// include sorter class name 'sorter-text', etc; now works with 'sorter-my-custom-parser'\n\t\t\t\tval = cl4ss.match( new RegExp( '\\\\s' + key + '-([\\\\w-]+)' ) )[ 1 ] || '';\n\t\t\t}\n\t\t\treturn $.trim( val );\n\t\t},\n\n\t\tgetColumnData : function( table, obj, indx, getCell, $headers ) {\n\t\t\tif ( typeof obj !== 'object' || obj === null ) {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar $header, key,\n\t\t\t\tc = table.config,\n\t\t\t\t$cells = ( $headers || c.$headers ),\n\t\t\t\t// c.$headerIndexed is not defined initially\n\t\t\t\t$cell = c.$headerIndexed && c.$headerIndexed[ indx ] ||\n\t\t\t\t\t$cells.find( '[data-column=\"' + indx + '\"]:last' );\n\t\t\tif ( typeof obj[ indx ] !== 'undefined' ) {\n\t\t\t\treturn getCell ? obj[ indx ] : obj[ $cells.index( $cell ) ];\n\t\t\t}\n\t\t\tfor ( key in obj ) {\n\t\t\t\tif ( typeof key === 'string' ) {\n\t\t\t\t\t$header = $cell\n\t\t\t\t\t\t// header cell with class/id\n\t\t\t\t\t\t.filter( key )\n\t\t\t\t\t\t// find elements within the header cell with cell/id\n\t\t\t\t\t\t.add( $cell.find( key ) );\n\t\t\t\t\tif ( $header.length ) {\n\t\t\t\t\t\treturn obj[ key ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\n\t\t// *** Process table ***\n\t\t// add processing indicator\n\t\tisProcessing : function( $table, toggle, $headers ) {\n\t\t\t$table = $( $table );\n\t\t\tvar c = $table[ 0 ].config,\n\t\t\t\t// default to all headers\n\t\t\t\t$header = $headers || $table.find( '.' + ts.css.header );\n\t\t\tif ( toggle ) {\n\t\t\t\t// don't use sortList if custom $headers used\n\t\t\t\tif ( typeof $headers !== 'undefined' && c.sortList.length > 0 ) {\n\t\t\t\t\t// get headers from the sortList\n\t\t\t\t\t$header = $header.filter( function() {\n\t\t\t\t\t\t// get data-column from attr to keep compatibility with jQuery 1.2.6\n\t\t\t\t\t\treturn this.sortDisabled ?\n\t\t\t\t\t\t\tfalse :\n\t\t\t\t\t\t\tts.isValueInArray( parseFloat( $( this ).attr( 'data-column' ) ), c.sortList ) >= 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$table.add( $header ).addClass( ts.css.processing + ' ' + c.cssProcessing );\n\t\t\t} else {\n\t\t\t\t$table.add( $header ).removeClass( ts.css.processing + ' ' + c.cssProcessing );\n\t\t\t}\n\t\t},\n\n\t\t// detach tbody but save the position\n\t\t// don't use tbody because there are portions that look for a tbody index (updateCell)\n\t\tprocessTbody : function( table, $tb, getIt ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tif ( getIt ) {\n\t\t\t\ttable.isProcessing = true;\n\t\t\t\t$tb.before( '<colgroup class=\"tablesorter-savemyplace\"/>' );\n\t\t\t\treturn $.fn.detach ? $tb.detach() : $tb.remove();\n\t\t\t}\n\t\t\tvar holdr = $( table ).find( 'colgroup.tablesorter-savemyplace' );\n\t\t\t$tb.insertAfter( holdr );\n\t\t\tholdr.remove();\n\t\t\ttable.isProcessing = false;\n\t\t},\n\n\t\tclearTableBody : function( table ) {\n\t\t\t$( table )[ 0 ].config.$tbodies.children().detach();\n\t\t},\n\n\t\t// used when replacing accented characters during sorting\n\t\tcharacterEquivalents : {\n\t\t\t'a' : '\\u00e1\\u00e0\\u00e2\\u00e3\\u00e4\\u0105\\u00e5', // áàâãäąå\n\t\t\t'A' : '\\u00c1\\u00c0\\u00c2\\u00c3\\u00c4\\u0104\\u00c5', // ÁÀÂÃÄĄÅ\n\t\t\t'c' : '\\u00e7\\u0107\\u010d', // çćč\n\t\t\t'C' : '\\u00c7\\u0106\\u010c', // ÇĆČ\n\t\t\t'e' : '\\u00e9\\u00e8\\u00ea\\u00eb\\u011b\\u0119', // éèêëěę\n\t\t\t'E' : '\\u00c9\\u00c8\\u00ca\\u00cb\\u011a\\u0118', // ÉÈÊËĚĘ\n\t\t\t'i' : '\\u00ed\\u00ec\\u0130\\u00ee\\u00ef\\u0131', // íìİîïı\n\t\t\t'I' : '\\u00cd\\u00cc\\u0130\\u00ce\\u00cf', // ÍÌİÎÏ\n\t\t\t'o' : '\\u00f3\\u00f2\\u00f4\\u00f5\\u00f6\\u014d', // óòôõöō\n\t\t\t'O' : '\\u00d3\\u00d2\\u00d4\\u00d5\\u00d6\\u014c', // ÓÒÔÕÖŌ\n\t\t\t'ss': '\\u00df', // ß (s sharp)\n\t\t\t'SS': '\\u1e9e', // ẞ (Capital sharp s)\n\t\t\t'u' : '\\u00fa\\u00f9\\u00fb\\u00fc\\u016f', // úùûüů\n\t\t\t'U' : '\\u00da\\u00d9\\u00db\\u00dc\\u016e' // ÚÙÛÜŮ\n\t\t},\n\n\t\treplaceAccents : function( str ) {\n\t\t\tvar chr,\n\t\t\t\tacc = '[',\n\t\t\t\teq = ts.characterEquivalents;\n\t\t\tif ( !ts.characterRegex ) {\n\t\t\t\tts.characterRegexArray = {};\n\t\t\t\tfor ( chr in eq ) {\n\t\t\t\t\tif ( typeof chr === 'string' ) {\n\t\t\t\t\t\tacc += eq[ chr ];\n\t\t\t\t\t\tts.characterRegexArray[ chr ] = new RegExp( '[' + eq[ chr ] + ']', 'g' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tts.characterRegex = new RegExp( acc + ']' );\n\t\t\t}\n\t\t\tif ( ts.characterRegex.test( str ) ) {\n\t\t\t\tfor ( chr in eq ) {\n\t\t\t\t\tif ( typeof chr === 'string' ) {\n\t\t\t\t\t\tstr = str.replace( ts.characterRegexArray[ chr ], chr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\n\t\tvalidateOptions : function( c ) {\n\t\t\tvar setting, setting2, typ, timer,\n\t\t\t\t// ignore options containing an array\n\t\t\t\tignore = 'headers sortForce sortList sortAppend widgets'.split( ' ' ),\n\t\t\t\torig = c.originalSettings;\n\t\t\tif ( orig ) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\ttimer = new Date();\n\t\t\t\t}\n\t\t\t\tfor ( setting in orig ) {\n\t\t\t\t\ttyp = typeof ts.defaults[setting];\n\t\t\t\t\tif ( typ === 'undefined' ) {\n\t\t\t\t\t\tconsole.warn( 'Tablesorter Warning! \"table.config.' + setting + '\" option not recognized' );\n\t\t\t\t\t} else if ( typ === 'object' ) {\n\t\t\t\t\t\tfor ( setting2 in orig[setting] ) {\n\t\t\t\t\t\t\ttyp = ts.defaults[setting] && typeof ts.defaults[setting][setting2];\n\t\t\t\t\t\t\tif ( $.inArray( setting, ignore ) < 0 && typ === 'undefined' ) {\n\t\t\t\t\t\t\t\tconsole.warn( 'Tablesorter Warning! \"table.config.' + setting + '.' + setting2 + '\" option not recognized' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.log( 'validate options time:' + ts.benchmark( timer ) );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// restore headers\n\t\trestoreHeaders : function( table ) {\n\t\t\tvar index, $cell,\n\t\t\t\tc = $( table )[ 0 ].config,\n\t\t\t\t$headers = c.$table.find( c.selectorHeaders ),\n\t\t\t\tlen = $headers.length;\n\t\t\t// don't use c.$headers here in case header cells were swapped\n\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t$cell = $headers.eq( index );\n\t\t\t\t// only restore header cells if it is wrapped\n\t\t\t\t// because this is also used by the updateAll method\n\t\t\t\tif ( $cell.find( '.' + ts.css.headerIn ).length ) {\n\t\t\t\t\t$cell.html( c.headerContent[ index ] );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdestroy : function( table, removeClasses, callback ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tif ( !table.hasInitialized ) { return; }\n\t\t\t// remove all widgets\n\t\t\tts.removeWidget( table, true, false );\n\t\t\tvar events,\n\t\t\t\t$t = $( table ),\n\t\t\t\tc = table.config,\n\t\t\t\t$h = $t.find( 'thead:first' ),\n\t\t\t\t$r = $h.find( 'tr.' + ts.css.headerRow ).removeClass( ts.css.headerRow + ' ' + c.cssHeaderRow ),\n\t\t\t\t$f = $t.find( 'tfoot:first > tr' ).children( 'th, td' );\n\t\t\tif ( removeClasses === false && $.inArray( 'uitheme', c.widgets ) >= 0 ) {\n\t\t\t\t// reapply uitheme classes, in case we want to maintain appearance\n\t\t\t\t$t.triggerHandler( 'applyWidgetId', [ 'uitheme' ] );\n\t\t\t\t$t.triggerHandler( 'applyWidgetId', [ 'zebra' ] );\n\t\t\t}\n\t\t\t// remove widget added rows, just in case\n\t\t\t$h.find( 'tr' ).not( $r ).remove();\n\t\t\t// disable tablesorter - not using .unbind( namespace ) because namespacing was\n\t\t\t// added in jQuery v1.4.3 - see http://api.jquery.com/event.namespace/\n\t\t\tevents = 'sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton ' +\n\t\t\t\t'appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave ' +\n\t\t\t\t'keypress sortBegin sortEnd resetToLoadState '.split( ' ' )\n\t\t\t\t.join( c.namespace + ' ' );\n\t\t\t$t\n\t\t\t\t.removeData( 'tablesorter' )\n\t\t\t\t.unbind( events.replace( ts.regex.spaces, ' ' ) );\n\t\t\tc.$headers\n\t\t\t\t.add( $f )\n\t\t\t\t.removeClass( [ ts.css.header, c.cssHeader, c.cssAsc, c.cssDesc, ts.css.sortAsc, ts.css.sortDesc, ts.css.sortNone ].join( ' ' ) )\n\t\t\t\t.removeAttr( 'data-column' )\n\t\t\t\t.removeAttr( 'aria-label' )\n\t\t\t\t.attr( 'aria-disabled', 'true' );\n\t\t\t$r\n\t\t\t\t.find( c.selectorSort )\n\t\t\t\t.unbind( ( 'mousedown mouseup keypress '.split( ' ' ).join( c.namespace + ' ' ) ).replace( ts.regex.spaces, ' ' ) );\n\t\t\tts.restoreHeaders( table );\n\t\t\t$t.toggleClass( ts.css.table + ' ' + c.tableClass + ' tablesorter-' + c.theme, removeClasses === false );\n\t\t\t$t.removeClass(c.namespace.slice(1));\n\t\t\t// clear flag in case the plugin is initialized again\n\t\t\ttable.hasInitialized = false;\n\t\t\tdelete table.config.cache;\n\t\t\tif ( typeof callback === 'function' ) {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'tablesorter has been removed' );\n\t\t\t}\n\t\t}\n\n\t};\n\n\t$.fn.tablesorter = function( settings ) {\n\t\treturn this.each( function() {\n\t\t\tvar table = this,\n\t\t\t// merge & extend config options\n\t\t\tc = $.extend( true, {}, ts.defaults, settings, ts.instanceMethods );\n\t\t\t// save initial settings\n\t\t\tc.originalSettings = settings;\n\t\t\t// create a table from data (build table widget)\n\t\t\tif ( !table.hasInitialized && ts.buildTable && this.nodeName !== 'TABLE' ) {\n\t\t\t\t// return the table (in case the original target is the table's container)\n\t\t\t\tts.buildTable( table, c );\n\t\t\t} else {\n\t\t\t\tts.setup( table, c );\n\t\t\t}\n\t\t});\n\t};\n\n\t// set up debug logs\n\tif ( !( window.console && window.console.log ) ) {\n\t\t// access $.tablesorter.logs for browsers that don't have a console...\n\t\tts.logs = [];\n\t\t/*jshint -W020 */\n\t\tconsole = {};\n\t\tconsole.log = console.warn = console.error = console.table = function() {\n\t\t\tvar arg = arguments.length > 1 ? arguments : arguments[0];\n\t\t\tts.logs[ ts.logs.length ] = { date: Date.now(), log: arg };\n\t\t};\n\t}\n\n\t// add default parsers\n\tts.addParser({\n\t\tid : 'no-parser',\n\t\tis : function() {\n\t\t\treturn false;\n\t\t},\n\t\tformat : function() {\n\t\t\treturn '';\n\t\t},\n\t\ttype : 'text'\n\t});\n\n\tts.addParser({\n\t\tid : 'text',\n\t\tis : function() {\n\t\t\treturn true;\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\tvar c = table.config;\n\t\t\tif ( str ) {\n\t\t\t\tstr = $.trim( c.ignoreCase ? str.toLocaleLowerCase() : str );\n\t\t\t\tstr = c.sortLocaleCompare ? ts.replaceAccents( str ) : str;\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\ttype : 'text'\n\t});\n\n\tts.regex.nondigit = /[^\\w,. \\-()]/g;\n\tts.addParser({\n\t\tid : 'digit',\n\t\tis : function( str ) {\n\t\t\treturn ts.isDigit( str );\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\tvar num = ts.formatFloat( ( str || '' ).replace( ts.regex.nondigit, '' ), table );\n\t\t\treturn str && typeof num === 'number' ? num :\n\t\t\t\tstr ? $.trim( str && table.config.ignoreCase ? str.toLocaleLowerCase() : str ) : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\tts.regex.currencyReplace = /[+\\-,. ]/g;\n\tts.regex.currencyTest = /^\\(?\\d+[\\u00a3$\\u20ac\\u00a4\\u00a5\\u00a2?.]|[\\u00a3$\\u20ac\\u00a4\\u00a5\\u00a2?.]\\d+\\)?$/;\n\tts.addParser({\n\t\tid : 'currency',\n\t\tis : function( str ) {\n\t\t\tstr = ( str || '' ).replace( ts.regex.currencyReplace, '' );\n\t\t\t// test for £$€¤¥¢\n\t\t\treturn ts.regex.currencyTest.test( str );\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\tvar num = ts.formatFloat( ( str || '' ).replace( ts.regex.nondigit, '' ), table );\n\t\t\treturn str && typeof num === 'number' ? num :\n\t\t\t\tstr ? $.trim( str && table.config.ignoreCase ? str.toLocaleLowerCase() : str ) : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// too many protocols to add them all https://en.wikipedia.org/wiki/URI_scheme\n\t// now, this regex can be updated before initialization\n\tts.regex.urlProtocolTest = /^(https?|ftp|file):\\/\\//;\n\tts.regex.urlProtocolReplace = /(https?|ftp|file):\\/\\/(www\\.)?/;\n\tts.addParser({\n\t\tid : 'url',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.urlProtocolTest.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\treturn str ? $.trim( str.replace( ts.regex.urlProtocolReplace, '' ) ) : str;\n\t\t},\n\t\ttype : 'text'\n\t});\n\n\tts.regex.dash = /-/g;\n\tts.regex.isoDate = /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}/;\n\tts.addParser({\n\t\tid : 'isoDate',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.isoDate.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\tvar date = str ? new Date( str.replace( ts.regex.dash, '/' ) ) : str;\n\t\t\treturn date instanceof Date && isFinite( date ) ? date.getTime() : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\tts.regex.percent = /%/g;\n\tts.regex.percentTest = /(\\d\\s*?%|%\\s*?\\d)/;\n\tts.addParser({\n\t\tid : 'percent',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.percentTest.test( str ) && str.length < 15;\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\treturn str ? ts.formatFloat( str.replace( ts.regex.percent, '' ), table ) : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// added image parser to core v2.17.9\n\tts.addParser({\n\t\tid : 'image',\n\t\tis : function( str, table, node, $node ) {\n\t\t\treturn $node.find( 'img' ).length > 0;\n\t\t},\n\t\tformat : function( str, table, cell ) {\n\t\t\treturn $( cell ).find( 'img' ).attr( table.config.imgAttr || 'alt' ) || str;\n\t\t},\n\t\tparsed : true, // filter widget flag\n\t\ttype : 'text'\n\t});\n\n\tts.regex.dateReplace = /(\\S)([AP]M)$/i; // used by usLongDate & time parser\n\tts.regex.usLongDateTest1 = /^[A-Z]{3,10}\\.?\\s+\\d{1,2},?\\s+(\\d{4})(\\s+\\d{1,2}:\\d{2}(:\\d{2})?(\\s+[AP]M)?)?$/i;\n\tts.regex.usLongDateTest2 = /^\\d{1,2}\\s+[A-Z]{3,10}\\s+\\d{4}/i;\n\tts.addParser({\n\t\tid : 'usLongDate',\n\t\tis : function( str ) {\n\t\t\t// two digit years are not allowed cross-browser\n\t\t\t// Jan 01, 2013 12:34:56 PM or 01 Jan 2013\n\t\t\treturn ts.regex.usLongDateTest1.test( str ) || ts.regex.usLongDateTest2.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\tvar date = str ? new Date( str.replace( ts.regex.dateReplace, '$1 $2' ) ) : str;\n\t\t\treturn date instanceof Date && isFinite( date ) ? date.getTime() : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// testing for ##-##-#### or ####-##-##, so it's not perfect; time can be included\n\tts.regex.shortDateTest = /(^\\d{1,2}[\\/\\s]\\d{1,2}[\\/\\s]\\d{4})|(^\\d{4}[\\/\\s]\\d{1,2}[\\/\\s]\\d{1,2})/;\n\t// escaped \"-\" because JSHint in Firefox was showing it as an error\n\tts.regex.shortDateReplace = /[\\-.,]/g;\n\t// XXY covers MDY & DMY formats\n\tts.regex.shortDateXXY = /(\\d{1,2})[\\/\\s](\\d{1,2})[\\/\\s](\\d{4})/;\n\tts.regex.shortDateYMD = /(\\d{4})[\\/\\s](\\d{1,2})[\\/\\s](\\d{1,2})/;\n\tts.convertFormat = function( dateString, format ) {\n\t\tdateString = ( dateString || '' )\n\t\t\t.replace( ts.regex.spaces, ' ' )\n\t\t\t.replace( ts.regex.shortDateReplace, '/' );\n\t\tif ( format === 'mmddyyyy' ) {\n\t\t\tdateString = dateString.replace( ts.regex.shortDateXXY, '$3/$1/$2' );\n\t\t} else if ( format === 'ddmmyyyy' ) {\n\t\t\tdateString = dateString.replace( ts.regex.shortDateXXY, '$3/$2/$1' );\n\t\t} else if ( format === 'yyyymmdd' ) {\n\t\t\tdateString = dateString.replace( ts.regex.shortDateYMD, '$1/$2/$3' );\n\t\t}\n\t\tvar date = new Date( dateString );\n\t\treturn date instanceof Date && isFinite( date ) ? date.getTime() : '';\n\t};\n\n\tts.addParser({\n\t\tid : 'shortDate', // 'mmddyyyy', 'ddmmyyyy' or 'yyyymmdd'\n\t\tis : function( str ) {\n\t\t\tstr = ( str || '' ).replace( ts.regex.spaces, ' ' ).replace( ts.regex.shortDateReplace, '/' );\n\t\t\treturn ts.regex.shortDateTest.test( str );\n\t\t},\n\t\tformat : function( str, table, cell, cellIndex ) {\n\t\t\tif ( str ) {\n\t\t\t\tvar c = table.config,\n\t\t\t\t\t$header = c.$headerIndexed[ cellIndex ],\n\t\t\t\t\tformat = $header.length && $header.data( 'dateFormat' ) ||\n\t\t\t\t\t\tts.getData( $header, ts.getColumnData( table, c.headers, cellIndex ), 'dateFormat' ) ||\n\t\t\t\t\t\tc.dateFormat;\n\t\t\t\t// save format because getData can be slow...\n\t\t\t\tif ( $header.length ) {\n\t\t\t\t\t$header.data( 'dateFormat', format );\n\t\t\t\t}\n\t\t\t\treturn ts.convertFormat( str, format ) || str;\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// match 24 hour time & 12 hours time + am/pm - see http://regexr.com/3c3tk\n\tts.regex.timeTest = /^(0?[1-9]|1[0-2]):([0-5]\\d)(\\s[AP]M)$|^((?:[01]\\d|[2][0-4]):[0-5]\\d)$/i;\n\tts.regex.timeMatch = /(0?[1-9]|1[0-2]):([0-5]\\d)(\\s[AP]M)|((?:[01]\\d|[2][0-4]):[0-5]\\d)/i;\n\tts.addParser({\n\t\tid : 'time',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.timeTest.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\t// isolate time... ignore month, day and year\n\t\t\tvar temp,\n\t\t\t\ttimePart = ( str || '' ).match( ts.regex.timeMatch ),\n\t\t\t\torig = new Date( str ),\n\t\t\t\t// no time component? default to 00:00 by leaving it out, but only if str is defined\n\t\t\t\ttime = str && ( timePart !== null ? timePart[ 0 ] : '00:00 AM' ),\n\t\t\t\tdate = time ? new Date( '2000/01/01 ' + time.replace( ts.regex.dateReplace, '$1 $2' ) ) : time;\n\t\t\tif ( date instanceof Date && isFinite( date ) ) {\n\t\t\t\ttemp = orig instanceof Date && isFinite( orig ) ? orig.getTime() : 0;\n\t\t\t\t// if original string was a valid date, add it to the decimal so the column sorts in some kind of order\n\t\t\t\t// luckily new Date() ignores the decimals\n\t\t\t\treturn temp ? parseFloat( date.getTime() + '.' + orig.getTime() ) : date.getTime();\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\tts.addParser({\n\t\tid : 'metadata',\n\t\tis : function() {\n\t\t\treturn false;\n\t\t},\n\t\tformat : function( str, table, cell ) {\n\t\t\tvar c = table.config,\n\t\t\tp = ( !c.parserMetadataName ) ? 'sortValue' : c.parserMetadataName;\n\t\t\treturn $( cell ).metadata()[ p ];\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t/*\n\t\t██████ ██████ █████▄ █████▄ ▄████▄\n\t\t  ▄█▀  ██▄▄   ██▄▄██ ██▄▄██ ██▄▄██\n\t\t▄█▀    ██▀▀   ██▀▀██ ██▀▀█  ██▀▀██\n\t\t██████ ██████ █████▀ ██  ██ ██  ██\n\t\t*/\n\t// add default widgets\n\tts.addWidget({\n\t\tid : 'zebra',\n\t\tpriority : 90,\n\t\tformat : function( table, c, wo ) {\n\t\t\tvar $visibleRows, $row, count, isEven, tbodyIndex, rowIndex, len,\n\t\t\t\tchild = new RegExp( c.cssChildRow, 'i' ),\n\t\t\t\t$tbodies = c.$tbodies.add( $( c.namespace + '_extra_table' ).children( 'tbody:not(.' + c.cssInfoBlock + ')' ) );\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t// loop through the visible rows\n\t\t\t\tcount = 0;\n\t\t\t\t$visibleRows = $tbodies.eq( tbodyIndex ).children( 'tr:visible' ).not( c.selectorRemove );\n\t\t\t\tlen = $visibleRows.length;\n\t\t\t\tfor ( rowIndex = 0; rowIndex < len; rowIndex++ ) {\n\t\t\t\t\t$row = $visibleRows.eq( rowIndex );\n\t\t\t\t\t// style child rows the same way the parent row was styled\n\t\t\t\t\tif ( !child.test( $row[ 0 ].className ) ) { count++; }\n\t\t\t\t\tisEven = ( count % 2 === 0 );\n\t\t\t\t\t$row\n\t\t\t\t\t\t.removeClass( wo.zebra[ isEven ? 1 : 0 ] )\n\t\t\t\t\t\t.addClass( wo.zebra[ isEven ? 0 : 1 ] );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremove : function( table, c, wo, refreshing ) {\n\t\t\tif ( refreshing ) { return; }\n\t\t\tvar tbodyIndex, $tbody,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\ttoRemove = ( wo.zebra || [ 'even', 'odd' ] ).join( ' ' );\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody( table, $tbodies.eq( tbodyIndex ), true ); // remove tbody\n\t\t\t\t$tbody.children().removeClass( toRemove );\n\t\t\t\tts.processTbody( table, $tbody, false ); // restore tbody\n\t\t\t}\n\t\t}\n\t});\n\n})( jQuery );\n\n/*! Widget: storage - updated 2018-03-18 (v2.30.0) */\n/*global JSON:false */\n;(function ($, window, document) {\n\t'use strict';\n\n\tvar ts = $.tablesorter || {};\n\n\t// update defaults for validator; these values must be falsy!\n\t$.extend(true, ts.defaults, {\n\t\tfixedUrl: '',\n\t\twidgetOptions: {\n\t\t\tstorage_fixedUrl: '',\n\t\t\tstorage_group: '',\n\t\t\tstorage_page: '',\n\t\t\tstorage_storageType: '',\n\t\t\tstorage_tableId: '',\n\t\t\tstorage_useSessionStorage: ''\n\t\t}\n\t});\n\n\t// *** Store data in local storage, with a cookie fallback ***\n\t/* IE7 needs JSON library for JSON.stringify - (http://caniuse.com/#search=json)\n\t   if you need it, then include https://github.com/douglascrockford/JSON-js\n\n\t   $.parseJSON is not available is jQuery versions older than 1.4.1, using older\n\t   versions will only allow storing information for one page at a time\n\n\t   // *** Save data (JSON format only) ***\n\t   // val must be valid JSON... use http://jsonlint.com/ to ensure it is valid\n\t   var val = { \"mywidget\" : \"data1\" }; // valid JSON uses double quotes\n\t   // $.tablesorter.storage(table, key, val);\n\t   $.tablesorter.storage(table, 'tablesorter-mywidget', val);\n\n\t   // *** Get data: $.tablesorter.storage(table, key); ***\n\t   v = $.tablesorter.storage(table, 'tablesorter-mywidget');\n\t   // val may be empty, so also check for your data\n\t   val = (v && v.hasOwnProperty('mywidget')) ? v.mywidget : '';\n\t   alert(val); // 'data1' if saved, or '' if not\n\t*/\n\tts.storage = function(table, key, value, options) {\n\t\ttable = $(table)[0];\n\t\tvar cookieIndex, cookies, date,\n\t\t\thasStorage = false,\n\t\t\tvalues = {},\n\t\t\tc = table.config,\n\t\t\two = c && c.widgetOptions,\n\t\t\tdebug = ts.debug(c, 'storage'),\n\t\t\tstorageType = (\n\t\t\t\t( options && options.storageType ) || ( wo && wo.storage_storageType )\n\t\t\t).toString().charAt(0).toLowerCase(),\n\t\t\t// deprecating \"useSessionStorage\"; any storageType setting overrides it\n\t\t\tsession = storageType ? '' :\n\t\t\t\t( options && options.useSessionStorage ) || ( wo && wo.storage_useSessionStorage ),\n\t\t\t$table = $(table),\n\t\t\t// id from (1) options ID, (2) table 'data-table-group' attribute, (3) widgetOptions.storage_tableId,\n\t\t\t// (4) table ID, then (5) table index\n\t\t\tid = options && options.id ||\n\t\t\t\t$table.attr( options && options.group || wo && wo.storage_group || 'data-table-group') ||\n\t\t\t\two && wo.storage_tableId || table.id || $('.tablesorter').index( $table ),\n\t\t\t// url from (1) options url, (2) table 'data-table-page' attribute, (3) widgetOptions.storage_fixedUrl,\n\t\t\t// (4) table.config.fixedUrl (deprecated), then (5) window location path\n\t\t\turl = options && options.url ||\n\t\t\t\t$table.attr(options && options.page || wo && wo.storage_page || 'data-table-page') ||\n\t\t\t\two && wo.storage_fixedUrl || c && c.fixedUrl || window.location.pathname;\n\n\t\t// skip if using cookies\n\t\tif (storageType !== 'c') {\n\t\t\tstorageType = (storageType === 's' || session) ? 'sessionStorage' : 'localStorage';\n\t\t\t// https://gist.github.com/paulirish/5558557\n\t\t\tif (storageType in window) {\n\t\t\t\ttry {\n\t\t\t\t\twindow[storageType].setItem('_tmptest', 'temp');\n\t\t\t\t\thasStorage = true;\n\t\t\t\t\twindow[storageType].removeItem('_tmptest');\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn( storageType + ' is not supported in this browser' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (debug) {\n\t\t\tconsole.log('Storage >> Using', hasStorage ? storageType : 'cookies');\n\t\t}\n\t\t// *** get value ***\n\t\tif ($.parseJSON) {\n\t\t\tif (hasStorage) {\n\t\t\t\tvalues = $.parseJSON( window[storageType][key] || 'null' ) || {};\n\t\t\t} else {\n\t\t\t\t// old browser, using cookies\n\t\t\t\tcookies = document.cookie.split(/[;\\s|=]/);\n\t\t\t\t// add one to get from the key to the value\n\t\t\t\tcookieIndex = $.inArray(key, cookies) + 1;\n\t\t\t\tvalues = (cookieIndex !== 0) ? $.parseJSON(cookies[cookieIndex] || 'null') || {} : {};\n\t\t\t}\n\t\t}\n\t\t// allow value to be an empty string too\n\t\tif (typeof value !== 'undefined' && window.JSON && JSON.hasOwnProperty('stringify')) {\n\t\t\t// add unique identifiers = url pathname > table ID/index on page > data\n\t\t\tif (!values[url]) {\n\t\t\t\tvalues[url] = {};\n\t\t\t}\n\t\t\tvalues[url][id] = value;\n\t\t\t// *** set value ***\n\t\t\tif (hasStorage) {\n\t\t\t\twindow[storageType][key] = JSON.stringify(values);\n\t\t\t} else {\n\t\t\t\tdate = new Date();\n\t\t\t\tdate.setTime(date.getTime() + (31536e+6)); // 365 days\n\t\t\t\tdocument.cookie = key + '=' + (JSON.stringify(values)).replace(/\\\"/g, '\\\"') + '; expires=' + date.toGMTString() + '; path=/';\n\t\t\t}\n\t\t} else {\n\t\t\treturn values && values[url] ? values[url][id] : '';\n\t\t}\n\t};\n\n})(jQuery, window, document);\n\n/*! Widget: uitheme - updated 2018-03-18 (v2.30.0) */\n;(function ($) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\tts.themes = {\n\t\t'bootstrap' : {\n\t\t\ttable        : 'table table-bordered table-striped',\n\t\t\tcaption      : 'caption',\n\t\t\t// header class names\n\t\t\theader       : 'bootstrap-header', // give the header a gradient background (theme.bootstrap_2.css)\n\t\t\tsortNone     : '',\n\t\t\tsortAsc      : '',\n\t\t\tsortDesc     : '',\n\t\t\tactive       : '', // applied when column is sorted\n\t\t\thover        : '', // custom css required - a defined bootstrap style may not override other classes\n\t\t\t// icon class names\n\t\t\ticons        : '', // add 'bootstrap-icon-white' to make them white; this icon class is added to the <i> in the header\n\t\t\ticonSortNone : 'bootstrap-icon-unsorted', // class name added to icon when column is not sorted\n\t\t\ticonSortAsc  : 'glyphicon glyphicon-chevron-up', // class name added to icon when column has ascending sort\n\t\t\ticonSortDesc : 'glyphicon glyphicon-chevron-down', // class name added to icon when column has descending sort\n\t\t\tfilterRow    : '', // filter row class\n\t\t\tfooterRow    : '',\n\t\t\tfooterCells  : '',\n\t\t\teven         : '', // even row zebra striping\n\t\t\todd          : ''  // odd row zebra striping\n\t\t},\n\t\t'jui' : {\n\t\t\ttable        : 'ui-widget ui-widget-content ui-corner-all', // table classes\n\t\t\tcaption      : 'ui-widget-content',\n\t\t\t// header class names\n\t\t\theader       : 'ui-widget-header ui-corner-all ui-state-default', // header classes\n\t\t\tsortNone     : '',\n\t\t\tsortAsc      : '',\n\t\t\tsortDesc     : '',\n\t\t\tactive       : 'ui-state-active', // applied when column is sorted\n\t\t\thover        : 'ui-state-hover',  // hover class\n\t\t\t// icon class names\n\t\t\ticons        : 'ui-icon', // icon class added to the <i> in the header\n\t\t\ticonSortNone : 'ui-icon-carat-2-n-s ui-icon-caret-2-n-s', // class name added to icon when column is not sorted\n\t\t\ticonSortAsc  : 'ui-icon-carat-1-n ui-icon-caret-1-n', // class name added to icon when column has ascending sort\n\t\t\ticonSortDesc : 'ui-icon-carat-1-s ui-icon-caret-1-s', // class name added to icon when column has descending sort\n\t\t\tfilterRow    : '',\n\t\t\tfooterRow    : '',\n\t\t\tfooterCells  : '',\n\t\t\teven         : 'ui-widget-content', // even row zebra striping\n\t\t\todd          : 'ui-state-default'   // odd row zebra striping\n\t\t}\n\t};\n\n\t$.extend(ts.css, {\n\t\twrapper : 'tablesorter-wrapper' // ui theme & resizable\n\t});\n\n\tts.addWidget({\n\t\tid: 'uitheme',\n\t\tpriority: 10,\n\t\tformat: function(table, c, wo) {\n\t\t\tvar i, tmp, hdr, icon, time, $header, $icon, $tfoot, $h, oldtheme, oldremove, oldIconRmv, hasOldTheme,\n\t\t\t\tthemesAll = ts.themes,\n\t\t\t\t$table = c.$table.add( $( c.namespace + '_extra_table' ) ),\n\t\t\t\t$headers = c.$headers.add( $( c.namespace + '_extra_headers' ) ),\n\t\t\t\ttheme = c.theme || 'jui',\n\t\t\t\tthemes = themesAll[theme] || {},\n\t\t\t\tremove = $.trim( [ themes.sortNone, themes.sortDesc, themes.sortAsc, themes.active ].join( ' ' ) ),\n\t\t\t\ticonRmv = $.trim( [ themes.iconSortNone, themes.iconSortDesc, themes.iconSortAsc ].join( ' ' ) ),\n\t\t\t\tdebug = ts.debug(c, 'uitheme');\n\t\t\tif (debug) { time = new Date(); }\n\t\t\t// initialization code - run once\n\t\t\tif (!$table.hasClass('tablesorter-' + theme) || c.theme !== c.appliedTheme || !wo.uitheme_applied) {\n\t\t\t\two.uitheme_applied = true;\n\t\t\t\toldtheme = themesAll[c.appliedTheme] || {};\n\t\t\t\thasOldTheme = !$.isEmptyObject(oldtheme);\n\t\t\t\toldremove =  hasOldTheme ? [ oldtheme.sortNone, oldtheme.sortDesc, oldtheme.sortAsc, oldtheme.active ].join( ' ' ) : '';\n\t\t\t\toldIconRmv = hasOldTheme ? [ oldtheme.iconSortNone, oldtheme.iconSortDesc, oldtheme.iconSortAsc ].join( ' ' ) : '';\n\t\t\t\tif (hasOldTheme) {\n\t\t\t\t\two.zebra[0] = $.trim( ' ' + wo.zebra[0].replace(' ' + oldtheme.even, '') );\n\t\t\t\t\two.zebra[1] = $.trim( ' ' + wo.zebra[1].replace(' ' + oldtheme.odd, '') );\n\t\t\t\t\tc.$tbodies.children().removeClass( [ oldtheme.even, oldtheme.odd ].join(' ') );\n\t\t\t\t}\n\t\t\t\t// update zebra stripes\n\t\t\t\tif (themes.even) { wo.zebra[0] += ' ' + themes.even; }\n\t\t\t\tif (themes.odd) { wo.zebra[1] += ' ' + themes.odd; }\n\t\t\t\t// add caption style\n\t\t\t\t$table.children('caption')\n\t\t\t\t\t.removeClass(oldtheme.caption || '')\n\t\t\t\t\t.addClass(themes.caption);\n\t\t\t\t// add table/footer class names\n\t\t\t\t$tfoot = $table\n\t\t\t\t\t// remove other selected themes\n\t\t\t\t\t.removeClass( (c.appliedTheme ? 'tablesorter-' + (c.appliedTheme || '') : '') + ' ' + (oldtheme.table || '') )\n\t\t\t\t\t.addClass('tablesorter-' + theme + ' ' + (themes.table || '')) // add theme widget class name\n\t\t\t\t\t.children('tfoot');\n\t\t\t\tc.appliedTheme = c.theme;\n\n\t\t\t\tif ($tfoot.length) {\n\t\t\t\t\t$tfoot\n\t\t\t\t\t\t// if oldtheme.footerRow or oldtheme.footerCells are undefined, all class names are removed\n\t\t\t\t\t\t.children('tr').removeClass(oldtheme.footerRow || '').addClass(themes.footerRow)\n\t\t\t\t\t\t.children('th, td').removeClass(oldtheme.footerCells || '').addClass(themes.footerCells);\n\t\t\t\t}\n\t\t\t\t// update header classes\n\t\t\t\t$headers\n\t\t\t\t\t.removeClass( (hasOldTheme ? [ oldtheme.header, oldtheme.hover, oldremove ].join(' ') : '') || '' )\n\t\t\t\t\t.addClass(themes.header)\n\t\t\t\t\t.not('.sorter-false')\n\t\t\t\t\t.unbind('mouseenter.tsuitheme mouseleave.tsuitheme')\n\t\t\t\t\t.bind('mouseenter.tsuitheme mouseleave.tsuitheme', function(event) {\n\t\t\t\t\t\t// toggleClass with switch added in jQuery 1.3\n\t\t\t\t\t\t$(this)[ event.type === 'mouseenter' ? 'addClass' : 'removeClass' ](themes.hover || '');\n\t\t\t\t\t});\n\n\t\t\t\t$headers.each(function() {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\tif (!$this.find('.' + ts.css.wrapper).length) {\n\t\t\t\t\t\t// Firefox needs this inner div to position the icon & resizer correctly\n\t\t\t\t\t\t$this.wrapInner('<div class=\"' + ts.css.wrapper + '\" style=\"position:relative;height:100%;width:100%\"></div>');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (c.cssIcon) {\n\t\t\t\t\t// if c.cssIcon is '', then no <i> is added to the header\n\t\t\t\t\t$headers\n\t\t\t\t\t\t.find('.' + ts.css.icon)\n\t\t\t\t\t\t.removeClass(hasOldTheme ? [ oldtheme.icons, oldIconRmv ].join(' ') : '')\n\t\t\t\t\t\t.addClass(themes.icons || '');\n\t\t\t\t}\n\t\t\t\t// filter widget initializes after uitheme\n\t\t\t\tif (ts.hasWidget( c.table, 'filter' )) {\n\t\t\t\t\ttmp = function() {\n\t\t\t\t\t\t$table.children('thead').children('.' + ts.css.filterRow)\n\t\t\t\t\t\t\t.removeClass(hasOldTheme ? oldtheme.filterRow || '' : '')\n\t\t\t\t\t\t\t.addClass(themes.filterRow || '');\n\t\t\t\t\t};\n\t\t\t\t\tif (wo.filter_initialized) {\n\t\t\t\t\t\ttmp();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$table.one('filterInit', function() {\n\t\t\t\t\t\t\ttmp();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < c.columns; i++) {\n\t\t\t\t$header = c.$headers\n\t\t\t\t\t.add($(c.namespace + '_extra_headers'))\n\t\t\t\t\t.not('.sorter-false')\n\t\t\t\t\t.filter('[data-column=\"' + i + '\"]');\n\t\t\t\t$icon = (ts.css.icon) ? $header.find('.' + ts.css.icon) : $();\n\t\t\t\t$h = $headers.not('.sorter-false').filter('[data-column=\"' + i + '\"]:last');\n\t\t\t\tif ($h.length) {\n\t\t\t\t\t$header.removeClass(remove);\n\t\t\t\t\t$icon.removeClass(iconRmv);\n\t\t\t\t\tif ($h[0].sortDisabled) {\n\t\t\t\t\t\t// no sort arrows for disabled columns!\n\t\t\t\t\t\t$icon.removeClass(themes.icons || '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\thdr = themes.sortNone;\n\t\t\t\t\t\ticon = themes.iconSortNone;\n\t\t\t\t\t\tif ($h.hasClass(ts.css.sortAsc)) {\n\t\t\t\t\t\t\thdr = [ themes.sortAsc, themes.active ].join(' ');\n\t\t\t\t\t\t\ticon = themes.iconSortAsc;\n\t\t\t\t\t\t} else if ($h.hasClass(ts.css.sortDesc)) {\n\t\t\t\t\t\t\thdr = [ themes.sortDesc, themes.active ].join(' ');\n\t\t\t\t\t\t\ticon = themes.iconSortDesc;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$header.addClass(hdr);\n\t\t\t\t\t\t$icon.addClass(icon || '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (debug) {\n\t\t\t\tconsole.log('uitheme >> Applied ' + theme + ' theme' + ts.benchmark(time));\n\t\t\t}\n\t\t},\n\t\tremove: function(table, c, wo, refreshing) {\n\t\t\tif (!wo.uitheme_applied) { return; }\n\t\t\tvar $table = c.$table,\n\t\t\t\ttheme = c.appliedTheme || 'jui',\n\t\t\t\tthemes = ts.themes[ theme ] || ts.themes.jui,\n\t\t\t\t$headers = $table.children('thead').children(),\n\t\t\t\tremove = themes.sortNone + ' ' + themes.sortDesc + ' ' + themes.sortAsc,\n\t\t\t\ticonRmv = themes.iconSortNone + ' ' + themes.iconSortDesc + ' ' + themes.iconSortAsc;\n\t\t\t$table.removeClass('tablesorter-' + theme + ' ' + themes.table);\n\t\t\two.uitheme_applied = false;\n\t\t\tif (refreshing) { return; }\n\t\t\t$table.find(ts.css.header).removeClass(themes.header);\n\t\t\t$headers\n\t\t\t\t.unbind('mouseenter.tsuitheme mouseleave.tsuitheme') // remove hover\n\t\t\t\t.removeClass(themes.hover + ' ' + remove + ' ' + themes.active)\n\t\t\t\t.filter('.' + ts.css.filterRow)\n\t\t\t\t.removeClass(themes.filterRow);\n\t\t\t$headers.find('.' + ts.css.icon).removeClass(themes.icons + ' ' + iconRmv);\n\t\t}\n\t});\n\n})(jQuery);\n\n/*! Widget: columns - updated 5/24/2017 (v2.28.11) */\n;(function ($) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\tts.addWidget({\n\t\tid: 'columns',\n\t\tpriority: 65,\n\t\toptions : {\n\t\t\tcolumns : [ 'primary', 'secondary', 'tertiary' ]\n\t\t},\n\t\tformat: function(table, c, wo) {\n\t\t\tvar $tbody, tbodyIndex, $rows, rows, $row, $cells, remove, indx,\n\t\t\t$table = c.$table,\n\t\t\t$tbodies = c.$tbodies,\n\t\t\tsortList = c.sortList,\n\t\t\tlen = sortList.length,\n\t\t\t// removed c.widgetColumns support\n\t\t\tcss = wo && wo.columns || [ 'primary', 'secondary', 'tertiary' ],\n\t\t\tlast = css.length - 1;\n\t\t\tremove = css.join(' ');\n\t\t\t// check if there is a sort (on initialization there may not be one)\n\t\t\tfor (tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody(table, $tbodies.eq(tbodyIndex), true); // detach tbody\n\t\t\t\t$rows = $tbody.children('tr');\n\t\t\t\t// loop through the visible rows\n\t\t\t\t$rows.each(function() {\n\t\t\t\t\t$row = $(this);\n\t\t\t\t\tif (this.style.display !== 'none') {\n\t\t\t\t\t\t// remove all columns class names\n\t\t\t\t\t\t$cells = $row.children().removeClass(remove);\n\t\t\t\t\t\t// add appropriate column class names\n\t\t\t\t\t\tif (sortList && sortList[0]) {\n\t\t\t\t\t\t\t// primary sort column class\n\t\t\t\t\t\t\t$cells.eq(sortList[0][0]).addClass(css[0]);\n\t\t\t\t\t\t\tif (len > 1) {\n\t\t\t\t\t\t\t\tfor (indx = 1; indx < len; indx++) {\n\t\t\t\t\t\t\t\t\t// secondary, tertiary, etc sort column classes\n\t\t\t\t\t\t\t\t\t$cells.eq(sortList[indx][0]).addClass( css[indx] || css[last] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tts.processTbody(table, $tbody, false);\n\t\t\t}\n\t\t\t// add classes to thead and tfoot\n\t\t\trows = wo.columns_thead !== false ? [ 'thead tr' ] : [];\n\t\t\tif (wo.columns_tfoot !== false) {\n\t\t\t\trows.push('tfoot tr');\n\t\t\t}\n\t\t\tif (rows.length) {\n\t\t\t\t$rows = $table.find( rows.join(',') ).children().removeClass(remove);\n\t\t\t\tif (len) {\n\t\t\t\t\tfor (indx = 0; indx < len; indx++) {\n\t\t\t\t\t\t// add primary. secondary, tertiary, etc sort column classes\n\t\t\t\t\t\t$rows.filter('[data-column=\"' + sortList[indx][0] + '\"]').addClass(css[indx] || css[last]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremove: function(table, c, wo) {\n\t\t\tvar tbodyIndex, $tbody,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\tremove = (wo.columns || [ 'primary', 'secondary', 'tertiary' ]).join(' ');\n\t\t\tc.$headers.removeClass(remove);\n\t\t\tc.$table.children('tfoot').children('tr').children('th, td').removeClass(remove);\n\t\t\tfor (tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody(table, $tbodies.eq(tbodyIndex), true); // remove tbody\n\t\t\t\t$tbody.children('tr').each(function() {\n\t\t\t\t\t$(this).children().removeClass(remove);\n\t\t\t\t});\n\t\t\t\tts.processTbody(table, $tbody, false); // restore tbody\n\t\t\t}\n\t\t}\n\t});\n\n})(jQuery);\n\n/*! Widget: filter - updated 2018-03-18 (v2.30.0) *//*\n * Requires tablesorter v2.8+ and jQuery 1.7+\n * by Rob Garrison\n */\n;( function ( $ ) {\n\t'use strict';\n\tvar tsf, tsfRegex,\n\t\tts = $.tablesorter || {},\n\t\ttscss = ts.css,\n\t\ttskeyCodes = ts.keyCodes;\n\n\t$.extend( tscss, {\n\t\tfilterRow      : 'tablesorter-filter-row',\n\t\tfilter         : 'tablesorter-filter',\n\t\tfilterDisabled : 'disabled',\n\t\tfilterRowHide  : 'hideme'\n\t});\n\n\t$.extend( tskeyCodes, {\n\t\tbackSpace : 8,\n\t\tescape : 27,\n\t\tspace : 32,\n\t\tleft : 37,\n\t\tdown : 40\n\t});\n\n\tts.addWidget({\n\t\tid: 'filter',\n\t\tpriority: 50,\n\t\toptions : {\n\t\t\tfilter_cellFilter    : '',    // css class name added to the filter cell ( string or array )\n\t\t\tfilter_childRows     : false, // if true, filter includes child row content in the search\n\t\t\tfilter_childByColumn : false, // ( filter_childRows must be true ) if true = search child rows by column; false = search all child row text grouped\n\t\t\tfilter_childWithSibs : true,  // if true, include matching child row siblings\n\t\t\tfilter_columnAnyMatch: true,  // if true, allows using '#:{query}' in AnyMatch searches ( column:query )\n\t\t\tfilter_columnFilters : true,  // if true, a filter will be added to the top of each table column\n\t\t\tfilter_cssFilter     : '',    // css class name added to the filter row & each input in the row ( tablesorter-filter is ALWAYS added )\n\t\t\tfilter_defaultAttrib : 'data-value', // data attribute in the header cell that contains the default filter value\n\t\t\tfilter_defaultFilter : {},    // add a default column filter type '~{query}' to make fuzzy searches default; '{q1} AND {q2}' to make all searches use a logical AND.\n\t\t\tfilter_excludeFilter : {},    // filters to exclude, per column\n\t\t\tfilter_external      : '',    // jQuery selector string ( or jQuery object ) of external filters\n\t\t\tfilter_filteredRow   : 'filtered', // class added to filtered rows; define in css with \"display:none\" to hide the filtered-out rows\n\t\t\tfilter_filterLabel   : 'Filter \"{{label}}\" column by...', // Aria-label added to filter input/select; see #1495\n\t\t\tfilter_formatter     : null,  // add custom filter elements to the filter row\n\t\t\tfilter_functions     : null,  // add custom filter functions using this option\n\t\t\tfilter_hideEmpty     : true,  // hide filter row when table is empty\n\t\t\tfilter_hideFilters   : false, // collapse filter row when mouse leaves the area\n\t\t\tfilter_ignoreCase    : true,  // if true, make all searches case-insensitive\n\t\t\tfilter_liveSearch    : true,  // if true, search column content while the user types ( with a delay )\n\t\t\tfilter_matchType     : { 'input': 'exact', 'select': 'exact' }, // global query settings ('exact' or 'match'); overridden by \"filter-match\" or \"filter-exact\" class\n\t\t\tfilter_onlyAvail     : 'filter-onlyAvail', // a header with a select dropdown & this class name will only show available ( visible ) options within the drop down\n\t\t\tfilter_placeholder   : { search : '', select : '' }, // default placeholder text ( overridden by any header 'data-placeholder' setting )\n\t\t\tfilter_reset         : null,  // jQuery selector string of an element used to reset the filters\n\t\t\tfilter_resetOnEsc    : true,  // Reset filter input when the user presses escape - normalized across browsers\n\t\t\tfilter_saveFilters   : false, // Use the $.tablesorter.storage utility to save the most recent filters\n\t\t\tfilter_searchDelay   : 300,   // typing delay in milliseconds before starting a search\n\t\t\tfilter_searchFiltered: true,  // allow searching through already filtered rows in special circumstances; will speed up searching in large tables if true\n\t\t\tfilter_selectSource  : null,  // include a function to return an array of values to be added to the column filter select\n\t\t\tfilter_selectSourceSeparator : '|', // filter_selectSource array text left of the separator is added to the option value, right into the option text\n\t\t\tfilter_serversideFiltering : false, // if true, must perform server-side filtering b/c client-side filtering is disabled, but the ui and events will still be used.\n\t\t\tfilter_startsWith    : false, // if true, filter start from the beginning of the cell contents\n\t\t\tfilter_useParsedData : false  // filter all data using parsed content\n\t\t},\n\t\tformat: function( table, c, wo ) {\n\t\t\tif ( !c.$table.hasClass( 'hasFilters' ) ) {\n\t\t\t\ttsf.init( table, c, wo );\n\t\t\t}\n\t\t},\n\t\tremove: function( table, c, wo, refreshing ) {\n\t\t\tvar tbodyIndex, $tbody,\n\t\t\t\t$table = c.$table,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\tevents = (\n\t\t\t\t\t'addRows updateCell update updateRows updateComplete appendCache filterReset ' +\n\t\t\t\t\t'filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit '\n\t\t\t\t).split( ' ' ).join( c.namespace + 'filter ' );\n\t\t\t$table\n\t\t\t\t.removeClass( 'hasFilters' )\n\t\t\t\t// add filter namespace to all BUT search\n\t\t\t\t.unbind( events.replace( ts.regex.spaces, ' ' ) )\n\t\t\t\t// remove the filter row even if refreshing, because the column might have been moved\n\t\t\t\t.find( '.' + tscss.filterRow ).remove();\n\t\t\two.filter_initialized = false;\n\t\t\tif ( refreshing ) { return; }\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody( table, $tbodies.eq( tbodyIndex ), true ); // remove tbody\n\t\t\t\t$tbody.children().removeClass( wo.filter_filteredRow ).show();\n\t\t\t\tts.processTbody( table, $tbody, false ); // restore tbody\n\t\t\t}\n\t\t\tif ( wo.filter_reset ) {\n\t\t\t\t$( document ).undelegate( wo.filter_reset, 'click' + c.namespace + 'filter' );\n\t\t\t}\n\t\t}\n\t});\n\n\ttsf = ts.filter = {\n\n\t\t// regex used in filter 'check' functions - not for general use and not documented\n\t\tregex: {\n\t\t\tregex     : /^\\/((?:\\\\\\/|[^\\/])+)\\/([migyu]{0,5})?$/, // regex to test for regex\n\t\t\tchild     : /tablesorter-childRow/, // child row class name; this gets updated in the script\n\t\t\tfiltered  : /filtered/, // filtered (hidden) row class name; updated in the script\n\t\t\ttype      : /undefined|number/, // check type\n\t\t\texact     : /(^[\\\"\\'=]+)|([\\\"\\'=]+$)/g, // exact match (allow '==')\n\t\t\toperators : /[<>=]/g, // replace operators\n\t\t\tquery     : '(q|query)', // replace filter queries\n\t\t\twild01    : /\\?/g, // wild card match 0 or 1\n\t\t\twild0More : /\\*/g, // wild care match 0 or more\n\t\t\tquote     : /\\\"/g,\n\t\t\tisNeg1    : /(>=?\\s*-\\d)/,\n\t\t\tisNeg2    : /(<=?\\s*\\d)/\n\t\t},\n\t\t// function( c, data ) { }\n\t\t// c = table.config\n\t\t// data.$row = jQuery object of the row currently being processed\n\t\t// data.$cells = jQuery object of all cells within the current row\n\t\t// data.filters = array of filters for all columns ( some may be undefined )\n\t\t// data.filter = filter for the current column\n\t\t// data.iFilter = same as data.filter, except lowercase ( if wo.filter_ignoreCase is true )\n\t\t// data.exact = table cell text ( or parsed data if column parser enabled; may be a number & not a string )\n\t\t// data.iExact = same as data.exact, except lowercase ( if wo.filter_ignoreCase is true; may be a number & not a string )\n\t\t// data.cache = table cell text from cache, so it has been parsed ( & in all lower case if c.ignoreCase is true )\n\t\t// data.cacheArray = An array of parsed content from each table cell in the row being processed\n\t\t// data.index = column index; table = table element ( DOM )\n\t\t// data.parsed = array ( by column ) of boolean values ( from filter_useParsedData or 'filter-parsed' class )\n\t\ttypes: {\n\t\t\tor : function( c, data, vars ) {\n\t\t\t\t// look for \"|\", but not if it is inside of a regular expression\n\t\t\t\tif ( ( tsfRegex.orTest.test( data.iFilter ) || tsfRegex.orSplit.test( data.filter ) ) &&\n\t\t\t\t\t// this test for regex has potential to slow down the overall search\n\t\t\t\t\t!tsfRegex.regex.test( data.filter ) ) {\n\t\t\t\t\tvar indx, filterMatched, query, regex,\n\t\t\t\t\t\t// duplicate data but split filter\n\t\t\t\t\t\tdata2 = $.extend( {}, data ),\n\t\t\t\t\t\tfilter = data.filter.split( tsfRegex.orSplit ),\n\t\t\t\t\t\tiFilter = data.iFilter.split( tsfRegex.orSplit ),\n\t\t\t\t\t\tlen = filter.length;\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\t\tdata2.nestedFilters = true;\n\t\t\t\t\t\tdata2.filter = '' + ( tsf.parseFilter( c, filter[ indx ], data ) || '' );\n\t\t\t\t\t\tdata2.iFilter = '' + ( tsf.parseFilter( c, iFilter[ indx ], data ) || '' );\n\t\t\t\t\t\tquery = '(' + ( tsf.parseFilter( c, data2.filter, data ) || '' ) + ')';\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// use try/catch, because query may not be a valid regex if \"|\" is contained within a partial regex search,\n\t\t\t\t\t\t\t// e.g \"/(Alex|Aar\" -> Uncaught SyntaxError: Invalid regular expression: /(/(Alex)/: Unterminated group\n\t\t\t\t\t\t\tregex = new RegExp( data.isMatch ? query : '^' + query + '$', c.widgetOptions.filter_ignoreCase ? 'i' : '' );\n\t\t\t\t\t\t\t// filterMatched = data2.filter === '' && indx > 0 ? true\n\t\t\t\t\t\t\t// look for an exact match with the 'or' unless the 'filter-match' class is found\n\t\t\t\t\t\t\tfilterMatched = regex.test( data2.exact ) || tsf.processTypes( c, data2, vars );\n\t\t\t\t\t\t\tif ( filterMatched ) {\n\t\t\t\t\t\t\t\treturn filterMatched;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// may be null from processing types\n\t\t\t\t\treturn filterMatched || false;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for an AND or && operator ( logical and )\n\t\t\tand : function( c, data, vars ) {\n\t\t\t\tif ( tsfRegex.andTest.test( data.filter ) ) {\n\t\t\t\t\tvar indx, filterMatched, result, query, regex,\n\t\t\t\t\t\t// duplicate data but split filter\n\t\t\t\t\t\tdata2 = $.extend( {}, data ),\n\t\t\t\t\t\tfilter = data.filter.split( tsfRegex.andSplit ),\n\t\t\t\t\t\tiFilter = data.iFilter.split( tsfRegex.andSplit ),\n\t\t\t\t\t\tlen = filter.length;\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\t\tdata2.nestedFilters = true;\n\t\t\t\t\t\tdata2.filter = '' + ( tsf.parseFilter( c, filter[ indx ], data ) || '' );\n\t\t\t\t\t\tdata2.iFilter = '' + ( tsf.parseFilter( c, iFilter[ indx ], data ) || '' );\n\t\t\t\t\t\tquery = ( '(' + ( tsf.parseFilter( c, data2.filter, data ) || '' ) + ')' )\n\t\t\t\t\t\t\t// replace wild cards since /(a*)/i will match anything\n\t\t\t\t\t\t\t.replace( tsfRegex.wild01, '\\\\S{1}' ).replace( tsfRegex.wild0More, '\\\\S*' );\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// use try/catch just in case RegExp is invalid\n\t\t\t\t\t\t\tregex = new RegExp( data.isMatch ? query : '^' + query + '$', c.widgetOptions.filter_ignoreCase ? 'i' : '' );\n\t\t\t\t\t\t\t// look for an exact match with the 'and' unless the 'filter-match' class is found\n\t\t\t\t\t\t\tresult = ( regex.test( data2.exact ) || tsf.processTypes( c, data2, vars ) );\n\t\t\t\t\t\t\tif ( indx === 0 ) {\n\t\t\t\t\t\t\t\tfilterMatched = result;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfilterMatched = filterMatched && result;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// may be null from processing types\n\t\t\t\t\treturn filterMatched || false;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for regex\n\t\t\tregex: function( c, data ) {\n\t\t\t\tif ( tsfRegex.regex.test( data.filter ) ) {\n\t\t\t\t\tvar matches,\n\t\t\t\t\t\t// cache regex per column for optimal speed\n\t\t\t\t\t\tregex = data.filter_regexCache[ data.index ] || tsfRegex.regex.exec( data.filter ),\n\t\t\t\t\t\tisRegex = regex instanceof RegExp;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ( !isRegex ) {\n\t\t\t\t\t\t\t// force case insensitive search if ignoreCase option set?\n\t\t\t\t\t\t\t// if ( c.ignoreCase && !regex[2] ) { regex[2] = 'i'; }\n\t\t\t\t\t\t\tdata.filter_regexCache[ data.index ] = regex = new RegExp( regex[1], regex[2] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatches = regex.test( data.exact );\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\tmatches = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn matches;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for operators >, >=, < or <=\n\t\t\toperators: function( c, data ) {\n\t\t\t\t// ignore empty strings... because '' < 10 is true\n\t\t\t\tif ( tsfRegex.operTest.test( data.iFilter ) && data.iExact !== '' ) {\n\t\t\t\t\tvar cachedValue, result, txt,\n\t\t\t\t\t\ttable = c.table,\n\t\t\t\t\t\tparsed = data.parsed[ data.index ],\n\t\t\t\t\t\tquery = ts.formatFloat( data.iFilter.replace( tsfRegex.operators, '' ), table ),\n\t\t\t\t\t\tparser = c.parsers[ data.index ] || {},\n\t\t\t\t\t\tsavedSearch = query;\n\t\t\t\t\t// parse filter value in case we're comparing numbers ( dates )\n\t\t\t\t\tif ( parsed || parser.type === 'numeric' ) {\n\t\t\t\t\t\ttxt = $.trim( '' + data.iFilter.replace( tsfRegex.operators, '' ) );\n\t\t\t\t\t\tresult = tsf.parseFilter( c, txt, data, true );\n\t\t\t\t\t\tquery = ( typeof result === 'number' && result !== '' && !isNaN( result ) ) ? result : query;\n\t\t\t\t\t}\n\t\t\t\t\t// iExact may be numeric - see issue #149;\n\t\t\t\t\t// check if cached is defined, because sometimes j goes out of range? ( numeric columns )\n\t\t\t\t\tif ( ( parsed || parser.type === 'numeric' ) && !isNaN( query ) &&\n\t\t\t\t\t\ttypeof data.cache !== 'undefined' ) {\n\t\t\t\t\t\tcachedValue = data.cache;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttxt = isNaN( data.iExact ) ? data.iExact.replace( ts.regex.nondigit, '' ) : data.iExact;\n\t\t\t\t\t\tcachedValue = ts.formatFloat( txt, table );\n\t\t\t\t\t}\n\t\t\t\t\tif ( tsfRegex.gtTest.test( data.iFilter ) ) {\n\t\t\t\t\t\tresult = tsfRegex.gteTest.test( data.iFilter ) ? cachedValue >= query : cachedValue > query;\n\t\t\t\t\t} else if ( tsfRegex.ltTest.test( data.iFilter ) ) {\n\t\t\t\t\t\tresult = tsfRegex.lteTest.test( data.iFilter ) ? cachedValue <= query : cachedValue < query;\n\t\t\t\t\t}\n\t\t\t\t\t// keep showing all rows if nothing follows the operator\n\t\t\t\t\tif ( !result && savedSearch === '' ) {\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for a not match\n\t\t\tnotMatch: function( c, data ) {\n\t\t\t\tif ( tsfRegex.notTest.test( data.iFilter ) ) {\n\t\t\t\t\tvar indx,\n\t\t\t\t\t\ttxt = data.iFilter.replace( '!', '' ),\n\t\t\t\t\t\tfilter = tsf.parseFilter( c, txt, data ) || '';\n\t\t\t\t\tif ( tsfRegex.exact.test( filter ) ) {\n\t\t\t\t\t\t// look for exact not matches - see #628\n\t\t\t\t\t\tfilter = filter.replace( tsfRegex.exact, '' );\n\t\t\t\t\t\treturn filter === '' ? true : $.trim( filter ) !== data.iExact;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindx = data.iExact.search( $.trim( filter ) );\n\t\t\t\t\t\treturn filter === '' ? true :\n\t\t\t\t\t\t\t// return true if not found\n\t\t\t\t\t\t\tdata.anyMatch ? indx < 0 :\n\t\t\t\t\t\t\t// return false if found\n\t\t\t\t\t\t\t!( c.widgetOptions.filter_startsWith ? indx === 0 : indx >= 0 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for quotes or equals to get an exact match; ignore type since iExact could be numeric\n\t\t\texact: function( c, data ) {\n\t\t\t\t/*jshint eqeqeq:false */\n\t\t\t\tif ( tsfRegex.exact.test( data.iFilter ) ) {\n\t\t\t\t\tvar txt = data.iFilter.replace( tsfRegex.exact, '' ),\n\t\t\t\t\t\tfilter = tsf.parseFilter( c, txt, data ) || '';\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\treturn data.anyMatch ? $.inArray( filter, data.rowArray ) >= 0 : filter == data.iExact;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for a range ( using ' to ' or ' - ' ) - see issue #166; thanks matzhu!\n\t\t\trange : function( c, data ) {\n\t\t\t\tif ( tsfRegex.toTest.test( data.iFilter ) ) {\n\t\t\t\t\tvar result, tmp, range1, range2,\n\t\t\t\t\t\ttable = c.table,\n\t\t\t\t\t\tindex = data.index,\n\t\t\t\t\t\tparsed = data.parsed[index],\n\t\t\t\t\t\t// make sure the dash is for a range and not indicating a negative number\n\t\t\t\t\t\tquery = data.iFilter.split( tsfRegex.toSplit );\n\n\t\t\t\t\ttmp = query[0].replace( ts.regex.nondigit, '' ) || '';\n\t\t\t\t\trange1 = ts.formatFloat( tsf.parseFilter( c, tmp, data ), table );\n\t\t\t\t\ttmp = query[1].replace( ts.regex.nondigit, '' ) || '';\n\t\t\t\t\trange2 = ts.formatFloat( tsf.parseFilter( c, tmp, data ), table );\n\t\t\t\t\t// parse filter value in case we're comparing numbers ( dates )\n\t\t\t\t\tif ( parsed || c.parsers[ index ].type === 'numeric' ) {\n\t\t\t\t\t\tresult = c.parsers[ index ].format( '' + query[0], table, c.$headers.eq( index ), index );\n\t\t\t\t\t\trange1 = ( result !== '' && !isNaN( result ) ) ? result : range1;\n\t\t\t\t\t\tresult = c.parsers[ index ].format( '' + query[1], table, c.$headers.eq( index ), index );\n\t\t\t\t\t\trange2 = ( result !== '' && !isNaN( result ) ) ? result : range2;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( parsed || c.parsers[ index ].type === 'numeric' ) && !isNaN( range1 ) && !isNaN( range2 ) ) {\n\t\t\t\t\t\tresult = data.cache;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttmp = isNaN( data.iExact ) ? data.iExact.replace( ts.regex.nondigit, '' ) : data.iExact;\n\t\t\t\t\t\tresult = ts.formatFloat( tmp, table );\n\t\t\t\t\t}\n\t\t\t\t\tif ( range1 > range2 ) {\n\t\t\t\t\t\ttmp = range1; range1 = range2; range2 = tmp; // swap\n\t\t\t\t\t}\n\t\t\t\t\treturn ( result >= range1 && result <= range2 ) || ( range1 === '' || range2 === '' );\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// Look for wild card: ? = single, * = multiple, or | = logical OR\n\t\t\twild : function( c, data ) {\n\t\t\t\tif ( tsfRegex.wildOrTest.test( data.iFilter ) ) {\n\t\t\t\t\tvar query = '' + ( tsf.parseFilter( c, data.iFilter, data ) || '' );\n\t\t\t\t\t// look for an exact match with the 'or' unless the 'filter-match' class is found\n\t\t\t\t\tif ( !tsfRegex.wildTest.test( query ) && data.nestedFilters ) {\n\t\t\t\t\t\tquery = data.isMatch ? query : '^(' + query + ')$';\n\t\t\t\t\t}\n\t\t\t\t\t// parsing the filter may not work properly when using wildcards =/\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new RegExp(\n\t\t\t\t\t\t\tquery.replace( tsfRegex.wild01, '\\\\S{1}' ).replace( tsfRegex.wild0More, '\\\\S*' ),\n\t\t\t\t\t\t\tc.widgetOptions.filter_ignoreCase ? 'i' : ''\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.test( data.exact );\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t// fuzzy text search; modified from https://github.com/mattyork/fuzzy ( MIT license )\n\t\t\tfuzzy: function( c, data ) {\n\t\t\t\tif ( tsfRegex.fuzzyTest.test( data.iFilter ) ) {\n\t\t\t\t\tvar indx,\n\t\t\t\t\t\tpatternIndx = 0,\n\t\t\t\t\t\tlen = data.iExact.length,\n\t\t\t\t\t\ttxt = data.iFilter.slice( 1 ),\n\t\t\t\t\t\tpattern = tsf.parseFilter( c, txt, data ) || '';\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\t\tif ( data.iExact[ indx ] === pattern[ patternIndx ] ) {\n\t\t\t\t\t\t\tpatternIndx += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn patternIndx === pattern.length;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tinit: function( table ) {\n\t\t\t// filter language options\n\t\t\tts.language = $.extend( true, {}, {\n\t\t\t\tto  : 'to',\n\t\t\t\tor  : 'or',\n\t\t\t\tand : 'and'\n\t\t\t}, ts.language );\n\n\t\t\tvar options, string, txt, $header, column, val, fxn, noSelect,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tprocessStr = function(prefix, str, suffix) {\n\t\t\t\t\tstr = str.trim();\n\t\t\t\t\t// don't include prefix/suffix if str is empty\n\t\t\t\t\treturn str === '' ? '' : (prefix || '') + str + (suffix || '');\n\t\t\t\t};\n\t\t\tc.$table.addClass( 'hasFilters' );\n\t\t\tc.lastSearch = [];\n\n\t\t\t// define timers so using clearTimeout won't cause an undefined error\n\t\t\two.filter_searchTimer = null;\n\t\t\two.filter_initTimer = null;\n\t\t\two.filter_formatterCount = 0;\n\t\t\two.filter_formatterInit = [];\n\t\t\two.filter_anyColumnSelector = '[data-column=\"all\"],[data-column=\"any\"]';\n\t\t\two.filter_multipleColumnSelector = '[data-column*=\"-\"],[data-column*=\",\"]';\n\n\t\t\tval = '\\\\{' + tsfRegex.query + '\\\\}';\n\t\t\t$.extend( tsfRegex, {\n\t\t\t\tchild : new RegExp( c.cssChildRow ),\n\t\t\t\tfiltered : new RegExp( wo.filter_filteredRow ),\n\t\t\t\talreadyFiltered : new RegExp( '(\\\\s+(-' + processStr('|', ts.language.or) + processStr('|', ts.language.to) + ')\\\\s+)', 'i' ),\n\t\t\t\ttoTest : new RegExp( '\\\\s+(-' + processStr('|', ts.language.to) + ')\\\\s+', 'i' ),\n\t\t\t\ttoSplit : new RegExp( '(?:\\\\s+(?:-' + processStr('|', ts.language.to) + ')\\\\s+)', 'gi' ),\n\t\t\t\tandTest : new RegExp( '\\\\s+(' + processStr('', ts.language.and, '|') + '&&)\\\\s+', 'i' ),\n\t\t\t\tandSplit : new RegExp( '(?:\\\\s+(?:' + processStr('', ts.language.and, '|') + '&&)\\\\s+)', 'gi' ),\n\t\t\t\torTest : new RegExp( '(\\\\|' + processStr('|\\\\s+', ts.language.or, '\\\\s+') + ')', 'i' ),\n\t\t\t\torSplit : new RegExp( '(?:\\\\|' + processStr('|\\\\s+(?:', ts.language.or, ')\\\\s+') + ')', 'gi' ),\n\t\t\t\tiQuery : new RegExp( val, 'i' ),\n\t\t\t\tigQuery : new RegExp( val, 'ig' ),\n\t\t\t\toperTest : /^[<>]=?/,\n\t\t\t\tgtTest  : />/,\n\t\t\t\tgteTest : />=/,\n\t\t\t\tltTest  : /</,\n\t\t\t\tlteTest : /<=/,\n\t\t\t\tnotTest : /^\\!/,\n\t\t\t\twildOrTest : /[\\?\\*\\|]/,\n\t\t\t\twildTest : /\\?\\*/,\n\t\t\t\tfuzzyTest : /^~/,\n\t\t\t\texactTest : /[=\\\"\\|!]/\n\t\t\t});\n\n\t\t\t// don't build filter row if columnFilters is false or all columns are set to 'filter-false'\n\t\t\t// see issue #156\n\t\t\tval = c.$headers.filter( '.filter-false, .parser-false' ).length;\n\t\t\tif ( wo.filter_columnFilters !== false && val !== c.$headers.length ) {\n\t\t\t\t// build filter row\n\t\t\t\ttsf.buildRow( table, c, wo );\n\t\t\t}\n\n\t\t\ttxt = 'addRows updateCell update updateRows updateComplete appendCache filterReset ' +\n\t\t\t\t'filterAndSortReset filterResetSaved filterEnd search '.split( ' ' ).join( c.namespace + 'filter ' );\n\t\t\tc.$table.bind( txt, function( event, filter ) {\n\t\t\t\tval = wo.filter_hideEmpty &&\n\t\t\t\t\t$.isEmptyObject( c.cache ) &&\n\t\t\t\t\t!( c.delayInit && event.type === 'appendCache' );\n\t\t\t\t// hide filter row using the 'filtered' class name\n\t\t\t\tc.$table.find( '.' + tscss.filterRow ).toggleClass( wo.filter_filteredRow, val ); // fixes #450\n\t\t\t\tif ( !/(search|filter)/.test( event.type ) ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\ttsf.buildDefault( table, true );\n\t\t\t\t}\n\t\t\t\t// Add filterAndSortReset - see #1361\n\t\t\t\tif ( event.type === 'filterReset' || event.type === 'filterAndSortReset' ) {\n\t\t\t\t\tc.$table.find( '.' + tscss.filter ).add( wo.filter_$externalFilters ).val( '' );\n\t\t\t\t\tif ( event.type === 'filterAndSortReset' ) {\n\t\t\t\t\t\tts.sortReset( this.config, function() {\n\t\t\t\t\t\t\ttsf.searching( table, [] );\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttsf.searching( table, [] );\n\t\t\t\t\t}\n\t\t\t\t} else if ( event.type === 'filterResetSaved' ) {\n\t\t\t\t\tts.storage( table, 'tablesorter-filters', '' );\n\t\t\t\t} else if ( event.type === 'filterEnd' ) {\n\t\t\t\t\ttsf.buildDefault( table, true );\n\t\t\t\t} else {\n\t\t\t\t\t// send false argument to force a new search; otherwise if the filter hasn't changed,\n\t\t\t\t\t// it will return\n\t\t\t\t\tfilter = event.type === 'search' ? filter :\n\t\t\t\t\t\tevent.type === 'updateComplete' ? c.$table.data( 'lastSearch' ) : '';\n\t\t\t\t\tif ( /(update|add)/.test( event.type ) && event.type !== 'updateComplete' ) {\n\t\t\t\t\t\t// force a new search since content has changed\n\t\t\t\t\t\tc.lastCombinedFilter = null;\n\t\t\t\t\t\tc.lastSearch = [];\n\t\t\t\t\t\t// update filterFormatters after update (& small delay) - Fixes #1237\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}\n\t\t\t\t\t// pass true ( skipFirst ) to prevent the tablesorter.setFilters function from skipping the first\n\t\t\t\t\t// input ensures all inputs are updated when a search is triggered on the table\n\t\t\t\t\t// $( 'table' ).trigger( 'search', [...] );\n\t\t\t\t\ttsf.searching( table, filter, true );\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\t// reset button/link\n\t\t\tif ( wo.filter_reset ) {\n\t\t\t\tif ( wo.filter_reset instanceof $ ) {\n\t\t\t\t\t// reset contains a jQuery object, bind to it\n\t\t\t\t\two.filter_reset.click( function() {\n\t\t\t\t\t\tc.$table.triggerHandler( 'filterReset' );\n\t\t\t\t\t});\n\t\t\t\t} else if ( $( wo.filter_reset ).length ) {\n\t\t\t\t\t// reset is a jQuery selector, use event delegation\n\t\t\t\t\t$( document )\n\t\t\t\t\t\t.undelegate( wo.filter_reset, 'click' + c.namespace + 'filter' )\n\t\t\t\t\t\t.delegate( wo.filter_reset, 'click' + c.namespace + 'filter', function() {\n\t\t\t\t\t\t\t// trigger a reset event, so other functions ( filter_formatter ) know when to reset\n\t\t\t\t\t\t\tc.$table.triggerHandler( 'filterReset' );\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( wo.filter_functions ) {\n\t\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t\tfxn = ts.getColumnData( table, wo.filter_functions, column );\n\t\t\t\t\tif ( fxn ) {\n\t\t\t\t\t\t// remove 'filter-select' from header otherwise the options added here are replaced with\n\t\t\t\t\t\t// all options\n\t\t\t\t\t\t$header = c.$headerIndexed[ column ].removeClass( 'filter-select' );\n\t\t\t\t\t\t// don't build select if 'filter-false' or 'parser-false' set\n\t\t\t\t\t\tnoSelect = !( $header.hasClass( 'filter-false' ) || $header.hasClass( 'parser-false' ) );\n\t\t\t\t\t\toptions = '';\n\t\t\t\t\t\tif ( fxn === true && noSelect ) {\n\t\t\t\t\t\t\ttsf.buildSelect( table, column );\n\t\t\t\t\t\t} else if ( typeof fxn === 'object' && noSelect ) {\n\t\t\t\t\t\t\t// add custom drop down list\n\t\t\t\t\t\t\tfor ( string in fxn ) {\n\t\t\t\t\t\t\t\tif ( typeof string === 'string' ) {\n\t\t\t\t\t\t\t\t\toptions += options === '' ?\n\t\t\t\t\t\t\t\t\t\t'<option value=\"\">' +\n\t\t\t\t\t\t\t\t\t\t\t( $header.data( 'placeholder' ) ||\n\t\t\t\t\t\t\t\t\t\t\t\t$header.attr( 'data-placeholder' ) ||\n\t\t\t\t\t\t\t\t\t\t\t\two.filter_placeholder.select ||\n\t\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t'</option>' : '';\n\t\t\t\t\t\t\t\t\tval = string;\n\t\t\t\t\t\t\t\t\ttxt = string;\n\t\t\t\t\t\t\t\t\tif ( string.indexOf( wo.filter_selectSourceSeparator ) >= 0 ) {\n\t\t\t\t\t\t\t\t\t\tval = string.split( wo.filter_selectSourceSeparator );\n\t\t\t\t\t\t\t\t\t\ttxt = val[1];\n\t\t\t\t\t\t\t\t\t\tval = val[0];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\toptions += '<option ' +\n\t\t\t\t\t\t\t\t\t\t( txt === val ? '' : 'data-function-name=\"' + string + '\" ' ) +\n\t\t\t\t\t\t\t\t\t\t'value=\"' + val + '\">' + txt + '</option>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tc.$table\n\t\t\t\t\t\t\t\t.find( 'thead' )\n\t\t\t\t\t\t\t\t.find( 'select.' + tscss.filter + '[data-column=\"' + column + '\"]' )\n\t\t\t\t\t\t\t\t.append( options );\n\t\t\t\t\t\t\ttxt = wo.filter_selectSource;\n\t\t\t\t\t\t\tfxn = typeof txt === 'function' ? true : ts.getColumnData( table, txt, column );\n\t\t\t\t\t\t\tif ( fxn ) {\n\t\t\t\t\t\t\t\t// updating so the extra options are appended\n\t\t\t\t\t\t\t\ttsf.buildSelect( c.table, column, '', true, $header.hasClass( wo.filter_onlyAvail ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// not really updating, but if the column has both the 'filter-select' class &\n\t\t\t// filter_functions set to true, it would append the same options twice.\n\t\t\ttsf.buildDefault( table, true );\n\n\t\t\ttsf.bindSearch( table, c.$table.find( '.' + tscss.filter ), true );\n\t\t\tif ( wo.filter_external ) {\n\t\t\t\ttsf.bindSearch( table, wo.filter_external );\n\t\t\t}\n\n\t\t\tif ( wo.filter_hideFilters ) {\n\t\t\t\ttsf.hideFilters( c );\n\t\t\t}\n\n\t\t\t// show processing icon\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\ttxt = 'filterStart filterEnd '.split( ' ' ).join( c.namespace + 'filter-sp ' );\n\t\t\t\tc.$table\n\t\t\t\t\t.unbind( txt.replace( ts.regex.spaces, ' ' ) )\n\t\t\t\t\t.bind( txt, function( event, columns ) {\n\t\t\t\t\t// only add processing to certain columns to all columns\n\t\t\t\t\t$header = ( columns ) ?\n\t\t\t\t\t\tc.$table\n\t\t\t\t\t\t\t.find( '.' + tscss.header )\n\t\t\t\t\t\t\t.filter( '[data-column]' )\n\t\t\t\t\t\t\t.filter( function() {\n\t\t\t\t\t\t\t\treturn columns[ $( this ).data( 'column' ) ] !== '';\n\t\t\t\t\t\t\t}) : '';\n\t\t\t\t\tts.isProcessing( table, event.type === 'filterStart', columns ? $header : '' );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// set filtered rows count ( intially unfiltered )\n\t\t\tc.filteredRows = c.totalRows;\n\n\t\t\t// add default values\n\t\t\ttxt = 'tablesorter-initialized pagerBeforeInitialized '.split( ' ' ).join( c.namespace + 'filter ' );\n\t\t\tc.$table\n\t\t\t.unbind( txt.replace( ts.regex.spaces, ' ' ) )\n\t\t\t.bind( txt, function() {\n\t\t\t\ttsf.completeInit( this );\n\t\t\t});\n\t\t\t// if filter widget is added after pager has initialized; then set filter init flag\n\t\t\tif ( c.pager && c.pager.initialized && !wo.filter_initialized ) {\n\t\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\ttsf.filterInitComplete( c );\n\t\t\t\t}, 100 );\n\t\t\t} else if ( !wo.filter_initialized ) {\n\t\t\t\ttsf.completeInit( table );\n\t\t\t}\n\t\t},\n\t\tcompleteInit: function( table ) {\n\t\t\t// redefine 'c' & 'wo' so they update properly inside this callback\n\t\t\tvar c = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tfilters = tsf.setDefaults( table, c, wo ) || [];\n\t\t\tif ( filters.length ) {\n\t\t\t\t// prevent delayInit from triggering a cache build if filters are empty\n\t\t\t\tif ( !( c.delayInit && filters.join( '' ) === '' ) ) {\n\t\t\t\t\tts.setFilters( table, filters, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\n\t\t\t// trigger init after setTimeout to prevent multiple filterStart/End/Init triggers\n\t\t\tsetTimeout( function() {\n\t\t\t\tif ( !wo.filter_initialized ) {\n\t\t\t\t\ttsf.filterInitComplete( c );\n\t\t\t\t}\n\t\t\t}, 100 );\n\t\t},\n\n\t\t// $cell parameter, but not the config, is passed to the filter_formatters,\n\t\t// so we have to work with it instead\n\t\tformatterUpdated: function( $cell, column ) {\n\t\t\t// prevent error if $cell is undefined - see #1056\n\t\t\tvar $table = $cell && $cell.closest( 'table' );\n\t\t\tvar config = $table.length && $table[0].config,\n\t\t\t\two = config && config.widgetOptions;\n\t\t\tif ( wo && !wo.filter_initialized ) {\n\t\t\t\t// add updates by column since this function\n\t\t\t\t// may be called numerous times before initialization\n\t\t\t\two.filter_formatterInit[ column ] = 1;\n\t\t\t}\n\t\t},\n\t\tfilterInitComplete: function( c ) {\n\t\t\tvar indx, len,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tcount = 0,\n\t\t\t\tcompleted = function() {\n\t\t\t\t\two.filter_initialized = true;\n\t\t\t\t\t// update lastSearch - it gets cleared often\n\t\t\t\t\tc.lastSearch = c.$table.data( 'lastSearch' );\n\t\t\t\t\tc.$table.triggerHandler( 'filterInit', c );\n\t\t\t\t\ttsf.findRows( c.table, c.lastSearch || [] );\n\t\t\t\t\tif (ts.debug(c, 'filter')) {\n\t\t\t\t\t\tconsole.log('Filter >> Widget initialized');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\tif ( $.isEmptyObject( wo.filter_formatter ) ) {\n\t\t\t\tcompleted();\n\t\t\t} else {\n\t\t\t\tlen = wo.filter_formatterInit.length;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\tif ( wo.filter_formatterInit[ indx ] === 1 ) {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tclearTimeout( wo.filter_initTimer );\n\t\t\t\tif ( !wo.filter_initialized && count === wo.filter_formatterCount ) {\n\t\t\t\t\t// filter widget initialized\n\t\t\t\t\tcompleted();\n\t\t\t\t} else if ( !wo.filter_initialized ) {\n\t\t\t\t\t// fall back in case a filter_formatter doesn't call\n\t\t\t\t\t// $.tablesorter.filter.formatterUpdated( $cell, column ), and the count is off\n\t\t\t\t\two.filter_initTimer = setTimeout( function() {\n\t\t\t\t\t\tcompleted();\n\t\t\t\t\t}, 500 );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// encode or decode filters for storage; see #1026\n\t\tprocessFilters: function( filters, encode ) {\n\t\t\tvar indx,\n\t\t\t\t// fixes #1237; previously returning an encoded \"filters\" value\n\t\t\t\tresult = [],\n\t\t\t\tmode = encode ? encodeURIComponent : decodeURIComponent,\n\t\t\t\tlen = filters.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( filters[ indx ] ) {\n\t\t\t\t\tresult[ indx ] = mode( filters[ indx ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tsetDefaults: function( table, c, wo ) {\n\t\t\tvar isArray, saved, indx, col, $filters,\n\t\t\t\t// get current ( default ) filters\n\t\t\t\tfilters = ts.getFilters( table ) || [];\n\t\t\tif ( wo.filter_saveFilters && ts.storage ) {\n\t\t\t\tsaved = ts.storage( table, 'tablesorter-filters' ) || [];\n\t\t\t\tisArray = $.isArray( saved );\n\t\t\t\t// make sure we're not just getting an empty array\n\t\t\t\tif ( !( isArray && saved.join( '' ) === '' || !isArray ) ) {\n\t\t\t\t\tfilters = tsf.processFilters( saved );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// if no filters saved, then check default settings\n\t\t\tif ( filters.join( '' ) === '' ) {\n\t\t\t\t// allow adding default setting to external filters\n\t\t\t\t$filters = c.$headers.add( wo.filter_$externalFilters )\n\t\t\t\t\t.filter( '[' + wo.filter_defaultAttrib + ']' );\n\t\t\t\tfor ( indx = 0; indx <= c.columns; indx++ ) {\n\t\t\t\t\t// include data-column='all' external filters\n\t\t\t\t\tcol = indx === c.columns ? 'all' : indx;\n\t\t\t\t\tfilters[ indx ] = $filters\n\t\t\t\t\t\t.filter( '[data-column=\"' + col + '\"]' )\n\t\t\t\t\t\t.attr( wo.filter_defaultAttrib ) || filters[indx] || '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tc.$table.data( 'lastSearch', filters );\n\t\t\treturn filters;\n\t\t},\n\t\tparseFilter: function( c, filter, data, parsed ) {\n\t\t\treturn parsed || data.parsed[ data.index ] ?\n\t\t\t\tc.parsers[ data.index ].format( filter, c.table, [], data.index ) :\n\t\t\t\tfilter;\n\t\t},\n\t\tbuildRow: function( table, c, wo ) {\n\t\t\tvar $filter, col, column, $header, makeSelect, disabled, name, ffxn, tmp,\n\t\t\t\t// c.columns defined in computeThIndexes()\n\t\t\t\tcellFilter = wo.filter_cellFilter,\n\t\t\t\tcolumns = c.columns,\n\t\t\t\tarry = $.isArray( cellFilter ),\n\t\t\t\tbuildFilter = '<tr role=\"search\" class=\"' + tscss.filterRow + ' ' + c.cssIgnoreRow + '\">';\n\t\t\tfor ( column = 0; column < columns; column++ ) {\n\t\t\t\tif ( c.$headerIndexed[ column ].length ) {\n\t\t\t\t\t// account for entire column set with colspan. See #1047\n\t\t\t\t\ttmp = c.$headerIndexed[ column ] && c.$headerIndexed[ column ][0].colSpan || 0;\n\t\t\t\t\tif ( tmp > 1 ) {\n\t\t\t\t\t\tbuildFilter += '<td data-column=\"' + column + '-' + ( column + tmp - 1 ) + '\" colspan=\"' + tmp + '\"';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbuildFilter += '<td data-column=\"' + column + '\"';\n\t\t\t\t\t}\n\t\t\t\t\tif ( arry ) {\n\t\t\t\t\t\tbuildFilter += ( cellFilter[ column ] ? ' class=\"' + cellFilter[ column ] + '\"' : '' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbuildFilter += ( cellFilter !== '' ? ' class=\"' + cellFilter + '\"' : '' );\n\t\t\t\t\t}\n\t\t\t\t\tbuildFilter += '></td>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tc.$filters = $( buildFilter += '</tr>' )\n\t\t\t\t.appendTo( c.$table.children( 'thead' ).eq( 0 ) )\n\t\t\t\t.children( 'td' );\n\t\t\t// build each filter input\n\t\t\tfor ( column = 0; column < columns; column++ ) {\n\t\t\t\tdisabled = false;\n\t\t\t\t// assuming last cell of a column is the main column\n\t\t\t\t$header = c.$headerIndexed[ column ];\n\t\t\t\tif ( $header && $header.length ) {\n\t\t\t\t\t// $filter = c.$filters.filter( '[data-column=\"' + column + '\"]' );\n\t\t\t\t\t$filter = tsf.getColumnElm( c, c.$filters, column );\n\t\t\t\t\tffxn = ts.getColumnData( table, wo.filter_functions, column );\n\t\t\t\t\tmakeSelect = ( wo.filter_functions && ffxn && typeof ffxn !== 'function' ) ||\n\t\t\t\t\t\t$header.hasClass( 'filter-select' );\n\t\t\t\t\t// get data from jQuery data, metadata, headers option or header class name\n\t\t\t\t\tcol = ts.getColumnData( table, c.headers, column );\n\t\t\t\t\tdisabled = ts.getData( $header[0], col, 'filter' ) === 'false' ||\n\t\t\t\t\t\tts.getData( $header[0], col, 'parser' ) === 'false';\n\n\t\t\t\t\tif ( makeSelect ) {\n\t\t\t\t\t\tbuildFilter = $( '<select>' ).appendTo( $filter );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tffxn = ts.getColumnData( table, wo.filter_formatter, column );\n\t\t\t\t\t\tif ( ffxn ) {\n\t\t\t\t\t\t\two.filter_formatterCount++;\n\t\t\t\t\t\t\tbuildFilter = ffxn( $filter, column );\n\t\t\t\t\t\t\t// no element returned, so lets go find it\n\t\t\t\t\t\t\tif ( buildFilter && buildFilter.length === 0 ) {\n\t\t\t\t\t\t\t\tbuildFilter = $filter.children( 'input' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// element not in DOM, so lets attach it\n\t\t\t\t\t\t\tif ( buildFilter && ( buildFilter.parent().length === 0 ||\n\t\t\t\t\t\t\t\t( buildFilter.parent().length && buildFilter.parent()[0] !== $filter[0] ) ) ) {\n\t\t\t\t\t\t\t\t$filter.append( buildFilter );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuildFilter = $( '<input type=\"search\">' ).appendTo( $filter );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( buildFilter ) {\n\t\t\t\t\t\t\ttmp = $header.data( 'placeholder' ) ||\n\t\t\t\t\t\t\t\t$header.attr( 'data-placeholder' ) ||\n\t\t\t\t\t\t\t\two.filter_placeholder.search || '';\n\t\t\t\t\t\t\tbuildFilter.attr( 'placeholder', tmp );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( buildFilter ) {\n\t\t\t\t\t\t// add filter class name\n\t\t\t\t\t\tname = ( $.isArray( wo.filter_cssFilter ) ?\n\t\t\t\t\t\t\t( typeof wo.filter_cssFilter[column] !== 'undefined' ? wo.filter_cssFilter[column] || '' : '' ) :\n\t\t\t\t\t\t\two.filter_cssFilter ) || '';\n\t\t\t\t\t\t// copy data-column from table cell (it will include colspan)\n\t\t\t\t\t\tbuildFilter.addClass( tscss.filter + ' ' + name );\n\t\t\t\t\t\tname = wo.filter_filterLabel;\n\t\t\t\t\t\ttmp = name.match(/{{([^}]+?)}}/g);\n\t\t\t\t\t\tif (!tmp) {\n\t\t\t\t\t\t\ttmp = [ '{{label}}' ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(tmp, function(indx, attr) {\n\t\t\t\t\t\t\tvar regex = new RegExp(attr, 'g'),\n\t\t\t\t\t\t\t\tdata = $header.attr('data-' + attr.replace(/{{|}}/g, '')),\n\t\t\t\t\t\t\t\ttext = typeof data === 'undefined' ? $header.text() : data;\n\t\t\t\t\t\t\tname = name.replace( regex, $.trim( text ) );\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbuildFilter.attr({\n\t\t\t\t\t\t\t'data-column': $filter.attr( 'data-column' ),\n\t\t\t\t\t\t\t'aria-label': name\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif ( disabled ) {\n\t\t\t\t\t\t\tbuildFilter.attr( 'placeholder', '' ).addClass( tscss.filterDisabled )[0].disabled = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbindSearch: function( table, $el, internal ) {\n\t\t\ttable = $( table )[0];\n\t\t\t$el = $( $el ); // allow passing a selector string\n\t\t\tif ( !$el.length ) { return; }\n\t\t\tvar tmp,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tnamespace = c.namespace + 'filter',\n\t\t\t\t$ext = wo.filter_$externalFilters;\n\t\t\tif ( internal !== true ) {\n\t\t\t\t// save anyMatch element\n\t\t\t\ttmp = wo.filter_anyColumnSelector + ',' + wo.filter_multipleColumnSelector;\n\t\t\t\two.filter_$anyMatch = $el.filter( tmp );\n\t\t\t\tif ( $ext && $ext.length ) {\n\t\t\t\t\two.filter_$externalFilters = wo.filter_$externalFilters.add( $el );\n\t\t\t\t} else {\n\t\t\t\t\two.filter_$externalFilters = $el;\n\t\t\t\t}\n\t\t\t\t// update values ( external filters added after table initialization )\n\t\t\t\tts.setFilters( table, c.$table.data( 'lastSearch' ) || [], internal === false );\n\t\t\t}\n\t\t\t// unbind events\n\t\t\ttmp = ( 'keypress keyup keydown search change input '.split( ' ' ).join( namespace + ' ' ) );\n\t\t\t$el\n\t\t\t// use data attribute instead of jQuery data since the head is cloned without including\n\t\t\t// the data/binding\n\t\t\t.attr( 'data-lastSearchTime', new Date().getTime() )\n\t\t\t.unbind( tmp.replace( ts.regex.spaces, ' ' ) )\n\t\t\t.bind( 'keydown' + namespace, function( event ) {\n\t\t\t\tif ( event.which === tskeyCodes.escape && !table.config.widgetOptions.filter_resetOnEsc ) {\n\t\t\t\t\t// prevent keypress event\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind( 'keyup' + namespace, function( event ) {\n\t\t\t\two = table.config.widgetOptions; // make sure \"wo\" isn't cached\n\t\t\t\tvar column = parseInt( $( this ).attr( 'data-column' ), 10 ),\n\t\t\t\t\tliveSearch = typeof wo.filter_liveSearch === 'boolean' ? wo.filter_liveSearch :\n\t\t\t\t\t\tts.getColumnData( table, wo.filter_liveSearch, column );\n\t\t\t\tif ( typeof liveSearch === 'undefined' ) {\n\t\t\t\t\tliveSearch = wo.filter_liveSearch.fallback || false;\n\t\t\t\t}\n\t\t\t\t$( this ).attr( 'data-lastSearchTime', new Date().getTime() );\n\t\t\t\t// emulate what webkit does.... escape clears the filter\n\t\t\t\tif ( event.which === tskeyCodes.escape ) {\n\t\t\t\t\t// make sure to restore the last value on escape\n\t\t\t\t\tthis.value = wo.filter_resetOnEsc ? '' : c.lastSearch[column];\n\t\t\t\t\t// don't return if the search value is empty ( all rows need to be revealed )\n\t\t\t\t} else if ( this.value !== '' && (\n\t\t\t\t\t// liveSearch can contain a min value length; ignore arrow and meta keys, but allow backspace\n\t\t\t\t\t( typeof liveSearch === 'number' && this.value.length < liveSearch ) ||\n\t\t\t\t\t// let return & backspace continue on, but ignore arrows & non-valid characters\n\t\t\t\t\t( event.which !== tskeyCodes.enter && event.which !== tskeyCodes.backSpace &&\n\t\t\t\t\t\t( event.which < tskeyCodes.space || ( event.which >= tskeyCodes.left && event.which <= tskeyCodes.down ) ) ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t\t// live search\n\t\t\t\t} else if ( liveSearch === false ) {\n\t\t\t\t\tif ( this.value !== '' && event.which !== tskeyCodes.enter ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// change event = no delay; last true flag tells getFilters to skip newest timed input\n\t\t\t\ttsf.searching( table, true, true, column );\n\t\t\t})\n\t\t\t// include change for select - fixes #473\n\t\t\t.bind( 'search change keypress input blur '.split( ' ' ).join( namespace + ' ' ), function( event ) {\n\t\t\t\t// don't get cached data, in case data-column changes dynamically\n\t\t\t\tvar column = parseInt( $( this ).attr( 'data-column' ), 10 ),\n\t\t\t\t\teventType = event.type,\n\t\t\t\t\tliveSearch = typeof wo.filter_liveSearch === 'boolean' ?\n\t\t\t\t\t\two.filter_liveSearch :\n\t\t\t\t\t\tts.getColumnData( table, wo.filter_liveSearch, column );\n\t\t\t\tif ( table.config.widgetOptions.filter_initialized &&\n\t\t\t\t\t// immediate search if user presses enter\n\t\t\t\t\t( event.which === tskeyCodes.enter ||\n\t\t\t\t\t\t// immediate search if a \"search\" or \"blur\" is triggered on the input\n\t\t\t\t\t\t( eventType === 'search' || eventType === 'blur' ) ||\n\t\t\t\t\t\t// change & input events must be ignored if liveSearch !== true\n\t\t\t\t\t\t( eventType === 'change' || eventType === 'input' ) &&\n\t\t\t\t\t\t// prevent search if liveSearch is a number\n\t\t\t\t\t\t( liveSearch === true || liveSearch !== true && event.target.nodeName !== 'INPUT' ) &&\n\t\t\t\t\t\t// don't allow 'change' or 'input' event to process if the input value\n\t\t\t\t\t\t// is the same - fixes #685\n\t\t\t\t\t\tthis.value !== c.lastSearch[column]\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t// init search with no delay\n\t\t\t\t\t$( this ).attr( 'data-lastSearchTime', new Date().getTime() );\n\t\t\t\t\ttsf.searching( table, eventType !== 'keypress', true, column );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsearching: function( table, filter, skipFirst, column ) {\n\t\t\tvar liveSearch,\n\t\t\t\two = table.config.widgetOptions;\n\t\t\tif (typeof column === 'undefined') {\n\t\t\t\t// no delay\n\t\t\t\tliveSearch = false;\n\t\t\t} else {\n\t\t\t\tliveSearch = typeof wo.filter_liveSearch === 'boolean' ?\n\t\t\t\t\two.filter_liveSearch :\n\t\t\t\t\t// get column setting, or set to fallback value, or default to false\n\t\t\t\t\tts.getColumnData( table, wo.filter_liveSearch, column );\n\t\t\t\tif ( typeof liveSearch === 'undefined' ) {\n\t\t\t\t\tliveSearch = wo.filter_liveSearch.fallback || false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tclearTimeout( wo.filter_searchTimer );\n\t\t\tif ( typeof filter === 'undefined' || filter === true ) {\n\t\t\t\t// delay filtering\n\t\t\t\two.filter_searchTimer = setTimeout( function() {\n\t\t\t\t\ttsf.checkFilters( table, filter, skipFirst );\n\t\t\t\t}, liveSearch ? wo.filter_searchDelay : 10 );\n\t\t\t} else {\n\t\t\t\t// skip delay\n\t\t\t\ttsf.checkFilters( table, filter, skipFirst );\n\t\t\t}\n\t\t},\n\t\tequalFilters: function (c, filter1, filter2) {\n\t\t\tvar indx,\n\t\t\t\tf1 = [],\n\t\t\t\tf2 = [],\n\t\t\t\tlen = c.columns + 1; // add one to include anyMatch filter\n\t\t\tfilter1 = $.isArray(filter1) ? filter1 : [];\n\t\t\tfilter2 = $.isArray(filter2) ? filter2 : [];\n\t\t\tfor (indx = 0; indx < len; indx++) {\n\t\t\t\tf1[indx] = filter1[indx] || '';\n\t\t\t\tf2[indx] = filter2[indx] || '';\n\t\t\t}\n\t\t\treturn f1.join(',') === f2.join(',');\n\t\t},\n\t\tcheckFilters: function( table, filter, skipFirst ) {\n\t\t\tvar c = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tfilterArray = $.isArray( filter ),\n\t\t\t\tfilters = ( filterArray ) ? filter : ts.getFilters( table, true ),\n\t\t\t\tcurrentFilters = filters || []; // current filter values\n\t\t\t// prevent errors if delay init is set\n\t\t\tif ( $.isEmptyObject( c.cache ) ) {\n\t\t\t\t// update cache if delayInit set & pager has initialized ( after user initiates a search )\n\t\t\t\tif ( c.delayInit && ( !c.pager || c.pager && c.pager.initialized ) ) {\n\t\t\t\t\tts.updateCache( c, function() {\n\t\t\t\t\t\ttsf.checkFilters( table, false, skipFirst );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// add filter array back into inputs\n\t\t\tif ( filterArray ) {\n\t\t\t\tts.setFilters( table, filters, false, skipFirst !== true );\n\t\t\t\tif ( !wo.filter_initialized ) {\n\t\t\t\t\tc.lastSearch = [];\n\t\t\t\t\tc.lastCombinedFilter = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( wo.filter_hideFilters ) {\n\t\t\t\t// show/hide filter row as needed\n\t\t\t\tc.$table\n\t\t\t\t\t.find( '.' + tscss.filterRow )\n\t\t\t\t\t.triggerHandler( tsf.hideFiltersCheck( c ) ? 'mouseleave' : 'mouseenter' );\n\t\t\t}\n\t\t\t// return if the last search is the same; but filter === false when updating the search\n\t\t\t// see example-widget-filter.html filter toggle buttons\n\t\t\tif ( tsf.equalFilters(c, c.lastSearch, currentFilters) && filter !== false ) {\n\t\t\t\treturn;\n\t\t\t} else if ( filter === false ) {\n\t\t\t\t// force filter refresh\n\t\t\t\tc.lastCombinedFilter = '';\n\t\t\t\tc.lastSearch = [];\n\t\t\t}\n\t\t\t// define filter inside it is false\n\t\t\tfilters = filters || [];\n\t\t\t// convert filters to strings - see #1070\n\t\t\tfilters = Array.prototype.map ?\n\t\t\t\tfilters.map( String ) :\n\t\t\t\t// for IE8 & older browsers - maybe not the best method\n\t\t\t\tfilters.join( '\\ufffd' ).split( '\\ufffd' );\n\n\t\t\tif ( wo.filter_initialized ) {\n\t\t\t\tc.$table.triggerHandler( 'filterStart', [ filters ] );\n\t\t\t}\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\t// give it time for the processing icon to kick in\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\ttsf.findRows( table, filters, currentFilters );\n\t\t\t\t\treturn false;\n\t\t\t\t}, 30 );\n\t\t\t} else {\n\t\t\t\ttsf.findRows( table, filters, currentFilters );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\thideFiltersCheck: function( c ) {\n\t\t\tif (typeof c.widgetOptions.filter_hideFilters === 'function') {\n\t\t\t\tvar val = c.widgetOptions.filter_hideFilters( c );\n\t\t\t\tif (typeof val === 'boolean') {\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ts.getFilters( c.$table ).join( '' ) === '';\n\t\t},\n\t\thideFilters: function( c, $table ) {\n\t\t\tvar timer;\n\t\t\t( $table || c.$table )\n\t\t\t\t.find( '.' + tscss.filterRow )\n\t\t\t\t.addClass( tscss.filterRowHide )\n\t\t\t\t.bind( 'mouseenter mouseleave', function( e ) {\n\t\t\t\t\t// save event object - http://bugs.jquery.com/ticket/12140\n\t\t\t\t\tvar event = e,\n\t\t\t\t\t\t$row = $( this );\n\t\t\t\t\tclearTimeout( timer );\n\t\t\t\t\ttimer = setTimeout( function() {\n\t\t\t\t\t\tif ( /enter|over/.test( event.type ) ) {\n\t\t\t\t\t\t\t$row.removeClass( tscss.filterRowHide );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// don't hide if input has focus\n\t\t\t\t\t\t\t// $( ':focus' ) needs jQuery 1.6+\n\t\t\t\t\t\t\tif ( $( document.activeElement ).closest( 'tr' )[0] !== $row[0] ) {\n\t\t\t\t\t\t\t\t// don't hide row if any filter has a value\n\t\t\t\t\t\t\t\t$row.toggleClass( tscss.filterRowHide, tsf.hideFiltersCheck( c ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 200 );\n\t\t\t\t})\n\t\t\t\t.find( 'input, select' ).bind( 'focus blur', function( e ) {\n\t\t\t\t\tvar event = e,\n\t\t\t\t\t\t$row = $( this ).closest( 'tr' );\n\t\t\t\t\tclearTimeout( timer );\n\t\t\t\t\ttimer = setTimeout( function() {\n\t\t\t\t\t\tclearTimeout( timer );\n\t\t\t\t\t\t// don't hide row if any filter has a value\n\t\t\t\t\t\t$row.toggleClass( tscss.filterRowHide, tsf.hideFiltersCheck( c ) && event.type !== 'focus' );\n\t\t\t\t\t}, 200 );\n\t\t\t\t});\n\t\t},\n\t\tdefaultFilter: function( filter, mask ) {\n\t\t\tif ( filter === '' ) { return filter; }\n\t\t\tvar regex = tsfRegex.iQuery,\n\t\t\t\tmaskLen = mask.match( tsfRegex.igQuery ).length,\n\t\t\t\tquery = maskLen > 1 ? $.trim( filter ).split( /\\s/ ) : [ $.trim( filter ) ],\n\t\t\t\tlen = query.length - 1,\n\t\t\t\tindx = 0,\n\t\t\t\tval = mask;\n\t\t\tif ( len < 1 && maskLen > 1 ) {\n\t\t\t\t// only one 'word' in query but mask has >1 slots\n\t\t\t\tquery[1] = query[0];\n\t\t\t}\n\t\t\t// replace all {query} with query words...\n\t\t\t// if query = 'Bob', then convert mask from '!{query}' to '!Bob'\n\t\t\t// if query = 'Bob Joe Frank', then convert mask '{q} OR {q}' to 'Bob OR Joe OR Frank'\n\t\t\twhile ( regex.test( val ) ) {\n\t\t\t\tval = val.replace( regex, query[indx++] || '' );\n\t\t\t\tif ( regex.test( val ) && indx < len && ( query[indx] || '' ) !== '' ) {\n\t\t\t\t\tval = mask.replace( regex, val );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\t\tgetLatestSearch: function( $input ) {\n\t\t\tif ( $input ) {\n\t\t\t\treturn $input.sort( function( a, b ) {\n\t\t\t\t\treturn $( b ).attr( 'data-lastSearchTime' ) - $( a ).attr( 'data-lastSearchTime' );\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn $input || $();\n\t\t},\n\t\tfindRange: function( c, val, ignoreRanges ) {\n\t\t\t// look for multiple columns '1-3,4-6,8' in data-column\n\t\t\tvar temp, ranges, range, start, end, singles, i, indx, len,\n\t\t\t\tcolumns = [];\n\t\t\tif ( /^[0-9]+$/.test( val ) ) {\n\t\t\t\t// always return an array\n\t\t\t\treturn [ parseInt( val, 10 ) ];\n\t\t\t}\n\t\t\t// process column range\n\t\t\tif ( !ignoreRanges && /-/.test( val ) ) {\n\t\t\t\tranges = val.match( /(\\d+)\\s*-\\s*(\\d+)/g );\n\t\t\t\tlen = ranges ? ranges.length : 0;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\trange = ranges[indx].split( /\\s*-\\s*/ );\n\t\t\t\t\tstart = parseInt( range[0], 10 ) || 0;\n\t\t\t\t\tend = parseInt( range[1], 10 ) || ( c.columns - 1 );\n\t\t\t\t\tif ( start > end ) {\n\t\t\t\t\t\ttemp = start; start = end; end = temp; // swap\n\t\t\t\t\t}\n\t\t\t\t\tif ( end >= c.columns ) {\n\t\t\t\t\t\tend = c.columns - 1;\n\t\t\t\t\t}\n\t\t\t\t\tfor ( ; start <= end; start++ ) {\n\t\t\t\t\t\tcolumns[ columns.length ] = start;\n\t\t\t\t\t}\n\t\t\t\t\t// remove processed range from val\n\t\t\t\t\tval = val.replace( ranges[ indx ], '' );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// process single columns\n\t\t\tif ( !ignoreRanges && /,/.test( val ) ) {\n\t\t\t\tsingles = val.split( /\\s*,\\s*/ );\n\t\t\t\tlen = singles.length;\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( singles[ i ] !== '' ) {\n\t\t\t\t\t\tindx = parseInt( singles[ i ], 10 );\n\t\t\t\t\t\tif ( indx < c.columns ) {\n\t\t\t\t\t\t\tcolumns[ columns.length ] = indx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// return all columns\n\t\t\tif ( !columns.length ) {\n\t\t\t\tfor ( indx = 0; indx < c.columns; indx++ ) {\n\t\t\t\t\tcolumns[ columns.length ] = indx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn columns;\n\t\t},\n\t\tgetColumnElm: function( c, $elements, column ) {\n\t\t\t// data-column may contain multiple columns '1-3,5-6,8'\n\t\t\t// replaces: c.$filters.filter( '[data-column=\"' + column + '\"]' );\n\t\t\treturn $elements.filter( function() {\n\t\t\t\tvar cols = tsf.findRange( c, $( this ).attr( 'data-column' ) );\n\t\t\t\treturn $.inArray( column, cols ) > -1;\n\t\t\t});\n\t\t},\n\t\tmultipleColumns: function( c, $input ) {\n\t\t\t// look for multiple columns '1-3,4-6,8' in data-column\n\t\t\tvar wo = c.widgetOptions,\n\t\t\t\t// only target 'all' column inputs on initialization\n\t\t\t\t// & don't target 'all' column inputs if they don't exist\n\t\t\t\ttargets = wo.filter_initialized || !$input.filter( wo.filter_anyColumnSelector ).length,\n\t\t\t\tval = $.trim( tsf.getLatestSearch( $input ).attr( 'data-column' ) || '' );\n\t\t\treturn tsf.findRange( c, val, !targets );\n\t\t},\n\t\tprocessTypes: function( c, data, vars ) {\n\t\t\tvar ffxn,\n\t\t\t\tfilterMatched = null,\n\t\t\t\tmatches = null;\n\t\t\tfor ( ffxn in tsf.types ) {\n\t\t\t\tif ( $.inArray( ffxn, vars.excludeMatch ) < 0 && matches === null ) {\n\t\t\t\t\tmatches = tsf.types[ffxn]( c, data, vars );\n\t\t\t\t\tif ( matches !== null ) {\n\t\t\t\t\t\tdata.matchedOn = ffxn;\n\t\t\t\t\t\tfilterMatched = matches;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn filterMatched;\n\t\t},\n\t\tmatchType: function( c, columnIndex ) {\n\t\t\tvar isMatch,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\t$el = c.$headerIndexed[ columnIndex ];\n\t\t\t// filter-exact > filter-match > filter_matchType for type\n\t\t\tif ( $el.hasClass( 'filter-exact' ) ) {\n\t\t\t\tisMatch = false;\n\t\t\t} else if ( $el.hasClass( 'filter-match' ) ) {\n\t\t\t\tisMatch = true;\n\t\t\t} else {\n\t\t\t\t// filter-select is not applied when filter_functions are used, so look for a select\n\t\t\t\tif ( wo.filter_columnFilters ) {\n\t\t\t\t\t$el = c.$filters\n\t\t\t\t\t\t.find( '.' + tscss.filter )\n\t\t\t\t\t\t.add( wo.filter_$externalFilters )\n\t\t\t\t\t\t.filter( '[data-column=\"' + columnIndex + '\"]' );\n\t\t\t\t} else if ( wo.filter_$externalFilters ) {\n\t\t\t\t\t$el = wo.filter_$externalFilters.filter( '[data-column=\"' + columnIndex + '\"]' );\n\t\t\t\t}\n\t\t\t\tisMatch = $el.length ?\n\t\t\t\t\tc.widgetOptions.filter_matchType[ ( $el[ 0 ].nodeName || '' ).toLowerCase() ] === 'match' :\n\t\t\t\t\t// default to exact, if no inputs found\n\t\t\t\t\tfalse;\n\t\t\t}\n\t\t\treturn isMatch;\n\t\t},\n\t\tprocessRow: function( c, data, vars ) {\n\t\t\tvar result, filterMatched,\n\t\t\t\tfxn, ffxn, txt,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tshowRow = true,\n\t\t\t\thasAnyMatchInput = wo.filter_$anyMatch && wo.filter_$anyMatch.length,\n\n\t\t\t\t// if wo.filter_$anyMatch data-column attribute is changed dynamically\n\t\t\t\t// we don't want to do an \"anyMatch\" search on one column using data\n\t\t\t\t// for the entire row - see #998\n\t\t\t\tcolumnIndex = wo.filter_$anyMatch && wo.filter_$anyMatch.length ?\n\t\t\t\t\t// look for multiple columns '1-3,4-6,8'\n\t\t\t\t\ttsf.multipleColumns( c, wo.filter_$anyMatch ) :\n\t\t\t\t\t[];\n\t\t\tdata.$cells = data.$row.children();\n\t\t\tdata.matchedOn = null;\n\t\t\tif ( data.anyMatchFlag && columnIndex.length > 1 || ( data.anyMatchFilter && !hasAnyMatchInput ) ) {\n\t\t\t\tdata.anyMatch = true;\n\t\t\t\tdata.isMatch = true;\n\t\t\t\tdata.rowArray = data.$cells.map( function( i ) {\n\t\t\t\t\tif ( $.inArray( i, columnIndex ) > -1 || ( data.anyMatchFilter && !hasAnyMatchInput ) ) {\n\t\t\t\t\t\tif ( data.parsed[ i ] ) {\n\t\t\t\t\t\t\ttxt = data.cacheArray[ i ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttxt = data.rawArray[ i ];\n\t\t\t\t\t\t\ttxt = $.trim( wo.filter_ignoreCase ? txt.toLowerCase() : txt );\n\t\t\t\t\t\t\tif ( c.sortLocaleCompare ) {\n\t\t\t\t\t\t\t\ttxt = ts.replaceAccents( txt );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn txt;\n\t\t\t\t\t}\n\t\t\t\t}).get();\n\t\t\t\tdata.filter = data.anyMatchFilter;\n\t\t\t\tdata.iFilter = data.iAnyMatchFilter;\n\t\t\t\tdata.exact = data.rowArray.join( ' ' );\n\t\t\t\tdata.iExact = wo.filter_ignoreCase ? data.exact.toLowerCase() : data.exact;\n\t\t\t\tdata.cache = data.cacheArray.slice( 0, -1 ).join( ' ' );\n\t\t\t\tvars.excludeMatch = vars.noAnyMatch;\n\t\t\t\tfilterMatched = tsf.processTypes( c, data, vars );\n\t\t\t\tif ( filterMatched !== null ) {\n\t\t\t\t\tshowRow = filterMatched;\n\t\t\t\t} else {\n\t\t\t\t\tif ( wo.filter_startsWith ) {\n\t\t\t\t\t\tshowRow = false;\n\t\t\t\t\t\t// data.rowArray may not contain all columns\n\t\t\t\t\t\tcolumnIndex = Math.min( c.columns, data.rowArray.length );\n\t\t\t\t\t\twhile ( !showRow && columnIndex > 0 ) {\n\t\t\t\t\t\t\tcolumnIndex--;\n\t\t\t\t\t\t\tshowRow = showRow || data.rowArray[ columnIndex ].indexOf( data.iFilter ) === 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowRow = ( data.iExact + data.childRowText ).indexOf( data.iFilter ) >= 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.anyMatch = false;\n\t\t\t\t// no other filters to process\n\t\t\t\tif ( data.filters.join( '' ) === data.filter ) {\n\t\t\t\t\treturn showRow;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( columnIndex = 0; columnIndex < c.columns; columnIndex++ ) {\n\t\t\t\tdata.filter = data.filters[ columnIndex ];\n\t\t\t\tdata.index = columnIndex;\n\n\t\t\t\t// filter types to exclude, per column\n\t\t\t\tvars.excludeMatch = vars.excludeFilter[ columnIndex ];\n\n\t\t\t\t// ignore if filter is empty or disabled\n\t\t\t\tif ( data.filter ) {\n\t\t\t\t\tdata.cache = data.cacheArray[ columnIndex ];\n\t\t\t\t\tresult = data.parsed[ columnIndex ] ? data.cache : data.rawArray[ columnIndex ] || '';\n\t\t\t\t\tdata.exact = c.sortLocaleCompare ? ts.replaceAccents( result ) : result; // issue #405\n\t\t\t\t\tdata.iExact = !tsfRegex.type.test( typeof data.exact ) && wo.filter_ignoreCase ?\n\t\t\t\t\t\tdata.exact.toLowerCase() : data.exact;\n\t\t\t\t\tdata.isMatch = tsf.matchType( c, columnIndex );\n\n\t\t\t\t\tresult = showRow; // if showRow is true, show that row\n\n\t\t\t\t\t// in case select filter option has a different value vs text 'a - z|A through Z'\n\t\t\t\t\tffxn = wo.filter_columnFilters ?\n\t\t\t\t\t\tc.$filters.add( wo.filter_$externalFilters )\n\t\t\t\t\t\t\t.filter( '[data-column=\"' + columnIndex + '\"]' )\n\t\t\t\t\t\t\t.find( 'select option:selected' )\n\t\t\t\t\t\t\t.attr( 'data-function-name' ) || '' : '';\n\t\t\t\t\t// replace accents - see #357\n\t\t\t\t\tif ( c.sortLocaleCompare ) {\n\t\t\t\t\t\tdata.filter = ts.replaceAccents( data.filter );\n\t\t\t\t\t}\n\n\t\t\t\t\t// replace column specific default filters - see #1088\n\t\t\t\t\tif ( wo.filter_defaultFilter && tsfRegex.iQuery.test( vars.defaultColFilter[ columnIndex ] ) ) {\n\t\t\t\t\t\tdata.filter = tsf.defaultFilter( data.filter, vars.defaultColFilter[ columnIndex ] );\n\t\t\t\t\t}\n\n\t\t\t\t\t// data.iFilter = case insensitive ( if wo.filter_ignoreCase is true ),\n\t\t\t\t\t// data.filter = case sensitive\n\t\t\t\t\tdata.iFilter = wo.filter_ignoreCase ? ( data.filter || '' ).toLowerCase() : data.filter;\n\t\t\t\t\tfxn = vars.functions[ columnIndex ];\n\t\t\t\t\tfilterMatched = null;\n\t\t\t\t\tif ( fxn ) {\n\t\t\t\t\t\tif ( typeof fxn === 'function' ) {\n\t\t\t\t\t\t\t// filter callback( exact cell content, parser normalized content,\n\t\t\t\t\t\t\t// filter input value, column index, jQuery row object )\n\t\t\t\t\t\t\tfilterMatched = fxn( data.exact, data.cache, data.filter, columnIndex, data.$row, c, data );\n\t\t\t\t\t\t} else if ( typeof fxn[ ffxn || data.filter ] === 'function' ) {\n\t\t\t\t\t\t\t// selector option function\n\t\t\t\t\t\t\ttxt = ffxn || data.filter;\n\t\t\t\t\t\t\tfilterMatched =\n\t\t\t\t\t\t\t\tfxn[ txt ]( data.exact, data.cache, data.filter, columnIndex, data.$row, c, data );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( filterMatched === null ) {\n\t\t\t\t\t\t// cycle through the different filters\n\t\t\t\t\t\t// filters return a boolean or null if nothing matches\n\t\t\t\t\t\tfilterMatched = tsf.processTypes( c, data, vars );\n\t\t\t\t\t\t// select with exact match; ignore \"and\" or \"or\" within the text; fixes #1486\n\t\t\t\t\t\ttxt = fxn === true && (data.matchedOn === 'and' || data.matchedOn === 'or');\n\t\t\t\t\t\tif ( filterMatched !== null && !txt) {\n\t\t\t\t\t\t\tresult = filterMatched;\n\t\t\t\t\t\t// Look for match, and add child row data for matching\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// check fxn (filter-select in header) after filter types are checked\n\t\t\t\t\t\t\t// without this, the filter + jQuery UI selectmenu demo was breaking\n\t\t\t\t\t\t\tif ( fxn === true ) {\n\t\t\t\t\t\t\t\t// default selector uses exact match unless 'filter-match' class is found\n\t\t\t\t\t\t\t\tresult = data.isMatch ?\n\t\t\t\t\t\t\t\t\t// data.iExact may be a number\n\t\t\t\t\t\t\t\t\t( '' + data.iExact ).search( data.iFilter ) >= 0 :\n\t\t\t\t\t\t\t\t\tdata.filter === data.exact;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttxt = ( data.iExact + data.childRowText ).indexOf( tsf.parseFilter( c, data.iFilter, data ) );\n\t\t\t\t\t\t\t\tresult = ( ( !wo.filter_startsWith && txt >= 0 ) || ( wo.filter_startsWith && txt === 0 ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = filterMatched;\n\t\t\t\t\t}\n\t\t\t\t\tshowRow = ( result ) ? showRow : false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn showRow;\n\t\t},\n\t\tfindRows: function( table, filters, currentFilters ) {\n\t\t\tif (\n\t\t\t\ttsf.equalFilters(table.config, table.config.lastSearch, currentFilters) ||\n\t\t\t\t!table.config.widgetOptions.filter_initialized\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar len, norm_rows, rowData, $rows, $row, rowIndex, tbodyIndex, $tbody, columnIndex,\n\t\t\t\tisChild, childRow, lastSearch, showRow, showParent, time, val, indx,\n\t\t\t\tnotFiltered, searchFiltered, query, injected, res, id, txt,\n\t\t\t\tstoredFilters = $.extend( [], filters ),\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tdebug = ts.debug(c, 'filter'),\n\t\t\t\t// data object passed to filters; anyMatch is a flag for the filters\n\t\t\t\tdata = {\n\t\t\t\t\tanyMatch: false,\n\t\t\t\t\tfilters: filters,\n\t\t\t\t\t// regex filter type cache\n\t\t\t\t\tfilter_regexCache : []\n\t\t\t\t},\n\t\t\t\tvars = {\n\t\t\t\t\t// anyMatch really screws up with these types of filters\n\t\t\t\t\tnoAnyMatch: [ 'range',  'operators' ],\n\t\t\t\t\t// cache filter variables that use ts.getColumnData in the main loop\n\t\t\t\t\tfunctions : [],\n\t\t\t\t\texcludeFilter : [],\n\t\t\t\t\tdefaultColFilter : [],\n\t\t\t\t\tdefaultAnyFilter : ts.getColumnData( table, wo.filter_defaultFilter, c.columns, true ) || ''\n\t\t\t\t};\n\t\t\t// parse columns after formatter, in case the class is added at that point\n\t\t\tdata.parsed = [];\n\t\t\tfor ( columnIndex = 0; columnIndex < c.columns; columnIndex++ ) {\n\t\t\t\tdata.parsed[ columnIndex ] = wo.filter_useParsedData ||\n\t\t\t\t\t// parser has a \"parsed\" parameter\n\t\t\t\t\t( c.parsers && c.parsers[ columnIndex ] && c.parsers[ columnIndex ].parsed ||\n\t\t\t\t\t// getData may not return 'parsed' if other 'filter-' class names exist\n\t\t\t\t\t// ( e.g. <th class=\"filter-select filter-parsed\"> )\n\t\t\t\t\tts.getData && ts.getData( c.$headerIndexed[ columnIndex ],\n\t\t\t\t\t\tts.getColumnData( table, c.headers, columnIndex ), 'filter' ) === 'parsed' ||\n\t\t\t\t\tc.$headerIndexed[ columnIndex ].hasClass( 'filter-parsed' ) );\n\n\t\t\t\tvars.functions[ columnIndex ] =\n\t\t\t\t\tts.getColumnData( table, wo.filter_functions, columnIndex ) ||\n\t\t\t\t\tc.$headerIndexed[ columnIndex ].hasClass( 'filter-select' );\n\t\t\t\tvars.defaultColFilter[ columnIndex ] =\n\t\t\t\t\tts.getColumnData( table, wo.filter_defaultFilter, columnIndex ) || '';\n\t\t\t\tvars.excludeFilter[ columnIndex ] =\n\t\t\t\t\t( ts.getColumnData( table, wo.filter_excludeFilter, columnIndex, true ) || '' ).split( /\\s+/ );\n\t\t\t}\n\n\t\t\tif ( debug ) {\n\t\t\t\tconsole.log( 'Filter >> Starting filter widget search', filters );\n\t\t\t\ttime = new Date();\n\t\t\t}\n\t\t\t// filtered rows count\n\t\t\tc.filteredRows = 0;\n\t\t\tc.totalRows = 0;\n\t\t\tcurrentFilters = ( storedFilters || [] );\n\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < c.$tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody( table, c.$tbodies.eq( tbodyIndex ), true );\n\t\t\t\t// skip child rows & widget added ( removable ) rows - fixes #448 thanks to @hempel!\n\t\t\t\t// $rows = $tbody.children( 'tr' ).not( c.selectorRemove );\n\t\t\t\tcolumnIndex = c.columns;\n\t\t\t\t// convert stored rows into a jQuery object\n\t\t\t\tnorm_rows = c.cache[ tbodyIndex ].normalized;\n\t\t\t\t$rows = $( $.map( norm_rows, function( el ) {\n\t\t\t\t\treturn el[ columnIndex ].$row.get();\n\t\t\t\t}) );\n\n\t\t\t\tif ( currentFilters.join('') === '' || wo.filter_serversideFiltering ) {\n\t\t\t\t\t$rows\n\t\t\t\t\t\t.removeClass( wo.filter_filteredRow )\n\t\t\t\t\t\t.not( '.' + c.cssChildRow )\n\t\t\t\t\t\t.css( 'display', '' );\n\t\t\t\t} else {\n\t\t\t\t\t// filter out child rows\n\t\t\t\t\t$rows = $rows.not( '.' + c.cssChildRow );\n\t\t\t\t\tlen = $rows.length;\n\n\t\t\t\t\tif ( ( wo.filter_$anyMatch && wo.filter_$anyMatch.length ) ||\n\t\t\t\t\t\ttypeof filters[c.columns] !== 'undefined' ) {\n\t\t\t\t\t\tdata.anyMatchFlag = true;\n\t\t\t\t\t\tdata.anyMatchFilter = '' + (\n\t\t\t\t\t\t\tfilters[ c.columns ] ||\n\t\t\t\t\t\t\two.filter_$anyMatch && tsf.getLatestSearch( wo.filter_$anyMatch ).val() ||\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( wo.filter_columnAnyMatch ) {\n\t\t\t\t\t\t\t// specific columns search\n\t\t\t\t\t\t\tquery = data.anyMatchFilter.split( tsfRegex.andSplit );\n\t\t\t\t\t\t\tinjected = false;\n\t\t\t\t\t\t\tfor ( indx = 0; indx < query.length; indx++ ) {\n\t\t\t\t\t\t\t\tres = query[ indx ].split( ':' );\n\t\t\t\t\t\t\t\tif ( res.length > 1 ) {\n\t\t\t\t\t\t\t\t\t// make the column a one-based index ( non-developers start counting from one :P )\n\t\t\t\t\t\t\t\t\tif ( isNaN( res[0] ) ) {\n\t\t\t\t\t\t\t\t\t\t$.each( c.headerContent, function( i, txt ) {\n\t\t\t\t\t\t\t\t\t\t\t// multiple matches are possible\n\t\t\t\t\t\t\t\t\t\t\tif ( txt.toLowerCase().indexOf( res[0] ) > -1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tid = i;\n\t\t\t\t\t\t\t\t\t\t\t\tfilters[ id ] = res[1];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tid = parseInt( res[0], 10 ) - 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( id >= 0 && id < c.columns ) { // if id is an integer\n\t\t\t\t\t\t\t\t\t\tfilters[ id ] = res[1];\n\t\t\t\t\t\t\t\t\t\tquery.splice( indx, 1 );\n\t\t\t\t\t\t\t\t\t\tindx--;\n\t\t\t\t\t\t\t\t\t\tinjected = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( injected ) {\n\t\t\t\t\t\t\t\tdata.anyMatchFilter = query.join( ' && ' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// optimize searching only through already filtered rows - see #313\n\t\t\t\t\tsearchFiltered = wo.filter_searchFiltered;\n\t\t\t\t\tlastSearch = c.lastSearch || c.$table.data( 'lastSearch' ) || [];\n\t\t\t\t\tif ( searchFiltered ) {\n\t\t\t\t\t\t// cycle through all filters; include last ( columnIndex + 1 = match any column ). Fixes #669\n\t\t\t\t\t\tfor ( indx = 0; indx < columnIndex + 1; indx++ ) {\n\t\t\t\t\t\t\tval = filters[indx] || '';\n\t\t\t\t\t\t\t// break out of loop if we've already determined not to search filtered rows\n\t\t\t\t\t\t\tif ( !searchFiltered ) { indx = columnIndex; }\n\t\t\t\t\t\t\t// search already filtered rows if...\n\t\t\t\t\t\t\tsearchFiltered = searchFiltered && lastSearch.length &&\n\t\t\t\t\t\t\t\t// there are no changes from beginning of filter\n\t\t\t\t\t\t\t\tval.indexOf( lastSearch[indx] || '' ) === 0 &&\n\t\t\t\t\t\t\t\t// if there is NOT a logical 'or', or range ( 'to' or '-' ) in the string\n\t\t\t\t\t\t\t\t!tsfRegex.alreadyFiltered.test( val ) &&\n\t\t\t\t\t\t\t\t// if we are not doing exact matches, using '|' ( logical or ) or not '!'\n\t\t\t\t\t\t\t\t!tsfRegex.exactTest.test( val ) &&\n\t\t\t\t\t\t\t\t// don't search only filtered if the value is negative\n\t\t\t\t\t\t\t\t// ( '> -10' => '> -100' will ignore hidden rows )\n\t\t\t\t\t\t\t\t!( tsfRegex.isNeg1.test( val ) || tsfRegex.isNeg2.test( val ) ) &&\n\t\t\t\t\t\t\t\t// if filtering using a select without a 'filter-match' class ( exact match ) - fixes #593\n\t\t\t\t\t\t\t\t!( val !== '' && c.$filters && c.$filters.filter( '[data-column=\"' + indx + '\"]' ).find( 'select' ).length &&\n\t\t\t\t\t\t\t\t\t!tsf.matchType( c, indx ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnotFiltered = $rows.not( '.' + wo.filter_filteredRow ).length;\n\t\t\t\t\t// can't search when all rows are hidden - this happens when looking for exact matches\n\t\t\t\t\tif ( searchFiltered && notFiltered === 0 ) { searchFiltered = false; }\n\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\tconsole.log( 'Filter >> Searching through ' +\n\t\t\t\t\t\t\t( searchFiltered && notFiltered < len ? notFiltered : 'all' ) + ' rows' );\n\t\t\t\t\t}\n\t\t\t\t\tif ( data.anyMatchFlag ) {\n\t\t\t\t\t\tif ( c.sortLocaleCompare ) {\n\t\t\t\t\t\t\t// replace accents\n\t\t\t\t\t\t\tdata.anyMatchFilter = ts.replaceAccents( data.anyMatchFilter );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( wo.filter_defaultFilter && tsfRegex.iQuery.test( vars.defaultAnyFilter ) ) {\n\t\t\t\t\t\t\tdata.anyMatchFilter = tsf.defaultFilter( data.anyMatchFilter, vars.defaultAnyFilter );\n\t\t\t\t\t\t\t// clear search filtered flag because default filters are not saved to the last search\n\t\t\t\t\t\t\tsearchFiltered = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// make iAnyMatchFilter lowercase unless both filter widget & core ignoreCase options are true\n\t\t\t\t\t\t// when c.ignoreCase is true, the cache contains all lower case data\n\t\t\t\t\t\tdata.iAnyMatchFilter = !( wo.filter_ignoreCase && c.ignoreCase ) ?\n\t\t\t\t\t\t\tdata.anyMatchFilter :\n\t\t\t\t\t\t\tdata.anyMatchFilter.toLowerCase();\n\t\t\t\t\t}\n\n\t\t\t\t\t// loop through the rows\n\t\t\t\t\tfor ( rowIndex = 0; rowIndex < len; rowIndex++ ) {\n\n\t\t\t\t\t\ttxt = $rows[ rowIndex ].className;\n\t\t\t\t\t\t// the first row can never be a child row\n\t\t\t\t\t\tisChild = rowIndex && tsfRegex.child.test( txt );\n\t\t\t\t\t\t// skip child rows & already filtered rows\n\t\t\t\t\t\tif ( isChild || ( searchFiltered && tsfRegex.filtered.test( txt ) ) ) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata.$row = $rows.eq( rowIndex );\n\t\t\t\t\t\tdata.rowIndex = rowIndex;\n\t\t\t\t\t\tdata.cacheArray = norm_rows[ rowIndex ];\n\t\t\t\t\t\trowData = data.cacheArray[ c.columns ];\n\t\t\t\t\t\tdata.rawArray = rowData.raw;\n\t\t\t\t\t\tdata.childRowText = '';\n\n\t\t\t\t\t\tif ( !wo.filter_childByColumn ) {\n\t\t\t\t\t\t\ttxt = '';\n\t\t\t\t\t\t\t// child row cached text\n\t\t\t\t\t\t\tchildRow = rowData.child;\n\t\t\t\t\t\t\t// so, if 'table.config.widgetOptions.filter_childRows' is true and there is\n\t\t\t\t\t\t\t// a match anywhere in the child row, then it will make the row visible\n\t\t\t\t\t\t\t// checked here so the option can be changed dynamically\n\t\t\t\t\t\t\tfor ( indx = 0; indx < childRow.length; indx++ ) {\n\t\t\t\t\t\t\t\ttxt += ' ' + childRow[indx].join( ' ' ) || '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata.childRowText = wo.filter_childRows ?\n\t\t\t\t\t\t\t\t( wo.filter_ignoreCase ? txt.toLowerCase() : txt ) :\n\t\t\t\t\t\t\t\t'';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshowRow = false;\n\t\t\t\t\t\tshowParent = tsf.processRow( c, data, vars );\n\t\t\t\t\t\t$row = rowData.$row;\n\n\t\t\t\t\t\t// don't pass reference to val\n\t\t\t\t\t\tval = showParent ? true : false;\n\t\t\t\t\t\tchildRow = rowData.$row.filter( ':gt(0)' );\n\t\t\t\t\t\tif ( wo.filter_childRows && childRow.length ) {\n\t\t\t\t\t\t\tif ( wo.filter_childByColumn ) {\n\t\t\t\t\t\t\t\tif ( !wo.filter_childWithSibs ) {\n\t\t\t\t\t\t\t\t\t// hide all child rows\n\t\t\t\t\t\t\t\t\tchildRow.addClass( wo.filter_filteredRow );\n\t\t\t\t\t\t\t\t\t// if only showing resulting child row, only include parent\n\t\t\t\t\t\t\t\t\t$row = $row.eq( 0 );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// cycle through each child row\n\t\t\t\t\t\t\t\tfor ( indx = 0; indx < childRow.length; indx++ ) {\n\t\t\t\t\t\t\t\t\tdata.$row = childRow.eq( indx );\n\t\t\t\t\t\t\t\t\tdata.cacheArray = rowData.child[ indx ];\n\t\t\t\t\t\t\t\t\tdata.rawArray = data.cacheArray;\n\t\t\t\t\t\t\t\t\tval = tsf.processRow( c, data, vars );\n\t\t\t\t\t\t\t\t\t// use OR comparison on child rows\n\t\t\t\t\t\t\t\t\tshowRow = showRow || val;\n\t\t\t\t\t\t\t\t\tif ( !wo.filter_childWithSibs && val ) {\n\t\t\t\t\t\t\t\t\t\tchildRow.eq( indx ).removeClass( wo.filter_filteredRow );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// keep parent row match even if no child matches... see #1020\n\t\t\t\t\t\t\tshowRow = showRow || showParent;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowRow = val;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$row\n\t\t\t\t\t\t\t.toggleClass( wo.filter_filteredRow, !showRow )[0]\n\t\t\t\t\t\t\t.display = showRow ? '' : 'none';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tc.filteredRows += $rows.not( '.' + wo.filter_filteredRow ).length;\n\t\t\t\tc.totalRows += $rows.length;\n\t\t\t\tts.processTbody( table, $tbody, false );\n\t\t\t}\n\t\t\t// lastCombinedFilter is no longer used internally\n\t\t\tc.lastCombinedFilter = storedFilters.join(''); // save last search\n\t\t\t// don't save 'filters' directly since it may have altered ( AnyMatch column searches )\n\t\t\tc.lastSearch = storedFilters;\n\t\t\tc.$table.data( 'lastSearch', storedFilters );\n\t\t\tif ( wo.filter_saveFilters && ts.storage ) {\n\t\t\t\tts.storage( table, 'tablesorter-filters', tsf.processFilters( storedFilters, true ) );\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tconsole.log( 'Filter >> Completed search' + ts.benchmark(time) );\n\t\t\t}\n\t\t\tif ( wo.filter_initialized ) {\n\t\t\t\tc.$table.triggerHandler( 'filterBeforeEnd', c );\n\t\t\t\tc.$table.triggerHandler( 'filterEnd', c );\n\t\t\t}\n\t\t\tsetTimeout( function() {\n\t\t\t\tts.applyWidget( c.table ); // make sure zebra widget is applied\n\t\t\t}, 0 );\n\t\t},\n\t\tgetOptionSource: function( table, column, onlyAvail ) {\n\t\t\ttable = $( table )[0];\n\t\t\tvar c = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tarry = false,\n\t\t\t\tsource = wo.filter_selectSource,\n\t\t\t\tlast = c.$table.data( 'lastSearch' ) || [],\n\t\t\t\tfxn = typeof source === 'function' ? true : ts.getColumnData( table, source, column );\n\n\t\t\tif ( onlyAvail && last[column] !== '' ) {\n\t\t\t\tonlyAvail = false;\n\t\t\t}\n\n\t\t\t// filter select source option\n\t\t\tif ( fxn === true ) {\n\t\t\t\t// OVERALL source\n\t\t\t\tarry = source( table, column, onlyAvail );\n\t\t\t} else if ( fxn instanceof $ || ( $.type( fxn ) === 'string' && fxn.indexOf( '</option>' ) >= 0 ) ) {\n\t\t\t\t// selectSource is a jQuery object or string of options\n\t\t\t\treturn fxn;\n\t\t\t} else if ( $.isArray( fxn ) ) {\n\t\t\t\tarry = fxn;\n\t\t\t} else if ( $.type( source ) === 'object' && fxn ) {\n\t\t\t\t// custom select source function for a SPECIFIC COLUMN\n\t\t\t\tarry = fxn( table, column, onlyAvail );\n\t\t\t\t// abort - updating the selects from an external method\n\t\t\t\tif (arry === null) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( arry === false ) {\n\t\t\t\t// fall back to original method\n\t\t\t\tarry = tsf.getOptions( table, column, onlyAvail );\n\t\t\t}\n\n\t\t\treturn tsf.processOptions( table, column, arry );\n\n\t\t},\n\t\tprocessOptions: function( table, column, arry ) {\n\t\t\tif ( !$.isArray( arry ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttable = $( table )[0];\n\t\t\tvar cts, txt, indx, len, parsedTxt, str,\n\t\t\t\tc = table.config,\n\t\t\t\tvalidColumn = typeof column !== 'undefined' && column !== null && column >= 0 && column < c.columns,\n\t\t\t\tdirection = validColumn ? c.$headerIndexed[ column ].hasClass( 'filter-select-sort-desc' ) : false,\n\t\t\t\tparsed = [];\n\t\t\t// get unique elements and sort the list\n\t\t\t// if $.tablesorter.sortText exists ( not in the original tablesorter ),\n\t\t\t// then natural sort the list otherwise use a basic sort\n\t\t\tarry = $.grep( arry, function( value, indx ) {\n\t\t\t\tif ( value.text ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn $.inArray( value, arry ) === indx;\n\t\t\t});\n\t\t\tif ( validColumn && c.$headerIndexed[ column ].hasClass( 'filter-select-nosort' ) ) {\n\t\t\t\t// unsorted select options\n\t\t\t\treturn arry;\n\t\t\t} else {\n\t\t\t\tlen = arry.length;\n\t\t\t\t// parse select option values\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\ttxt = arry[ indx ];\n\t\t\t\t\t// check for object\n\t\t\t\t\tstr = txt.text ? txt.text : txt;\n\t\t\t\t\t// sortNatural breaks if you don't pass it strings\n\t\t\t\t\tparsedTxt = ( validColumn && c.parsers && c.parsers.length &&\n\t\t\t\t\t\tc.parsers[ column ].format( str, table, [], column ) || str ).toString();\n\t\t\t\t\tparsedTxt = c.widgetOptions.filter_ignoreCase ? parsedTxt.toLowerCase() : parsedTxt;\n\t\t\t\t\t// parse array data using set column parser; this DOES NOT pass the original\n\t\t\t\t\t// table cell to the parser format function\n\t\t\t\t\tif ( txt.text ) {\n\t\t\t\t\t\ttxt.parsed = parsedTxt;\n\t\t\t\t\t\tparsed[ parsed.length ] = txt;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparsed[ parsed.length ] = {\n\t\t\t\t\t\t\ttext : txt,\n\t\t\t\t\t\t\t// check parser length - fixes #934\n\t\t\t\t\t\t\tparsed : parsedTxt\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// sort parsed select options\n\t\t\t\tcts = c.textSorter || '';\n\t\t\t\tparsed.sort( function( a, b ) {\n\t\t\t\t\tvar x = direction ? b.parsed : a.parsed,\n\t\t\t\t\t\ty = direction ? a.parsed : b.parsed;\n\t\t\t\t\tif ( validColumn && typeof cts === 'function' ) {\n\t\t\t\t\t\t// custom OVERALL text sorter\n\t\t\t\t\t\treturn cts( x, y, true, column, table );\n\t\t\t\t\t} else if ( validColumn && typeof cts === 'object' && cts.hasOwnProperty( column ) ) {\n\t\t\t\t\t\t// custom text sorter for a SPECIFIC COLUMN\n\t\t\t\t\t\treturn cts[column]( x, y, true, column, table );\n\t\t\t\t\t} else if ( ts.sortNatural ) {\n\t\t\t\t\t\t// fall back to natural sort\n\t\t\t\t\t\treturn ts.sortNatural( x, y );\n\t\t\t\t\t}\n\t\t\t\t\t// using an older version! do a basic sort\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\t// rebuild arry from sorted parsed data\n\t\t\t\tarry = [];\n\t\t\t\tlen = parsed.length;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\tarry[ arry.length ] = parsed[indx];\n\t\t\t\t}\n\t\t\t\treturn arry;\n\t\t\t}\n\t\t},\n\t\tgetOptions: function( table, column, onlyAvail ) {\n\t\t\ttable = $( table )[0];\n\t\t\tvar rowIndex, tbodyIndex, len, row, cache, indx, child, childLen,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tarry = [];\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < c.$tbodies.length; tbodyIndex++ ) {\n\t\t\t\tcache = c.cache[tbodyIndex];\n\t\t\t\tlen = c.cache[tbodyIndex].normalized.length;\n\t\t\t\t// loop through the rows\n\t\t\t\tfor ( rowIndex = 0; rowIndex < len; rowIndex++ ) {\n\t\t\t\t\t// get cached row from cache.row ( old ) or row data object\n\t\t\t\t\t// ( new; last item in normalized array )\n\t\t\t\t\trow = cache.row ?\n\t\t\t\t\t\tcache.row[ rowIndex ] :\n\t\t\t\t\t\tcache.normalized[ rowIndex ][ c.columns ].$row[0];\n\t\t\t\t\t// check if has class filtered\n\t\t\t\t\tif ( onlyAvail && row.className.match( wo.filter_filteredRow ) ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t// get non-normalized cell content\n\t\t\t\t\tif ( wo.filter_useParsedData ||\n\t\t\t\t\t\tc.parsers[column].parsed ||\n\t\t\t\t\t\tc.$headerIndexed[column].hasClass( 'filter-parsed' ) ) {\n\t\t\t\t\t\tarry[ arry.length ] = '' + cache.normalized[ rowIndex ][ column ];\n\t\t\t\t\t\t// child row parsed data\n\t\t\t\t\t\tif ( wo.filter_childRows && wo.filter_childByColumn ) {\n\t\t\t\t\t\t\tchildLen = cache.normalized[ rowIndex ][ c.columns ].$row.length - 1;\n\t\t\t\t\t\t\tfor ( indx = 0; indx < childLen; indx++ ) {\n\t\t\t\t\t\t\t\tarry[ arry.length ] = '' + cache.normalized[ rowIndex ][ c.columns ].child[ indx ][ column ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// get raw cached data instead of content directly from the cells\n\t\t\t\t\t\tarry[ arry.length ] = cache.normalized[ rowIndex ][ c.columns ].raw[ column ];\n\t\t\t\t\t\t// child row unparsed data\n\t\t\t\t\t\tif ( wo.filter_childRows && wo.filter_childByColumn ) {\n\t\t\t\t\t\t\tchildLen = cache.normalized[ rowIndex ][ c.columns ].$row.length;\n\t\t\t\t\t\t\tfor ( indx = 1; indx < childLen; indx++ ) {\n\t\t\t\t\t\t\t\tchild =  cache.normalized[ rowIndex ][ c.columns ].$row.eq( indx ).children().eq( column );\n\t\t\t\t\t\t\t\tarry[ arry.length ] = '' + ts.getElementText( c, child, column );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arry;\n\t\t},\n\t\tbuildSelect: function( table, column, arry, updating, onlyAvail ) {\n\t\t\ttable = $( table )[0];\n\t\t\tcolumn = parseInt( column, 10 );\n\t\t\tif ( !table.config.cache || $.isEmptyObject( table.config.cache ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar indx, val, txt, t, $filters, $filter, option,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tnode = c.$headerIndexed[ column ],\n\t\t\t\t// t.data( 'placeholder' ) won't work in jQuery older than 1.4.3\n\t\t\t\toptions = '<option value=\"\">' +\n\t\t\t\t\t( node.data( 'placeholder' ) ||\n\t\t\t\t\t\tnode.attr( 'data-placeholder' ) ||\n\t\t\t\t\t\two.filter_placeholder.select || ''\n\t\t\t\t\t) + '</option>',\n\t\t\t\t// Get curent filter value\n\t\t\t\tcurrentValue = c.$table\n\t\t\t\t\t.find( 'thead' )\n\t\t\t\t\t.find( 'select.' + tscss.filter + '[data-column=\"' + column + '\"]' )\n\t\t\t\t\t.val();\n\n\t\t\t// nothing included in arry ( external source ), so get the options from\n\t\t\t// filter_selectSource or column data\n\t\t\tif ( typeof arry === 'undefined' || arry === '' ) {\n\t\t\t\tarry = tsf.getOptionSource( table, column, onlyAvail );\n\t\t\t\t// abort, selects are updated by an external method\n\t\t\t\tif (arry === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( $.isArray( arry ) ) {\n\t\t\t\t// build option list\n\t\t\t\tfor ( indx = 0; indx < arry.length; indx++ ) {\n\t\t\t\t\toption = arry[ indx ];\n\t\t\t\t\tif ( option.text ) {\n\t\t\t\t\t\t// OBJECT!! add data-function-name in case the value is set in filter_functions\n\t\t\t\t\t\toption['data-function-name'] = typeof option.value === 'undefined' ? option.text : option.value;\n\n\t\t\t\t\t\t// support jQuery < v1.8, otherwise the below code could be shortened to\n\t\t\t\t\t\t// options += $( '<option>', option )[ 0 ].outerHTML;\n\t\t\t\t\t\toptions += '<option';\n\t\t\t\t\t\tfor ( val in option ) {\n\t\t\t\t\t\t\tif ( option.hasOwnProperty( val ) && val !== 'text' ) {\n\t\t\t\t\t\t\t\toptions += ' ' + val + '=\"' + option[ val ].replace( tsfRegex.quote, '&quot;' ) + '\"';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( !option.value ) {\n\t\t\t\t\t\t\toptions += ' value=\"' + option.text.replace( tsfRegex.quote, '&quot;' ) + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions += '>' + option.text.replace( tsfRegex.quote, '&quot;' ) + '</option>';\n\t\t\t\t\t\t// above code is needed in jQuery < v1.8\n\n\t\t\t\t\t\t// make sure we don't turn an object into a string (objects without a \"text\" property)\n\t\t\t\t\t} else if ( '' + option !== '[object Object]' ) {\n\t\t\t\t\t\ttxt = option = ( '' + option ).replace( tsfRegex.quote, '&quot;' );\n\t\t\t\t\t\tval = txt;\n\t\t\t\t\t\t// allow including a symbol in the selectSource array\n\t\t\t\t\t\t// 'a-z|A through Z' so that 'a-z' becomes the option value\n\t\t\t\t\t\t// and 'A through Z' becomes the option text\n\t\t\t\t\t\tif ( txt.indexOf( wo.filter_selectSourceSeparator ) >= 0 ) {\n\t\t\t\t\t\t\tt = txt.split( wo.filter_selectSourceSeparator );\n\t\t\t\t\t\t\tval = t[0];\n\t\t\t\t\t\t\ttxt = t[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace quotes - fixes #242 & ignore empty strings\n\t\t\t\t\t\t// see http://stackoverflow.com/q/14990971/145346\n\t\t\t\t\t\toptions += option !== '' ?\n\t\t\t\t\t\t\t'<option ' +\n\t\t\t\t\t\t\t\t( val === txt ? '' : 'data-function-name=\"' + option + '\" ' ) +\n\t\t\t\t\t\t\t\t'value=\"' + val + '\">' + txt +\n\t\t\t\t\t\t\t'</option>' : '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// clear arry so it doesn't get appended twice\n\t\t\t\tarry = [];\n\t\t\t}\n\n\t\t\t// update all selects in the same column ( clone thead in sticky headers &\n\t\t\t// any external selects ) - fixes 473\n\t\t\t$filters = ( c.$filters ? c.$filters : c.$table.children( 'thead' ) )\n\t\t\t\t.find( '.' + tscss.filter );\n\t\t\tif ( wo.filter_$externalFilters ) {\n\t\t\t\t$filters = $filters && $filters.length ?\n\t\t\t\t\t$filters.add( wo.filter_$externalFilters ) :\n\t\t\t\t\two.filter_$externalFilters;\n\t\t\t}\n\t\t\t$filter = $filters.filter( 'select[data-column=\"' + column + '\"]' );\n\n\t\t\t// make sure there is a select there!\n\t\t\tif ( $filter.length ) {\n\t\t\t\t$filter[ updating ? 'html' : 'append' ]( options );\n\t\t\t\tif ( !$.isArray( arry ) ) {\n\t\t\t\t\t// append options if arry is provided externally as a string or jQuery object\n\t\t\t\t\t// options ( default value ) was already added\n\t\t\t\t\t$filter.append( arry ).val( currentValue );\n\t\t\t\t}\n\t\t\t\t$filter.val( currentValue );\n\t\t\t}\n\t\t},\n\t\tbuildDefault: function( table, updating ) {\n\t\t\tvar columnIndex, $header, noSelect,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tcolumns = c.columns;\n\t\t\t// build default select dropdown\n\t\t\tfor ( columnIndex = 0; columnIndex < columns; columnIndex++ ) {\n\t\t\t\t$header = c.$headerIndexed[columnIndex];\n\t\t\t\tnoSelect = !( $header.hasClass( 'filter-false' ) || $header.hasClass( 'parser-false' ) );\n\t\t\t\t// look for the filter-select class; build/update it if found\n\t\t\t\tif ( ( $header.hasClass( 'filter-select' ) ||\n\t\t\t\t\tts.getColumnData( table, wo.filter_functions, columnIndex ) === true ) && noSelect ) {\n\t\t\t\t\ttsf.buildSelect( table, columnIndex, '', updating, $header.hasClass( wo.filter_onlyAvail ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// filter regex variable\n\ttsfRegex = tsf.regex;\n\n\tts.getFilters = function( table, getRaw, setFilters, skipFirst ) {\n\t\tvar i, $filters, $column, cols,\n\t\t\tfilters = [],\n\t\t\tc = table ? $( table )[0].config : '',\n\t\t\two = c ? c.widgetOptions : '';\n\t\tif ( ( getRaw !== true && wo && !wo.filter_columnFilters ) ||\n\t\t\t// setFilters called, but last search is exactly the same as the current\n\t\t\t// fixes issue #733 & #903 where calling update causes the input values to reset\n\t\t\t( $.isArray(setFilters) && tsf.equalFilters(c, setFilters, c.lastSearch) )\n\t\t) {\n\t\t\treturn $( table ).data( 'lastSearch' ) || [];\n\t\t}\n\t\tif ( c ) {\n\t\t\tif ( c.$filters ) {\n\t\t\t\t$filters = c.$filters.find( '.' + tscss.filter );\n\t\t\t}\n\t\t\tif ( wo.filter_$externalFilters ) {\n\t\t\t\t$filters = $filters && $filters.length ?\n\t\t\t\t\t$filters.add( wo.filter_$externalFilters ) :\n\t\t\t\t\two.filter_$externalFilters;\n\t\t\t}\n\t\t\tif ( $filters && $filters.length ) {\n\t\t\t\tfilters = setFilters || [];\n\t\t\t\tfor ( i = 0; i < c.columns + 1; i++ ) {\n\t\t\t\t\tcols = ( i === c.columns ?\n\t\t\t\t\t\t// 'all' columns can now include a range or set of columms ( data-column='0-2,4,6-7' )\n\t\t\t\t\t\two.filter_anyColumnSelector + ',' + wo.filter_multipleColumnSelector :\n\t\t\t\t\t\t'[data-column=\"' + i + '\"]' );\n\t\t\t\t\t$column = $filters.filter( cols );\n\t\t\t\t\tif ( $column.length ) {\n\t\t\t\t\t\t// move the latest search to the first slot in the array\n\t\t\t\t\t\t$column = tsf.getLatestSearch( $column );\n\t\t\t\t\t\tif ( $.isArray( setFilters ) ) {\n\t\t\t\t\t\t\t// skip first ( latest input ) to maintain cursor position while typing\n\t\t\t\t\t\t\tif ( skipFirst && $column.length > 1 ) {\n\t\t\t\t\t\t\t\t$column = $column.slice( 1 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( i === c.columns ) {\n\t\t\t\t\t\t\t\t// prevent data-column='all' from filling data-column='0,1' ( etc )\n\t\t\t\t\t\t\t\tcols = $column.filter( wo.filter_anyColumnSelector );\n\t\t\t\t\t\t\t\t$column = cols.length ? cols : $column;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$column\n\t\t\t\t\t\t\t\t.val( setFilters[ i ] )\n\t\t\t\t\t\t\t\t// must include a namespace here; but not c.namespace + 'filter'?\n\t\t\t\t\t\t\t\t.trigger( 'change' + c.namespace );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfilters[i] = $column.val() || '';\n\t\t\t\t\t\t\t// don't change the first... it will move the cursor\n\t\t\t\t\t\t\tif ( i === c.columns ) {\n\t\t\t\t\t\t\t\t// don't update range columns from 'all' setting\n\t\t\t\t\t\t\t\t$column\n\t\t\t\t\t\t\t\t\t.slice( 1 )\n\t\t\t\t\t\t\t\t\t.filter( '[data-column*=\"' + $column.attr( 'data-column' ) + '\"]' )\n\t\t\t\t\t\t\t\t\t.val( filters[ i ] );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$column\n\t\t\t\t\t\t\t\t\t.slice( 1 )\n\t\t\t\t\t\t\t\t\t.val( filters[ i ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// save any match input dynamically\n\t\t\t\t\t\tif ( i === c.columns && $column.length ) {\n\t\t\t\t\t\t\two.filter_$anyMatch = $column;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn filters;\n\t};\n\n\tts.setFilters = function( table, filter, apply, skipFirst ) {\n\t\tvar c = table ? $( table )[0].config : '',\n\t\t\tvalid = ts.getFilters( table, true, filter, skipFirst );\n\t\t// default apply to \"true\"\n\t\tif ( typeof apply === 'undefined' ) {\n\t\t\tapply = true;\n\t\t}\n\t\tif ( c && apply ) {\n\t\t\t// ensure new set filters are applied, even if the search is the same\n\t\t\tc.lastCombinedFilter = null;\n\t\t\tc.lastSearch = [];\n\t\t\ttsf.searching( c.table, filter, skipFirst );\n\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\n\t\t}\n\t\treturn valid.length !== 0;\n\t};\n\n})( jQuery );\n\n/*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *//*\n * Requires tablesorter v2.8+ and jQuery 1.4.3+\n * by Rob Garrison\n */\n;(function ($, window) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\t$.extend(ts.css, {\n\t\tsticky    : 'tablesorter-stickyHeader', // stickyHeader\n\t\tstickyVis : 'tablesorter-sticky-visible',\n\t\tstickyHide: 'tablesorter-sticky-hidden',\n\t\tstickyWrap: 'tablesorter-sticky-wrapper'\n\t});\n\n\t// Add a resize event to table headers\n\tts.addHeaderResizeEvent = function(table, disable, settings) {\n\t\ttable = $(table)[0]; // make sure we're using a dom element\n\t\tif ( !table.config ) { return; }\n\t\tvar defaults = {\n\t\t\t\ttimer : 250\n\t\t\t},\n\t\t\toptions = $.extend({}, defaults, settings),\n\t\t\tc = table.config,\n\t\t\two = c.widgetOptions,\n\t\t\tcheckSizes = function( triggerEvent ) {\n\t\t\t\tvar index, headers, $header, sizes, width, height,\n\t\t\t\t\tlen = c.$headers.length;\n\t\t\t\two.resize_flag = true;\n\t\t\t\theaders = [];\n\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\t$header = c.$headers.eq( index );\n\t\t\t\t\tsizes = $header.data( 'savedSizes' ) || [ 0, 0 ]; // fixes #394\n\t\t\t\t\twidth = $header[0].offsetWidth;\n\t\t\t\t\theight = $header[0].offsetHeight;\n\t\t\t\t\tif ( width !== sizes[0] || height !== sizes[1] ) {\n\t\t\t\t\t\t$header.data( 'savedSizes', [ width, height ] );\n\t\t\t\t\t\theaders.push( $header[0] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( headers.length && triggerEvent !== false ) {\n\t\t\t\t\tc.$table.triggerHandler( 'resize', [ headers ] );\n\t\t\t\t}\n\t\t\t\two.resize_flag = false;\n\t\t\t};\n\t\tclearInterval(wo.resize_timer);\n\t\tif (disable) {\n\t\t\two.resize_flag = false;\n\t\t\treturn false;\n\t\t}\n\t\tcheckSizes( false );\n\t\two.resize_timer = setInterval(function() {\n\t\t\tif (wo.resize_flag) { return; }\n\t\t\tcheckSizes();\n\t\t}, options.timer);\n\t};\n\n\tfunction getStickyOffset(c, wo) {\n\t\tvar $el = isNaN(wo.stickyHeaders_offset) ? $(wo.stickyHeaders_offset) : [];\n\t\treturn $el.length ?\n\t\t\t$el.height() || 0 :\n\t\t\tparseInt(wo.stickyHeaders_offset, 10) || 0;\n\t}\n\n\t// Sticky headers based on this awesome article:\n\t// http://css-tricks.com/13465-persistent-headers/\n\t// and https://github.com/jmosbech/StickyTableHeaders by Jonas Mosbech\n\t// **************************\n\tts.addWidget({\n\t\tid: 'stickyHeaders',\n\t\tpriority: 54, // sticky widget must be initialized after the filter & before pager widget!\n\t\toptions: {\n\t\t\tstickyHeaders : '',       // extra class name added to the sticky header row\n\t\t\tstickyHeaders_appendTo : null, // jQuery selector or object to phycially attach the sticky headers\n\t\t\tstickyHeaders_attachTo : null, // jQuery selector or object to attach scroll listener to (overridden by xScroll & yScroll settings)\n\t\t\tstickyHeaders_xScroll : null, // jQuery selector or object to monitor horizontal scroll position (defaults: xScroll > attachTo > window)\n\t\t\tstickyHeaders_yScroll : null, // jQuery selector or object to monitor vertical scroll position (defaults: yScroll > attachTo > window)\n\t\t\tstickyHeaders_offset : 0, // number or jquery selector targeting the position:fixed element\n\t\t\tstickyHeaders_filteredToTop: true, // scroll table top into view after filtering\n\t\t\tstickyHeaders_cloneId : '-sticky', // added to table ID, if it exists\n\t\t\tstickyHeaders_addResizeEvent : true, // trigger 'resize' event on headers\n\t\t\tstickyHeaders_includeCaption : true, // if false and a caption exist, it won't be included in the sticky header\n\t\t\tstickyHeaders_zIndex : 2 // The zIndex of the stickyHeaders, allows the user to adjust this to their needs\n\t\t},\n\t\tformat: function(table, c, wo) {\n\t\t\t// filter widget doesn't initialize on an empty table. Fixes #449\n\t\t\tif ( c.$table.hasClass('hasStickyHeaders') || ($.inArray('filter', c.widgets) >= 0 && !c.$table.hasClass('hasFilters')) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index, len, $t,\n\t\t\t\t$table = c.$table,\n\t\t\t\t// add position: relative to attach element, hopefully it won't cause trouble.\n\t\t\t\t$attach = $(wo.stickyHeaders_attachTo || wo.stickyHeaders_appendTo),\n\t\t\t\tnamespace = c.namespace + 'stickyheaders ',\n\t\t\t\t// element to watch for the scroll event\n\t\t\t\t$yScroll = $(wo.stickyHeaders_yScroll || wo.stickyHeaders_attachTo || window),\n\t\t\t\t$xScroll = $(wo.stickyHeaders_xScroll || wo.stickyHeaders_attachTo || window),\n\t\t\t\t$thead = $table.children('thead:first'),\n\t\t\t\t$header = $thead.children('tr').not('.sticky-false').children(),\n\t\t\t\t$tfoot = $table.children('tfoot'),\n\t\t\t\tstickyOffset = getStickyOffset(c, wo),\n\t\t\t\t// is this table nested? If so, find parent sticky header wrapper (div, not table)\n\t\t\t\t$nestedSticky = $table.parent().closest('.' + ts.css.table).hasClass('hasStickyHeaders') ?\n\t\t\t\t\t$table.parent().closest('table.tablesorter')[0].config.widgetOptions.$sticky.parent() : [],\n\t\t\t\tnestedStickyTop = $nestedSticky.length ? $nestedSticky.height() : 0,\n\t\t\t\t// clone table, then wrap to make sticky header\n\t\t\t\t$stickyTable = wo.$sticky = $table.clone()\n\t\t\t\t\t.addClass('containsStickyHeaders ' + ts.css.sticky + ' ' + wo.stickyHeaders + ' ' + c.namespace.slice(1) + '_extra_table' )\n\t\t\t\t\t.wrap('<div class=\"' + ts.css.stickyWrap + '\">'),\n\t\t\t\t$stickyWrap = $stickyTable.parent()\n\t\t\t\t\t.addClass(ts.css.stickyHide)\n\t\t\t\t\t.css({\n\t\t\t\t\t\tposition   : $attach.length ? 'absolute' : 'fixed',\n\t\t\t\t\t\tpadding    : parseInt( $stickyTable.parent().parent().css('padding-left'), 10 ),\n\t\t\t\t\t\ttop        : stickyOffset + nestedStickyTop,\n\t\t\t\t\t\tleft       : 0,\n\t\t\t\t\t\tvisibility : 'hidden',\n\t\t\t\t\t\tzIndex     : wo.stickyHeaders_zIndex || 2\n\t\t\t\t\t}),\n\t\t\t\t$stickyThead = $stickyTable.children('thead:first'),\n\t\t\t\t$stickyCells,\n\t\t\t\tlaststate = '',\n\t\t\t\tsetWidth = function($orig, $clone) {\n\t\t\t\t\tvar index, width, border, $cell, $this,\n\t\t\t\t\t\t$cells = $orig.filter(':visible'),\n\t\t\t\t\t\tlen = $cells.length;\n\t\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\t\t$cell = $clone.filter(':visible').eq(index);\n\t\t\t\t\t\t$this = $cells.eq(index);\n\t\t\t\t\t\t// code from https://github.com/jmosbech/StickyTableHeaders\n\t\t\t\t\t\tif ($this.css('box-sizing') === 'border-box') {\n\t\t\t\t\t\t\twidth = $this.outerWidth();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($cell.css('border-collapse') === 'collapse') {\n\t\t\t\t\t\t\t\tif (window.getComputedStyle) {\n\t\t\t\t\t\t\t\t\twidth = parseFloat( window.getComputedStyle($this[0], null).width );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// ie8 only\n\t\t\t\t\t\t\t\t\tborder = parseFloat( $this.css('border-width') );\n\t\t\t\t\t\t\t\t\twidth = $this.outerWidth() - parseFloat( $this.css('padding-left') ) - parseFloat( $this.css('padding-right') ) - border;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidth = $this.width();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$cell.css({\n\t\t\t\t\t\t\t'width': width,\n\t\t\t\t\t\t\t'min-width': width,\n\t\t\t\t\t\t\t'max-width': width\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgetLeftPosition = function(yWindow) {\n\t\t\t\t\tif (yWindow === false && $nestedSticky.length) {\n\t\t\t\t\t\treturn $table.position().left;\n\t\t\t\t\t}\n\t\t\t\t\treturn $attach.length ?\n\t\t\t\t\t\tparseInt($attach.css('padding-left'), 10) || 0 :\n\t\t\t\t\t\t$table.offset().left - parseInt($table.css('margin-left'), 10) - $(window).scrollLeft();\n\t\t\t\t},\n\t\t\t\tresizeHeader = function() {\n\t\t\t\t\t$stickyWrap.css({\n\t\t\t\t\t\tleft : getLeftPosition(),\n\t\t\t\t\t\twidth: $table.outerWidth()\n\t\t\t\t\t});\n\t\t\t\t\tsetWidth( $table, $stickyTable );\n\t\t\t\t\tsetWidth( $header, $stickyCells );\n\t\t\t\t},\n\t\t\t\tscrollSticky = function( resizing ) {\n\t\t\t\t\tif (!$table.is(':visible')) { return; } // fixes #278\n\t\t\t\t\t// Detect nested tables - fixes #724\n\t\t\t\t\tnestedStickyTop = $nestedSticky.length ? $nestedSticky.offset().top - $yScroll.scrollTop() + $nestedSticky.height() : 0;\n\t\t\t\t\tvar tmp,\n\t\t\t\t\t\toffset = $table.offset(),\n\t\t\t\t\t\tstickyOffset = getStickyOffset(c, wo),\n\t\t\t\t\t\tyWindow = $.isWindow( $yScroll[0] ), // $.isWindow needs jQuery 1.4.3\n\t\t\t\t\t\tyScroll = yWindow ?\n\t\t\t\t\t\t\t$yScroll.scrollTop() :\n\t\t\t\t\t\t\t// use parent sticky position if nested AND inside of a scrollable element - see #1512\n\t\t\t\t\t\t\t$nestedSticky.length ? parseInt($nestedSticky[0].style.top, 10) : $yScroll.offset().top,\n\t\t\t\t\t\tattachTop = $attach.length ? yScroll : $yScroll.scrollTop(),\n\t\t\t\t\t\tcaptionHeight = wo.stickyHeaders_includeCaption ? 0 : $table.children( 'caption' ).height() || 0,\n\t\t\t\t\t\tscrollTop = attachTop + stickyOffset + nestedStickyTop - captionHeight,\n\t\t\t\t\t\ttableHeight = $table.height() - ($stickyWrap.height() + ($tfoot.height() || 0)) - captionHeight,\n\t\t\t\t\t\tisVisible = ( scrollTop > offset.top ) && ( scrollTop < offset.top + tableHeight ) ? 'visible' : 'hidden',\n\t\t\t\t\t\tstate = isVisible === 'visible' ? ts.css.stickyVis : ts.css.stickyHide,\n\t\t\t\t\t\tneedsUpdating = !$stickyWrap.hasClass( state ),\n\t\t\t\t\t\tcssSettings = { visibility : isVisible };\n\t\t\t\t\tif ($attach.length) {\n\t\t\t\t\t\t// attached sticky headers always need updating\n\t\t\t\t\t\tneedsUpdating = true;\n\t\t\t\t\t\tcssSettings.top = yWindow ? scrollTop - $attach.offset().top : $attach.scrollTop();\n\t\t\t\t\t}\n\t\t\t\t\t// adjust when scrolling horizontally - fixes issue #143\n\t\t\t\t\ttmp = getLeftPosition(yWindow);\n\t\t\t\t\tif (tmp !== parseInt($stickyWrap.css('left'), 10)) {\n\t\t\t\t\t\tneedsUpdating = true;\n\t\t\t\t\t\tcssSettings.left = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tcssSettings.top = ( cssSettings.top || 0 ) +\n\t\t\t\t\t\t// If nested AND inside of a scrollable element, only add parent sticky height\n\t\t\t\t\t\t(!yWindow && $nestedSticky.length ? $nestedSticky.height() : stickyOffset + nestedStickyTop);\n\t\t\t\t\tif (needsUpdating) {\n\t\t\t\t\t\t$stickyWrap\n\t\t\t\t\t\t\t.removeClass( ts.css.stickyVis + ' ' + ts.css.stickyHide )\n\t\t\t\t\t\t\t.addClass( state )\n\t\t\t\t\t\t\t.css(cssSettings);\n\t\t\t\t\t}\n\t\t\t\t\tif (isVisible !== laststate || resizing) {\n\t\t\t\t\t\t// make sure the column widths match\n\t\t\t\t\t\tresizeHeader();\n\t\t\t\t\t\tlaststate = isVisible;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t// only add a position relative if a position isn't already defined\n\t\t\tif ($attach.length && !$attach.css('position')) {\n\t\t\t\t$attach.css('position', 'relative');\n\t\t\t}\n\t\t\t// fix clone ID, if it exists - fixes #271\n\t\t\tif ($stickyTable.attr('id')) { $stickyTable[0].id += wo.stickyHeaders_cloneId; }\n\t\t\t// clear out cloned table, except for sticky header\n\t\t\t// include caption & filter row (fixes #126 & #249) - don't remove cells to get correct cell indexing\n\t\t\t$stickyTable.find('> thead:gt(0), tr.sticky-false').hide();\n\t\t\t$stickyTable.find('> tbody, > tfoot').remove();\n\t\t\t$stickyTable.find('caption').toggle(wo.stickyHeaders_includeCaption);\n\t\t\t// issue #172 - find td/th in sticky header\n\t\t\t$stickyCells = $stickyThead.children().children();\n\t\t\t$stickyTable.css({ height:0, width:0, margin: 0 });\n\t\t\t// remove resizable block\n\t\t\t$stickyCells.find('.' + ts.css.resizer).remove();\n\t\t\t// update sticky header class names to match real header after sorting\n\t\t\t$table\n\t\t\t\t.addClass('hasStickyHeaders')\n\t\t\t\t.bind('pagerComplete' + namespace, function() {\n\t\t\t\t\tresizeHeader();\n\t\t\t\t});\n\n\t\t\tts.bindEvents(table, $stickyThead.children().children('.' + ts.css.header));\n\n\t\t\tif (wo.stickyHeaders_appendTo) {\n\t\t\t\t$(wo.stickyHeaders_appendTo).append( $stickyWrap );\n\t\t\t} else {\n\t\t\t\t// add stickyheaders AFTER the table. If the table is selected by ID, the original one (first) will be returned.\n\t\t\t\t$table.after( $stickyWrap );\n\t\t\t}\n\n\t\t\t// onRenderHeader is defined, we need to do something about it (fixes #641)\n\t\t\tif (c.onRenderHeader) {\n\t\t\t\t$t = $stickyThead.children('tr').children();\n\t\t\t\tlen = $t.length;\n\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\t// send second parameter\n\t\t\t\t\tc.onRenderHeader.apply( $t.eq( index ), [ index, c, $stickyTable ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// make it sticky!\n\t\t\t$xScroll.add($yScroll)\n\t\t\t\t.unbind( ('scroll resize '.split(' ').join( namespace )).replace(/\\s+/g, ' ') )\n\t\t\t\t.bind('scroll resize '.split(' ').join( namespace ), function( event ) {\n\t\t\t\t\tscrollSticky( event.type === 'resize' );\n\t\t\t\t});\n\t\t\tc.$table\n\t\t\t\t.unbind('stickyHeadersUpdate' + namespace)\n\t\t\t\t.bind('stickyHeadersUpdate' + namespace, function() {\n\t\t\t\t\tscrollSticky( true );\n\t\t\t\t});\n\n\t\t\tif (wo.stickyHeaders_addResizeEvent) {\n\t\t\t\tts.addHeaderResizeEvent(table);\n\t\t\t}\n\n\t\t\t// look for filter widget\n\t\t\tif ($table.hasClass('hasFilters') && wo.filter_columnFilters) {\n\t\t\t\t// scroll table into view after filtering, if sticky header is active - #482\n\t\t\t\t$table.bind('filterEnd' + namespace, function() {\n\t\t\t\t\t// $(':focus') needs jQuery 1.6+\n\t\t\t\t\tvar $td = $(document.activeElement).closest('td'),\n\t\t\t\t\t\tcolumn = $td.parent().children().index($td);\n\t\t\t\t\t// only scroll if sticky header is active\n\t\t\t\t\tif ($stickyWrap.hasClass(ts.css.stickyVis) && wo.stickyHeaders_filteredToTop) {\n\t\t\t\t\t\t// scroll to original table (not sticky clone)\n\t\t\t\t\t\twindow.scrollTo(0, $table.position().top);\n\t\t\t\t\t\t// give same input/select focus; check if c.$filters exists; fixes #594\n\t\t\t\t\t\tif (column >= 0 && c.$filters) {\n\t\t\t\t\t\t\tc.$filters.eq(column).find('a, select, input').filter(':visible').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tts.filter.bindSearch( $table, $stickyCells.find('.' + ts.css.filter) );\n\t\t\t\t// support hideFilters\n\t\t\t\tif (wo.filter_hideFilters) {\n\t\t\t\t\tts.filter.hideFilters(c, $stickyTable);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// resize table (Firefox)\n\t\t\tif (wo.stickyHeaders_addResizeEvent) {\n\t\t\t\t$table.bind('resize' + c.namespace + 'stickyheaders', function() {\n\t\t\t\t\tresizeHeader();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// make sure sticky is visible if page is partially scrolled\n\t\t\tscrollSticky( true );\n\t\t\t$table.triggerHandler('stickyHeadersInit');\n\n\t\t},\n\t\tremove: function(table, c, wo) {\n\t\t\tvar namespace = c.namespace + 'stickyheaders ';\n\t\t\tc.$table\n\t\t\t\t.removeClass('hasStickyHeaders')\n\t\t\t\t.unbind( ('pagerComplete resize filterEnd stickyHeadersUpdate '.split(' ').join(namespace)).replace(/\\s+/g, ' ') )\n\t\t\t\t.next('.' + ts.css.stickyWrap).remove();\n\t\t\tif (wo.$sticky && wo.$sticky.length) { wo.$sticky.remove(); } // remove cloned table\n\t\t\t$(window)\n\t\t\t\t.add(wo.stickyHeaders_xScroll)\n\t\t\t\t.add(wo.stickyHeaders_yScroll)\n\t\t\t\t.add(wo.stickyHeaders_attachTo)\n\t\t\t\t.unbind( ('scroll resize '.split(' ').join(namespace)).replace(/\\s+/g, ' ') );\n\t\t\tts.addHeaderResizeEvent(table, true);\n\t\t}\n\t});\n\n})(jQuery, window);\n\n/*! Widget: resizable - updated 2018-03-26 (v2.30.2) */\n/*jshint browser:true, jquery:true, unused:false */\n;(function ($, window) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\t$.extend(ts.css, {\n\t\tresizableContainer : 'tablesorter-resizable-container',\n\t\tresizableHandle    : 'tablesorter-resizable-handle',\n\t\tresizableNoSelect  : 'tablesorter-disableSelection',\n\t\tresizableStorage   : 'tablesorter-resizable'\n\t});\n\n\t// Add extra scroller css\n\t$(function() {\n\t\tvar s = '<style>' +\n\t\t\t'body.' + ts.css.resizableNoSelect + ' { -ms-user-select: none; -moz-user-select: -moz-none;' +\n\t\t\t\t'-khtml-user-select: none; -webkit-user-select: none; user-select: none; }' +\n\t\t\t'.' + ts.css.resizableContainer + ' { position: relative; height: 1px; }' +\n\t\t\t// make handle z-index > than stickyHeader z-index, so the handle stays above sticky header\n\t\t\t'.' + ts.css.resizableHandle + ' { position: absolute; display: inline-block; width: 8px;' +\n\t\t\t\t'top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }' +\n\t\t\t'</style>';\n\t\t$('head').append(s);\n\t});\n\n\tts.resizable = {\n\t\tinit : function( c, wo ) {\n\t\t\tif ( c.$table.hasClass( 'hasResizable' ) ) { return; }\n\t\t\tc.$table.addClass( 'hasResizable' );\n\n\t\t\tvar noResize, $header, column, storedSizes, tmp,\n\t\t\t\t$table = c.$table,\n\t\t\t\t$parent = $table.parent(),\n\t\t\t\tmarginTop = parseInt( $table.css( 'margin-top' ), 10 ),\n\n\t\t\t// internal variables\n\t\t\tvars = wo.resizable_vars = {\n\t\t\t\tuseStorage : ts.storage && wo.resizable !== false,\n\t\t\t\t$wrap : $parent,\n\t\t\t\tmouseXPosition : 0,\n\t\t\t\t$target : null,\n\t\t\t\t$next : null,\n\t\t\t\toverflow : $parent.css('overflow') === 'auto' ||\n\t\t\t\t\t$parent.css('overflow') === 'scroll' ||\n\t\t\t\t\t$parent.css('overflow-x') === 'auto' ||\n\t\t\t\t\t$parent.css('overflow-x') === 'scroll',\n\t\t\t\tstoredSizes : []\n\t\t\t};\n\n\t\t\t// set default widths\n\t\t\tts.resizableReset( c.table, true );\n\n\t\t\t// now get measurements!\n\t\t\tvars.tableWidth = $table.width();\n\t\t\t// attempt to autodetect\n\t\t\tvars.fullWidth = Math.abs( $parent.width() - vars.tableWidth ) < 20;\n\n\t\t\t/*\n\t\t\t// Hacky method to determine if table width is set to 'auto'\n\t\t\t// http://stackoverflow.com/a/20892048/145346\n\t\t\tif ( !vars.fullWidth ) {\n\t\t\t\ttmp = $table.width();\n\t\t\t\t$header = $table.wrap('<span>').parent(); // temp variable\n\t\t\t\tstoredSizes = parseInt( $table.css( 'margin-left' ), 10 ) || 0;\n\t\t\t\t$table.css( 'margin-left', storedSizes + 50 );\n\t\t\t\tvars.tableWidth = $header.width() > tmp ? 'auto' : tmp;\n\t\t\t\t$table.css( 'margin-left', storedSizes ? storedSizes : '' );\n\t\t\t\t$header = null;\n\t\t\t\t$table.unwrap('<span>');\n\t\t\t}\n\t\t\t*/\n\n\t\t\tif ( vars.useStorage && vars.overflow ) {\n\t\t\t\t// save table width\n\t\t\t\tts.storage( c.table, 'tablesorter-table-original-css-width', vars.tableWidth );\n\t\t\t\ttmp = ts.storage( c.table, 'tablesorter-table-resized-width' ) || 'auto';\n\t\t\t\tts.resizable.setWidth( $table, tmp, true );\n\t\t\t}\n\t\t\two.resizable_vars.storedSizes = storedSizes = ( vars.useStorage ?\n\t\t\t\tts.storage( c.table, ts.css.resizableStorage ) :\n\t\t\t\t[] ) || [];\n\t\t\tts.resizable.setWidths( c, wo, storedSizes );\n\t\t\tts.resizable.updateStoredSizes( c, wo );\n\n\t\t\two.$resizable_container = $( '<div class=\"' + ts.css.resizableContainer + '\">' )\n\t\t\t\t.css({ top : marginTop })\n\t\t\t\t.insertBefore( $table );\n\t\t\t// add container\n\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t$header = c.$headerIndexed[ column ];\n\t\t\t\ttmp = ts.getColumnData( c.table, c.headers, column );\n\t\t\t\tnoResize = ts.getData( $header, tmp, 'resizable' ) === 'false';\n\t\t\t\tif ( !noResize ) {\n\t\t\t\t\t$( '<div class=\"' + ts.css.resizableHandle + '\">' )\n\t\t\t\t\t\t.appendTo( wo.$resizable_container )\n\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\t'data-column' : column,\n\t\t\t\t\t\t\t'unselectable' : 'on'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.data( 'header', $header )\n\t\t\t\t\t\t.bind( 'selectstart', false );\n\t\t\t\t}\n\t\t\t}\n\t\t\tts.resizable.bindings( c, wo );\n\t\t},\n\n\t\tupdateStoredSizes : function( c, wo ) {\n\t\t\tvar column, $header,\n\t\t\t\tlen = c.columns,\n\t\t\t\tvars = wo.resizable_vars;\n\t\t\tvars.storedSizes = [];\n\t\t\tfor ( column = 0; column < len; column++ ) {\n\t\t\t\t$header = c.$headerIndexed[ column ];\n\t\t\t\tvars.storedSizes[ column ] = $header.is(':visible') ? $header.width() : 0;\n\t\t\t}\n\t\t},\n\n\t\tsetWidth : function( $el, width, overflow ) {\n\t\t\t// overflow tables need min & max width set as well\n\t\t\t$el.css({\n\t\t\t\t'width' : width,\n\t\t\t\t'min-width' : overflow ? width : '',\n\t\t\t\t'max-width' : overflow ? width : ''\n\t\t\t});\n\t\t},\n\n\t\tsetWidths : function( c, wo, storedSizes ) {\n\t\t\tvar column, $temp,\n\t\t\t\tvars = wo.resizable_vars,\n\t\t\t\t$extra = $( c.namespace + '_extra_headers' ),\n\t\t\t\t$col = c.$table.children( 'colgroup' ).children( 'col' );\n\t\t\tstoredSizes = storedSizes || vars.storedSizes || [];\n\t\t\t// process only if table ID or url match\n\t\t\tif ( storedSizes.length ) {\n\t\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t\t// set saved resizable widths\n\t\t\t\t\tts.resizable.setWidth( c.$headerIndexed[ column ], storedSizes[ column ], vars.overflow );\n\t\t\t\t\tif ( $extra.length ) {\n\t\t\t\t\t\t// stickyHeaders needs to modify min & max width as well\n\t\t\t\t\t\t$temp = $extra.eq( column ).add( $col.eq( column ) );\n\t\t\t\t\t\tts.resizable.setWidth( $temp, storedSizes[ column ], vars.overflow );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$temp = $( c.namespace + '_extra_table' );\n\t\t\t\tif ( $temp.length && !ts.hasWidget( c.table, 'scroller' ) ) {\n\t\t\t\t\tts.resizable.setWidth( $temp, c.$table.outerWidth(), vars.overflow );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetHandlePosition : function( c, wo ) {\n\t\t\tvar startPosition,\n\t\t\t\ttableHeight = c.$table.height(),\n\t\t\t\t$handles = wo.$resizable_container.children(),\n\t\t\t\thandleCenter = Math.floor( $handles.width() / 2 );\n\n\t\t\tif ( ts.hasWidget( c.table, 'scroller' ) ) {\n\t\t\t\ttableHeight = 0;\n\t\t\t\tc.$table.closest( '.' + ts.css.scrollerWrap ).children().each(function() {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t// center table has a max-height set\n\t\t\t\t\ttableHeight += $this.filter('[style*=\"height\"]').length ? $this.height() : $this.children('table').height();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( !wo.resizable_includeFooter && c.$table.children('tfoot').length ) {\n\t\t\t\ttableHeight -= c.$table.children('tfoot').height();\n\t\t\t}\n\t\t\t// subtract out table left position from resizable handles. Fixes #864\n\t\t\t// jQuery v3.3.0+ appears to include the start position with the $header.position().left; see #1544\n\t\t\tstartPosition = parseFloat($.fn.jquery) >= 3.3 ? 0 : c.$table.position().left;\n\t\t\t$handles.each( function() {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t\tcolumn = parseInt( $this.attr( 'data-column' ), 10 ),\n\t\t\t\t\tcolumns = c.columns - 1,\n\t\t\t\t\t$header = $this.data( 'header' );\n\t\t\t\tif ( !$header ) { return; } // see #859\n\t\t\t\tif (\n\t\t\t\t\t!$header.is(':visible') ||\n\t\t\t\t\t( !wo.resizable_addLastColumn && ts.resizable.checkVisibleColumns(c, column) )\n\t\t\t\t) {\n\t\t\t\t\t$this.hide();\n\t\t\t\t} else if ( column < columns || column === columns && wo.resizable_addLastColumn ) {\n\t\t\t\t\t$this.css({\n\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\theight : tableHeight,\n\t\t\t\t\t\tleft : $header.position().left - startPosition + $header.outerWidth() - handleCenter\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// Fixes #1485\n\t\tcheckVisibleColumns: function( c, column ) {\n\t\t\tvar i,\n\t\t\t\tlen = 0;\n\t\t\tfor ( i = column + 1; i < c.columns; i++ ) {\n\t\t\t\tlen += c.$headerIndexed[i].is( ':visible' ) ? 1 : 0;\n\t\t\t}\n\t\t\treturn len === 0;\n\t\t},\n\n\t\t// prevent text selection while dragging resize bar\n\t\ttoggleTextSelection : function( c, wo, toggle ) {\n\t\t\tvar namespace = c.namespace + 'tsresize';\n\t\t\two.resizable_vars.disabled = toggle;\n\t\t\t$( 'body' ).toggleClass( ts.css.resizableNoSelect, toggle );\n\t\t\tif ( toggle ) {\n\t\t\t\t$( 'body' )\n\t\t\t\t\t.attr( 'unselectable', 'on' )\n\t\t\t\t\t.bind( 'selectstart' + namespace, false );\n\t\t\t} else {\n\t\t\t\t$( 'body' )\n\t\t\t\t\t.removeAttr( 'unselectable' )\n\t\t\t\t\t.unbind( 'selectstart' + namespace );\n\t\t\t}\n\t\t},\n\n\t\tbindings : function( c, wo ) {\n\t\t\tvar namespace = c.namespace + 'tsresize';\n\t\t\two.$resizable_container.children().bind( 'mousedown', function( event ) {\n\t\t\t\t// save header cell and mouse position\n\t\t\t\tvar column,\n\t\t\t\t\tvars = wo.resizable_vars,\n\t\t\t\t\t$extras = $( c.namespace + '_extra_headers' ),\n\t\t\t\t\t$header = $( event.target ).data( 'header' );\n\n\t\t\t\tcolumn = parseInt( $header.attr( 'data-column' ), 10 );\n\t\t\t\tvars.$target = $header = $header.add( $extras.filter('[data-column=\"' + column + '\"]') );\n\t\t\t\tvars.target = column;\n\n\t\t\t\t// if table is not as wide as it's parent, then resize the table\n\t\t\t\tvars.$next = event.shiftKey || wo.resizable_targetLast ?\n\t\t\t\t\t$header.parent().children().not( '.resizable-false' ).filter( ':last' ) :\n\t\t\t\t\t$header.nextAll( ':not(.resizable-false)' ).eq( 0 );\n\n\t\t\t\tcolumn = parseInt( vars.$next.attr( 'data-column' ), 10 );\n\t\t\t\tvars.$next = vars.$next.add( $extras.filter('[data-column=\"' + column + '\"]') );\n\t\t\t\tvars.next = column;\n\n\t\t\t\tvars.mouseXPosition = event.pageX;\n\t\t\t\tts.resizable.updateStoredSizes( c, wo );\n\t\t\t\tts.resizable.toggleTextSelection(c, wo, true );\n\t\t\t});\n\n\t\t\t$( document )\n\t\t\t\t.bind( 'mousemove' + namespace, function( event ) {\n\t\t\t\t\tvar vars = wo.resizable_vars;\n\t\t\t\t\t// ignore mousemove if no mousedown\n\t\t\t\t\tif ( !vars.disabled || vars.mouseXPosition === 0 || !vars.$target ) { return; }\n\t\t\t\t\tif ( wo.resizable_throttle ) {\n\t\t\t\t\t\tclearTimeout( vars.timer );\n\t\t\t\t\t\tvars.timer = setTimeout( function() {\n\t\t\t\t\t\t\tts.resizable.mouseMove( c, wo, event );\n\t\t\t\t\t\t}, isNaN( wo.resizable_throttle ) ? 5 : wo.resizable_throttle );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tts.resizable.mouseMove( c, wo, event );\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.bind( 'mouseup' + namespace, function() {\n\t\t\t\t\tif (!wo.resizable_vars.disabled) { return; }\n\t\t\t\t\tts.resizable.toggleTextSelection( c, wo, false );\n\t\t\t\t\tts.resizable.stopResize( c, wo );\n\t\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t\t});\n\n\t\t\t// resizeEnd event triggered by scroller widget\n\t\t\t$( window ).bind( 'resize' + namespace + ' resizeEnd' + namespace, function() {\n\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t});\n\n\t\t\t// right click to reset columns to default widths\n\t\t\tc.$table\n\t\t\t\t.bind( 'columnUpdate pagerComplete resizableUpdate '.split( ' ' ).join( namespace + ' ' ), function() {\n\t\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t\t})\n\t\t\t\t.bind( 'resizableReset' + namespace, function() {\n\t\t\t\t\tts.resizableReset( c.table );\n\t\t\t\t})\n\t\t\t\t.find( 'thead:first' )\n\t\t\t\t.add( $( c.namespace + '_extra_table' ).find( 'thead:first' ) )\n\t\t\t\t.bind( 'contextmenu' + namespace, function() {\n\t\t\t\t\t// $.isEmptyObject() needs jQuery 1.4+; allow right click if already reset\n\t\t\t\t\tvar allowClick = wo.resizable_vars.storedSizes.length === 0;\n\t\t\t\t\tts.resizableReset( c.table );\n\t\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t\t\two.resizable_vars.storedSizes = [];\n\t\t\t\t\treturn allowClick;\n\t\t\t\t});\n\n\t\t},\n\n\t\tmouseMove : function( c, wo, event ) {\n\t\t\tif ( wo.resizable_vars.mouseXPosition === 0 || !wo.resizable_vars.$target ) { return; }\n\t\t\t// resize columns\n\t\t\tvar column,\n\t\t\t\ttotal = 0,\n\t\t\t\tvars = wo.resizable_vars,\n\t\t\t\t$next = vars.$next,\n\t\t\t\ttar = vars.storedSizes[ vars.target ],\n\t\t\t\tleftEdge = event.pageX - vars.mouseXPosition;\n\t\t\tif ( vars.overflow ) {\n\t\t\t\tif ( tar + leftEdge > 0 ) {\n\t\t\t\t\tvars.storedSizes[ vars.target ] += leftEdge;\n\t\t\t\t\tts.resizable.setWidth( vars.$target, vars.storedSizes[ vars.target ], true );\n\t\t\t\t\t// update the entire table width\n\t\t\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t\t\ttotal += vars.storedSizes[ column ];\n\t\t\t\t\t}\n\t\t\t\t\tts.resizable.setWidth( c.$table.add( $( c.namespace + '_extra_table' ) ), total );\n\t\t\t\t}\n\t\t\t\tif ( !$next.length ) {\n\t\t\t\t\t// if expanding right-most column, scroll the wrapper\n\t\t\t\t\tvars.$wrap[0].scrollLeft = c.$table.width();\n\t\t\t\t}\n\t\t\t} else if ( vars.fullWidth ) {\n\t\t\t\tvars.storedSizes[ vars.target ] += leftEdge;\n\t\t\t\tvars.storedSizes[ vars.next ] -= leftEdge;\n\t\t\t\tts.resizable.setWidths( c, wo );\n\t\t\t} else {\n\t\t\t\tvars.storedSizes[ vars.target ] += leftEdge;\n\t\t\t\tts.resizable.setWidths( c, wo );\n\t\t\t}\n\t\t\tvars.mouseXPosition = event.pageX;\n\t\t\t// dynamically update sticky header widths\n\t\t\tc.$table.triggerHandler('stickyHeadersUpdate');\n\t\t},\n\n\t\tstopResize : function( c, wo ) {\n\t\t\tvar vars = wo.resizable_vars;\n\t\t\tts.resizable.updateStoredSizes( c, wo );\n\t\t\tif ( vars.useStorage ) {\n\t\t\t\t// save all column widths\n\t\t\t\tts.storage( c.table, ts.css.resizableStorage, vars.storedSizes );\n\t\t\t\tts.storage( c.table, 'tablesorter-table-resized-width', c.$table.width() );\n\t\t\t}\n\t\t\tvars.mouseXPosition = 0;\n\t\t\tvars.$target = vars.$next = null;\n\t\t\t// will update stickyHeaders, just in case, see #912\n\t\t\tc.$table.triggerHandler('stickyHeadersUpdate');\n\t\t\tc.$table.triggerHandler('resizableComplete');\n\t\t}\n\t};\n\n\t// this widget saves the column widths if\n\t// $.tablesorter.storage function is included\n\t// **************************\n\tts.addWidget({\n\t\tid: 'resizable',\n\t\tpriority: 40,\n\t\toptions: {\n\t\t\tresizable : true, // save column widths to storage\n\t\t\tresizable_addLastColumn : false,\n\t\t\tresizable_includeFooter: true,\n\t\t\tresizable_widths : [],\n\t\t\tresizable_throttle : false, // set to true (5ms) or any number 0-10 range\n\t\t\tresizable_targetLast : false\n\t\t},\n\t\tinit: function(table, thisWidget, c, wo) {\n\t\t\tts.resizable.init( c, wo );\n\t\t},\n\t\tformat: function( table, c, wo ) {\n\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t},\n\t\tremove: function( table, c, wo, refreshing ) {\n\t\t\tif (wo.$resizable_container) {\n\t\t\t\tvar namespace = c.namespace + 'tsresize';\n\t\t\t\tc.$table.add( $( c.namespace + '_extra_table' ) )\n\t\t\t\t\t.removeClass('hasResizable')\n\t\t\t\t\t.children( 'thead' )\n\t\t\t\t\t.unbind( 'contextmenu' + namespace );\n\n\t\t\t\two.$resizable_container.remove();\n\t\t\t\tts.resizable.toggleTextSelection( c, wo, false );\n\t\t\t\tts.resizableReset( table, refreshing );\n\t\t\t\t$( document ).unbind( 'mousemove' + namespace + ' mouseup' + namespace );\n\t\t\t}\n\t\t}\n\t});\n\n\tts.resizableReset = function( table, refreshing ) {\n\t\t$( table ).each(function() {\n\t\t\tvar index, $t,\n\t\t\t\tc = this.config,\n\t\t\t\two = c && c.widgetOptions,\n\t\t\t\tvars = wo.resizable_vars;\n\t\t\tif ( table && c && c.$headerIndexed.length ) {\n\t\t\t\t// restore the initial table width\n\t\t\t\tif ( vars.overflow && vars.tableWidth ) {\n\t\t\t\t\tts.resizable.setWidth( c.$table, vars.tableWidth, true );\n\t\t\t\t\tif ( vars.useStorage ) {\n\t\t\t\t\t\tts.storage( table, 'tablesorter-table-resized-width', vars.tableWidth );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor ( index = 0; index < c.columns; index++ ) {\n\t\t\t\t\t$t = c.$headerIndexed[ index ];\n\t\t\t\t\tif ( wo.resizable_widths && wo.resizable_widths[ index ] ) {\n\t\t\t\t\t\tts.resizable.setWidth( $t, wo.resizable_widths[ index ], vars.overflow );\n\t\t\t\t\t} else if ( !$t.hasClass( 'resizable-false' ) ) {\n\t\t\t\t\t\t// don't clear the width of any column that is not resizable\n\t\t\t\t\t\tts.resizable.setWidth( $t, '', vars.overflow );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// reset stickyHeader widths\n\t\t\t\tc.$table.triggerHandler( 'stickyHeadersUpdate' );\n\t\t\t\tif ( ts.storage && !refreshing ) {\n\t\t\t\t\tts.storage( this, ts.css.resizableStorage, [] );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n})( jQuery, window );\n\n/*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *//*\n* Requires tablesorter v2.16+\n* by Rob Garrison\n*/\n;(function ($) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\tfunction getStoredSortList(c) {\n\t\tvar stored = ts.storage( c.table, 'tablesorter-savesort' );\n\t\treturn (stored && stored.hasOwnProperty('sortList') && $.isArray(stored.sortList)) ? stored.sortList : [];\n\t}\n\n\tfunction sortListChanged(c, sortList) {\n\t\treturn (sortList || getStoredSortList(c)).join(',') !== c.sortList.join(',');\n\t}\n\n\t// this widget saves the last sort only if the\n\t// saveSort widget option is true AND the\n\t// $.tablesorter.storage function is included\n\t// **************************\n\tts.addWidget({\n\t\tid: 'saveSort',\n\t\tpriority: 20,\n\t\toptions: {\n\t\t\tsaveSort : true\n\t\t},\n\t\tinit: function(table, thisWidget, c, wo) {\n\t\t\t// run widget format before all other widgets are applied to the table\n\t\t\tthisWidget.format(table, c, wo, true);\n\t\t},\n\t\tformat: function(table, c, wo, init) {\n\t\t\tvar time,\n\t\t\t\t$table = c.$table,\n\t\t\t\tsaveSort = wo.saveSort !== false, // make saveSort active/inactive; default to true\n\t\t\t\tsortList = { 'sortList' : c.sortList },\n\t\t\t\tdebug = ts.debug(c, 'saveSort');\n\t\t\tif (debug) {\n\t\t\t\ttime = new Date();\n\t\t\t}\n\t\t\tif ($table.hasClass('hasSaveSort')) {\n\t\t\t\tif (saveSort && table.hasInitialized && ts.storage && sortListChanged(c)) {\n\t\t\t\t\tts.storage( table, 'tablesorter-savesort', sortList );\n\t\t\t\t\tif (debug) {\n\t\t\t\t\t\tconsole.log('saveSort >> Saving last sort: ' + c.sortList + ts.benchmark(time));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// set table sort on initial run of the widget\n\t\t\t\t$table.addClass('hasSaveSort');\n\t\t\t\tsortList = '';\n\t\t\t\t// get data\n\t\t\t\tif (ts.storage) {\n\t\t\t\t\tsortList = getStoredSortList(c);\n\t\t\t\t\tif (debug) {\n\t\t\t\t\t\tconsole.log('saveSort >> Last sort loaded: \"' + sortList + '\"' + ts.benchmark(time));\n\t\t\t\t\t}\n\t\t\t\t\t$table.bind('saveSortReset', function(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tts.storage( table, 'tablesorter-savesort', '' );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// init is true when widget init is run, this will run this widget before all other widgets have initialized\n\t\t\t\t// this method allows using this widget in the original tablesorter plugin; but then it will run all widgets twice.\n\t\t\t\tif (init && sortList && sortList.length > 0) {\n\t\t\t\t\tc.sortList = sortList;\n\t\t\t\t} else if (table.hasInitialized && sortList && sortList.length > 0) {\n\t\t\t\t\t// update sort change\n\t\t\t\t\tif (sortListChanged(c, sortList)) {\n\t\t\t\t\t\tts.sortOn(c, sortList);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremove: function(table, c) {\n\t\t\tc.$table.removeClass('hasSaveSort');\n\t\t\t// clear storage\n\t\t\tif (ts.storage) { ts.storage( table, 'tablesorter-savesort', '' ); }\n\t\t}\n\t});\n\n})(jQuery);\nreturn jQuery.tablesorter;}));\n","// Main javascript entry point\r\n// Should handle bootstrapping/starting application\r\n\r\n'use strict';\r\n\r\nimport 'match-media';\r\nimport $ from 'jquery';\r\nimport 'fancybox';\r\nimport 'jquery-match-height';\r\nimport 'slick-carousel';\r\nimport 'tablesorter';\r\nimport objectFitImages from 'object-fit-images';\r\nimport objectFitVideos from 'object-fit-videos';\r\nimport TableResponsive from '../_modules/table-responsive/table-responsive';\r\nimport CloneSelect from '../_modules/clone-select/clone-select';\r\nimport ViewController from '../_modules/view-controller/view-controller';\r\n\r\nimport NavTabsAnchor from '../_modules/molecules/nav-tabs-anchor/nav-tabs-anchor';\r\nimport SubscribeForm from '../_modules/molecules/subscribe-form/subscribe-form';\r\nimport Modal from '../_modules/organisms/modal/modal';\r\n\r\n// import SocialMedia from '../_modules/organisms/social-media/social-media';\r\nimport Carousel from '../_modules/organisms/carousel/carousel';\r\nimport SolutionsServices from '../_modules/organisms/solutions-services/solutions-services';\r\nimport InsightComponent from '../_modules/organisms/insight-component/insight-component';\r\nimport AccordionWrapper from '../_modules/organisms/accordion-wrapper/accordion-wrapper';\r\nimport ListingFilters from '../_modules/organisms/listing-filters/listing-filters';\r\nimport SiteHeader from '../_modules/organisms/site-header/site-header';\r\nimport Agenda from '../_modules/organisms/agenda/agenda';\r\nimport FeaturedSpeakers from '../_modules/organisms/featured-speakers/featured-speakers';\r\nimport NewsroomWrapper from '../_modules/organisms/newsroom-wrapper/newsroom-wrapper';\r\nimport ResellerLocator from '../_modules/organisms/reseller-locator/reseller-locator';\r\nimport ImageLinksWrapper from '../_modules/organisms/image-links-wrapper/image-links-wrapper';\r\nimport Mapper from '../_modules/organisms/mapper/mapper';\r\nimport Form from '../_modules/organisms/form/form';\r\nimport Tabs from '../_modules/organisms/tabs/tabs';\r\nimport TabCarousel from '../_modules/organisms/tab-carousel/tab-carousel';\r\nimport WffmAddRemoveFields from '../_modules/wffm-add-remove-fields/wffm-add-remove-fields';\r\nimport StoreLocator from '../_modules/organisms/store-locator/store-locator';\r\nimport AlipayForm from '../_modules/organisms/alipay-form/alipay-form';\r\nimport ProductFinder from '../_modules/organisms/product-finder/product-finder';\r\nimport ProductFinderCompare from '../_modules/organisms/product-finder-compare/product-finder-compare';\r\nimport ProductItem from '../_modules/molecules/product-item/product-item';\r\nimport QuestionItem from '../_modules/molecules/question-item/question-item';\r\n\r\n(function($){\r\n\t$(() => {\r\n\t\tlet config = {\r\n\t\t\tbreakpoints: {\r\n\t\t\t\tmidDesktop: 1366,\r\n\t\t\t\tdesktop: 1024,\r\n\t\t\t\ttablet: 768,\r\n\t\t\t\tlgMobile: 480\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Polyfill for object-fit for images and videos\r\n\t\tobjectFitImages();\r\n\t\tobjectFitVideos();\r\n\r\n\t\t// Apply wrapper for table\r\n\t\tif ($('table').length) {\r\n\t\t\tnew TableResponsive();\r\n\t\t}\r\n\r\n\t\tif ($('.sorting-table').length) {\r\n\t\t\t$('.sorting-table').tablesorter();\r\n\t\t}\r\n\r\n\t\tnew CloneSelect();\r\n\t\tnew SiteHeader();\r\n\t\tnew Modal();\r\n\t\tnew Carousel();\r\n\t\tnew TabCarousel();\r\n\t\tnew NavTabsAnchor();\r\n\t\tnew AccordionWrapper();\r\n\t    new ImageLinksWrapper();\r\n\t\tnew Tabs();\r\n\r\n\t    if($('.subscribe-form').length){\r\n\t    \tnew SubscribeForm();\r\n\t    }\r\n\r\n\t\tif($('.event-agenda').length){\r\n\t\t\tnew Agenda();\r\n\t\t}\r\n\r\n\t\tif($('.event-featured-speakers-wrapper').length){\r\n\t\t\tnew FeaturedSpeakers();\r\n\t\t}\r\n\r\n\t    new Form();\r\n\r\n        if($('fieldset.CollapsibleFieldSet').length){\r\n    \t\tnew WffmAddRemoveFields();\r\n    \t}\r\n\r\n\t\tif($('.newsroom').length){\r\n\t\t\tnew NewsroomWrapper();\r\n\t\t}\r\n\r\n\t\tif($('.product-listing').length){\r\n\t        new ListingFilters('products');\r\n\t    }\r\n\r\n\t\tif($('.career-listing').length){\r\n\t        new ListingFilters('careers');\r\n\t    }\r\n\r\n\t    if($('.solution-services').length){\r\n\t    \tnew SolutionsServices();\r\n\t    }\r\n\r\n\t    if($('.insight').length){\r\n\t    \tnew ViewController();\r\n\t    \tnew InsightComponent();\r\n\t    }\r\n\r\n\t    if($('.success-stories-mapper').length){\r\n\t        new Mapper('story');\r\n\t    }\r\n\t    if($('.event-mapper').length){\r\n\t        new Mapper('event');\r\n\t    }\r\n\r\n\t    if($('.reseller-locator').length){\r\n\t\t\tif($('.google-locator').length){\r\n\t\t\t\tnew StoreLocator('google');\r\n\t\t\t}\r\n\r\n\t\t\telse if($('.baidu-locator').length){\r\n\t\t\t\tnew StoreLocator('baidu');\r\n\t\t\t}\r\n\r\n\t\t\telse if($('.naver-locator').length){\r\n\t\t\t\tnew StoreLocator('naver');\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tnew ResellerLocator();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif($('.alipay-form').length){\r\n\t\t\tnew AlipayForm();\r\n\t\t}\r\n\r\n\t\tif($('.product-finder').length){\r\n\t\t\tnew ProductFinder();\r\n\t\t}\r\n\r\n\t\tif($('.product-finder-compare').length){\r\n\t\t\tnew ProductFinderCompare(config);\r\n\t\t}\r\n\r\n\t\tif($('.product-item').length){\r\n\t\t\tnew ProductItem();\r\n\t\t}\r\n\r\n\t\tif($('.question-item').length){\r\n\t\t\tnew QuestionItem();\r\n\t\t}\r\n\r\n\t\t// match height //\r\n\t\t$('.match-height').matchHeight();\r\n\r\n\t\t/**\r\n\t\t * Focus outline handler\r\n\t\t */\r\n\t\t$('body').addClass().on('keydown', function(e){\r\n\t\t\tif(e.which === 9){\r\n\t\t\t\t$('body').removeClass('no-focus-outline');\r\n\t\t\t}\r\n\t\t}).on('mouseup', function(){\r\n\t\t\t$('body').addClass('no-focus-outline');\r\n\t\t});\r\n\r\n\t    /**\r\n\t\t * Back to top\r\n\t\t */\r\n\t\tlet backToTopText = $('#back-to-top').data('text');\r\n\t\tlet $wrapper = $('<div/>'),\r\n\t\t    $anchor = $('<i class=\"icon-angle-up\"></i><span class=\"label\">' + backToTopText + '</span>');\r\n\r\n\t\t$wrapper\r\n\t\t    .addClass('back-to-top')\r\n\t\t    .append($anchor);\r\n\r\n\t\t$('body').append($wrapper);\r\n\r\n\t\t/**\r\n\t\t * Bind Behaviours\r\n\t\t */\r\n\t\t$wrapper\r\n\t\t    .on('click', function(e){\r\n\t\t        $('html, body').stop().animate({'scrollTop': 0});\r\n\t\t        e.preventDefault();\r\n\t\t    });\r\n\r\n\t\tvar scrolling = function(){\r\n\t\t    var scrollTop = $(window).scrollTop();\r\n\r\n\t\t    if(scrollTop > $(window).height()) {\r\n\t\t        $wrapper.fadeIn();\r\n\t\t    } else {\r\n\t\t        $wrapper.fadeOut();\r\n\t\t\t}\r\n\r\n\t\t\tif (scrollTop > 80){\r\n\t\t\t\tif(!$('.sticky-buttons').hasClass('visible')){\r\n\t\t\t\t\t$('.sticky-buttons').addClass('visible');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollTop > $(document).height() - $(window).height() - 80) {\r\n\t\t\t\t\tif ($('.sticky-buttons').hasClass('visible')) {\r\n\t\t\t\t\t\t$('.sticky-buttons').removeClass('visible');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($('.sticky-buttons').hasClass('visible')) {\r\n\t\t\t\t\t$('.sticky-buttons').removeClass('visible');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * On Scroll\r\n\t\t */\r\n\t\t$(window).on('scroll.window', scrolling).trigger('scroll.window');\r\n\t});\r\n})(jQuery)\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class CloneSelect {\r\n\tconstructor() {\r\n\r\n\t\tif($('.solutions-filter').length || $('.event-mapper').length || $('.success-stories-mapper').length || $('.reseller-locator__filters').length) {\r\n\t\t\tlet $select = $('select').not('.scfForm select');\r\n\r\n\t\t\t$select.map((i,ele) => {\r\n\t\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t\tlet firstOption = $('option', $this).first().text(),\r\n\t\t\t\t\tfirstValue = $('option', $this).first().val(),\r\n\t\t\t\t\t_clone = `<div class=\"dropdown-copy\"><button type=\"button\" value=\"${firstValue}\">${firstOption}</button></div>`;\r\n\r\n\t\t\t\t$this.before(_clone);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet $select = $('select').not('.scfForm select');\r\n\r\n\t\t\t$select.map((i,ele) => {\r\n\t\t\t\tlet $this = $(ele),\r\n\t\t\t\t\t$option = $('option', $this);\r\n\r\n\t\t\t\tlet firstOption = $('option', $this).first().text(),\r\n\t\t\t\t\tfirstValue = $('option', $this).first().val(),\r\n\t\t\t\t\t_clone = `<div class=\"dropdown-copy\"><button type=\"button\" value=\"${firstValue}\">${firstOption}</button><ul>`;\r\n\r\n\t\t\t\t$option.each(function() {\r\n\t\t\t\t\tlet text = $(this).text(),\r\n\t\t\t\t\t\tvalue = '';\r\n\r\n\t\t\t\t\tif($(this).attr('value')){\r\n\t\t\t\t\t\tvalue = $(this).attr('value');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet _optionClone = `<li><button type=\"button\" value=\"${value}\"><span>${text}</span></button></li>`;\r\n\t\t\t\t\t_clone += _optionClone;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_clone = `${_clone}</ul></div>`;\r\n\r\n\t\t\t\t$this.after(_clone);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleDropdown($object){\r\n\t\t$object.toggle();\r\n\t}\r\n\r\n\tcloseDropdown($object){\r\n\t\t$object.hide();\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport enquire from 'enquire.js';\r\nimport 'slick-carousel';\r\n\r\nexport default class CompareItem {\r\n\tconstructor(breakpoints) {\r\n\t\tlet $compareList = $('.compare-list');\r\n\r\n\t\t$('.compare-item__header > div').matchHeight();\r\n\t\t$('.compare-item__header > p').matchHeight();\r\n\r\n\t\tenquire.register('screen and (max-width: ' + (breakpoints.desktop - 1) + 'px)', {\r\n\t\t\tmatch: () => {\r\n\r\n\t\t\t\t// $compareList.on('afterChange', function (event, slick, currentSlide) {\r\n\t\t\t\t// \t$('.specrow1').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow2').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow3').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow4').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow5').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow6').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow7').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow8').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow9').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow10').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow11').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow12').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow13').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow14').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow15').matchHeight._update();\r\n\t\t\t\t// \t$('.specrow16').matchHeight._update();\r\n\t\t\t\t// \t$('.specrowlast').matchHeight._update();\r\n\t\t\t\t// });\r\n\r\n\t\t\t\t$compareList.slick({\r\n\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\tarrows: true,\r\n\t\t\t\t\tswipeToSlide: true,\r\n\t\t\t\t\tinfinite: false,\r\n\t\t\t\t\tprevArrow: '<button type=\"button\" class=\"slick-prev prev\"><span class=\"icon icon-angle-left\"></span></button>',\r\n\t\t\t\t\tnextArrow: '<button type=\"button\" class=\"slick-next next\"><span class=\"icon icon-angle-right\"></span></button>'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tunmatch: () => {\r\n\t\t\t\t$compareList.slick('unslick');\r\n\t\t\t\t// $('.specrow1').matchHeight._update();\r\n\t\t\t\t// $('.specrow2').matchHeight._update();\r\n\t\t\t\t// $('.specrow3').matchHeight._update();\r\n\t\t\t\t// $('.specrow4').matchHeight._update();\r\n\t\t\t\t// $('.specrow5').matchHeight._update();\r\n\t\t\t\t// $('.specrow6').matchHeight._update();\r\n\t\t\t\t// $('.specrow7').matchHeight._update();\r\n\t\t\t\t// $('.specrow8').matchHeight._update();\r\n\t\t\t\t// $('.specrow9').matchHeight._update();\r\n\t\t\t\t// $('.specrow10').matchHeight._update();\r\n\t\t\t\t// $('.specrow11').matchHeight._update();\r\n\t\t\t\t// $('.specrow12').matchHeight._update();\r\n\t\t\t\t// $('.specrow13').matchHeight._update();\r\n\t\t\t\t// $('.specrow14').matchHeight._update();\r\n\t\t\t\t// $('.specrow15').matchHeight._update();\r\n\t\t\t\t// $('.specrow16').matchHeight._update();\r\n\t\t\t\t// $('.specrowlast').matchHeight._update();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class ListingSorter {\r\n\tconstructor() {\r\n\r\n\t\tthis.name = 'listing-sorter';\r\n\t\t// console.log('%s module', this.name);\r\n\r\n\t\tthis.results = [];\r\n\r\n\t\tthis.$sortSelect = $('.listing-content__sort-result select');\r\n\r\n\t\tlet _this = this;\r\n\r\n\t\t_this.$sortSelect.on('change', function(){\r\n\t\t\tvar results = [].concat(_this.results); // to preserve default results\r\n\t\t\tresults = _this.toggleSort($(this).val(), results);\r\n\r\n\t\t\t_this.view.clear();\r\n\t\t\t_this.view.render(results, true);\r\n\t\t});\r\n\r\n\t\tlet $sorter = $('.listing-content__sort-result');\r\n\t\t$sorter.map((i, ele) => {\r\n\t\t\tlet $this = $(ele),\r\n\t\t\t\t$clone = $('.dropdown-copy', $this),\r\n\t\t\t\t$dropdown = $('ul', $this),\r\n\t\t\t\t$button = $('> button', $clone);\r\n\r\n\t\t\t$this.on('click', (e) => {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tthis.toggleDropdown($dropdown);\r\n\t\t\t});\r\n\r\n\t\t\tlet $option = $('li button', $dropdown);\r\n\r\n\t\t\t$option.map((j, ele) => {\r\n\t\t\t\tlet $this2 = $(ele);\r\n\r\n\t\t\t\t$this2.on('click', () => {\r\n\t\t\t\t\tlet value = $this2.val(),\r\n\t\t\t\t\t\ttext = $this2.text();\r\n\r\n\t\t\t\t\t$button.text(text);\r\n\t\t\t\t\t$button.val(value);\r\n\t\t\t\t\t$('select', $this).val(value);\r\n\t\t\t\t\t_this.$sortSelect.trigger('change');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$(window).on('click', () => {\r\n\t\t\tthis.closeDropdown($('ul', $sorter));\r\n    \t});\r\n\t}\r\n\r\n\ttoggleDropdown($object){\r\n\t\t$object.toggle();\r\n\t}\r\n\r\n\tcloseDropdown($object){\r\n\t\t$object.hide();\r\n\t}\r\n\r\n\tsetResults(results) {\r\n\t\tthis.results = results.slice().concat(); // Deep copy results from original data to reset sorting.\r\n\t}\r\n\r\n\tsetView(fn) {\r\n\t\tthis.view = fn;\r\n\t}\r\n\r\n\ttoggleSort(sortParam, results) {\r\n\t\tlet parameter = '',\r\n\t\t\tsortParameter = '',\r\n\t\t\tsortedResults = [];\r\n\r\n\t\tlet mergeSortTopDown = (array, parameter) => {\r\n\t\t\tif(array.length < 2) {\r\n\t\t\t\treturn array;\r\n\t\t\t}\r\n\r\n\t\t\tlet middle = Math.floor(array.length / 2);\r\n\t\t\tlet left = array.slice(0, middle);\r\n\t\t\tlet right = array.slice(middle);\r\n\r\n\t\t\treturn mergeTopDown(mergeSortTopDown(left, parameter), mergeSortTopDown(right, parameter), parameter);\r\n\t\t}\r\n\r\n\t\tlet mergeTopDown = (left, right, parameter) => {\r\n\t\t\tlet array = [];\r\n\r\n\t\t\twhile(left.length && right.length) {\r\n\t\t\t\tif(parameter == 'compareDate'){\r\n\t\t\t\t\tif(left[0][parameter] > right[0][parameter]) {\r\n\t\t\t\t\t\tarray.push(left.shift());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarray.push(right.shift());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(left[0][parameter] < right[0][parameter]) {\r\n\t\t\t\t\t\tarray.push(left.shift());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarray.push(right.shift());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn array.concat(left.slice()).concat(right.slice());\r\n\t\t}\r\n\r\n\t\tlet customSort = (results, parameter) => {\r\n\t\t\tlet valid = [],\r\n\t\t\t\tinvalid = [];\r\n\r\n\t\t\tif(parameter == 'date'){\r\n\t\t\t\tfor(let i = 0; i < results.length; i++){\r\n\t\t\t\t\tif(new Date(results[i][parameter]) == 'Invalid Date'){\r\n\t\t\t\t\t\tinvalid.push(results[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tvalid.push(results[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(let i = 0; i < valid.length; i++){\r\n\t\t\t\t\tvalid[i].compareDate = new Date(valid[i][parameter]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsortParameter = 'compareDate';\r\n\t\t\t\tvalid = mergeSortTopDown(valid.slice(), sortParameter);\r\n\t\t\t\tinvalid = mergeSortTopDown(invalid.slice(), 'name');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(parameter == 'recommended'){\r\n\t\t\t\t\tfor(let j = 0; j < results.length; j++){\r\n\t\t\t\t\t\tif(typeof results[j][parameter] !== 'undefined'){\r\n\t\t\t\t\t\t\tvalid.push(results[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tinvalid.push(results[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor(let k = 0; k < results.length; k++){\r\n\t\t\t\t\t\tif(results[k][parameter] === true){\r\n\t\t\t\t\t\t\tvalid.push(results[k]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tinvalid.push(results[k]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsortParameter = 'name';\r\n\t\t\t\tvalid = mergeSortTopDown(valid.slice(), sortParameter);\r\n\t\t\t\tinvalid = mergeSortTopDown(invalid.slice(), sortParameter);\r\n\t\t\t}\r\n\r\n\t\t\t$.merge(valid, invalid);\r\n\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tswitch(sortParam) {\r\n\t\t\tcase 'latest' :\r\n\t\t\t\tparameter = 'date';\r\n\t\t\t\tsortedResults = customSort(results, parameter);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// results.sort(function(a,b){\r\n\t\t\t\t// \t\tif (new Date(a.date) == 'Invalid Date'){\r\n\t\t\t\t// \t\t\treturn 1;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tif (new Date(b.date) == 'Invalid Date'){\r\n\t\t\t\t// \t\t\treturn -1;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tif (new Date(a.date) < new Date(b.date)) {\r\n\t\t\t\t// \t\t\treturn 1;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tif (new Date(a.date) > new Date(b.date)) {\r\n\t\t\t\t// \t\t\treturn -1;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tif (new Date(a.date) == new Date(b.date)){\r\n\t\t\t\t// \t\t\treturn 0;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// );\r\n\r\n\t\t\tcase 'promotion' :\r\n\t\t\t\tparameter = 'promoted';\r\n\t\t\t\tsortedResults = customSort(results, parameter);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// results.sort(function(a,b){\r\n\t\t\t\t// \t\t// if(a.promoted == true && b.promoted == true) return 0;\r\n\t\t\t\t// \t\t// if(a.promoted == true && b.promoted == false) return -1;\r\n\t\t\t\t// \t\t// if(a.promoted == false && b.promoted == true) return 1;\r\n\t\t\t\t// \t\tif(a.promoted === b.promoted){\r\n\t\t\t\t// \t\t\treturn 0;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse{\r\n\t\t\t\t// \t\t\tif(a.promoted){\r\n\t\t\t\t// \t\t\t\treturn -1;\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t\telse{\r\n\t\t\t\t// \t\t\t\treturn 1;\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// );\r\n\r\n\t\t\tcase 'best seller' :\r\n\t\t\t\tparameter = 'bestseller';\r\n\t\t\t\tsortedResults = customSort(results, parameter);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// results.sort(function(a,b){\r\n\t\t\t\t// \t\t// if(a.bestseller == true && b.bestseller == true) return 0;\r\n\t\t\t\t// \t\t// if(a.bestseller == true && b.bestseller == false) return -1;\r\n\t\t\t\t// \t\t// if(a.bestseller == false && b.bestseller == true) return 1;\r\n\t\t\t\t// \t\tif(a.bestseller === b.bestseller){\r\n\t\t\t\t// \t\t\treturn 0;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse{\r\n\t\t\t\t// \t\t\tif(a.bestseller){\r\n\t\t\t\t// \t\t\t\treturn -1;\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t\telse{\r\n\t\t\t\t// \t\t\t\treturn 1;\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// );\r\n\r\n\t\t\tcase 'recommended' :\r\n\t\t\t\tparameter = 'recommended';\r\n\t\t\t\tsortedResults = customSort(results, parameter);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// results.sort(function(a,b){\r\n\t\t\t\t// \t\tif(typeof a.recommended !== 'undefined' && typeof b.recommended !== 'undefined') return 0;\r\n\t\t\t\t// \t\tif(typeof a.recommended !== 'undefined' && typeof b.recommended === 'undefined') return -1;\r\n\t\t\t\t// \t\tif(typeof a.recommended === 'undefined' && typeof b.recommended !== 'undefined') return 1;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// );\r\n\t\t}\r\n\r\n\t\treturn sortedResults;\r\n\t}\r\n\r\n\t/**\r\n\t * Bubble promotion in results to the top\r\n\t */\r\n\tbubblePromotion() {\r\n\t\tlet temp;\r\n\r\n\t\tfor (let i = 0; i < this.results.length - 1; i++) {\r\n\r\n\t\t\tif(typeof this.results[i].promoted !== 'undefined') {\r\n\r\n\t\t\t\t for (var x = i; x > 0; x--) {\r\n\t\t\t\t\ttemp = this.results[x-1];\r\n\t\t\t\t\tthis.results[x-1] = this.results[x];\r\n\t\t\t\t\tthis.results[x] = temp;\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class NavTabsAnchor {\r\n\tconstructor() {\r\n\t\t// let $anchorTabs = $('.anchor-tabs')\r\n\t\tlet $anchor = $('.anchor-link');\r\n\r\n\t\tlet _listWrapper = '<div class=\"anchor-tabs\"><ul>';\r\n\r\n\t\tif($anchor.length){\r\n\t\t\t$anchor.map((i, ele) => {\r\n\t\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t\tlet label = $this.data('label'),\r\n\t\t\t\t\thref = $this.attr('id');\r\n\r\n\t\t\t\tif(typeof href !== \"undefined\"){\r\n\t\t\t\t\tlet _append = `<li><a href=\"#${href}\">${label}</a></li>`;\r\n\t\t\t\t\t_listWrapper += _append;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_listWrapper += '</ul></div>';\r\n\r\n\t\t\t$('.top-banner').append(_listWrapper);\r\n\r\n\t\t\tlet $anchorTabs = $('.anchor-tabs');\r\n\r\n\t\t\t$('a', $anchorTabs).on('click', function(e){\r\n\t\t\t\t// let navOffset = $('.site-header').height();\r\n\r\n\t\t\t\t// if($('.site-header').hasClass('fix')){\r\n\t\t\t\t// \tnavOffset = 138;\r\n\t\t\t\t// }\r\n\t\t\t\t// else {\r\n\t\t\t\t// \tnavOffset = 210;\r\n\t\t\t\t// }\r\n\r\n\t            e.preventDefault();\r\n\r\n\t            let $target = $($(this).attr('href'));\r\n\r\n\t            $('html, body').stop(true, true).animate({\r\n\t                scrollTop: $target.offset().top + $(window).scrollTop() - 100\r\n\t            }, 500);\r\n\t        });\r\n\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport 'jquery-match-height';\r\n\r\nexport default class ProductItem {\r\n\tconstructor() {\r\n\t\tlet $productItem = $('.product-item--wrap');\r\n\t\tlet itemImg = $('.product-item__img', $productItem),\r\n\t\t\titemTitle = $('h3', $productItem),\r\n\t\t\titemDesc = $('p', $productItem);\r\n\r\n\t\tif ($productItem.length) {\r\n\t\t\t$productItem.matchHeight();\r\n\t\t\titemImg.matchHeight();\r\n\t\t\titemTitle.matchHeight();\r\n\t\t\titemDesc.matchHeight();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport 'jquery-match-height';\r\n\r\nexport default class QuestionItem {\r\n\tconstructor() {\r\n\t\tthis.name = 'question-item';\r\n\t\tconsole.log('%s module', this.name.toLowerCase());\r\n\r\n\t\tlet $questionTitle = $('.question-item label span');\r\n\r\n\t\t$questionTitle.matchHeight();\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class SubscribeForm {\r\n\tconstructor() {\r\n\t\tlet $subscribeSection = $('.subscribe-form'),\r\n\t\t\t$formGroup = $('.form-group', $subscribeSection);\r\n\r\n\t\t$formGroup.map((i,ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\t\t\tlet $label = $('label', $this),\r\n\t\t\t\t$input = $('input', $this);\r\n\r\n\t\t\tlet placeholderText = $label.text();\r\n\r\n\t\t\t$input.attr('placeholder', placeholderText)\r\n\t\t});\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class AccordionWrapper {\r\n\tconstructor() {\r\n\t\t// let $accordionWrapper = $('.accordions'),\r\n\t\tlet $accordion = $('.accordion');\r\n\r\n\t\t$accordion.map((i, ele) => {\r\n\t\t\tlet $this = $(ele),\r\n\t\t\t\t$button = $('.accordion-controller', $this);\r\n\r\n\t\t\t$button.on('click', () => {\r\n\t\t\t\t!$this.hasClass('open') ? this.open($this) : this.close($this);\r\n\t\t\t\t\r\n\t\t\t\tif ($this.hasClass('tab-carousel__accordion')){\r\n\t\t\t\t\t$('.tabbed-carousel__items', $this).slick('setPosition');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t});\r\n\t}\r\n\r\n\topen($accordion) {\r\n\t\tlet $content = $('.accordion__content', $accordion);\r\n\r\n\t\t$accordion.addClass('open');\r\n\t\t$content.show();\r\n\t}\r\n\r\n\tclose($accordion) {\r\n\t\tlet $content = $('.accordion__content', $accordion);\r\n\r\n\t\t$accordion.removeClass('open');\r\n\t\t$content.hide();\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class Agenda {\r\n    constructor() {\r\n        this.name = 'agenda';\r\n        // console.log('%s module', this.name);\r\n\r\n        let $agendas = $('.event-agenda'),\r\n            _this = this;\r\n\r\n        $agendas.each(function(){\r\n            _this.init($(this));\r\n        });\r\n    }\r\n\r\n    init($obj) {\r\n        let $agenda = $obj,\r\n            $agendaTables = $('.event-agenda__day-table', $agenda),\r\n            $dayToggles = $('.day-toggle a', $agenda);\r\n\r\n        //Toggle agenda time table for the day\r\n        $dayToggles.on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            let $this = $(this),\r\n                idx = $this.index(),\r\n                $agendaTable = $agendaTables.eq(idx),\r\n                $twinButtons =  $this.attr('class');\r\n\r\n            $dayToggles.removeClass('active');\r\n\r\n            $agendaTables.slideUp();\r\n            $agendaTable.stop().slideDown();\r\n\r\n            $('.' + $twinButtons).addClass('active');\r\n\r\n            $('html, body').stop().animate({'scrollTop': $agenda.offset().top});\r\n        });\r\n\r\n\r\n        //Setup Synopsis toggle\r\n        $('.synopsis', $agendaTables).each(function(){\r\n\r\n            let $this = $(this),\r\n                $toggle = $this.parent().find('.js-synopsis-toggle');\r\n\r\n            $this.hide();\r\n\r\n            $toggle.on('click', function(e){\r\n                e.preventDefault();\r\n\r\n                if($this.css('display') !== 'block') {\r\n                    $this.slideDown();\r\n                    $toggle.addClass('visible');\r\n                } else {\r\n                    $this.slideUp();\r\n                    $toggle.removeClass('visible');\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n        // //Setup tabble accordion\r\n        // $('.event-agenda__day-table table thead').on('click', function(e){\r\n        //     e.preventDefault();\r\n\r\n        //     let $this = $(this),\r\n        //         $accordion = $this.next();\r\n\r\n        //     $accordion.not(':animated').slideToggle();\r\n        // });\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class AlipayForm {\r\n\tconstructor() {\r\n\t\tlet $form = $('.alipay-form form'),\r\n\t\t\t$addInvoiceButton = $('button.addNewInvoice'),\r\n\t\t\t$newInvoiceFieldContainer = $('#newInvoice');\r\n\r\n\t\tlet $submitButton = $('button.submitForm', $form);\r\n\t\tlet $resetButton = $('button.reset', $form);\r\n\r\n\t\tlet invoiceFieldNumber = 2;\r\n\t\tlet allFieldsFilled = false;\r\n\r\n\t\tlet totalOrder = 5;\r\n\t\tlet selectedRadio = new Array(totalOrder);\r\n\t\tfor (let i = 0; i < totalOrder; i++)\r\n\t\t{\r\n\t\t  selectedRadio[i] = null;\r\n\t\t};\r\n\r\n\t\tselectedRadio[1] = document.getElementById(\"raproduct1_1\");\r\n\r\n\t\t// add new invoice\r\n\t\t$addInvoiceButton.on('click', function(e){\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\taddNewInvoice();\r\n\r\n\t\t\t// if(invoiceFieldNumber <=5){\r\n\t\t\t// \tlet __invoiceFieldHTML = `<div><input class=\"has-outline\" id=\"product${invoiceFieldNumber}\" style=\"width:400px;\" name=\"product${invoiceFieldNumber}\" value='' hint=\"富士施乐订单合同号、发票号\" allownull=\"false\" size=\"36\"><br>\r\n\t\t\t// \t\t\t<input class=\"has-outline\" id=\"raproduct${invoiceFieldNumber}_2\" type=\"radio\" name=\"raproduct${invoiceFieldNumber}\" checked=\"\"><label for=\"raproduct${invoiceFieldNumber}_2\">发票号</label>\r\n\t\t\t// \t\t\t<input class=\"has-outline\" id=\"raproduct${invoiceFieldNumber}_1\" type=\"radio\" name=\"raproduct${invoiceFieldNumber}\"><label for=\"raproduct${invoiceFieldNumber}_1\">订单\\\\合同号</label></div>`;\r\n\t\t\t// \t$newInvoiceFieldContainer.append(__invoiceFieldHTML);\r\n\t\t\t// \tinvoiceFieldNumber++;\r\n\r\n\t\t\t// \tlet countInvoice = document.getElementById(\"hidCountInvoice\").value;\r\n\t\t\t// \tlet newCountInvoice = parseInt(countInvoice) + 1;\r\n\t\t\t// \tdocument.getElementById(\"hidCountInvoice\").value = newCountInvoice;\r\n\t\t\t// }\r\n\t\t\t// else {\r\n\t\t\t// \talert('最多只能有5个订单\\合同号、发票号');\r\n\t\t\t// }\r\n\t\t});\r\n\r\n\t\t$resetButton.on('click', function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\t$(\"input, textarea\").val(\"\");\r\n\t\t\twindow.location.reload();\r\n\t\t});\r\n\r\n\t\t$form.on('submit', function(e){\r\n\t\t\t// e.preventDefault();\r\n\t\t\treturn checkForm(this);\r\n\t\t\t// let price = $('#price').val(),\r\n\t\t\t//  product = $('#product1').val(),\r\n\t\t\t//  customerName = $('#customerName').val(),\r\n\t\t\t//  phone = $('#txtPhone').val(),\r\n\t\t\t//  company = $('#customercompany').val();\r\n\r\n\t\t\t// if(!price || !product || !customerName || !phone || !company){\r\n\t\t\t//  alert('请填写应付总价。');\r\n\r\n\t\t\t//  if(!price){\r\n\t\t\t//      $('#price').focus();\r\n\t\t\t//      scrollToField($('#price'));\r\n\t\t\t//  }\r\n\t\t\t//  else if (!product) {\r\n\t\t\t//      $('#product1').focus();\r\n\t\t\t//      scrollToField($('#product1'));\r\n\t\t\t//  }\r\n\t\t\t//  else if (!customerName) {\r\n\t\t\t//      $('#customerName').focus();\r\n\t\t\t//      scrollToField($('#customerName'));\r\n\t\t\t//  }\r\n\t\t\t//  else if (!phone) {\r\n\t\t\t//      $('#txtPhone').focus();\r\n\t\t\t//      scrollToField($('#txtPhone'));\r\n\t\t\t//  }\r\n\t\t\t//  else {\r\n\t\t\t//      $('#customercompany').focus();\r\n\t\t\t//      scrollToField($('#customercompany'));\r\n\t\t\t//  }\r\n\r\n\t\t\t//  return false;\r\n\t\t\t// }\r\n\t\t});\r\n\r\n\t\tfunction addNewInvoice()\r\n\t\t{\r\n\t\t\tlet countInvoice = document.getElementById(\"hidCountInvoice\").value;\r\n\t\t\tif( countInvoice >= totalOrder ) {\r\n\t\t\t\t// max order count\r\n\t\t\t\talert(\"最多只能有\"+totalOrder+\"个订单\\合同号、发票号\");\r\n\t\t\t} else {\r\n\t\t\t\tlet newCountInvoice = parseInt(countInvoice) + 1;\r\n\t\t\t\tdocument.getElementById(\"hidCountInvoice\").value = newCountInvoice;\r\n\r\n\t\t\t\tlet newInput = document.createElement(\"input\");\r\n\t\t\t\tnewInput.type=\"text\";\r\n\t\t\t\tnewInput.name= \"product\" + newCountInvoice;\r\n\t\t\t\tnewInput.id=\"product\" + newCountInvoice;\r\n\t\t\t\tnewInput.value = \"\";\r\n\t\t\t\tnewInput.size = \"36\";\r\n\r\n\t\t\t\tlet prodSpan = document.getElementById(\"newInvoice\");\r\n\r\n\t\t\t\tlet br = document.createElement(\"p\");\r\n\t\t\t\tbr.style.marginBottom=\"10px\";\r\n\t\t\t\tprodSpan.appendChild(br);\r\n\t\t\t\tprodSpan.appendChild(newInput);\r\n\r\n\t\t\t\tlet span0 = document.createElement(\"span\");\r\n\t\t\t\tspan0.innerHTML = \"&nbsp;\";\r\n\t\t\t\tprodSpan.appendChild(span0);\r\n\r\n\t\t\t\tlet ra2 = document.createElement(\"input\");\r\n\t\t\t\tra2.type = \"radio\";\r\n\t\t\t\tra2.name = \"raproduct\" + newCountInvoice;\r\n\t\t\t\tra2.id = \"raproduct\" + newCountInvoice + \"_2\";\r\n\t\t\t\tra2.checked = \"checked\";\r\n\t\t\t\tra2.checked = true;\r\n\t\t\t\tselectedRadio[newCountInvoice] = ra2;\r\n\t\t\t\tra2.onclick = function() {\r\n\t\t\t\t\t  this.checked = true;\r\n\t\t\t\t\t  if (selectedRadio[newCountInvoice] != this) {\r\n\t\t\t\t\t\tselectedRadio[newCountInvoice].checked = false;\r\n\t\t\t\t\t\tselectedRadio[newCountInvoice] = this;\r\n\t\t\t\t\t  }\r\n\t\t\t\t};\r\n\t\t\t\tprodSpan.appendChild(ra2);\r\n\t\t\t\tlet span2 = document.createElement(\"span\");\r\n\t\t\t\tspan2.innerHTML = \"发票号\";\r\n\t\t\t\tprodSpan.appendChild(span2);\r\n\r\n\t\t\t\tlet ra = document.createElement(\"input\");\r\n\t\t\t\tra.type = \"radio\";\r\n\t\t\t\tra.name = \"raproduct\" + newCountInvoice;\r\n\t\t\t\tra.id = \"raproduct\" + newCountInvoice + \"_1\";\r\n\r\n\t\t\t\tra.onclick = function() {\r\n\t\t\t\t\t  this.checked = true;\r\n\t\t\t\t\t  if (selectedRadio[newCountInvoice] != this) {\r\n\t\t\t\t\t\tselectedRadio[newCountInvoice].checked = false;\r\n\t\t\t\t\t\tselectedRadio[newCountInvoice] = this;\r\n\t\t\t\t\t  }\r\n\t\t\t\t};\r\n\t\t\t\tprodSpan.appendChild(ra);\r\n\t\t\t\tlet span1 = document.createElement(\"span\");\r\n\t\t\t\tspan1.innerHTML = \"订单\\\\合同号\";\r\n\t\t\t\tprodSpan.appendChild(span1);\r\n\r\n\t\t\t\tdocument.getElementById(\"raproduct\" + newCountInvoice + \"_2\").checked = \"checked\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction checkForm(objform){\r\n\t\t\t// validate comapany\r\n\t\t\tlet comp = document.getElementsByName(\"CompanyName\");\r\n\r\n\r\n\t\t\t// validate price\r\n\t\t\tif (document.getElementById(\"price\").value == \"\")\r\n\t\t\t{\r\n\t\t\t\talert(\"请填写应付总价。\");\r\n\t\t\t\tdocument.getElementById(\"price\").focus();\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\t// validate that price is numerical\r\n\t\t\t\tlet price = document.getElementById(\"price\").value,\r\n\t\t\t\t\t// reg=/^[0-9]+.?[0-9]*$/;\r\n\t\t\t\t\t// reg = /^\\d+(\\.\\d{0,2})?$/;\r\n\t\t\t\t\treg = /^(?:\\d+\\.\\d{1,2}|\\d+)$/;\r\n\r\n\t\t\t\tif( !reg.test(price) ) {\r\n\t\t\t\t\talert(\"您填写的应付总价格式不正确。\\n金额格式例如: 52.2或3\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Validate products\r\n\t\t\tif (document.getElementById(\"product1\").value == \"\")\r\n\t\t\t{\r\n\t\t\t\talert(\"请填写第一个富士施乐订单\\\\合同号、发票号。\");\r\n\t\t\t\tdocument.getElementById(\"product1\").focus();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\tlet count = document.getElementById(\"hidCountInvoice\").value;\r\n\t\t\tfor (let i = 1; i <= count; i++) {\r\n\t\t\t\tlet invpo = document.getElementById(\"product\" + i);\r\n\t\t\t\tlet invpoVal = String(invpo.value);\r\n\t\t\t\tif (invpoVal != \"\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif (document.getElementById(\"raproduct\" + i +\"_1\").checked) {\r\n\t\t\t\t\t\tif (!isPoNo(invpoVal)) {\r\n\t\t\t\t\t\t\talert(\"订单\\\\合同号必须是3位字母加上10位数字！\");\r\n\t\t\t\t\t\t\tinvpo.focus();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (!isInvoiceNo(invpoVal)) {\r\n\t\t\t\t\t\t\talert(\"发票号必须是8位数字！\");\r\n\t\t\t\t\t\t\tinvpo.focus();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Validate name\r\n\t\t\tif (document.getElementById(\"customerName\").value == \"\")\r\n\t\t\t{\r\n\t\t\t\talert(\"请填写客户姓名。\");\r\n\t\t\t\tdocument.getElementById(\"customerName\").focus();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Validate phone number\r\n\t\t\tif (document.getElementById(\"txtPhone\").value == \"\")\r\n\t\t\t{\r\n\t\t\t\talert(\"请填写客户联系电话。\");\r\n\t\t\t\tdocument.getElementById(\"txtPhone\").focus();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Validate phone number format\r\n\t\t\tlet phone = document.getElementById(\"txtPhone\").value;\r\n\t\t\tif (!isPhoneNo(phone)) {\r\n\t\t\t\talert(\"您填写的客户联系电话格式不正确。\\n必须全是数字！\");\r\n\t\t\t\tdocument.getElementById(\"txtPhone\").focus();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Validate customer company\r\n\t\t\tif (document.getElementById(\"customercompany\").value == \"\")\r\n\t\t\t{\r\n\t\t\t\talert(\"请填写客户公司名称。\");\r\n\t\t\t\tdocument.getElementById(\"customercompany\").focus();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!SummaryProduct())\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction SummaryProduct() {\r\n\t\t\tlet productAll = new Array();\r\n\t\t\tlet count = document.getElementById(\"hidCountInvoice\").value;\r\n\t\t\tfor (let i = 1; i <= count; i++) {\r\n\t\t\t\tlet invpo = document.getElementById(\"product\" + i);\r\n\t\t\t\tlet invpoVal = String(invpo.value);\r\n\t\t\t\tif (invpoVal != \"\") {\r\n\t\t\t\t\tif (document.getElementById(\"raproduct\" + i + \"_1\").checked) {\r\n\t\t\t\t\t\tproductAll.push( \"PONo-\" + invpoVal.toUpperCase() );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tproductAll.push( \"InvoiceNo-\" + invpoVal );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tproductAll = productAll.join(\"|\");\r\n\r\n\t\t\tlet customerName = document.getElementById(\"customerName\").value;\r\n\t\t\tlet customerTel = document.getElementById(\"txtPhone\").value;\r\n\t\t\tlet customerCompany = document.getElementById(\"customercompany\").value;\r\n\t\t\tproductAll = \"客户姓名-\" + customerName +\"|电话-\" + customerTel +\"|公司-\" +customerCompany + \"|\" + productAll;\r\n\t\t\t//productAll = \"客户信息-\" + customerName +\"-\" + customerTel +\"-\" +custmerCompany + \"|\" + productAll;\r\n\r\n\t\t\tif (productAll.length > 128) {\r\n\t\t\t\talert(\"一次输入的发票号码太多，请清除几条记录。\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tdocument.getElementById(\"hidproduct\").value = productAll;\r\n\t\t\tdocument.getElementById(\"hidbody\").value = \"\";\r\n\t\t\t//document.getElementById(\"hidbody\").value =\"客户姓名: \"&customerName&\"; 客户联系电话: \"&customerTel&\"; 客户公司名称: \"&custmerCompany;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// function scrollToField($target){\r\n\t\t//  $('html, body').animate({\r\n\t\t//      scrollTop: $target.offset().top - 150\r\n\t\t//  }, 500);\r\n\t\t// }\r\n\r\n\t\t// Validate invoice number format function\r\n\t\tfunction isInvoiceNo(inv) {\r\n\t\t\tlet re = /^\\d{8}$/;\r\n\t\t\tif (!re.test(inv)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Validate invoice format function\r\n\t\tfunction isPoNo(inv) {\r\n\t\t\tlet re = /^[A-Za-z]{3}\\d{10}$/;\r\n\t\t\tif (!re.test(inv)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Validate phone number format function\r\n\t\tfunction isPhoneNo(inv) {\r\n\t\t\tlet re = /^[0-9]*$/;\r\n\t\t\tif (!re.test(inv)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport 'jquery-match-height';\r\nimport 'slick-carousel';\r\n\r\nexport default class Carousel {\r\n\tconstructor() {\r\n\t\t$('.carousel').map((i, ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t$('.carousel__items', $this).slick({\r\n\t\t\t\tslidesToShow: 3,\r\n\t\t\t\tdots: true,\r\n\t\t\t\tarrows: false,\r\n\t\t\t\tinfinite: false,\r\n\t\t\t\tswipe: false,\r\n\t\t\t\tappendDots: $('.carousel__dots', $this),\r\n\t\t\t\tresponsive: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 768,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\tswipe: true,\r\n\t\t\t\t\t\t\tinfinite: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('.two-col-carousel').map((i, ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t$('.two-col-carousel__items', $this).slick({\r\n\t\t\t\tslidesToShow: 2,\r\n\t\t\t\tdots: false,\r\n\t\t\t\tarrows: true,\r\n\t\t\t\tinfinite: true,\r\n\t\t\t\tappendDots: $('.two-col-carousel__dots', $this),\r\n\t\t\t\tprevArrow: '<button type=\"button\" class=\"slick-prev prev\"><span>Previous</span></button>',\r\n\t\t\t\tnextArrow: '<button type=\"button\" class=\"slick-next next\"><span>Next</span></button>',\r\n\t\t\t\tresponsive: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 768,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tdots: true,\r\n\t\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\tswipe: true,\r\n\t\t\t\t\t\t\tinfinite: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('.three-four-carousel').map((i, ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\t\t\t$('.three-four-carousel__items', $this).slick({\r\n\t\t\t\tslidesToShow: 1,\r\n\t\t\t\tdots: false,\r\n\t\t\t\tarrows: true,\r\n\t\t\t\tinfinite: true,\r\n\t\t\t\tappendDots: $('.three-four-carousel__dots', $this),\r\n\t\t\t\tprevArrow: '<button type=\"button\" class=\"slick-prev prev\"><span>Previous</span></button>',\r\n\t\t\t\tnextArrow: '<button type=\"button\" class=\"slick-next next\"><span>Next</span></button>',\r\n\t\t\t\tresponsive: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 768,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tdots: true,\r\n\t\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\tswipe: true,\r\n\t\t\t\t\t\t\tinfinite: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('.tabbed-carousel').map((i,ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t$('.tabbed-carousel__items', $this).slick({\r\n\t\t\t\tslidesToShow: 4,\r\n\t\t\t\tdots: false,\r\n\t\t\t\tarrows: true,\r\n\t\t\t\tinfinite: true,\r\n\t\t\t\tappendDots: $('.tabbed-carousel__dots', $this),\r\n\t\t\t\tprevArrow: '<button type=\"button\" class=\"slick-prev prev\"><span>Previous</span></button>',\r\n\t\t\t\tnextArrow: '<button type=\"button\" class=\"slick-next next\"><span>Next</span></button>',\r\n\t\t\t\tresponsive: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 768,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tdots: true,\r\n\t\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\tswipe: true,\r\n\t\t\t\t\t\t\tinfinite: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport 'slick-carousel';\r\nimport fancybox from 'fancybox';\r\n\r\nexport default class FeaturedSpeakers {\r\n\tconstructor() {\r\n\t\t$('.event-featured-speakers__speaker').matchHeight();\r\n\r\n\t\t$('.bio-popup').map((i, ele) => {\r\n\t\t    let $this = $(ele),\r\n\t\t        $parent = $this.parents('.event-featured-speakers__speaker');\r\n\r\n\t\t    let _bioHTML = $('.event-speakers__bio', $parent).html();\r\n\r\n\t\t    _bioHTML = '<div class=\"event-speakers__bio\">' + _bioHTML + '</div>';\r\n\r\n\t\t    $this.on('click', function(e){\r\n\t\t        e.preventDefault();\r\n\t\t        $.fancybox.open(_bioHTML);\r\n\t\t    });\r\n\r\n\t\t});\r\n\t}\r\n}\r\n","'use strict';\r\nimport $ from 'jquery';\r\n\r\nexport default class Form {\r\n\tconstructor() {\r\n\r\n\t\tlet $eventCheckList = $('.events-form-checklist');\r\n\r\n\t\t$('.checkbox label', $eventCheckList).each(function() {\r\n\t\t\tlet textLabel = $(this).text();\r\n\t\t\tlet regexPatt = /\\[(.*?)\\]/g;\r\n\r\n\t\t\t//get time\r\n\t\t\tlet time = textLabel.match(regexPatt);\r\n\r\n\t\t\t//remove the time from text\r\n\t\t\tlet newText = textLabel.replace(regexPatt, '');\r\n\r\n\t\t\t//empty original string\r\n\t\t\tlet inputHTML = $(this).find('input').empty();\r\n\t\t\t$(this).html(inputHTML);\r\n\r\n\t\t\t//remove brackets\r\n\t\t\tlet newTime = time[0].replace('[', '');\r\n\t\t\tnewTime = newTime.replace(']', '');\r\n\r\n\t\t\t//generate new html\r\n\t\t\tlet newHTML = '<span class=\"event-form-time\">' + newTime + '</span><span class=\"event-form-detail\">' + newText + '</span>';\r\n\t\t\t$(this).find('input').after(newHTML);\r\n\t\t});\r\n\r\n\t\tlet $checkbox = $('.checkbox');\r\n\r\n\t\t$checkbox.map((i, ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\tlet $formGroup = $this.parent();\r\n\r\n\t\t\tif(!$('> label', $formGroup).length){\r\n\t\t\t\t$($formGroup).find('.checkbox').addClass('required');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class ImageLinksWrapper {\r\n\tconstructor() {\r\n\t\tlet $imageLinksWrapper = $('.image-links-wrapper'),\r\n\t\t\t$imageLinks = $('.link-image', $imageLinksWrapper);\r\n\r\n\t\tif($imageLinks.length >= 4){\r\n\t\t\t$imageLinks.map((i, ele) => {\r\n\t\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t\t$this.addClass('float');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport doT from 'dot';\r\nimport $ from 'jquery';\r\n\r\nexport default class InsightComponent {\r\n\tconstructor() {\r\n\t\tlet $insightFilter = $('.insights-filter'),\r\n\t\t\t$filter = $('.filter-item', $insightFilter).not('.filter-item--reset'),\r\n\t\t\t$reset = $('.filter-item--reset .btn-reset', $insightFilter),\r\n\t\t\t$insightContent = $('.insight__content .column-row'),\r\n\t\t\t$copy = $('.dropdown-copy', $insightFilter);\r\n\r\n        this.$insightFilter = $insightFilter;\r\n\t\tthis.$filter = $filter;\r\n\t\tthis.$reset = $reset;\r\n\t\tthis.data = {};\r\n\t\tthis.loadLimit    = 9;\r\n\t\tthis.currpage     = 1;\r\n\t\tthis.results = [];\r\n\t\tthis.endpoint = $('.insight__content').data('endpoint');\r\n\r\n        $filter.map((i, ele) => {\r\n\t\t\tlet $this = $(ele),\r\n\t\t\t\t$clone = $('.dropdown-copy', $this),\r\n\t\t\t\t$dropdown = $('ul', $this),\r\n\t\t\t\t$button = $('> button', $clone);\r\n\r\n\t\t\t$this.on('click', (e) => {\r\n\t\t\t\te.stopPropagation();\r\n\t        \t$('ul', $filter).not($dropdown).hide();\r\n\t\t\t\tthis.toggleDropdown($dropdown);\r\n\t\t\t});\r\n\r\n\t\t\tlet $option = $('li button', $dropdown);\r\n\r\n\t\t\t$option.map((j, ele) => {\r\n\t\t\t\tlet $this2 = $(ele);\r\n\r\n\t\t\t\t$this2.on('click', () => {\r\n\t\t\t\t\tlet value = $this2.val(),\r\n\t\t\t\t\t\ttext = $this2.text();\r\n\r\n\t\t\t\t\t$button.text(text);\r\n\t\t\t\t\t$button.val(value);\r\n\r\n\t\t\t\t\tlet fieldname = $('select', $this).attr('name');\r\n\r\n\t\t\t\t\tthis.data[fieldname] = value;\r\n\r\n\t\t\t\t\t$insightContent.empty();\r\n\t\t\t\t\tthis.getResult(this.endpoint, this.data, renderResults);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$(window).on('click', () => {\r\n\t        $('ul', $filter).hide();\r\n\t    });\r\n\r\n\r\n        let renderResults = (response) => {\r\n\t\t\tlet insightTemplate = $('#dotInsightTemplate').html(),\r\n\t\t\t\t_content = '';\r\n\r\n\t\t\tlet _this = this,\r\n\t\t\t    lowerLimit = (this.currpage - 1) * this.loadLimit,\r\n\t\t\t    upperLimit = this.currpage * this.loadLimit,\r\n\t\t\t    pageResults = [],\r\n\t\t\t    interval = 200;\r\n\r\n\t\t\tthis.results = response;\r\n\r\n\t\t\tfor(let i = lowerLimit; i < upperLimit; i++) {\r\n\t\t\t    if(typeof _this.results[i] !== 'undefined'){\r\n\t\t\t        pageResults.push(_this.results[i]);\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\n\t\t\t$insightContent.append(doT.template(insightTemplate)(pageResults));\r\n\r\n\t\t\t$('.card-tiles').matchHeight();\r\n\r\n\t\t\t/**\r\n\t\t\t * Fade In\r\n\t\t\t */\r\n\t\t\t$('.result', this.resultsCont).each(function(){\r\n\t\t\t    let $this = $(this);\r\n\r\n\t\t\t    if($this.hasClass('visible')) return;\r\n\r\n\t\t\t    setTimeout(function(){\r\n\t\t\t        $this.addClass('visible');\r\n\r\n\t\t\t    }, interval);\r\n\r\n\t\t\t    interval = interval + 100;\r\n\t\t\t});\r\n\r\n\t\t\tif(this.currpage === 1){\r\n\t\t\t\tthis.currpage++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$('.show-more').on('click', (e) => {\r\n\t\t    e.preventDefault();\r\n\r\n\t\t    renderResults(this.results);\r\n\t\t    this.toggleLoadMore();\r\n\t\t});\r\n\r\n\r\n\r\n\t\t$reset.on('click', () => {\r\n\t\t\tthis.data = {};\r\n\t\t\tthis.resetFilters();\r\n\t\t\t$insightContent.empty();\r\n\t\t\tthis.getResult(this.endpoint, this.data, renderResults);\r\n\t\t});\r\n\r\n\t\t// render on load\r\n\t\tthis.getResult(this.endpoint, this.data, renderResults);\r\n\t}\r\n\r\n\ttoggleLoadMore() {\r\n\t    let _this = this;\r\n\r\n\t    if(_this.currpage * _this.loadLimit < _this.results.length) {\r\n\t        _this.currpage++;\r\n\r\n\t        $('.show-more').show();\r\n\t    } else {\r\n\t        $('.show-more').hide();\r\n\t    }\r\n\t}\r\n\r\n\ttoggleDropdown($object){\r\n\t\t$object.toggle();\r\n\t}\r\n\r\n\tresetFilters() {\r\n\t\t$('select').map((i, ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t$this.val(null).change();\r\n\t\t});\r\n\r\n\t\tthis.$filter.map((j,ele) => {\r\n\t\t\tlet defaultText = $('li button', $(ele)).first().text(),\r\n\t\t\t\tdefaultValue = $('li button', $(ele)).first().val();\r\n\r\n\t\t\t$('.dropdown-copy > button', $(ele)).text(defaultText);\r\n\t\t\t$('.dropdown-copy > button', $(ele)).val(defaultValue);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Ajax call to endpoint\r\n\t */\r\n\tgetResult(url, data, cb) {\r\n\t\tthis.currpage = 1;\r\n\t    $.ajax({\r\n\t        url,\r\n\t        data,\r\n\t        dataType: 'json',\r\n\t        cache: false\r\n\t    }).done(cb);\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n// import listingCategories from '../../molecules/listing-categories/listing-categories';\r\nimport sorter from '../../molecules/listing-sorter/listing-sorter';\r\nimport listingResults from '../../organisms/listing-results/listing-results';\r\n\r\nexport default class ListingFilters {\r\n    constructor(type, isDebug) {\r\n        this.name = 'listing-filters';\r\n        this.$listingSideFilters = $('.listing-side-filters');\r\n        this.$filterGroups       = $('.filter-group' , this.$listingSideFilters);\r\n        this.resultViewer        = new listingResults();\r\n\r\n        if(type === \"products\" && $('.product-listing').length) {\r\n            this.dataEndpoint = $('.listing-content').data('endpoint');\r\n            this.$categoryField = $('#categoryField');\r\n            this.sorter = new sorter();\r\n            this.setupFilters();\r\n            this.listProducts();\r\n        }\r\n        else if(type === \"careers\" && $('.career-listing').length) {\r\n            this.dataEndpoint = $('.listing-content').data('endpoint');\r\n            // this.dataEndpoint = (isDebug) ? '/assets/fuji-xerox/api/career-listing.json' : '/api/GetCareerListing';\r\n            this.setupFilters();\r\n            this.listJobs();\r\n        }\r\n    }\r\n\r\n    listJobs() {\r\n        let _this = this;\r\n\r\n        if(!_this.$filterGroups.length) return;\r\n\r\n        let $clearSelectionBtn = $('.clear-filters-selection-btn', _this.$listingSideFilters),\r\n            $filterForm = $('.submit-btn', _this.$listingSideFilters).parents('form');\r\n\r\n         // CLear Selections\r\n        $clearSelectionBtn.on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            $('input', _this.$listingSideFilters).prop('checked', false);\r\n\r\n            _this.fetchJobs($filterForm);\r\n        });\r\n\r\n        // Submit filter options\r\n        $filterForm.on('submit', function(e){\r\n            e.preventDefault();\r\n\r\n            var $form = $(this);\r\n\r\n            _this.fetchJobs($form);\r\n        });\r\n\r\n        $('input[type=checkbox]').on('change', () => {\r\n            $filterForm.trigger('submit');\r\n        });\r\n\r\n       _this.fetchJobs( $('.submit-btn', _this.$listingSideFilters).parents('form'), true);\r\n    }\r\n\r\n    fetchJobs($form) {\r\n        let _this = this,\r\n            formData = $form.serialize(),\r\n            results,\r\n            parseJobs = (data) => {\r\n                _this.resultViewer.clear();\r\n\r\n                results = data.results.slice().concat();\r\n\r\n                _this.resultViewer.render(results);\r\n            };\r\n\r\n        _this.getResult(_this.dataEndpoint, parseJobs, formData);\r\n    }\r\n\r\n    listProducts() {\r\n        let _this = this;\r\n\r\n        if(!_this.$filterGroups.length) return;\r\n\r\n        // _this.listingCategories = new listingCategories(_this);\r\n\r\n        let $clearSelectionBtn = $('.clear-filters-selection-btn', _this.$listingSideFilters),\r\n            $filterForm = $('.submit-btn', _this.$listingSideFilters).parents('form');\r\n\r\n        // CLear Selections\r\n        $clearSelectionBtn.on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            $('input', _this.$listingSideFilters).prop('checked', false);\r\n\r\n            _this.fetchProducts($filterForm);\r\n        });\r\n\r\n        // Submit filter options\r\n        $filterForm.on('submit', function(e){\r\n            e.preventDefault();\r\n\r\n            var $form = $(this);\r\n\r\n            _this.fetchProducts($form);\r\n        });\r\n\r\n        // trigger submit on checkbox click\r\n        $('input[type=checkbox]').on('change', () => {\r\n            $filterForm.trigger('submit');\r\n        });\r\n\r\n        // let $firstChild = $('li', '.categories-toggle').first().find('a');\r\n        _this.fetchProducts( $('.submit-btn', _this.$listingSideFilters).parents('form'), true);\r\n\r\n        // if($firstChild.hasClass('active')){\r\n        // }\r\n    }\r\n\r\n\r\n    /**\r\n     * setup Filters\r\n     */\r\n    setupFilters() {\r\n        let _this = this;\r\n\r\n        // Toggle filter groups\r\n        _this.$filterGroups.each(function(){\r\n            let $this = $(this),\r\n                $filterSubgroups = $('.filter-subgroup', $this),\r\n                $advancedFilters = $('.advanced-filters', $this),\r\n                $advancedFiltersToggle = $('.advanced-options-toggle', $this);\r\n\r\n            // Toggle advanced filters\r\n            if($advancedFilters.length) {\r\n                $advancedFiltersToggle.on('click', function(e){\r\n                    e.preventDefault();\r\n\r\n                    if($advancedFilters.css('display') === 'block') {\r\n                        $advancedFilters.slideUp();\r\n                        // $('.icon', $advancedFiltersToggle)\r\n                        //     .addClass('icon-plus')\r\n                        //     .removeClass('icon-minus');\r\n                    } else {\r\n                        $advancedFilters.slideDown();\r\n                        // $('.icon', $advancedFiltersToggle)\r\n                        //     .addClass('icon-minus')\r\n                        //     .removeClass('icon-plus');\r\n                    }\r\n                });\r\n            }\r\n\r\n            //For each filters\r\n            $filterSubgroups.each(function(){\r\n                var $subgroup = $(this),\r\n                    $fields = $('.filter-subgroup__fields', $subgroup),\r\n                    $toggle = $('h4', $subgroup);\r\n\r\n                if($subgroup.index() === 0) {\r\n                    $fields.parent().addClass('open');\r\n                    $fields.show();\r\n                    // $toggle.append($('<i class = \"icon icon-minus\"/>'));\r\n                } else {\r\n                    // $toggle.append($('<i class = \"icon icon-plus\"/>'));\r\n                }\r\n\r\n                $toggle.attr('tabindex', 0);\r\n\r\n                // Collapse/expand the fields\r\n                $toggle.on('click keypress', function(){\r\n                    var $this = $(this),\r\n                        $filters = $this.parent().parent();\r\n\r\n                    if($fields.css('display') === 'none') {\r\n                        $('.filter-subgroup__fields', $filters).parent().removeClass('open');\r\n                        $('.filter-subgroup__fields', $filters).stop().slideUp();\r\n                        // $('h4 .icon', $subgroup.parent())\r\n                        //     .removeClass('icon-minus')\r\n                        //     .addClass('icon-plus');\r\n\r\n                        $fields.parent().addClass('open');\r\n                        $fields.stop().slideDown();\r\n\r\n                        // $('.icon', $toggle)\r\n                        //     .removeClass('icon-plus')\r\n                        //     .addClass('icon-minus');\r\n                    } else {\r\n                        $fields.parent().removeClass('open');\r\n                        $fields.stop().slideUp();\r\n                        // $('.icon', $toggle)\r\n                        //     .removeClass('icon-minus')\r\n                        //     .addClass('icon-plus');\r\n                    }\r\n                });\r\n\r\n                // Check/uncheck all inputs in a group with scope 'all'\r\n                $('input[type=\"checkbox\"]', $fields).each(function(){\r\n                    var $cb = $(this);\r\n\r\n                    if($cb.data('scope') === 'all') {\r\n\r\n                        $cb.on('change', function(){\r\n                           if($cb[0].checked) {\r\n                                $('input[type=\"checkbox\"]', $fields).prop('checked', true);\r\n                            } else {\r\n                                $('input[type=\"checkbox\"]', $fields).prop('checked', false);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Switch filter menu\r\n     */\r\n    swapMenu(classname, categoryValue) {\r\n        let _this = this;\r\n\r\n        _this.$categoryField.val(categoryValue);\r\n        _this.$filterGroups.hide();\r\n\r\n        $(classname, _this.$listingSideFilters).show();\r\n\r\n        _this.fetchProducts( $('.submit-btn', _this.$listingSideFilters).parents('form'), true);\r\n    }\r\n\r\n    /**\r\n     * Fetch products\r\n     */\r\n    fetchProducts($form, categoryChange) {\r\n        categoryChange = categoryChange || false;\r\n\r\n        let _this = this,\r\n            formData = $form.serialize(),\r\n            results,\r\n            parseProducts = (data) => {\r\n                _this.resultViewer.clear();\r\n\r\n                results = data.results.slice().concat();\r\n\r\n                if (typeof window.recommendedProducts !== 'undefined') {\r\n                    // Get recommended products' id and update to existing result json\r\n                    var recommendedProductIds = [];\r\n\r\n                    recommendedProducts.forEach(function(product, index) {\r\n                        recommendedProductIds.push(product.id);\r\n                    });\r\n\r\n                    results.forEach(function(result, index){\r\n                        if ($.inArray(result.productid, recommendedProductIds) > -1) {\r\n                            result['recommended'] = true;\r\n                        };\r\n                    });\r\n                }\r\n\r\n                // _this.resultViewer.render(results, categoryChange);\r\n                _this.sorter.setResults(results);\r\n                _this.sorter.setView(_this.resultViewer);\r\n                $('.listing-content__sort-result select').trigger('change');\r\n            };\r\n        _this.getResult(_this.dataEndpoint, parseProducts, formData);\r\n    }\r\n\r\n\r\n    /**\r\n     * Ajax call to endpoint\r\n     */\r\n    getResult(endpoint, cb, data) {\r\n\r\n        $.ajax({\r\n            url: endpoint,\r\n            data: data,\r\n            dataType: 'json',\r\n            cache: false\r\n        }).done(cb);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport doT from 'dot';\r\nimport 'jquery-match-height';\r\n\r\nexport default class ListingResults {\r\n    constructor() {\r\n        this.name         = 'listing-results';\r\n        this.$status      = $('.listing-content__result-status');\r\n        this.$loader      = $('.loader-animation', this.$status);\r\n        this.loadLimit    = 10;\r\n        this.currpage     = 1;\r\n        this.resultUlEl   = $('.listing-content__results');\r\n        this.results = [];\r\n\r\n        let _this = this;\r\n\r\n        if($('#results-template').length) {\r\n            _this.resultTempFn = doT.template($('#results-template').html());\r\n        }\r\n\r\n        // Load more results\r\n        $('.js-load-more').on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            _this.parsePage(_this.currpage);\r\n            _this.toggleLoadMore();\r\n        });\r\n    }\r\n\r\n    render(results, categoryChange) {\r\n        let _this = this,\r\n            $status = _this.$status;\r\n\r\n        _this.results = results; //Set result set\r\n\r\n        if(results.length > 0) {\r\n            if (!categoryChange) {\r\n                $('.total-results', $status).text(results.length);\r\n                $('.success-msg', $status).slideDown();\r\n            } else {\r\n                $('.success-msg', $status).slideUp();\r\n            }\r\n            $('.error-msg', $status).slideUp();\r\n\r\n           _this.currpage = 1\r\n\r\n           _this.parsePage(_this.currpage);\r\n           _this.toggleLoadMore();\r\n        } else {\r\n            $('.error-msg', $status).slideDown();\r\n            $('.total-results', $status).text(0);\r\n            $('.success-msg', $status).slideUp();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle load more button visibility\r\n     */\r\n    toggleLoadMore() {\r\n        let _this = this;\r\n\r\n        if(_this.currpage * _this.loadLimit < _this.results.length) {\r\n            _this.currpage++;\r\n\r\n            $('.load-more').show();\r\n        } else {\r\n            $('.load-more').hide();\r\n        }\r\n    }\r\n\r\n    parsePage(page) {\r\n        let _this = this,\r\n            lowerLimit = (page - 1) * this.loadLimit,\r\n            upperLimit = page * this.loadLimit,\r\n            pageResults = {\"results\" : []},\r\n            interval = 200;\r\n\r\n        for(let i = lowerLimit; i < upperLimit; i++) {\r\n            if(typeof _this.results[i] !== 'undefined')\r\n                pageResults.results.push(_this.results[i]);\r\n        }\r\n\r\n        _this.resultUlEl\r\n            .append(_this.resultTempFn({ results: pageResults.results }));\r\n\r\n        $('.listing-content__results > li').matchHeight();\r\n\r\n        /**\r\n         * Fade In\r\n         */\r\n        $('li', _this.resultUlEl).each(function(){\r\n            let $this = $(this);\r\n\r\n            if($this.hasClass('visible')) return;\r\n\r\n            setTimeout(function(){\r\n                $this.addClass('visible');\r\n\r\n            }, interval);\r\n\r\n            interval = interval + 25;\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        this.resultUlEl.empty();\r\n        this.$loader.css({'display': ''});\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport doT from 'dot';\r\nimport jsonQuery from 'json-query';\r\nimport Cookies from 'js-cookie';\r\nimport $ from 'jquery';\r\n\r\nexport default class Mapper {\r\n    // constructor(type, isDebug) {\r\n    constructor(type) {\r\n        this.name = 'mapper';\r\n\r\n        if($('#results-template').length) {\r\n            this.resultTempFn = doT.template($('#results-template').html());\r\n        }\r\n\r\n        // if(type === 'solution') {\r\n        //     this.optionTempFn = doT.template(\"{{~it.data :value:index}}<option value= \\\"{{=value.id}}\\\">{{=value.name}}</option>{{~}}\");\r\n        //     this.mapSolution();\r\n\r\n        // } else if(type === 'story') {\r\n        if(type === 'story') {\r\n            this.$loadMoreCont = $('.js-load-more');\r\n            this.filters = {\r\n                \"country\"  : $('#countryFilter'),\r\n                \"solution\" : $('#solutionFilter'),\r\n                \"product\"  : $('#productFilter'),\r\n                \"industry\" : $('#industryFilter'),\r\n                \"year\"     : $('#yearFilter')\r\n            };\r\n            this.cookieName = \"storyFilter\";\r\n            // this.endpoint = (isDebug) ? '/assets/fuji-xerox/api/story-results.json' : '/api/GetStoryListing';\r\n            this.endpoint = $('.success-stories-mapper__results').data('endpoint');\r\n            this.pageSize = $('.success-stories-mapper__results').data('pagesize');\r\n            this.mapper = $('.success-stories-mapper');\r\n            this.resultsCont = $('.success-stories-mapper__results', this.mapper);\r\n            this.noResults = $('.listing-content__result-status .msg');\r\n\r\n            this.mapStory();\r\n\r\n            let $copy = $('.dropdown-copy', this.mapper);\r\n\r\n            $copy.map((i, ele) => {\r\n                let $this = $(ele),\r\n                    $select = $this.next(),\r\n                    $button = $this.find('button');\r\n\r\n                $select.on('click', (e) => {\r\n                    e.stopPropagation();\r\n\r\n                    if (!$this.hasClass('active')){\r\n                        $this.addClass('active');\r\n                    }\r\n                    else {\r\n                        $this.removeClass('active');\r\n                    }\r\n\r\n                    $('.dropdown-copy').not($this).removeClass('active');\r\n                });\r\n\r\n                $select.on('change', () => {\r\n                    let $option = $select.find(':selected');\r\n\r\n                    $select.prev().find('button').text($option.text());\r\n                });\r\n\r\n                $(window).on('click', () => {\r\n                    if ($this.hasClass('active')){\r\n                        $this.removeClass('active');\r\n                    }\r\n                });\r\n            })\r\n\r\n        } else if(type === 'event') {\r\n            this.$loadMoreCont = $('.js-load-more');\r\n            this.filters = {\r\n                \"country\"  : $('#countryFilter'),\r\n                \"industry\" : $('#industryFilter'),\r\n                \"year\"     : $('#yearFilter'),\r\n                \"month\"    : $('#monthFilter')\r\n            };\r\n            this.cookieName = \"eventFilter\";\r\n            // this.endpoint = (isDebug) ? '/assets/fuji-xerox/api/event-results.json' : '/api/GetEventsListing';\r\n            this.endpoint = $('.event-mapper__results').data('endpoint');\r\n            this.pageSize = $('.event-mapper__results').data('pagesize');\r\n            this.mapper = $('.event-mapper');\r\n            this.resultsCont = $('.event-mapper__results', this.mapper);\r\n            this.noResults = $('.result-status .msg');\r\n\r\n            this.mapStory();\r\n\r\n            let $copy = $('.dropdown-copy', this.mapper);\r\n\r\n            $copy.map((i, ele) => {\r\n                let $this = $(ele),\r\n                    $select = $this.next(),\r\n                    $button = $this.find('button');\r\n\r\n                $select.on('click', (e) => {\r\n                    e.stopPropagation();\r\n\r\n                    if (!$this.hasClass('active')){\r\n                        $this.addClass('active');\r\n                    }\r\n                    else {\r\n                        $this.removeClass('active');\r\n                    }\r\n\r\n                    $('.dropdown-copy').not($this).removeClass('active');\r\n                });\r\n\r\n                $select.on('change', () => {\r\n                    let $option = $select.find(':selected');\r\n\r\n                    $select.prev().find('button').text($option.text());\r\n                });\r\n\r\n                $(window).on('click', () => {\r\n                    if ($this.hasClass('active')){\r\n                        $this.removeClass('active');\r\n                    }\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    mapStory() {\r\n        let _this = this,\r\n            $mapper =this.mapper;\r\n\r\n        // _this.startIndex = 1;\r\n        _this.pageNo = 1;\r\n        _this.pageSize = this.pageSize;\r\n\r\n        if(!$mapper.length) return;\r\n\r\n        let resultEndpoint = _this.endpoint,\r\n            filters = _this.filters,\r\n            $mapperResults = _this.resultsCont;\r\n\r\n        _this.$clearFilterBtn = $('.btn-reset', $mapper);\r\n\r\n        // Reset Button\r\n        _this.$clearFilterBtn.on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            for(var key in filters) {\r\n                let $filter = filters[key];\r\n\r\n                $filter\r\n                    .val($('option:first-child', filters).val())\r\n                    .prev()\r\n                    .find('button')\r\n                    .text($('option:selected', $filter).text());\r\n            }\r\n\r\n            clearView();\r\n\r\n            _this.pageNo = 1;\r\n\r\n            _this.getResult(resultEndpoint, parseResults, getData(), _this.pageNo, _this.pageSize);\r\n        });\r\n\r\n        // Load more button\r\n        $('.js-load-more').on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            _this.pageNo++;\r\n\r\n            let data = getData(e);\r\n\r\n            _this.getResult(resultEndpoint, parseResults, getData(e), _this.pageNo, _this.pageSize);\r\n        });\r\n\r\n\r\n        // Setup filters\r\n        for(var key in filters) {\r\n            let $filter = filters[key];\r\n\r\n            $filter.on('change.filter', function(){\r\n                let value = $('option:selected', $filter).attr('value');\r\n\r\n                clearView();\r\n                _this.pageNo = 1;\r\n\r\n                if(value !== \"\" && typeof value !== \"undefined\") {\r\n                    Cookies.set( _this.cookieName, JSON.stringify(getData()), true);\r\n                }\r\n\r\n                _this.getResult(resultEndpoint, parseResults, getData(), _this.pageNo, _this.pageSize);\r\n\r\n            });\r\n        }\r\n\r\n        // Process results\r\n        let parseResults = (data) => {\r\n            let evalStr = _this.resultTempFn({ snippets: data.results }),\r\n                interval = 200;\r\n\r\n            $mapperResults.children('div:first-child').append($(evalStr));\r\n\r\n            if(data.results.length == 0){\r\n                _this.noResults.show();\r\n                this.$loadMoreCont.hide();\r\n            }\r\n            else {\r\n                _this.noResults.hide();\r\n                this.$loadMoreCont.show();\r\n            }\r\n\r\n            // _this.startIndex = data.endIndex + 1;\r\n            // _this.page = data.page;\r\n\r\n            // _this.toggleLoadMore(data.count, data.endIndex);\r\n            _this.toggleLoadMore(_this.pageNo, data.totalPage);\r\n\r\n            $('.card-tiles').matchHeight();\r\n\r\n            /**\r\n             * Fade In\r\n             */\r\n            $('.result', this.resultsCont).each(function(){\r\n                let $this = $(this);\r\n\r\n                if($this.hasClass('visible')) return;\r\n\r\n                setTimeout(function(){\r\n                    $this.addClass('visible');\r\n                    // $('.thumbnail', $this).swapImage({breakpoint: 768, reverse: true});\r\n\r\n                }, interval);\r\n\r\n                interval = interval + 50;\r\n            });\r\n        };\r\n\r\n        // Get Filter Data\r\n        let getData = (excludeIndex) => {\r\n            let data = {};\r\n\r\n            //Exclude for cookie\r\n            // if(excludeIndex) {\r\n            //     data.startIndex = _this.startIndex\r\n            //     data.page = _this.page;\r\n            // }\r\n\r\n            for(var key in filters) {\r\n                let $filter = filters[key];\r\n                data[key] = $('option:selected', $filter).attr('value')\r\n            }\r\n\r\n            return data;\r\n        };\r\n\r\n        // Clear list\r\n        let clearView = () => {\r\n            Cookies.remove(_this.cookieName);\r\n            $mapperResults.children('div:first-child').empty();\r\n            // _this.startIndex = 1;\r\n            _this.page = 1;\r\n        };\r\n\r\n        // Parse Cookies data\r\n        let parseCookies = (obj) => {\r\n            for(var key in obj) {\r\n                let $filter = filters[key],\r\n                    id = obj[key];\r\n\r\n                if(typeof id !== 'undefined') {\r\n\r\n                    $filter\r\n                        .val(id)\r\n                        .prev()\r\n                        .find('button')\r\n                        .text($('option:selected', $filter).text())\r\n                }\r\n            }\r\n        };\r\n\r\n        // Bootstrap function\r\n        {\r\n            let cookie = Cookies.get(_this.cookieName);\r\n\r\n            if(typeof cookie !== 'undefined') {\r\n                parseCookies(JSON.parse(cookie));\r\n            }\r\n\r\n            _this.getResult(resultEndpoint, parseResults, getData(), _this.pageNo, _this.pageSize);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle Loadmore\r\n     */\r\n    toggleLoadMore(pageCount, totalPage) {\r\n\r\n        if(pageCount > totalPage - 1){\r\n            this.$loadMoreCont.hide();\r\n        } else {\r\n            this.$loadMoreCont.show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ajax call to endpoint\r\n     */\r\n    getResult(endpoint, cb, data, page, pageSize) {\r\n        let postData = {\r\n            page,\r\n            pageSize\r\n        };\r\n\r\n        $.extend(postData, data);\r\n\r\n        $.ajax({\r\n            url: endpoint,\r\n            data: postData,\r\n            dataType: 'json',\r\n            cache: false\r\n        }).done(cb);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class Modal {\r\n    constructor() {\r\n        this.name = 'modal';\r\n        // console.log('%s module', this.name);\r\n\r\n        let $modals   = $('.modal'),\r\n            $html     = $('html'),\r\n            // $fixedEle = $('.side-menu, .quick-links'),\r\n            $win      = $(window),\r\n            resizeTimeout;\r\n\r\n        /*\r\n         * Find all modal markup\r\n         * and append to the end of the document if not already a direct child of 'body'\r\n         */\r\n        $('.modal').each(function(){\r\n            var $this = $(this);\r\n\r\n            if(!$this.parent().is('body')) {\r\n                $('body').append($this);\r\n            }\r\n        });\r\n\r\n\r\n        (function(){\r\n            if(!$modals.length) return;\r\n\r\n            $modals.each(function(){\r\n                var $modal = $(this),\r\n                    $closeBtn = $('.modal-close-button a', $modal);\r\n\r\n                $closeBtn.on('click', function(e){\r\n                    e.preventDefault();\r\n\r\n                    $modal.fadeOut(function(){\r\n                         // $html.removeClass('fancybox-margin fancybox-lock');\r\n                         // $fixedEle.removeClass('fancybox-margin');\r\n                         clearInterval(resizeTimeout);\r\n                    });\r\n                    // $('.site-header').css('position', 'fixed');\r\n                    $('body').css({'overflow': ''});\r\n                });\r\n            });\r\n\r\n            $win.on('resize.modalbox scroll.modalbox', function(){\r\n                var scrollTop      =  $win.scrollTop(),\r\n                    viewportHeight = $win.innerHeight();\r\n\r\n                $modals.css({ 'top': scrollTop, 'height': viewportHeight });\r\n\r\n            }).trigger('resize.modalbox');\r\n        }());\r\n\r\n        /**\r\n         * Modal Box Trigger\r\n         */\r\n        $('body').on('click', '.modalbox', function(e){\r\n            e.preventDefault();\r\n\r\n            var $link = $(this),\r\n                $target = $($link.attr('href')),\r\n                productid = $link.data('productid'),\r\n                iframeURL = $link.data('iframe');\r\n\r\n            // $html.addClass('fancybox-margin fancybox-lock');\r\n            // $.each($fixedEle, function() {\r\n            //     if ($(this).css('position') == 'fixed') {\r\n            //         $(this).addClass('fancybox-margin');\r\n            //     }\r\n            // });\r\n            // $('.site-header').css('position', 'relative');\r\n            $('body').css({'overflow': 'hidden'});\r\n            $win.trigger('resize.modalbox');\r\n            $target.fadeIn();\r\n\r\n            if(typeof productid !== 'undefined') {\r\n                $('#productId').val(productid);\r\n                $('#productField').val($('.product-name', $link.closest('.desc')).text());\r\n                $target.find('.modal-form').html('<iframe src=\"' + iframeURL + '\" />');\r\n                $('iframe').on('load', function() {\r\n                    clearInterval(resizeTimeout);\r\n                    var iframe = this,\r\n                    oriHeight = $(this.contentWindow.document.body).height();\r\n                    this.style.height = ($(this.contentWindow.document.body).height() + 37) + 'px';\r\n                    // console.log('here');\r\n\r\n                    resizeTimeout = setInterval(function() {\r\n                        if ($(iframe.contentWindow.document.body).height() != oriHeight) {\r\n                            iframe.style.height = ($(iframe.contentWindow.document.body).height() + 37) + 'px';\r\n                            clearInterval(resizeTimeout);\r\n                        }\r\n                    }, 200);\r\n                });\r\n\r\n            } else {\r\n                $('#productId').val('undefined');\r\n            }\r\n        });\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport enquire from 'enquire.js';\r\nimport doT from 'dot';\r\nimport 'jquery-match-height';\r\n\r\nexport default class NewsroomWrapper {\r\n\tconstructor() {\r\n\t\tthis.name = 'newsroom';\r\n\t\t// console.log('%s module', this.name);\r\n\r\n\t\tlet $newsroom = $('.newsroom'),\r\n\t\t    $newsListing = $('.newsroom-listing', $newsroom),\r\n\t\t    // corporateNewsURL = $newsListing.data('corporate'),\r\n\t\t    // standardNewsURL = $newsListing.data('standard');\r\n\t\t    corporateNewsURL = '/api/getNewsByCategory',\r\n\t\t    standardNewsURL = '/api/getNewsByCategory';\r\n\r\n\t\tenquire.register(\"screen and (max-width: 767px)\", {\r\n\t\t    match: function(){\r\n\t\t        $('.newsroom-featured').append( $('.panel-blog'));\r\n\t\t    },\r\n\r\n\t\t    unmatch: function(){\r\n\t\t        $('.newsroom-featured .column-row:nth-child(2)').prepend( $('.panel-blog'));\r\n\t\t    }\r\n\t\t});\r\n\r\n\r\n\t\t/**\r\n\t\t * On page load\r\n\t\t */\r\n\t    var $corporateNews    = $('.corporate-news', $newsListing),\r\n\t        $standardNews     = $('.standard-news', $newsListing),\r\n\t        $yearFilter       = $('.newsroom-listing__sort-result select', $newsListing),\r\n\t        corporateNewsPage = 1,\r\n\t        standardNewsPage  = 1,\r\n\t        corporateEnd      = false,\r\n\t        standardEnd       = false,\r\n\t        source            = $('#results-template').html(),\r\n\t        template          = doT.template(source);\r\n\r\n        $('.no-result').css({'display': 'none'});\r\n        loadNews('standard', standardNewsURL, $standardNews, standardNewsPage);\r\n        loadNews('corporate', corporateNewsURL, $corporateNews, corporateNewsPage);\r\n\r\n        $('.newsroom-featured__block .desc, .newsroom-featured__download-block .desc').matchHeight();\r\n        $('.newsroom-featured > .col-sm-7, .newsroom-featured > .col-sm-5').matchHeight();\r\n        $('.newsroom-featured__block .desc, .newsroom-featured__download-block .desc').matchHeight._afterUpdate = function() {\r\n            $('.newsroom-featured > .col-sm-7, .newsroom-featured > .col-sm-5').matchHeight();\r\n        };\r\n\r\n\t    /**\r\n\t     * load more standard news\r\n\t     */\r\n\t    $('.js-load-more', $standardNews).on('click', function(e) {\r\n\t        e.preventDefault();\r\n\r\n\t        loadNews('standard', standardNewsURL, $standardNews, standardNewsPage);\r\n\r\n\t        $(this).blur();\r\n\t    });\r\n\r\n\t    /**\r\n\t     * load more corporate news\r\n\t     */\r\n\t    $('.js-load-more', $corporateNews).on('click', function(e) {\r\n\t        e.preventDefault();\r\n\r\n\t        loadNews('corporate', corporateNewsURL, $corporateNews, corporateNewsPage);\r\n\r\n\t        $(this).blur();\r\n\t    });\r\n\r\n\r\n\t    /**\r\n\t     * Load all news sections\r\n\t     */\r\n\t    $('.js-load-all', $newsroom).on('click', function(e){\r\n\t        e.preventDefault();\r\n\r\n\t        loadNews('standard', standardNewsURL, $standardNews, standardNewsPage);\r\n\t        loadNews('corporate', corporateNewsURL, $corporateNews, corporateNewsPage);\r\n\r\n\t        $(this).blur();\r\n\t    });\r\n\r\n\t    let $sorter = $('.newsroom-listing__sort-result'),\r\n\t        $sortSelect = $('.newsroom-listing__sort-result select');\r\n\r\n\t    $sorter.map((i, ele) => {\r\n\t        let $this = $(ele),\r\n\t            $clone = $('.dropdown-copy', $this),\r\n\t            $dropdown = $('ul', $this),\r\n\t            $button = $('> button', $clone);\r\n\r\n\t        $button.on('click', (e) => {\r\n\t            e.stopPropagation();\r\n\t            $dropdown.toggle();\r\n\t        });\r\n\r\n\t        let $option = $('li button', $dropdown);\r\n\r\n\t        $option.map((j, ele) => {\r\n\t            let $this2 = $(ele);\r\n\r\n\t            $this2.on('click', () => {\r\n\t                let value = $this2.val(),\r\n\t                    text = $this2.text();\r\n\r\n\t                $button.text(text);\r\n\t                $button.val(value);\r\n\t                $('select', $this).val(value);\r\n\t                $sortSelect.trigger('change');\r\n\t            });\r\n\t        });\r\n\t    });\r\n\r\n\t    $(window).on('click', () => {\r\n\t        $('ul', $sorter).hide();\r\n\t    });\r\n\r\n\t    /**\r\n\t     * On year archive filter\r\n\t     */\r\n\t     $yearFilter.on('change', function(){\r\n\t        $('.news-results', $standardNews).empty();\r\n\t        $('.news-results', $corporateNews).empty();\r\n\r\n\t        corporateNewsPage = 1;\r\n\t        standardNewsPage  = 1;\r\n\r\n\t        loadNews('standard', standardNewsURL, $standardNews, standardNewsPage);\r\n\t        loadNews('corporate', corporateNewsURL, $corporateNews, corporateNewsPage);\r\n\t    });\r\n\r\n\t    function loadNews(type, url, $newsObj, pageNum) {\r\n\r\n\t        var $btn = $('.js-load-more', $newsObj);\r\n\r\n\t        $('.loader-animation', $newsObj).css({'display': 'inline-block'});\r\n\t        $.ajax({\r\n\t            url: url,\r\n\t            data: {'category': $newsObj.data('category'), 'page': pageNum, 'year': $yearFilter.val()},\r\n\t            dataType: 'json',\r\n\t            cache: false\r\n\t        }).done(function(data) {\r\n\t            var pageCount,\r\n\t                $noMoreResult = $('.no-result');\r\n\r\n\t            $('.loader-animation', $newsObj).css({'display': ''});\r\n\r\n\t            // Type of news request\r\n\t            if(type === 'standard') {\r\n\t                standardNewsPage++;\r\n\t                pageCount = standardNewsPage;\r\n\t            } else {\r\n\t                corporateNewsPage++;\r\n\t                pageCount = corporateNewsPage;\r\n\t            }\r\n\r\n\t            // Append results if end page is not reached\r\n\t            if(pageCount - 2 < parseInt(data.totalPage)) {\r\n\t                $('.news-results', $newsObj).append(template({news: data.news}));\r\n\t            } else {\r\n\t                $('.no-result', $newsObj).css({'display': 'inline-block'});\r\n\r\n\t                setTimeout(function(){\r\n\t                    $noMoreResult.slideUp(function(){\r\n\t                        $('.no-result', $newsObj).css({'display': 'none'});\r\n\t                    });\r\n\t                }, 2000);\r\n\t            }\r\n\r\n\t            if(pageCount > parseInt(data.totalPage)){\r\n\t                $btn.hide();\r\n\t            } else {\r\n\t                $btn.show();\r\n\t            }\r\n\t        });\r\n\t    }\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport 'jquery-match-height';\r\nimport enquire from 'enquire.js';\r\nimport 'slick-carousel';\r\n\r\nimport CompareItem from '../../molecules/compare-item/compare-item';\r\n\r\nexport default class ProductFinderCompare {\r\n\tconstructor(config) {\r\n\t\tconst { breakpoints } = config;\r\n\r\n\t\tnew CompareItem(breakpoints);\r\n\r\n\t\tlet $compareWrap = $('.product-finder-compare'),\r\n\t\t\trow1 = $('.specrow-1', $compareWrap),\r\n\t\t\trow2 = $('.specrow-2', $compareWrap),\r\n\t\t\trow3 = $('.specrow-3', $compareWrap),\r\n\t\t\trow4 = $('.specrow-4', $compareWrap),\r\n\t\t\trow5 = $('.specrow-5', $compareWrap),\r\n\t\t\trow6 = $('.specrow-6', $compareWrap),\r\n\t\t\trow7 = $('.specrow-7', $compareWrap),\r\n\t\t\trow8 = $('.specrow-8', $compareWrap),\r\n\t\t\trow9 = $('.specrow-9', $compareWrap),\r\n\t\t\trow10 = $('.specrow-10', $compareWrap),\r\n\t\t\trow11 = $('.specrow-11', $compareWrap),\r\n\t\t\trow12 = $('.specrow-12', $compareWrap),\r\n\t\t\trow13 = $('.specrow-13', $compareWrap),\r\n\t\t\trow14 = $('.specrow-14', $compareWrap),\r\n\t\t\trow15 = $('.specrow-15', $compareWrap),\r\n\t\t\trow16 = $('.specrow-16', $compareWrap),\r\n\t\t\trowlast = $('.specrow-last', $compareWrap),\r\n\t\t\trow1Title = $('h3', row1),\r\n\t\t\trow1Desc = $('p', row1);\r\n\r\n\t\tif ($compareWrap.length) {\r\n\t\t\trow1.matchHeight();\r\n\t\t\trow2.matchHeight();\r\n\t\t\trow3.matchHeight();\r\n\t\t\trow4.matchHeight();\r\n\t\t\trow5.matchHeight();\r\n\t\t\trow6.matchHeight();\r\n\t\t\trow7.matchHeight();\r\n\t\t\trow8.matchHeight();\r\n\t\t\trow9.matchHeight();\r\n\t\t\trow10.matchHeight();\r\n\t\t\trow11.matchHeight();\r\n\t\t\trow12.matchHeight();\r\n\t\t\trow13.matchHeight();\r\n\t\t\trow14.matchHeight();\r\n\t\t\trow15.matchHeight();\r\n\t\t\trow16.matchHeight();\r\n\t\t\trowlast.matchHeight();\r\n\t\t\trow1Title.matchHeight();\r\n\t\t\trow1Desc.matchHeight();\r\n\t\t}\r\n\r\n\t\t$('.compare__footer--back button').on('click', function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\twindow.location.href = $(this).attr('href');\r\n\t\t});\r\n\r\n\t\t$('.compare__footer--startover button').on('click', function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tlocalStorage.removeItem(\"id\");\r\n\t\t\tlocalStorage.removeItem(\"state\");\r\n\t\t\tlocalStorage.removeItem(\"date\");\r\n\t\t\twindow.location.href = $(this).attr('href');\r\n\t\t});\r\n\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport ProductItem from '../../molecules/product-item/product-item';\r\nimport doT from 'dot';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport default class ProductFinder {\r\n\tconstructor() {\r\n\r\n\t\tthis.productItem = new ProductItem();\r\n\r\n\t\tlet $productFinder =  $('.product-finder'),\r\n\t\t\t$restartBtn = $('.btn-startover', $productFinder);\r\n\r\n\t\tlet printers = JSON.parse($('#printerData').html());\r\n\t\tlet qstn1Data = [],\r\n\t\t\tqstn2Data = [],\r\n\t\t\tqstn3Data = [],\r\n\t\t\tqstn4Data = [],\r\n\t\t\tqstn5Data = [],\r\n\t\t\tsteps = 1;\r\n\r\n\t\tlet q1SelectedValue = \"\";\r\n\t\tlet selectedComparedProduct = [];\r\n\t\tlet selectedFeatures = [];\r\n\t\tlet finalData = [];\r\n\r\n\t\tlet state = {};\r\n\t\tlet idLStorage = localStorage.getItem('id') ? localStorage.getItem('id').split(',') : [];\r\n\t\tlet stateLStorage = localStorage.getItem('state') ? JSON.parse(JSON.parse(localStorage.getItem('state'))) : {};\r\n\t\tlet dateStorage = localStorage.getItem('date');\r\n\r\n\t\t// let cookiesStorage = Cookies.get('id')?Cookies.get('id').split(',') : [];\r\n\t\t// let cookiesState = Cookies.get('state')?JSON.parse(Cookies.get('state')) : {};\r\n\r\n\t\t// let cookiesState = Cookies.get('state');\r\n\t\t// console.log('state', cookiesState);\r\n\t\t// console.log('json', JSON.parse(Cookies.get('state')));\r\n\r\n\t\t// if(Cookies.get('state')) {\r\n\t\t// \tif(cookiesState.steps === 6){\r\n\t\t// \t\tqstn1Data = cookiesState.qstn1Data,\r\n\t\t// \t\tqstn2Data = cookiesState.qstn2Data,\r\n\t\t// \t\tqstn3Data = cookiesState.qstn3Data,\r\n\t\t// \t\tqstn4Data = cookiesState.qstn4Data,\r\n\t\t// \t\tqstn5Data = cookiesState.qstn5Data,\r\n\t\t// \t\tsteps = cookiesState.steps;\r\n\t\t// \t\tq1SelectedValue = cookiesState.q1SelectedValue;\r\n\t\t// \t\t//selectedComparedProduct = cookiesState.selectedComparedProduct;\r\n\t\t// \t\tselectedFeatures = cookiesState.selectedFeatures;\r\n\t\t// \t\tfinalData = cookiesState.finalData;\r\n\r\n\r\n\t\t// \t\tlet printerListingMarkup = doT.template($('#listingPrinterContainer').html())(finalData);\r\n\t\t// \t\t$('.product-item__list').html(printerListingMarkup);\r\n\r\n\t\t// \t\t$('.match-height').matchHeight();\r\n\r\n\t\t// \t\tshowPrinterListing(finalData);\r\n\t\t// \t\tproductChecked();\r\n\t\t// \t\t$('.product-finder__footer--back').show();\r\n\t\t// \t\t$('.product-finder__footer--right').show();\r\n\t\t// \t\t//$('.product-finder__footer--right .btn-findprinter').siblings('.btn-compareprinter').show();\r\n\t\t// \t\t$('.product-finder__footer--right .btn-findprinter').removeClass('is-shown');\r\n\r\n\t\t// \t\tlet resultTxt = $('.finder-results__desc span.txt').data('results');\r\n\t\t// \t\t\t$('.finder-results__desc span.num').html(`${finalData.length}`);\r\n\t\t// \t\t\t$('.finder-results__desc span.txt').html(`${resultTxt}`);\r\n\r\n\t\t// \t\tif ( finalData.length <= 0) {\r\n\t\t// \t\t\t$('.product-finder__empty').show();\r\n\t\t// \t\t\t$('.product-finder-results').removeClass('is-active');\r\n\t\t// \t\t\t$('.product-finder-results').hide();\r\n\t\t// \t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printer fit your needs`);\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\t$('.product-finder__empty').hide();\r\n\t\t// \t\t\t// $('.finder-results__desc span').html(finalData.length);\r\n\t\t// \t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printers fit your needs`);\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tlet currentDate = new Date();\r\n\t\tlet todayDate = Date.now();\r\n\r\n\t\tif(localStorage.getItem('date')) {\r\n\r\n\t\t\tlet localStorageDate = localStorage.getItem('date');\r\n\r\n\t\t\t// compare todayDate and localStorageDate\r\n\t\t\t\r\n\t\t\tlet diffTime = Math.abs(todayDate - localStorageDate);\r\n\t\t\tlet diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); \r\n\r\n\r\n\r\n\t\t\tconsole.log('diffDays', diffDays);\r\n\r\n\t\t\t// if more than 2 days\r\n\t\t\tif (diffDays >= 2) {\r\n\t\t\t\t// remove localStorage values for other things\r\n\t\t\t\t// remove localStorage value for date\r\n\t\t\t\tlocalStorage.removeItem(\"id\");\r\n\t\t\t\tlocalStorage.removeItem(\"state\");\r\n\t\t\t\tlocalStorage.removeItem(\"date\");\r\n\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tconsole.log('todayDate', todayDate);\r\n\r\n\t\t\tlocalStorage.setItem('date', todayDate);\r\n\r\n\t\t}\r\n\r\n\t\tif(localStorage.getItem('state') !== null){\r\n\t\t\tif(stateLStorage.steps === 6){\r\n\t\t\t\tqstn1Data = stateLStorage.qstn1Data,\r\n\t\t\t\tqstn2Data = stateLStorage.qstn2Data,\r\n\t\t\t\tqstn3Data = stateLStorage.qstn3Data,\r\n\t\t\t\tqstn4Data = stateLStorage.qstn4Data,\r\n\t\t\t\tqstn5Data = stateLStorage.qstn5Data,\r\n\t\t\t\tsteps = stateLStorage.steps;\r\n\t\t\t\tq1SelectedValue = stateLStorage.q1SelectedValue;\r\n\t\t\t\t//selectedComparedProduct = stateLStorage.selectedComparedProduct;\r\n\t\t\t\tselectedFeatures = stateLStorage.selectedFeatures;\r\n\t\t\t\tfinalData = stateLStorage.finalData;\r\n\r\n\r\n\t\t\t\tlet printerListingMarkup = doT.template($('#listingPrinterContainer').html())(finalData);\r\n\t\t\t\t$('.product-item__list').html(printerListingMarkup);\r\n\r\n\t\t\t\t$('.match-height').matchHeight();\r\n\r\n\t\t\t\tshowPrinterListing(finalData);\r\n\t\t\t\tproductChecked();\r\n\t\t\t\t$('.product-finder__footer--back').show();\r\n\t\t\t\t$('.product-finder__footer--right').show();\r\n\t\t\t\t//$('.product-finder__footer--right .btn-findprinter').siblings('.btn-compareprinter').show();\r\n\t\t\t\t$('.product-finder__footer--right .btn-findprinter').removeClass('is-shown');\r\n\r\n\t\t\t\tlet resultTxt = $('.finder-results__desc span.txt').data('results');\r\n\t\t\t\t\t$('.finder-results__desc span.num').html(`${finalData.length}`);\r\n\t\t\t\t\t$('.finder-results__desc span.txt').html(`${resultTxt}`);\r\n\r\n\t\t\t\tif ( finalData.length <= 0) {\r\n\t\t\t\t\t$('.product-finder__empty').show();\r\n\t\t\t\t\t$('.product-finder-results').removeClass('is-active');\r\n\t\t\t\t\t$('.product-finder-results').hide();\r\n\t\t\t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printer fit your needs`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$('.product-finder__empty').hide();\r\n\t\t\t\t\t// $('.finder-results__desc span').html(finalData.length);\r\n\t\t\t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printers fit your needs`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// restart finder\r\n\t\t$restartBtn.on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tlocalStorage.removeItem(\"id\");\r\n\t\t\tlocalStorage.removeItem(\"state\");\r\n\t\t\tlocalStorage.removeItem(\"date\");\r\n\t\t\t// Cookies.remove(\"id\");\r\n\t\t\t// Cookies.remove(\"state\");\r\n\t\t\twindow.location.reload();\r\n\t\t\t$(\"html,body\").animate({scrollTop: 0}, 100);\r\n\r\n\t\t\t//all radio to prop check false\r\n\r\n\t\t});\r\n\r\n\r\n\t\t//printer results number\r\n\t\t// $('.product-finder__footer--results span').text(printers.length);\r\n\t\tfooterResult(printers);\r\n\t\t//hide back button on 1st question\r\n\r\n\t\t$(`.question1 input[name=\"business-size\"]`).on('change', e => {\r\n\t\t\tlet value = $(`.question1 input[name=\"business-size\"]:checked`).val();\r\n\r\n\t\t\t//if (value == 'small') show question list\r\n\r\n\t\t\tqstn1Data = [];\r\n\t\t\tq1SelectedValue = value;\r\n\r\n\t\t\tfor ( let i = 0; i < printers.length; i++) {\r\n\t\t\t\tif ( printers[i][`q${steps}`] == value ) {\r\n\t\t\t\t\tqstn1Data.push(printers[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// noPrinter(qstn1Data);\r\n\t\t\t// $('.product-finder__footer--results span').text(qstn1Data.length);\r\n\t\t\tfooterResult(qstn1Data);\r\n\t\t\tif(qstn1Data.length === 0) return false;\r\n\r\n\t\t\tsteps++;\r\n\t\t\tprocessQuestion(steps);\r\n\r\n\r\n\r\n\t\t\t//check if array is 0 , write function\r\n\t\t});\r\n\r\n\t\t$(`.question2 input[name=\"functionality\"]`).on('change', e => {\r\n\t\t\tlet value = $(`.question2 input[name=\"functionality\"]:checked`).val();\r\n\r\n\t\t\tqstn2Data = [];\r\n\r\n\t\t\tfor ( let i = 0; i < qstn1Data.length; i++) {\r\n\t\t\t\tif ( qstn1Data[i][`q${steps}`] == value ) {\r\n\t\t\t\t\tqstn2Data.push(qstn1Data[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// noPrinter(qstn2Data);\r\n\t\t\tfooterResult(qstn2Data);\r\n\t\t\t// $('.product-finder__footer--results span').text(qstn2Data.length);\r\n\t\t\tif(qstn2Data.length === 0) return false;\r\n\r\n\t\t\tsteps++;\r\n\t\t\tprocessQuestion(steps);\r\n\r\n\r\n\t\t});\r\n\r\n\t\t$(`.question3 input[name=\"colour\"]`).on('change', e => {\r\n\t\t\tlet value = $(`.question3 input[name=\"colour\"]:checked`).val();\r\n\r\n\t\t\tqstn3Data = [];\r\n\r\n\t\t\tfor ( let i = 0; i < qstn2Data.length; i++) {\r\n\t\t\t\tif ( qstn2Data[i][`q${steps}`] == value ) {\r\n\t\t\t\t\tqstn3Data.push(qstn2Data[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// noPrinter(qstn3Data);\r\n\t\t\t// $('.product-finder__footer--results span').text(qstn3Data.length);\r\n\t\t\tfooterResult(qstn3Data);\r\n\t\t\tif(qstn3Data.length === 0) return false;\r\n\r\n\t\t\tsteps++;\r\n\t\t\tprocessQuestion(steps);\r\n\r\n\r\n\t\t\t// check page 1 value to display correct question in page 4\r\n\t\t\tcheckQ1ToDisplayQ4();\r\n\r\n\t\t\thideQ4NoResultOptions();\r\n\r\n\r\n\t\t});\r\n\r\n\t\t$(`.question4 input[name=\"quantity\"]`).on('change', e => {\r\n\t\t\tlet value = $(`.question4 input[name=\"quantity\"]:checked`).val();\r\n\r\n\t\t\tqstn4Data = [];\r\n\r\n\t\t\t// for ( let i = 0; i < qstn3Data.length; i++) {\r\n\t\t\t// \tif ( qstn3Data[i][`q${steps}`] == value ) {\r\n\t\t\t// \t\tqstn4Data.push(qstn3Data[i]);\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\r\n\t\t\t// for ( let i = 0; i < qstn3Data.length; i++ ) {\r\n\t\t\t// \tif ($(`.question4 input[value=\"${qstn3Data[i].q4}\"]:checked`)) {\r\n\r\n\t\t\t// \t\tqstn4Data.push(qstn3Data[i]);\r\n\r\n\t\t\t// \t\tconsole.log($(`.question4 input[value=\"${qstn3Data[i].q4}\"]:checked`));\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\r\n\r\n\t\t\tqstn3Data.forEach((obj)=>{\r\n\t\t\t\tlet found = obj.q4.some(item => item === value);\r\n\t\t\t\t// console.log(value);\r\n\r\n\t\t\t\t// console.log('found', found, obj.q4);\r\n\t\t\t\tif(found) qstn4Data.push(obj);\r\n\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// noPrinter(qstn4Data);\r\n\t\t\t// $('.product-finder__footer--results span').text(qstn4Data.length);\r\n\t\t\tfooterResult(qstn4Data);\r\n\t\t\tif(qstn4Data.length === 0) return false;\r\n\r\n\t\t\tsteps++;\r\n\t\t\tprocessQuestion(steps);\r\n\r\n\t\t\t// if(qstn4Data.length > 0){\r\n\t\t\t// \t$('.product-finder__footer .btn-findprinter').addClass('is-shown');\r\n\t\t\t// } else {\r\n\t\t\t// \t$('.product-finder__footer .btn-findprinter').removeClass('is-shown');\r\n\t\t\t// }\r\n\r\n\t\t});\r\n\r\n\t\t$(`.question5 input[name=\"feature\"]`).on('click', e => {\r\n\t\t\tlet $btnSubmit = $('.product-finder__footer .btn-findprinter');\r\n\t\t\tlet checkedBox = $(`.question5 input[name=\"feature\"]`);\r\n\r\n\t\t\tlet $this = $(e.target);\r\n\t\t\tlet checked = $this.val();\r\n\t\t\tif ($this.is(':checked')) {\r\n\t\t\t\tselectedFeatures.push(checked);\r\n\t\t\t\t$('.product-finder__footer .btn-findprinter').addClass('is-shown');\r\n\t\t\t} else {\r\n\t\t\t\tselectedFeatures.splice($.inArray(checked, selectedFeatures), 1);\r\n\t\t\t\t$('.product-finder__footer .btn-findprinter').removeClass('is-shown');\r\n\t\t\t}\r\n\r\n\t\t\tlet filteredData = [];\r\n\r\n\t\t\tqstn4Data.forEach((obj)=>{\r\n\t\t\t\tlet found = obj.q5.some(item => selectedFeatures.indexOf(item));\r\n\t\t\t\t// console.log('found', found, obj.q5);\r\n\t\t\t\tif(found) filteredData.push(obj);\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tif(selectedFeatures.length === 0){\r\n\t\t\t\tfilteredData = qstn4Data;\r\n\t\t\t}\r\n\r\n\t\t\t// footerResult(filteredData);\r\n\r\n\t\t\tfinalData = filteredData;\r\n\t\t\tfooterResult(filteredData);\r\n\t\t\t// $('.product-finder__footer--results span').text(filteredData.length);\r\n\r\n\t\t\tif(qstn4Data.length > 0) {\r\n\t\t\t\tsteps = 5;\r\n\t\t\t\thidePrinterListing();\r\n\t\t\t\t$btnSubmit.addClass('is-shown');\r\n\t\t\t} else {\r\n\t\t\t\t$btnSubmit.removeClass('is-shown');\r\n\t\t\t}\r\n\r\n\t\t\t// console.log('featuredData', filteredData);\r\n\t\t});\r\n\r\n\r\n\r\n\t\t// show printers listing\r\n\t\t$('.product-finder__footer--right .btn-findprinter').on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\r\n\r\n\r\n\t\t\tlet printerListingMarkup = doT.template($('#listingPrinterContainer').html())(finalData);\r\n\t\t\t$('.product-item__list').html(printerListingMarkup);\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\t$('.match-height').matchHeight();\r\n\t\t\t}, 600);\r\n\r\n\r\n\t\t\tshowPrinterListing(finalData);\r\n\r\n\t\t\tproductChecked();\r\n\t\t\tselectedComparedProduct = [];\r\n\t\t\tsteps = 6;\r\n\r\n\t\t\tif ( finalData.length == 0) {\r\n\t\t\t\t$('.product-finder__empty').show();\r\n\t\t\t\t$('.product-finder-results').removeClass('is-active');\r\n\t\t\t\t$('.product-finder-results').hide();\r\n\t\t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printer fit your needs`);\r\n\t\t\t} else if ( finalData.length >= 2) {\r\n\t\t\t\t$('.product-finder__empty').hide();\r\n\t\t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printers fit your needs`);\r\n\t\t\t\t// $('.finder-results__desc .num').html(finalData.length);\r\n\t\t\t\tlet resultTxt = $('.finder-results__desc span.txt').data('results');\r\n\t\t\t\t$('.finder-results__desc span.num').html(`${finalData.length}`);\r\n\t\t\t\t$('.finder-results__desc span.txt').html(`${resultTxt}`);\r\n\t\t\t} else if (finalData.length == 1) {\r\n\t\t\t\tlet idSelected = finalData[0].id;\r\n\r\n\t\t\t\t// let idStr = finalData.id;\r\n\t\t\t\t// window.location.href = `/product-finder-compare?id=${idSelected}`;\r\n\t\t\t\twindow.location.href = `${$('.product-finder-section').data('url')}?id=${idSelected}`;\r\n\t\t\t}\r\n\r\n\t\t\t$(this).removeClass('is-shown');\r\n\r\n\t\t});\r\n\r\n\t\t\r\n\r\n\t\t$('.btn-compareprinter').on('click', function() {\r\n\t\t\tstate = {\r\n\t\t\t\tqstn1Data,\r\n\t\t\t\tqstn2Data,\r\n\t\t\t\tqstn3Data,\r\n\t\t\t\tqstn4Data,\r\n\t\t\t\tqstn5Data,\r\n\t\t\t\tsteps: steps,\r\n\t\t\t\tq1SelectedValue,\r\n\t\t\t\tselectedComparedProduct,\r\n\t\t\t\tselectedFeatures,\r\n\t\t\t\tfinalData\r\n\t\t\t}\r\n\r\n\t\t\tlet stateStr = JSON.stringify(state);\r\n\t\t\tlet idStr = selectedComparedProduct.toString();\r\n\t\t\tlocalStorage.setItem('id', JSON.stringify(idStr))\r\n\t\t\tlocalStorage.setItem('state', JSON.stringify(stateStr));\r\n\r\n\t\t\t// Cookies.set('id', JSON.stringify(idStr), { expires: 7 });\r\n\t\t\t// Cookies.set('state', JSON.stringify(stateStr), { expires: 7 });\r\n\t\t\twindow.location.href = `${$('.product-finder-section').data('url')}?id=${idStr}`;\r\n\t\t\t// window.location.href = \"/product-finder-compare?id=\" + idStr;\r\n\r\n\t\t});\r\n\r\n\t\t// back to prev question\r\n\t\t$('.product-finder__footer--back button').on('click', function(e){\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t$('.product-finder__empty').hide();\r\n\r\n\t\t\tsteps--;\r\n\t\t\t$(`[data-stepno=${steps}]`).addClass('is-active');\r\n\r\n\t\t\t$('.product-finder__question input[type=\"radio\"]:checked').prop('checked', false);\r\n\t\t\t$('.product-finder__question input[type=\"checkbox\"]:checked').prop('checked', false);\r\n\r\n\r\n\t\t\t$(`.product-finder__question.is-active`).fadeOut(function(){\r\n\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t\t$('.steps-list .is-active').removeClass('is-active');\r\n\r\n\t\t\t\t$(`.steps-list [data-stepno=${steps}]`).addClass('is-active');\r\n\t\t\t\t$(`.product-finder__question[data-stepno=${steps}]`).addClass('is-active');\r\n\t\t\t\t$(`.product-finder__question[data-stepno=${steps}]`).delay(400).fadeIn();\r\n\t\t\t});\r\n\r\n\t\t\t$('.product-finder-results.is-active').fadeOut(function(){\r\n\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t});\r\n\r\n\t\t\thidePrinterListing();\r\n\r\n\t\t\t// reset selected features from page 5\r\n\t\t\tselectedFeatures = [];\r\n\r\n\t\t\tswitch(steps){\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tfooterResult(printers);\r\n\t\t\t\t\t$('.product-finder__footer--back').hide();\r\n\t\t\t\t\t$('.product-finder__footer--right').hide();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tfooterResult(qstn1Data);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tfooterResult(qstn2Data);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tfooterResult(qstn3Data);\r\n\t\t\t\t\tcheckQ1ToDisplayQ4();\r\n\t\t\t\t\t$('.product-finder__footer .btn-findprinter').removeClass('is-shown');\r\n\t\t\t\t\tcheckQ1ToDisplayQ4();\r\n\t\t\t\t\thideQ4NoResultOptions();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tfooterResult(qstn4Data);\r\n\t\t\t\t\t$('.product-finder__footer--right .btn-compareprinter').hide();\r\n\t\t\t\t\tif($(`.question5 input[name=\"feature\"]:checked`).length > 0){\r\n\t\t\t\t\t\t$('.product-finder__footer--right .btn-findprinter').addClass('is-shown');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tfooterResult(qstn5Data);\r\n\r\n\t\t\t\t\tif ( qstn5Data.length <= 0) {\r\n\t\t\t\t\t\t$('.product-finder__empty').show();\r\n\t\t\t\t\t\t$('.product-finder-results').removeClass('is-active');\r\n\t\t\t\t\t\t$('.product-finder-results').hide();\r\n\t\t\t\t\t\t// $('.finder-results__desc h2').html(`<span>${finalData.length}</span> printer fit your needs`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction processQuestion(steps) {\r\n\t\t\t// set active step and questions\r\n\t\t\t$(`[data-stepno=${steps}]`).addClass('is-active');\r\n\r\n\t\t\t$(`.product-finder__question.is-active`).fadeOut(function(){\r\n\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t\t$('.steps-list .is-active').removeClass('is-active');\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t$(`.product-finder__question[data-stepno=${steps}]`).fadeIn();\r\n\t\t\t\t}, 100);\r\n\r\n\t\t\t\t$(`.steps-list [data-stepno=${steps}]`).addClass('is-active');\r\n\t\t\t\t$(`.product-finder__question[data-stepno=${steps}]`).addClass('is-active');\r\n\t\t\t\t$(`.product-finder__question[data-stepno=${steps}]`).delay(400).fadeIn();\r\n\t\t\t});\r\n\r\n\t\t\t$('.product-finder__footer--back').show();\r\n\t\t\t$('.product-finder__footer--right').show();\r\n\t\t}\r\n\r\n\t\tfunction showPrinterListing(results) {\r\n\t\t\tlet $productItem = $('.product-item'),\r\n\t\t\t\titemTitle = $('h3', $productItem),\r\n\t\t\t\titemDesc = $('p', $productItem);\r\n\r\n\t\t\tif ($productItem.length) {\r\n\t\t\t\titemTitle.matchHeight();\r\n\t\t\t\titemDesc.matchHeight();\r\n\t\t\t}\r\n\r\n\t\t\tif ( `${results.length}` <= 0) {\r\n\t\t\t\t$(`.product-finder__question.is-active`).fadeOut(function(){\r\n\t\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t\t});\r\n\t\t\t\t$('.product-finder__footer--results').hide();\r\n\t\t\t\t$('.product-finder__steps').hide();\r\n\t\t\t} else {\r\n\t\t\t\t$('.product-finder__steps').hide();\r\n\t\t\t\t$('.product-finder__footer--results').hide();\r\n\t\t\t\t$('.product-finder-results').delay(400).fadeIn();\r\n\t\t\t\t$('.product-finder-results').addClass('is-active');\r\n\r\n\t\t\t\t$(`.product-finder__question.is-active`).fadeOut(function(){\r\n\t\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction footerResult(results) {\r\n\t\t\t// if ( results.length <= 1) {\r\n\t\t\t// \t// $('.finder-results__desc span').text(qstn5Data.length);\r\n\t\t\t// \t$('.product-finder__footer--results p').html(`<span>${results.length}</span> printer fit your needs`);\r\n\t\t\t// } else {\r\n\t\t\t// \t$('.product-finder__footer--results p').html(`<span>${results.length}</span> printers fit your needs`);\r\n\r\n\t\t\t// }\r\n\t\t\tlet resultTxt = $('.product-finder__footer--results span.txt').data('results');\r\n\t\t\t\t$('.product-finder__footer--results span.num').html(` ${results.length}`);\r\n\t\t\t\t$('.product-finder__footer--results span.txt').html(` ${resultTxt}`);\r\n\t\t}\r\n\r\n\t\tfunction productChecked() {\r\n\t\t\tlet $productList = $('.product-finder-results'),\r\n\t\t\t\t$checkbox = $('.product-item input', $productList),\r\n\t\t\t\t$compareBtn = $('.btn-compareprinter');\r\n\r\n\t\t\t$checkbox.map((i, ele) => {\r\n\t\t\t\tlet $this = $(ele),\r\n\t\t\t\t\t$checked = $('.product-item input[type=checkbox]:checked');\r\n\r\n\t\t\t\tif (!$checked.length) {\r\n\t\t\t\t\t$compareBtn.attr(\"disabled\", true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$compareBtn.attr(\"disabled\", false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$this.on('change', function() {\r\n\t\t\t\t\tlet $checkbox = $('.product-item input[type=checkbox]'),\r\n\t\t\t\t\t\t$checked = $('.product-item input[type=checkbox]:checked');\r\n\r\n\t\t\t\t\t$compareBtn.attr(\"disabled\", false);\r\n\r\n\t\t\t\t\tif ($checked.length >= 4) {\r\n\t\t\t\t\t\t$('.alert-compare').removeClass('hidden');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$('.alert-compare').addClass('hidden');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ($checked.length >= 5) {\r\n\t\t\t\t\t\t$this.prop('checked', false);\r\n\t\t\t\t\t\tlet alertTxt = $('.product-finder-results .alert-compare').data('text');\r\n\t\t\t\t\t\talert(`${alertTxt}`);\r\n\t\t\t\t\t\t$('.finder-results__desc .alert-compare').removeClass('hidden');\r\n\t\t\t\t\t\t$('.finder-results__desc .alert-compare').html('alertTxt');\r\n\t\t\t\t\t\t// $('.finder-results__desc').css('color', '#d92231');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// push selected product into array\r\n\t\t\t\t\tlet checked = $this.val();\r\n\t\t\t\t\tif ($this.is(':checked')) {\r\n\t\t\t\t\t\tselectedComparedProduct.push(checked);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tselectedComparedProduct.splice($.inArray(checked, selectedComparedProduct), 1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(selectedComparedProduct.length > 0){\r\n\t\t\t\t\t\t$('.product-finder__footer--right .btn-compareprinter').show();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$('.product-finder__footer--right .btn-compareprinter').hide();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// console.log('selectedComparedProduct', selectedComparedProduct);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction hidePrinterListing() {\r\n\t\t\t$('.product-finder__footer--results').show();\r\n\t\t\t$('.product-finder__steps').show();\r\n\t\t\t$('.product-finder-results').fadeOut(function() {\r\n\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction noPrinter(qstnData) {\r\n\t\t\tif ( `${qstnData}`.length <= 0 ){\r\n\t\t\t\t$('.product-finder__empty').show();\r\n\t\t\t\t$('.product-finder__footer--right .btn-compareprinter').hide();\r\n\t\t\t\t$('.product-finder__footer--right .btn-findprinter').removeClass('is-shown');\r\n\t\t\t\t$('.product-finder__footer--results').hide();\r\n\t\t\t\t$('.product-finder__footer--back').hide();\r\n\r\n\t\t\t\t$(`.product-finder__question.is-active`).fadeOut(function(){\r\n\t\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t\t\t$('.steps-list .is-active').removeClass('is-active');\r\n\r\n\t\t\t\t\t$('.product-finder__steps').hide();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//$('.product-finder__footer--back').hide();\r\n\r\n\t\t\t\tsteps;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// function getCookie(cname) {\r\n\t\t// \tvar name = cname + \"=\";\r\n\t\t// \tvar ca = document.cookie.split(';');\r\n\r\n\t\t// \tfor(var i = 0; i < ca.length; i++) {\r\n\t\t// \t\tvar c = ca[i];\r\n\r\n\t\t// \t\twhile (c.charAt(0) == ' ') {\r\n\t\t// \t\t\tc = c.substring(1);\r\n\t\t// \t\t}\r\n\r\n\t\t// \t\tif (c.indexOf(name) == 0) {\r\n\t\t// \t\t\treturn c.substring(name.length, c.length);\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\r\n\t\t// \treturn \"\";\r\n\t\t// }\r\n\r\n\t\tfunction checkQ1ToDisplayQ4(){\r\n\t\t\t$('.q4').removeClass('active').hide();\r\n\t\t\tif(q1SelectedValue === 'small' || q1SelectedValue === 'medium'){\r\n\t\t\t\t$('.q4a').addClass('active').show();\r\n\t\t\t} else {\r\n\t\t\t\t$('.q4b').addClass('active').show();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction hideQ4NoResultOptions(){\r\n\t\t\tlet questions = $('.question4 .active input[name=\"quantity\"]');\r\n\t\t\t$(questions).parent().removeClass('show');\r\n\t\t\tfor(let i = 0, len = questions.length; i<len; i++){\r\n\t\t\t\t// let value = $(questions[i]).val();\r\n\t\t\t\t// let array = qstn3Data.filter((obj) => obj.q4 === value);\r\n\t\t\t\t// if(array.length === 0) {\r\n\t\t\t\t// \t$(questions[i]).parent().addClass('hidden');\r\n\t\t\t\t// }\r\n\r\n\t\t\t\tlet value = $(questions[i]).val();\r\n\r\n\t\t\t\tfor ( let i = 0; i < qstn3Data.length; i++) {\r\n\t\t\t\t\tlet q4Data = qstn3Data[i].q4;\r\n\r\n\t\t\t\t\tfor ( let j = 0; j < q4Data.length; j++) {\r\n\t\t\t\t\t\tlet q4Value = q4Data[j];\r\n\r\n\t\t\t\t\t\tif ($(`.question4 .active input[value=\"${q4Value}\"]`).hasClass('show')) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(`.question4 .active input[value=\"${q4Value}\"]`).parent().addClass('show');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport doT from 'dot';\r\n\r\nexport default class ResellerLocator {\r\n\tconstructor() {\r\n\t\tlet $copy = $('.dropdown-copy', this.mapper),\r\n\t\t\t$reseller = $('.reseller-locator'),\r\n\t\t\t$partner = $('.reseller-partners', $reseller),\r\n\t\t\t$partnerContent = $('.reseller-partners--content', $partner),\r\n\t\t\t$resellerFilter = $('.reseller-locator__filters', $reseller),\r\n\t\t\t$resellerSearch = $('.btn-reseller-search', $resellerFilter),\r\n\t\t\t$resellerNear = $('.btn-reseller-near', $resellerFilter),\r\n\t\t\turl = $partner.data('endpoint'),\r\n\t\t\tnearMe = $partner.data('radius'),\r\n\t\t\tcheckLocation = $reseller.data('locator'),\r\n\t\t\tapikey = $reseller.data('apikey'),\r\n\t\t\tmap;\r\n\r\n\t\tthis.filters = {\r\n\t\t\t\"reseller\"  : $('#resellerFilter'),\r\n\t\t\t\"location\" : $('#locationFilter')\r\n\t\t};\r\n\r\n\t\tthis.mapper = $('.reseller-locator__filters');\r\n\t\tthis.$partnerContent = $partnerContent;\r\n\t\tthis.appendMapScripts(checkLocation, apikey);\r\n\r\n\t\t// get reseller data from HTML JSON\r\n\t\tlet resellerItem = JSON.parse($('#resellerData').html());\r\n\r\n\t\t$copy.map((i, ele) => {\r\n\t\t\tlet $this = $(ele),\r\n\t\t\t\t$select = $this.next(),\r\n\t\t\t\t$button = $this.find('button');\r\n\r\n\t\t\t$select.on('click', (e) => {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tif (!$this.hasClass('active')){\r\n\t\t\t\t\t$this.addClass('active');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$this.removeClass('active');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.dropdown-copy').not($this).removeClass('active');\r\n\t\t\t});\r\n\r\n\t\t\t$select.on('change', () => {\r\n\t\t\t\tlet $option = $select.find(':selected');\r\n\r\n\t\t\t\t$select.prev().find('button').text($option.text());\r\n\t\t\t});\r\n\r\n\t\t\t$(window).on('click', () => {\r\n\t\t\t\tif ($this.hasClass('active')){\r\n\t\t\t\t\t$this.removeClass('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$resellerSearch.on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tlet $locationFilter = $('#locationFilter'),\r\n\t\t\t\t$locationVal = $locationFilter.val(),\r\n\t\t\t\t// $resellerFilter = $('#resellerFilter'),\r\n\t\t\t\t// $resellerVal = $resellerFilter.val(),\r\n\t\t\t\tcheckSelect = false;\r\n\r\n\t\t\t// if ($resellerVal === \"\") {\r\n\t\t\t// \t$('.error-msg-reseller').addClass('is-active');\r\n\t\t\t// \tcheckSelect = true;\r\n\t\t\t// } else {\r\n\t\t\t// \t$('.error-msg-reseller').removeClass('is-active');\r\n\t\t\t// }\r\n\r\n\t\t\tif ($locationVal === \"\") {\r\n\t\t\t\t$('.error-msg-location').addClass('is-active');\r\n\t\t\t\tcheckSelect = true;\r\n\t\t\t} else {\r\n\t\t\t\t$('.error-msg-location').removeClass('is-active');\r\n\t\t\t}\r\n\r\n\t\t\tif (checkSelect) { return false; }\r\n\r\n\t\t\tlet mapOptions = {\r\n\t\t\t\tzoom: 12,\r\n\t\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\r\n\t\t\t};\r\n\r\n\t\t\tmap = new google.maps.Map(document.getElementById(\"resellerMap\"), mapOptions);\r\n\r\n\t\t\tlet storeExists = [],\r\n\t\t\t\tresellerCount = $('.resellers-count'),\r\n\t\t\t\tcount = 0,\r\n\t\t\t\tbound = new google.maps.LatLngBounds();\r\n\r\n\t\t\tlet tooltip = new google.maps.InfoWindow({\r\n\t\t\t\tmaxWidth: 200\r\n\t\t\t});\r\n\r\n\t\t\t$.each( resellerItem, function( key, data ) {\r\n\t\t\t\tif (key === $locationVal) {\r\n\t\t\t\t\t$.each( data, function( k, v ) {\r\n\t\t\t\t\t\tstoreExists.push(v);\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tlet position = new google.maps.LatLng(v.lat, v.long);\r\n\t\t\t\t\t\tlet marker = new google.maps.Marker({\r\n\t\t\t\t\t\t\tposition: position,\r\n\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\ttitle: \"<div class='map-pop-up' style = 'height:auto;width:200px'><strong>\" + v.name +\r\n\t\t\t\t\t\t\t\t\t\"</strong><br />\" + v.address\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tmarker.addListener('click', () => {\r\n\t\t\t\t\t\t\ttooltip.setContent(marker.title);\r\n\t\t\t\t\t\t\ttooltip.open(map, marker);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tmap.addListener('click', () => {\r\n\t\t\t\t\t\t\ttooltip.close();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tbound.extend(new google.maps.LatLng(v.lat, v.long));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(storeExists.length){\r\n\t\t\t\tmap.panTo(bound.getCenter());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (navigator.geolocation) {\r\n\t\t\t\t\tnavigator.geolocation.getCurrentPosition(function(p) {\r\n\t\t\t\t\t\tvar pos = {\r\n\t\t\t\t\t\t\tlat: p.coords.latitude,\r\n\t\t\t\t\t\t\tlng: p.coords.longitude\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tlet myPos = new google.maps.LatLng(pos.lat, pos.lng);\r\n\r\n\t\t\t\t\t\tmap.panTo(myPos);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$('.reseller-map').removeClass('reseller-nodisplay');\r\n\t\t\t$('.reseller-partners').removeClass('reseller-nodisplay');\r\n\t\t\t$('.resellers-count').html(count);\r\n\t\t\trenderResults(storeExists);\r\n\t\t});\r\n\r\n\t\t$resellerNear.on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tlet storeExists = [],\r\n\t\t\t\tradius = nearMe,\r\n\t\t\t\tcount = 0,\r\n\t\t\t\tbound = new google.maps.LatLngBounds();\r\n\r\n\t\t\tlet tooltip = new google.maps.InfoWindow({\r\n\t\t\t\tmaxWidth: 200\r\n\t\t\t});\r\n\r\n\t\t\tif (navigator.geolocation) {\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition(function (p) {\r\n\t\t\t\t\tlet LatLng = new google.maps.LatLng(p.coords.latitude, p.coords.longitude);\r\n\t\t\t\t\tlet mapOptions = {\r\n\t\t\t\t\t\tcenter: LatLng,\r\n\t\t\t\t\t\tzoom: 12,\r\n\t\t\t\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tmap = new google.maps.Map(document.getElementById(\"resellerMap\"), mapOptions);\r\n\r\n\t\t\t\t\t$.each( resellerItem, function( key, data ) {\r\n\t\t\t\t\t\t$.each( data, function( k, v ) {\r\n\t\t\t\t\t\t\tlet position = new google.maps.LatLng(v.lat, v.long),\r\n\t\t\t\t\t\t\t\tdistance = google.maps.geometry.spherical.computeDistanceBetween(position, LatLng),\r\n\t\t\t\t\t\t\t\tdistanceInKm = ((Math.round(distance / 100) / 10) <= radius) ? 'exists' : '';\r\n\r\n\t\t\t\t\t\t\tif (distanceInKm === \"exists\") {\r\n\t\t\t\t\t\t\t\tstoreExists.push(v);\r\n\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\tlet marker = new google.maps.Marker({\r\n\t\t\t\t\t\t\t\t\tposition: position,\r\n\t\t\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\t\t\ttitle: \"<div class='map-pop-up' style = 'height:auto;width:200px'><strong>\" + v.name +\r\n\t\t\t\t\t\t\t\t\t\t\t\"</strong><br />\" + v.address\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tmarker.addListener('click', () => {\r\n\t\t\t\t\t\t\t\t\ttooltip.setContent(marker.title);\r\n\t\t\t\t\t\t\t\t\ttooltip.open(map, marker);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tmap.addListener('click', () => {\r\n\t\t\t\t\t\t\t\t\ttooltip.close();\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tbound.extend(new google.maps.LatLng(v.lat, v.long) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t\tif(storeExists.length){\r\n\t\t\t\t\t\tmap.panTo(bound.getCenter());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tmap.panTo(LatLng);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$('.reseller-map').removeClass('reseller-nodisplay');\r\n\t\t\t\t\t$('.reseller-partners').removeClass('reseller-nodisplay');\r\n\t\t\t\t\t$('.resellers-count').html(count);\r\n\t\t\t\t\trenderResults(storeExists);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(document).on('click','.btn-map-show',function(e){\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tlet $target = $('.reseller-map');\r\n\r\n\t\t\t $('html, body').stop(true, true).animate({\r\n\t\t\t    scrollTop: $target.offset().top - 100\r\n\t\t\t}, 500);\r\n\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\tlat = $this.data('lat'),\r\n\t\t\t\tlong = $this.data('long');\r\n\r\n\t\t\tlet showMarker = (data) => {\r\n\t\t\t\tlet position = new google.maps.LatLng(lat, long);\r\n\r\n\t\t\t\tmap.setZoom(15);\r\n\t\t\t\tmap.panTo(position);\r\n\t\t\t}\r\n\r\n\t\t\tshowMarker();\r\n\r\n\t\t});\r\n\r\n\t\tfunction renderResults(data) {\r\n\t\t\tlet resellerTemplate = $('#reseller-template').html();\r\n\t\t\tlet resellerContent = '';\r\n\r\n\t\t\tresellerContent = doT.template(resellerTemplate)(data);\r\n\r\n\t\t\t$partnerContent.html(resellerContent);\r\n\r\n\t\t\tlet\t$first = $('.partner-item').first();\r\n\t\t\tlet textWidth = $('.partner-item__detail .label', $first).first().width();\r\n\r\n\t\t\t$('.partner-item__detail .label', $first).each(function() {\r\n\t\t\t\tif(textWidth < $(this).width()){\r\n\t\t\t\t\ttextWidth = $(this).width();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttextWidth = textWidth;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet padding = textWidth + 10;\r\n\t\t\t$('.padded').css('padding-left', padding + 'px');\r\n\r\n\t\t\tlet faxTextWidth = $('.partner-item__detail.fax .label').width();\r\n\t\t\tfaxTextWidth += 10;\r\n\t\t\t$('.padded-fax').css('padding-left', faxTextWidth + 'px');\r\n\t\t}\r\n\t}\r\n\r\n\tappendMapScripts(checkLocation, apikey) {\r\n\t\tlet scriptStr = '/maps/api/js?libraries=geometry&key=';\r\n\t\tscriptStr = checkLocation + scriptStr + apikey;\r\n\r\n\t\tlet script = document.createElement('script');\r\n\t\tscript.type = 'text/javascript';\r\n\t\tscript.src = scriptStr;\r\n\t\tdocument.body.appendChild(script);\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport enquire from 'enquire.js';\r\nimport 'jquery-match-height';\r\n\r\nexport default class SiteHeader {\r\n\tconstructor() {\r\n\t\tlet $siteHeader = $('.site-header'),\r\n\t\t\t$nav = $('.main-nav', $siteHeader),\r\n\t\t\t$mainNav = $('.main', $nav),\r\n\t\t\t$contactNav = $('.share-contact', $nav),\r\n\t\t\t$hasChild = $('.has-children', $nav),\r\n\t\t\t$searchBar = $('.search-bar', $siteHeader);\r\n\r\n\t\tlet timer;\r\n\r\n\t\t$('.megamenu__products .nav-level3 li').matchHeight();\r\n\r\n\t\t$('.btn-nav-menu', $siteHeader).on('click', () => {\r\n\t\t\tif(!$siteHeader.hasClass('open')){\r\n\t\t\t\t$searchBar.removeClass('open');\r\n\t\t\t\t$siteHeader.addClass('open');\r\n\t\t\t\t$nav.addClass('slideout');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$siteHeader.removeClass('open');\r\n\t\t\t\t$('.slideout').removeClass('slideout');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('.btn-mobile-search', $siteHeader).on('click', () => {\r\n\t\t\tif(!$searchBar.hasClass('open')){\r\n\t\t\t\t$siteHeader.removeClass('open');\r\n\t\t\t\t$('.slideout').removeClass('slideout');\r\n\t\t\t\t$searchBar.addClass('open');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$searchBar.removeClass('open');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('> a', $hasChild).map((i,ele) => {\r\n\t\t\tlet $anchor = $(ele);\r\n\r\n\t\t\t$anchor.on('click', (e) => {\r\n\t\t\t\tif($anchor.next().length){\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\t$anchor.next().addClass('slideout');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('button', $hasChild).map((i,ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t$this.on('click', () => {\r\n\t\t\t\t$this.parent().parent().removeClass('slideout');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$(window).on('scroll', function(){\r\n\t\t\tlet browserHeight = $(window).height(),\r\n\t\t\t\tdocumentHeight = $(document).height();\r\n\r\n\t\t\tif(!$siteHeader.hasClass('fix')){\r\n\t\t\t\tif((documentHeight - browserHeight) > 200){\r\n\t\t\t\t\tif($(window).scrollTop() > 50){\r\n\t\t\t\t\t\t$siteHeader.addClass('fix');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\t$siteHeader.removeClass('fix');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif($(window).scrollTop() < 50){\r\n\t\t\t\t\t$siteHeader.removeClass('fix');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('.nav-level1 > li').on('mouseenter focusin', function(){\r\n\t\t\tlet $thisIn = $(this);\r\n\t\t\tclearTimeout(timer);\r\n\r\n\t\t\t$thisIn.siblings().removeClass('hover');\r\n\r\n\t\t\ttimer = setTimeout(function(){\r\n\t\t\t\t$thisIn.addClass('hover');\r\n\t\t\t}, 650);\r\n\t\t}).on('mouseleave', function(){\r\n\t\t\tlet $thisOut = $(this);\r\n\r\n\t\t\tclearTimeout(timer);\r\n\t\t\t$thisOut.removeClass('hover');\r\n\t\t});\r\n\r\n\t\t$('.nav-level1 > li:last-child a').last().on('focusout', function(){\r\n\t\t\tlet $thisOut = $(this).closest('.hover');\r\n\r\n\t\t\tclearTimeout(timer);\r\n\t\t\t$thisOut.removeClass('hover');\r\n\t\t});\r\n\r\n\t\tenquire.register(\"screen and (min-width: 992px)\", {\r\n\t\t    match : function() {\r\n\t\t    \t$('.slideout').each(function(){\r\n\t\t    \t\t$(this).removeClass('slideout');\r\n\t\t    \t});\r\n\t\t    \t$siteHeader.removeClass('open');\r\n\r\n\t\t    \t$('> a', $hasChild).map((i,ele) => {\r\n\t\t    \t\tlet $anchor = $(ele);\r\n\r\n\t\t    \t\t$anchor.off('click');\r\n\t\t    \t});\r\n\r\n\t\t    \t$('.nav-level1 > li').on('mouseenter', function(){\r\n\t\t    \t\tlet $thisIn = $(this);\r\n\t\t    \t\tclearTimeout(timer);\r\n\r\n\t\t    \t\ttimer = setTimeout(function(){\r\n\t\t    \t\t\t$thisIn.addClass('hover');\r\n\t\t    \t\t}, 650);\r\n\t\t    \t}).on('mouseleave', function(){\r\n\t\t    \t\tlet $thisOut = $(this);\r\n\r\n\t\t    \t\tclearTimeout(timer);\r\n\t\t    \t\t$thisOut.removeClass('hover');\r\n\t\t    \t});\r\n\t\t    },\r\n\t\t    unmatch : function() {\r\n\t\t    \t$('> a', $hasChild).map((i,ele) => {\r\n\t\t    \t\tlet $anchor = $(ele);\r\n\r\n\t\t    \t\t$anchor.on('click', (e) => {\r\n\t\t    \t\t\tif($anchor.next().length){\r\n\t\t    \t\t\t\te.preventDefault();\r\n\t\t    \t\t\t}\r\n\t\t    \t\t\t$anchor.next().addClass('slideout');\r\n\t\t    \t\t});\r\n\t\t    \t});\r\n\r\n\t\t    \t$('.nav-level1 > li').off('mouseenter').off('mouseleave');\r\n\r\n\t\t    \t$('button', $hasChild).map((i,ele) => {\r\n\t\t    \t\tlet $this = $(ele);\r\n\r\n\t\t    \t\t$this.on('click', () => {\r\n\t\t    \t\t\t$this.parent().parent().removeClass('slideout');\r\n\t\t    \t\t});\r\n\t\t    \t});\r\n\t\t    }\r\n\t\t});\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport doT from 'dot';\r\nimport jsonQuery from 'json-query';\r\nimport Cookies from 'js-cookie';\r\nimport $ from 'jquery';\r\n\r\nexport default class SolutionsServices {\r\n\tconstructor() {\r\n\t\tlet $solutionFilter = $('.solutions-filter'),\r\n\t\t\t$filter = $('.filter-item', $solutionFilter).not('.filter-item--reset'),\r\n\t\t\t$reset = $('.filter-item--reset .btn-reset', $solutionFilter),\r\n\t\t\t$copy = $('.dropdown-copy', $solutionFilter);\r\n\r\n\t\tthis.loadLimit    = 9;\r\n\t\tthis.currpage     = 1;\r\n\t\tthis.results = [];\r\n\t\tthis.resultTempFn = doT.template($('#dotSolutionsTemplate').html());\r\n\t\tthis.optionTempFn = doT.template(\"{{~it.data :value:index}}<option value= \\\"{{=value.id}}\\\">{{=value.name}}</option>{{~}}\");\r\n        this.resultsCont = $('.solution-services__content', $('.solution-services'));\r\n        this.mapSolution();\r\n\r\n        $copy.map((i, ele) => {\r\n        \tlet $this = $(ele),\r\n        \t\t$select = $this.next(),\r\n        \t\t$button = $this.find('button');\r\n\r\n\t        $select.on('click', (e) => {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tif (!$this.hasClass('active')){\r\n\t        \t\t$this.addClass('active');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t        \t\t$this.removeClass('active');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.dropdown-copy').not($this).removeClass('active');\r\n\t        });\r\n\r\n\t\t\t$select.on('change', () => {\r\n\t\t\t\tlet $option = $select.find(':selected');\r\n\r\n\t\t\t\t$select.prev().find('button').text($option.text());\r\n\t\t\t});\r\n\r\n\t\t\t$(window).on('click', () => {\r\n\t\t\t\tif ($this.hasClass('active')){\r\n\t\t\t\t\t$this.removeClass('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n        })\r\n\t}\r\n\r\n\tmapSolution() {\r\n\t    let _this = this,\r\n\t    \t$solutionFilter = $('.solutions-filter'),\r\n\t        $mapper = $('.solution-mapper');\r\n\r\n\t    let resultEndpoint = $('.solution-services__content').data('endpoint'),\r\n\t    \toptionsEndpoint = $('.solutions-filter').data('endpoint'),\r\n\t        $mapperResults       = $('.solution-services__content .column-row'),\r\n\t        selectionData = {},\r\n\t        filters = {\r\n\t            \"industry\"   : $('#industryFilter'),\r\n\t            \"department\" : $('#departmentFilter'),\r\n\t            \"service\"    : $('#serviceFilter'),\r\n\t            \"business\"   : $('#businessFilter')\r\n\t        },\r\n\t        labels = {\r\n\t            \"industry\"   : $('#industryFilter').data('label'),\r\n\t            \"department\" : $('#departmentFilter').data('label'),\r\n\t            \"service\"    : $('#serviceFilter').data('label'),\r\n\t            \"business\"   : $('#businessFilter').data('label')\r\n\t        }\r\n\r\n\t    _this.$clearFilterBtn = $('.filter-item--reset .btn-reset', $solutionFilter);\r\n\r\n\t    // Reset filters\r\n\t    _this.$clearFilterBtn.on('click', function(e){\r\n\t        e.preventDefault();\r\n\r\n\t        filters.industry\r\n\t            .val($('option:first-child', filters.industry).val())\r\n\t            .trigger('change');\r\n\r\n\t        hideFilters('industry');\r\n            clearResults();\r\n            resetDropdownText();\r\n\t    });\r\n\r\n\t    // Setup filters\r\n\t    for(var key in filters) {\r\n\t        let $filter = filters[key];\r\n\r\n\r\n\t        $filter.data('key', key);\r\n\r\n\t        $filter.on('change.filter', function(){\r\n\t            let value = $('option:selected', $filter).attr('value'),\r\n\t                dataKey = $filter.data('key'),\r\n\t                data = {\r\n\t                    industry: $('option:selected', filters.industry).attr('value'),\r\n\t                    department: $('option:selected', filters.department).attr('value'),\r\n\t                    service: $('option:selected', filters.service).attr('value'),\r\n\t                    business: $('option:selected', filters.business).attr('value')\r\n\t                };\r\n\r\n\t            if(value !== \"\" && typeof value !== \"undefined\") {\r\n\t                updateFilterOnChange(dataKey, value);\r\n\t                Cookies.set('solutionFilters', JSON.stringify(data));\r\n\t            } else {\r\n\t                hideFilters(dataKey);\r\n\r\n\t                if(dataKey === 'industry') {\r\n\t                    $mapperResults.empty;\r\n\r\n\t                    return;\r\n\t                }\r\n\t            }\r\n\t            _this.resetPage();\r\n\t            $mapperResults.empty();\r\n\t            _this.getResult(resultEndpoint, parseResults, data);\r\n\t        });\r\n\t    }\r\n\r\n\t    // Parse filters option data\r\n\t    let parseFilters = (data) => {\r\n\t        selectionData = data;\r\n\r\n\t        let cookie = Cookies.get('solutionFilters');\r\n\r\n\t        _this.updateOptions(selectionData.industries, filters.industry, labels.industry);\r\n\r\n\t        if(typeof cookie !== 'undefined') {\r\n\t            parseCookies(JSON.parse(cookie));\r\n\t        } else {\r\n\t            clearResults();\r\n\t        }\r\n\t    };\r\n\r\n\t    // Parse Cookies data\r\n\t    let parseCookies = (obj) => {\r\n\t        let $lastFilter = {};\r\n\r\n\t        for(var key in obj) {\r\n\t            let $filter = filters[key],\r\n\t                id = obj[key];\r\n\r\n\t            if(typeof id !== 'undefined') {\r\n\t                updateFilterOnChange(key, id);\r\n\r\n\t                $filter\r\n\t                    .val(id)\r\n\t                    .prev()\r\n\t                    .find('button')\r\n\t                    .text($('option:selected', $filter).text())\r\n\r\n\t                $lastFilter = $filter\r\n\t            }\r\n\t        }\r\n\r\n\t        $lastFilter.trigger('change.filter');\r\n\t    };\r\n\r\n\t    // Clear Results\r\n\t    let clearResults = () => {\r\n\t    \tlet data = {\r\n\t    \t    queryAll: 'true'\r\n\t    \t}\r\n\r\n\t        _this.resetPage();\r\n\t        $mapperResults.empty();\r\n\t    \t_this.getResult(resultEndpoint, parseResults, data);\r\n\t        Cookies.remove('solutionFilters');\r\n\t    };\r\n\r\n\t    // Parse Result set\r\n\t    let parseResults = (data) => {\r\n\t        let solutionsTemplate = $('#dotSolutionsTemplate').html(),\r\n\t        \t_content = '';\r\n\r\n\t        let _this = this,\r\n\t            lowerLimit = (_this.currpage - 1) * _this.loadLimit,\r\n\t            upperLimit = _this.currpage * _this.loadLimit,\r\n\t            pageResults = [],\r\n\t            interval = 200;\r\n\r\n\t        _this.results = data;\r\n\r\n\t        for(let i = lowerLimit; i < upperLimit; i++) {\r\n\t            if(typeof _this.results[i] !== 'undefined'){\r\n\t                pageResults.push(_this.results[i]);\r\n\t            }\r\n\t        }\r\n\r\n\t        if(_this.results.length > 9) {\r\n\t\t        $('.show-more').show();\r\n\t\t    } else {\r\n\t\t        $('.show-more').hide();\r\n\t\t    }\r\n\r\n\t        $mapperResults.append(doT.template(solutionsTemplate)(pageResults));\r\n\r\n\t        $('.card-tiles').matchHeight();\r\n\r\n\t        /**\r\n\t         * Fade In\r\n\t         */\r\n\t        $('.result', this.resultsCont).each(function(){\r\n\t            let $this = $(this);\r\n\r\n\t            if($this.hasClass('visible')) return;\r\n\r\n\t            setTimeout(function(){\r\n\t                $this.addClass('visible');\r\n\t                // $('.thumbnail', $this).swapImage({breakpoint: 768, reverse: true});\r\n\r\n\t            }, interval);\r\n\r\n\t            interval = interval + 50;\r\n\t        });\r\n\r\n\t        if(_this.currpage === 1){\r\n\t        \t_this.currpage++;\r\n\t        }\r\n\t    };\r\n\r\n\t    // Update the next filter\r\n\t    let updateFilterOnChange = (key, id) => {\r\n\t        let dataset = {};\r\n\r\n\t        switch(key) {\r\n\t            case 'industry':\r\n\t                dataset = jsonQuery('industries[id=' + id +'].departments', {data: selectionData}).value;\r\n\t                _this.updateOptions(dataset, filters.department, labels.department);\r\n\t                break;\r\n\r\n\t            case 'department':\r\n\t                dataset = jsonQuery('industries.departments[id=' + id +'].services', {data: selectionData}).value;\r\n\t                _this.updateOptions(dataset, filters.service, labels.service);\r\n\t                break;\r\n\r\n\t            case 'service':\r\n\t                dataset = jsonQuery('industries.departments.services[id=' + id +'].businesses', {data: selectionData}).value;\r\n\t                _this.updateOptions(dataset, filters.business, labels.business);\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\r\n\t    // Hide the filters\r\n\t    let hideFilters = (key) => {\r\n\t        switch(key) {\r\n\t            case 'industry':\r\n\t                filters.department\r\n\t                    .val(null)\r\n\t                    .parent().fadeOut();\r\n\t                /* falls through */\r\n\t            case 'department':\r\n\t                filters.service\r\n\t                    .val(null)\r\n\t                    .parent().fadeOut();\r\n\t                /* falls through */\r\n\t            case 'service':\r\n\t                filters.business\r\n\t                    .val(null)\r\n\t                    .parent().fadeOut();\r\n\t                /* falls through */\r\n\t            default:\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\r\n\t    let resetDropdownText = () => {\r\n\t    \t$('.filter-item:not(\".filter-item--reset\")').map((i, ele) => {\r\n\t    \t\tlet $this = $(ele);\r\n\r\n\t    \t\tlet defaultLabel = $this.find('select option:first-child').text();\r\n\t    \t\t$this.find('.dropdown-copy button').text(defaultLabel);\r\n\t    \t});\r\n\t    }\r\n\r\n\t    //Load more tiles\r\n\t    $('.show-more').on('click', (e) => {\r\n\t        e.preventDefault();\r\n\r\n\t        parseResults(this.results);\r\n\t        this.toggleLoadMore();\r\n\t    });\r\n\r\n\t    _this.getResult(optionsEndpoint, parseFilters);\r\n\t}\r\n\r\n\tupdateOptions(context, $filter, label) {\r\n\t    let evalStr = this.optionTempFn({data: context});\r\n\r\n\t    $filter\r\n\t        .html(evalStr)\r\n\t        .prepend($('<option val = \"\" selected>' + label + '</option>'))\r\n\t        .parent()\r\n\t        .fadeIn();\r\n\t}\r\n\r\n\ttoggleLoadMore() {\r\n\t    let _this = this;\r\n\r\n\t    if(_this.currpage * _this.loadLimit < _this.results.length) {\r\n\t        _this.currpage++;\r\n\r\n\t        $('.show-more').show();\r\n\t    } else {\r\n\t        $('.show-more').hide();\r\n\t    }\r\n\t}\r\n\r\n\tresetPage() {\r\n\t\tlet _this = this;\r\n\r\n\t\t_this.currpage = 1;\r\n\t}\r\n\r\n\t/**\r\n\t * Ajax call to endpoint\r\n\t */\r\n\tgetResult(endpoint, cb, data) {\r\n\t    let postData = {};\r\n\r\n\t    $.extend(postData, data);\r\n\r\n\t    $.ajax({\r\n\t        url: endpoint,\r\n\t        data: postData,\r\n\t        dataType: 'json',\r\n\t        cache: false\r\n\t    }).done(cb);\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport jsonQuery from 'json-query';\r\nimport doT from 'dot';\r\n\r\nexport default class StoreLocator {\r\n\tconstructor(type) {\r\n\t\t// START: Append map script into body\r\n\t\t// let mapurl = $('.reseller-locator').data('mapurl'),\r\n\t\t// \tapikey = $('.reseller-locator').data('mapkey');\r\n\r\n\t\t// if (type === 'google'){\r\n\t\t// \tmapurl = ($('.reseller-locator').data('mapurl')) ? $('.reseller-locator').data('mapurl') : 'https://maps.googleapis.com/maps/api/js?libraries=geometry&key=';\r\n\t\t// \tapikey = ($('.reseller-locator').data('mapkey')) ? $('.reseller-locator').data('mapkey') : 'AIzaSyC3RU1ehPFevI1uGes49wIpZKhR7KHwrcI';\r\n\r\n\t\t// \tthis.appendMapScripts(mapurl, apikey);\r\n\t\t// } else if (type === 'baidu'){\r\n\t\t// \tmapurl = ($('.reseller-locator').data('mapurl')) ? $('.reseller-locator').data('mapurl') : 'http://api.map.baidu.com/api?v=2.0&ak=';\r\n\t\t// \tapikey = ($('.reseller-locator').data('mapkey')) ? $('.reseller-locator').data('mapkey') : 'GoR7N5kE8U0TVvsai7e6MO6d7iElyhQR';\r\n\r\n\t\t// \tthis.appendMapScripts(mapurl, apikey);\r\n\t\t// } else {\r\n\t\t// \tmapurl = ($('.reseller-locator').data('mapurl')) ? $('.reseller-locator').data('mapurl') : 'https://openapi.map.naver.com/openapi/v3/maps.js?clientId=';\r\n\t\t// \tapikey = ($('.reseller-locator').data('mapkey')) ? $('.reseller-locator').data('mapkey') : 'YwbCpVG1dKxBUanw9Q8M';\r\n\r\n\t\t// \tthis.appendMapScripts(mapurl, apikey);\r\n\t\t// }\r\n\t\t// END\r\n\r\n\r\n\t\t// Definitions\r\n\t\tlet _this = this,\r\n\t\t\t$resellerFilter = $('.reseller-locator__filters'),\r\n\t\t\t$resellerSearch = $('.btn-reseller-search', $resellerFilter);\r\n\r\n\t\tlet\tprovinceData = JSON.parse($('#provinceData').html()),\r\n\t\t\tproductData = JSON.parse($('#productData').html());\r\n\r\n\t\t_this.optionTemplate = doT.template(\"{{~it.data :selectOption:index}}<option value= \\\"{{=selectOption.value}}\\\">{{=selectOption.name}}</option>{{~}}\");\r\n\r\n\r\n\t\t// START: Filter UI event handlers\r\n\t\tlet $copy = $('.dropdown-copy', $resellerFilter);\r\n\t\t$copy.map((i, ele) => {\r\n\t\t\tlet $this = $(ele),\r\n\t\t\t\t$select = $this.next(),\r\n\t\t\t\t$button = $this.find('button');\r\n\r\n\t\t\t$select.on('click', (e) => {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tif (!$this.hasClass('active')){\r\n\t\t\t\t\t$this.addClass('active');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$this.removeClass('active');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.dropdown-copy').not($this).removeClass('active');\r\n\t\t\t});\r\n\r\n\t\t\t$select.on('change', () => {\r\n\t\t\t\tlet $option = $select.find(':selected');\r\n\r\n\t\t\t\t$select.prev().find('button').text($option.text());\r\n\t\t\t});\r\n\r\n\t\t\t$(window).on('click', () => {\r\n\t\t\t\tif ($this.hasClass('active')){\r\n\t\t\t\t\t$this.removeClass('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t// END\r\n\r\n\r\n\t\t// START: Remove all active class on dropdown on ESC key press\r\n\t\t$(document).keyup(function(e) {\r\n\t\t\tif (e.keyCode == 27) {\r\n\t\t\t\t$('.active', $resellerFilter).removeClass('active');\r\n\t\t\t}\r\n\t\t});\r\n\t\t// END\r\n\r\n\r\n\t\t// START: Change city options based on province selected\r\n\t\tlet cityLabel = $('#cityFilter').parent().data('label');\r\n\r\n\t\t$('#provinceFilter').on('change', function(){\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\tvalue = $this.find('option:selected').val(),\r\n\t\t\t\tdata = {};\r\n\r\n\t\t\tdata = jsonQuery('province[value=' + value + '].cities', {data: provinceData}).value;\r\n\r\n\t\t\t_this.updateOptions(data, $('#cityFilter'), cityLabel, _this.optionTemplate);\r\n\t\t});\r\n\t\t// END\r\n\r\n\t\t// START: Change product options based on category selected\r\n\t\tlet productLabel = $('#productFilter').parent().data('label');\r\n\r\n\t\t$('#categoryFilter').on('change', function(){\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\tvalue = $this.find('option:selected').val(),\r\n\t\t\t\tdata = {};\r\n\r\n\t\t\tdata = jsonQuery('product[value=' + value + '].products', {data: productData}).value;\r\n\r\n\t\t\t_this.updateOptions(data, $('#productFilter'), productLabel, _this.optionTemplate);\r\n\t\t});\r\n\t\t// END\r\n\r\n\t\t// START: Switch view\r\n\t\t$('.switch-view').on('click', function(e){\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif($('.reseller-partners--content').hasClass('hide')){\r\n\t\t\t\tif ($('#resellerMap').length) {\r\n\t\t\t\t\t$('#resellerMap').removeClass('hide');\r\n\t\t\t\t}\r\n\t\t\t\t$('.reseller-partners--content').removeClass('hide');\r\n\t\t\t\t$('.reseller-partners--list').addClass('hide');\r\n\t\t\t\t$resellerSearch.trigger('click');\r\n\t\t\t\t_this.setPaddings();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif ($('#resellerMap').length) {\r\n\t\t\t\t\t$('#resellerMap').addClass('hide');\r\n\t\t\t\t}\r\n\t\t\t\t$('.reseller-partners--content').addClass('hide');\r\n\t\t\t\t$('.reseller-partners--list').removeClass('hide');\r\n\t\t\t}\r\n\t\t});\r\n\t\t// END\r\n\r\n\r\n\t\t// START: Validation check and API call on search\r\n\t\t$resellerSearch.on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tlet $provinceFilter = $('#province'),\r\n\t\t\t\tprovince = $('#provinceFilter').val(),\r\n\t\t\t\t$cityFilter = $('#city'),\r\n\t\t\t\tcity = $('#cityFilter').val(),\r\n\t\t\t\t$resellerFilter = $('#reseller'),\r\n\t\t\t\tresellerType = $('#resellerFilter').val(),\r\n\t\t\t\t$categoryFilter = $('#category'),\r\n\t\t\t\tproductCategory = $('#categoryFilter').val(),\r\n\t\t\t\t$productFilter = $('#product'),\r\n\t\t\t\tproductName = $('#productFilter').val(),\r\n\t\t\t\t$dealerFilter = $('#dealer'),\r\n\t\t\t\tdealerName = $('#dealerSearch').val(),\r\n\t\t\t\tfilterValidated = false,\r\n\t\t\t\turl = $('.reseller-locator').data('endpoint'),\r\n\t\t\t\tdata = {};\r\n\r\n\t\t\t// test naver\r\n\t\t\t// url = '/assets/fuji-xerox/api/new-reseller2.json';\r\n\r\n\t\t\tif (province === \"\") {\r\n\t\t\t\t$('.error-msg', $provinceFilter).addClass('active');\r\n\t\t\t} else {\r\n\t\t\t\t$('.error-msg', $provinceFilter).removeClass('active');\r\n\t\t\t\tfilterValidated = true;\r\n\t\t\t}\r\n\r\n\t\t\tif(filterValidated){\r\n\t\t\t\tdata = { province, city, resellerType, productCategory, productName, dealerName };\r\n\r\n\t\t\t\tif (type === 'google'){\r\n\t\t\t\t\t_this.getResults(url, data, _this.processMapResults, type);\r\n\t\t\t\t} else if (type === 'baidu'){\r\n\t\t\t\t\t_this.getResults(url, data, _this.processMapResults, type);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log('naver');\r\n\t\t\t\t\t_this.getResults(url, data, _this.processMapResults, type);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tappendMapScripts(mapurl, apikey) {\r\n\t\tlet scriptStr = mapurl + apikey;\r\n\r\n\t\tlet script = document.createElement('script');\r\n\t\tscript.type = 'text/javascript';\r\n\t\tscript.src = scriptStr;\r\n\t\t// document.getElementsByTagName('head')[0].appendChild(script);\r\n\t\tdocument.body.appendChild(script);\r\n\t}\r\n\r\n\tprocessMapResults(data, type) {\r\n\t\trenderResults(data);\r\n\r\n\t\tif($('#resellerMap').length){\r\n\t\t\tif (type === 'google'){\r\n\t\t\t\tif($('.switch-view').hasClass('hide')){\r\n\t\t\t\t\t$('.switch-view').removeClass('hide');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif($('#resellerMap').hasClass('hide')){\r\n\t\t\t\t\tif (!$('.reseller-partners--content').hasClass('hide')){\r\n\t\t\t\t\t\t$('#resellerMap').removeClass('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Map options\r\n\t\t\t\tlet map,\r\n\t\t\t\t\tbound = new google.maps.LatLngBounds(),\r\n\t\t\t\t\ttooltip = new google.maps.InfoWindow({\r\n\t\t\t\t\t\tmaxWidth: 200\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tmapOptions = {\r\n\t\t\t\t\t\tzoom: 12,\r\n\t\t\t\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tmap = new google.maps.Map(document.getElementById(\"resellerMap\"), mapOptions);\r\n\r\n\t\t\t\tif(data.length){\r\n\t\t\t\t\tdata.forEach(function(store, index){\r\n\t\t\t\t\t\t// START: Create marker and add marker\r\n\t\t\t\t\t\tlet position = new google.maps.LatLng(store.lat, store.long);\r\n\t\t\t\t\t\tlet marker = new google.maps.Marker({\r\n\t\t\t\t\t\t\tposition: position,\r\n\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\ttitle: \"<div class='map-pop-up' style = 'height:auto;width:200px'><strong>\" + store.name +\r\n\t\t\t\t\t\t\t\t\t\"</strong><br />\" + store.address\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// END\r\n\r\n\t\t\t\t\t\t// START: Make info window for each marker and add to map\r\n\t\t\t\t\t\tmarker.addListener('click', () => {\r\n\t\t\t\t\t\t\ttooltip.setContent(marker.title);\r\n\t\t\t\t\t\t\ttooltip.open(map, marker);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tmap.addListener('click', () => {\r\n\t\t\t\t\t\t\ttooltip.close();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// END\r\n\r\n\t\t\t\t\t\tbound.extend(new google.maps.LatLng(store.lat, store.long));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tmap.panTo(bound.getCenter());\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(!$('.switch-view').hasClass('hide')){\r\n\t\t\t\t\t\t$('.switch-view').addClass('hide');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!$('#resellerMap').hasClass('hide')){\r\n\t\t\t\t\t\t$('#resellerMap').addClass('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if (navigator.geolocation) {\r\n\t\t\t\t\t// \tnavigator.geolocation.getCurrentPosition(function(p) {\r\n\t\t\t\t\t// \t\tlet pos = {\r\n\t\t\t\t\t// \t\t\tlat: p.coords.latitude,\r\n\t\t\t\t\t// \t\t\tlng: p.coords.longitude\r\n\t\t\t\t\t// \t\t};\r\n\r\n\t\t\t\t\t// \t\tlet myPos = new google.maps.LatLng(pos.lat, pos.lng);\r\n\r\n\t\t\t\t\t// \t\tmap.panTo(myPos);\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// START: Show on map button handler\r\n\t\t\t\t$(document).on('click','.btn-map-show',function(e){\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tlet $target = $('.reseller-map');\r\n\r\n\t\t\t\t\t $('html, body').stop(true, true).animate({\r\n\t\t\t\t\t\tscrollTop: $target.offset().top - 100\r\n\t\t\t\t\t}, 500);\r\n\r\n\t\t\t\t\tlet $this = $(this),\r\n\t\t\t\t\t\tlat = $this.data('lat'),\r\n\t\t\t\t\t\tlong = $this.data('long');\r\n\r\n\t\t\t\t\tlet showMarker = (data) => {\r\n\t\t\t\t\t\tlet position = new google.maps.LatLng(lat, long);\r\n\r\n\t\t\t\t\t\tmap.setZoom(15);\r\n\t\t\t\t\t\tmap.panTo(position);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tshowMarker();\r\n\t\t\t\t});\r\n\t\t\t\t// END\r\n\r\n\t\t\t} else if (type === 'baidu'){\r\n\t\t\t\tif($('.switch-view').hasClass('hide')){\r\n\t\t\t\t\t$('.switch-view').removeClass('hide');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($('#resellerMap').hasClass('hide')) {\r\n\t\t\t\t\tif (!$('.reseller-partners--content').hasClass('hide')) {\r\n\t\t\t\t\t\t$('#resellerMap').removeClass('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet map = new BMap.Map(\"resellerMap\"),\r\n\t\t\t\t\tbounds = map.getBounds(),\r\n\t\t\t\t\tpoints = [];\r\n\r\n\t\t\t\tif(data.length){\r\n\t\t\t\t\tmap.enableScrollWheelZoom();\r\n\t\t\t\t\tmap.enableContinuousZoom();\r\n\r\n\t\t\t\t\tdata.forEach(function(store, index){\r\n\t\t\t\t\t\t// START: Create marker and add marker\r\n\t\t\t\t\t\tlet point = new BMap.Point(store.long, store.lat),\r\n\t\t\t\t\t\t\tmarker = new BMap.Marker(point);\r\n\r\n\t\t\t\t\t\tbounds.extend(point);\r\n\t\t\t\t\t\tpoints.push(point);\r\n\r\n\t\t\t\t\t\tlet opts = {\r\n\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\theight: 100,\r\n\t\t\t\t\t\t\ttitle : store.name\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet content = store.address;\r\n\r\n\t\t\t\t\t\tmap.addOverlay(marker);\r\n\t\t\t\t\t\t// END\r\n\r\n\t\t\t\t\t\t// START: Make info window for each marker and add to map\r\n\t\t\t\t\t\tmarker.addEventListener('click', function(e){\r\n\t\t\t\t\t\t\tlet p = e.target;\r\n\r\n\t\t\t\t\t\t\tlet point = new BMap.Point(p.getPosition().lng, p.getPosition().lat);\r\n\r\n\t\t\t\t\t\t\tlet infoWindow = new BMap.InfoWindow(content, opts);\r\n\t\t\t\t\t\t\tmap.openInfoWindow(infoWindow, point);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// END\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// map.centerAndZoom(bounds.getCenter(), 13);\r\n\t\t\t\t\tmap.setViewport(points);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(!$('.switch-view').hasClass('hide')){\r\n\t\t\t\t\t\t$('.switch-view').addClass('hide');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!$('#resellerMap').hasClass('hide')){\r\n\t\t\t\t\t\t$('#resellerMap').addClass('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// let geolocation = new BMap.Geolocation();\r\n\t\t\t\t\t// geolocation.getCurrentPosition(function(r){\r\n\t\t\t\t\t// \tif(this.getStatus() == BMAP_STATUS_SUCCESS){\r\n\t\t\t\t\t// \t\tlet mk = new BMap.Marker(r.point);\r\n\t\t\t\t\t// \t\tmap.addOverlay(mk);\r\n\t\t\t\t\t// \t\tmap.centerAndZoom(r.point, 13);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \telse {\r\n\t\t\t\t\t// \t\treturn;\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// },{enableHighAccuracy: true});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// START: Show on map button handler\r\n\t\t\t\t$(document).on('click','.btn-map-show',function(e){\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tlet $target = $('.reseller-map');\r\n\r\n\t\t\t\t\t $('html, body').stop(true, true).animate({\r\n\t\t\t\t\t\tscrollTop: $target.offset().top - 100\r\n\t\t\t\t\t}, 500);\r\n\r\n\t\t\t\t\tlet $this = $(this),\r\n\t\t\t\t\t\tlat = $this.data('lat'),\r\n\t\t\t\t\t\tlong = $this.data('long');\r\n\r\n\t\t\t\t\tlet showMarker = (data) => {\r\n\t\t\t\t\t\tlet position = new BMap.Point(long, lat);\r\n\r\n\t\t\t\t\t\tmap.setZoom(15);\r\n\t\t\t\t\t\tmap.panTo(position);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tshowMarker();\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif($('.switch-view').hasClass('hide')){\r\n\t\t\t\t\t$('.switch-view').removeClass('hide');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($('#resellerMap').hasClass('hide')) {\r\n\t\t\t\t\tif (!$('.reseller-partners--content').hasClass('hide')) {\r\n\t\t\t\t\t\t$('#resellerMap').removeClass('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet map,\r\n\t\t\t\t\tbound,\r\n\t\t\t\t\ttooltip = new naver.maps.InfoWindow({\r\n\t\t\t\t\t\tmaxWidth: 200\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tmapOptions = {\r\n\t\t\t\t\t\tzoom: 6,\r\n\t\t\t\t\t\tmapTypeId: naver.maps.MapTypeId.NORMAL\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmarkers = [],\r\n\t\t\t\t\tinfoWindows = [],\r\n\t\t\t\t\tpoints = [];\r\n\r\n\t\t\t\tmap = new naver.maps.Map('resellerMap', mapOptions);\r\n\r\n\t\t\t\tif(data.length){\r\n\t\t\t\t\tlet minLat = data[0].lat,\r\n\t\t\t\t\t\tmaxLat = data[0].lat,\r\n\t\t\t\t\t\tminLong = data[0].long,\r\n\t\t\t\t\t\tmaxLong = data[0].long;\r\n\r\n\t\t\t\t\tdata.forEach(function(store, index){\r\n\t\t\t\t\t\t// START: Create marker and add marker\r\n\t\t\t\t\t\tlet position = new naver.maps.LatLng(store.lat, store.long);\r\n\t\t\t\t\t\tlet marker = new naver.maps.Marker({\r\n\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\tposition: position,\r\n\t\t\t\t\t\t\ttitle: \"<div class='map-pop-up' style = 'height:auto;width:200px'><strong>\" + store.name +\r\n\t\t\t\t\t\t\t\t\t\"</strong><br />\" + store.address\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// END\r\n\r\n\t\t\t\t\t\tpoints.push(position);\r\n\r\n\t\t\t\t\t\t// START: Get min/max bound\r\n\t\t\t\t\t\tif(minLat <= store.lat){\r\n\t\t\t\t\t\t\tminLat = minLat;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tminLat = store.lat\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(minLong <= store.long){\r\n\t\t\t\t\t\t\tminLong = minLong;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tminLong = store.long\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(maxLat >= store.lat){\r\n\t\t\t\t\t\t\tmaxLat = maxLat;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmaxLat = store.lat\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(maxLong >= store.long){\r\n\t\t\t\t\t\t\tmaxLong = maxLong;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmaxLong = store.long\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// END\r\n\r\n\t\t\t\t\t\t// START: Make info window for each marker and add to map\r\n\t\t\t\t\t\tlet infoWindow = new naver.maps.InfoWindow({\r\n\t\t\t\t\t\t\tcontent: marker.title\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tmarkers.push(marker);\r\n\t\t\t\t\t\tinfoWindows.push(infoWindow);\r\n\t\t\t\t\t\t// END\r\n\r\n\t\t\t\t\t\tnaver.maps.Event.addListener(map, \"click\", function(e) {\r\n\t\t\t\t\t\t\tinfoWindow.close();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(points.length === 1){\r\n\t\t\t\t\t\tmap.setCenter(points[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t// bound = new naver.maps.LatLngBounds(new naver.maps.LatLng(minLat, minLong), new naver.maps.LatLng(maxLat, maxLong));\r\n\t\t\t\t\t\tmap.fitBounds(points);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// map.setCenter(bound.getCenter());\r\n\r\n\r\n\t\t\t\t\t// START: Info window handlers\r\n\t\t\t\t\tnaver.maps.Event.addListener(map, 'idle', function() {\r\n\t\t\t\t\t\tupdateMarkers(map, markers);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tfunction updateMarkers(map, markers) {\r\n\r\n\t\t\t\t\t\tlet mapBounds = map.getBounds();\r\n\t\t\t\t\t\tlet marker, position;\r\n\r\n\t\t\t\t\t\tfor (let i = 0; i < markers.length; i++) {\r\n\r\n\t\t\t\t\t\t\tmarker = markers[i]\r\n\t\t\t\t\t\t\tposition = marker.getPosition();\r\n\r\n\t\t\t\t\t\t\tif (mapBounds.hasLatLng(position)) {\r\n\t\t\t\t\t\t\t\tshowMarker(map, marker);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\thideMarker(map, marker);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction showMarker(map, marker) {\r\n\r\n\t\t\t\t\t\tif (marker.setMap()) return;\r\n\t\t\t\t\t\tmarker.setMap(map);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction hideMarker(map, marker) {\r\n\r\n\t\t\t\t\t\tif (!marker.setMap()) return;\r\n\t\t\t\t\t\tmarker.setMap(null);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction getClickHandler(seq) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tlet marker = markers[seq],\r\n\t\t\t\t\t\t\t\tinfoWindow = infoWindows[seq];\r\n\r\n\t\t\t\t\t\t\tif (infoWindow.getMap()) {\r\n\t\t\t\t\t\t\t\tinfoWindow.close();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tinfoWindow.open(map, marker);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let i=0, ii=markers.length; i<ii; i++) {\r\n\t\t\t\t\t\tnaver.maps.Event.addListener(markers[i], 'click', getClickHandler(i));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// END\r\n\r\n\r\n\t\t\t\t\t// START: Show on map button handler\r\n\t\t\t\t\t$(document).on('click','.btn-map-show',function(e){\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\tlet $target = $('.reseller-map');\r\n\r\n\t\t\t\t\t\t $('html, body').stop(true, true).animate({\r\n\t\t\t\t\t\t\tscrollTop: $target.offset().top - 100\r\n\t\t\t\t\t\t}, 500);\r\n\r\n\t\t\t\t\t\tlet $this = $(this),\r\n\t\t\t\t\t\t\tlat = $this.data('lat'),\r\n\t\t\t\t\t\t\tlong = $this.data('long');\r\n\r\n\t\t\t\t\t\tlet showMarker = (data) => {\r\n\t\t\t\t\t\t\tlet position = new naver.maps.LatLng(lat, long);\r\n\r\n\t\t\t\t\t\t\tmap.setZoom(10);\r\n\t\t\t\t\t\t\tmap.panTo(position);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshowMarker();\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// END\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(!$('.switch-view').hasClass('hide')){\r\n\t\t\t\t\t\t$('.switch-view').addClass('hide');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!$('#resellerMap').hasClass('hide')){\r\n\t\t\t\t\t\t$('#resellerMap').addClass('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if (navigator.geolocation) {\r\n\t\t\t\t //        navigator.geolocation.getCurrentPosition(onSuccessGeolocation, onErrorGeolocation);\r\n\t\t\t\t //    } else {\r\n\t\t\t\t //        return;\r\n\t\t\t\t //    }\r\n\r\n\t\t\t\t\t// function onSuccessGeolocation(position) {\r\n\t\t\t\t\t//     let location = new naver.maps.LatLng(position.coords.latitude,\r\n\t\t\t\t\t//                                          position.coords.longitude);\r\n\r\n\t\t\t\t\t//     let marker = new naver.maps.Marker({\r\n\t\t\t\t\t//     \tmap: map,\r\n\t\t\t\t\t//     \tposition: location\r\n\t\t\t\t\t//     });\r\n\r\n\t\t\t\t\t//     map.setCenter(location); // 얻은 좌표를 지도의 중심으로 설정합니다.\r\n\t\t\t\t\t//     map.setZoom(10); // 지도의 줌 레벨을 변경합니다.\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t// function onErrorGeolocation() {\r\n\t\t\t\t\t//     let center = map.getCenter();\r\n\r\n\t\t\t\t\t//     infowindow.setContent('<div style=\"padding:20px;\">' +\r\n\t\t\t\t\t//         '<h5 style=\"margin-bottom:5px;color:#f00;\">Geolocation failed!</h5>'+ \"latitude: \"+ center.lat() +\"<br />longitude: \"+ center.lng() +'</div>');\r\n\r\n\t\t\t\t\t//     infowindow.open(map, center);\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction renderResults(data) {\r\n\t\t\tlet resellerTemplate = $('#reseller-template').html();\r\n\t\t\tlet resellerListTemplate = $('#resellerlist-template').html();\r\n\t\t\tlet resellerContent = '',\r\n\t\t\t\tresellerListContent = '';\r\n\r\n\t\t\tresellerContent = doT.template(resellerTemplate)(data);\r\n\t\t\tresellerListContent = doT.template(resellerListTemplate)(data);\r\n\r\n\t\t\t$('.reseller-partners--content').html(resellerContent);\r\n\t\t\t$('.reseller-partners--list').html(resellerListContent);\r\n\t\t\t$('.resellers-count').html(String(data.length));\r\n\r\n\t\t\tlet $first = $('.partner-item').first();\r\n\t\t\tlet textWidth = $('.partner-item__detail .label', $first).first().width();\r\n\r\n\t\t\t$('.partner-item').map((i, ele) => {\r\n\t\t\t\t$('.partner-item__detail .label', $(ele)).map((j, label) => {\r\n\t\t\t\t\tif (textWidth < $(label).width()) {\r\n\t\t\t\t\t\ttextWidth = $(label).width();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttextWidth = textWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tlet padding = textWidth + 10;\r\n\t\t\t$('.padded').css('padding-left', padding + 'px');\r\n\r\n\t\t\t$('.partner-item').map((i, ele) => {\r\n\t\t\t\tif ($(ele).find('.contact').length) {\r\n\t\t\t\t\tlet faxTextWidth = $('.partner-item__detail.fax .label', $(ele)).width();\r\n\t\t\t\t\tfaxTextWidth += 10;\r\n\t\t\t\t\t$('.padded-fax', $(ele)).css('padding-left', faxTextWidth + 'px');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$('.padded-fax', $(ele)).css('padding-left', padding + 'px');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$('.reseller-map').removeClass('hide');\r\n\r\n\t\t\t// Show/hide legend\r\n\t\t\tif ($('.medal').length) {\r\n\t\t\t\tif (!$('.reseller-partners--legend').hasClass('visible')) {\r\n\t\t\t\t\t$('.reseller-partners--legend').show();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($('.reseller-partners--legend').hasClass('visible')) {\r\n\t\t\t\t\t$('.reseller-partners--legend').hide();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Hide show on map button if map doesn't exist\r\n\t\t\tif (!$('#resellerMap').length) {\r\n\t\t\t\t$('.btn-map-show').hide();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$('.btn-map-show').show();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetPaddings(){\r\n\t\tlet $first = $('.partner-item').first();\r\n\t\tlet textWidth = $('.partner-item__detail .label', $first).first().width();\r\n\r\n\t\t$('.partner-item').map((i, ele) => {\r\n\t\t\t$('.partner-item__detail .label', $(ele)).map((j, label) => {\r\n\t\t\t\tif (textWidth < $(label).width()) {\r\n\t\t\t\t\ttextWidth = $(label).width();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttextWidth = textWidth;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tlet padding = textWidth + 10;\r\n\t\t$('.padded').css('padding-left', padding + 'px');\r\n\r\n\t\t$('.partner-item').map((i, ele) => {\r\n\t\t\tif ($(ele).find('.contact').length) {\r\n\t\t\t\tlet faxTextWidth = $('.partner-item__detail.fax .label', $(ele)).width();\r\n\t\t\t\tfaxTextWidth += 10;\r\n\t\t\t\t$('.padded-fax', $(ele)).css('padding-left', faxTextWidth + 'px');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$('.padded-fax', $(ele)).css('padding-left', padding + 'px');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tupdateOptions(data, $filter, label, template) {\r\n\t\tlet evalStr = template({data: data});\r\n\r\n\t\t$filter\r\n\t\t    .html(evalStr)\r\n\t\t    .prepend($('<option value=\"\" selected>' + label + '</option>'))\r\n\t\t    .parents('.input-group-select');\r\n\r\n\t\t$filter.prev().find('button').text(label);\r\n\t}\r\n\r\n\tgetResults(url, data, cb, type) {\r\n\t\t$.ajax({\r\n\t\t    url,\r\n\t\t    data,\r\n\t\t    dataType: 'json',\r\n\t\t    cache: false,\r\n\t\t    success: function(data) {\r\n\t\t    \tcb(data, type);\r\n\t\t    }\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// naver api: https://openapi.map.naver.com/openapi/v3/maps.js?clientId=\r\n// naver api: https://openapi.map.naver.com/openapi/v3/maps.js?clientId=YwbCpVG1dKxBUanw9Q8M&submodules=geocoder\r\n\r\n// baidu api: http://api.map.baidu.com/api?v=2.0&ak=GoR7N5kE8U0TVvsai7e6MO6d7iElyhQR\r\n\r\n// google api: https://maps.googleapis.com//maps/api/js?libraries=geometry&key=AIzaSyC3RU1ehPFevI1uGes49wIpZKhR7KHwrcI\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class TabCarousel {\r\n\tconstructor() {\r\n\t\tlet $tabsCarousel = $('.tab-carousel');\r\n\r\n\t\t$tabsCarousel.map((i,ele) => {\r\n\t\t\tlet $tabs = $('.tab-carousel__tabs ul li', $(ele));\r\n\r\n\t\t\tif($tabs.length){\r\n\t\t\t\tswitch($tabs.length) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t$tabs.css('width', '100%');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t$tabs.css('width', '50%');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t$tabs.css('width', '33.333333%');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t$tabs.css('width', '25%');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class Tabs {\r\n\tconstructor() {\r\n\t\tlet $tabsWrapper = $('.tab-wrapper'),\r\n\t\t\t$content = $('.tab-wrapper__contents', $tabsWrapper);\r\n\r\n\t\t$('> *:not(.active)', $content).fadeOut();\r\n\t\t$('.active', $content).fadeIn();\r\n\r\n\t\t$tabsWrapper.map((i,ele) => {\r\n\t\t\tlet $this = $(ele),\r\n\t\t\t\t$tabs = $('.tab-wrapper__tabs', $this),\r\n\t\t\t\t$content = $('.tab-wrapper__contents', $this);\r\n\r\n\t\t\t$('a.tab-controller', $tabs).map((i,ele) => {\r\n\t\t\t\tlet $thisTab = $(ele);\r\n\r\n\t\t\t\t$thisTab.on('click', (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tlet target = $thisTab.attr('href');\r\n\r\n\t\t\t\t\tthis.switchTabs($thisTab, target, $content, $tabs);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tswitchTabs($object, target, $content, $scope) {\r\n\t\tif(!$object.parent().hasClass('active')){\r\n\t\t\t//button handler\r\n\t\t\t$('.active', $scope).removeClass('active');\r\n\t\t\t$object.parent().addClass('active');\r\n\r\n\t\t\t// fade in fade out content\r\n\t\t\t$('.active', $content).fadeOut(300, function(){\r\n\t\t\t\t$('.active', $content).removeClass('active');\r\n\t\t\t\t$(target).fadeIn();\r\n\t\t\t\t$(target).addClass('active');\r\n\t\t\t\tif ($(target).find('.tabbed-carousel').length){\r\n\t\t\t\t\t$('.tabbed-carousel__items', $(target)).slick('setPosition');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class TableResponsive {\r\n\tconstructor() {\r\n\r\n\t\tlet $table = $('table');\r\n\r\n\t\t// window.emitter.on('openAccordion', () => {\r\n\t\t// \t$table.map((i, ele) => {\r\n\t\t// \t\tlet $this = $(ele);\r\n\r\n\t\t// \t\tif (!$this.closest('.table-responsive').length) {\r\n\t\t// \t\t\tif ($this.width() > $this.parent().width()) {\r\n\t\t// \t\t\t\t$this.wrap('<div class=\"table-responsive\"></div>');\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// });\r\n\r\n\t\t$(window).on('resize.tableResponsive', () => {\r\n\t\t\t$table.map((i, ele) => {\r\n\t\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t\tif (!$this.closest('.table-responsive').length) {\r\n\t\t\t\t\tif ($this.width() > $this.parent().width()) {\r\n\t\t\t\t\t\t$this.wrap('<div class=\"table-responsive\"></div>');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}).trigger('resize.tableResponsive');\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport 'jquery-match-height';\r\n\r\nexport default class ViewController {\r\n\tconstructor() {\r\n\t\tlet $viewController = $('.filter-item--view');\r\n\r\n\t\t$('> button', $viewController).map((i, ele) => {\r\n\t\t\tlet $this = $(ele);\r\n\r\n\t\t\t$this.on('click', () => {\r\n\t\t\t\tlet viewType = $this.data('view');\r\n\r\n\t\t\t\tif($this.hasClass('active')){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$this.parent().find('.active').removeClass('active');\r\n\t\t\t\t\t$this.addClass('active');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (viewType === 'list') {\r\n\t\t\t\t\t$('.content-holder').addClass('list');\r\n\r\n\t\t\t\t\t$('.card-tiles').each(function() {\r\n\t\t\t\t\t\tlet $this = $(this);\r\n\r\n\t\t\t\t\t\tif(!$('.card-tiles__image', $this).length){\r\n\t\t\t\t\t\t\tif(!$('.card-tiles__text', $this).hasClass('full')){\r\n\t\t\t\t\t\t\t\t$('.card-tiles__text', $this).addClass('full');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$('.content-holder').removeClass('list');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.match-height').matchHeight._update();\r\n\r\n\t\t\t});\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class WffmAddRemoveFields {\r\n\tconstructor() {\r\n\t\tlet\tcollapsibleFormLabels = JSON.parse($('#collapsibleFormLabels').html());\r\n\t\tlet $addRemoveFieldsForm = $('fieldset.CollapsibleFieldSet'),\r\n\t\t\t$form = $addRemoveFieldsForm.parent();\r\n\t\t\t// _moreSectionButton = `<span class=\"add-more-sections\" style=\"cursor: pointer; color: #d92231; display: none;\"> + ${collapsibleFormLabels.addSection}</span>`,\r\n\t\t\t// _lessSectionButton = `<span class=\"remove-one-section\" style=\"cursor: pointer; color: #d92231; padding-left: 15px; display: none;\"> - ${collapsibleFormLabels.removeSection}</span>`,\r\n\t\t\t// sectionCount = 1;\r\n\r\n\r\n\t\t// Append button if more than one field present\r\n\t\t// if($addRemoveFieldsForm.length > 1){\r\n\t\t\t// $('.form-submit-border').before(_moreSectionButton);\r\n\t\t\t// $('.form-submit-border').before(_lessSectionButton);\r\n\t\t\t// $('.add-more-sections', $form).show();\r\n\t\t\t// $('.remove-one-field', $this).hide();\r\n\t\t// }\r\n\r\n\t\t$addRemoveFieldsForm.map(function(i, ele) {\r\n\t\t\tlet $this = $(ele);\r\n\t\t\t$this.data('reset', 'true');\r\n\r\n\t\t\t// Hide all sections except first field\r\n\t\t\t// if(i != 0){\r\n\t\t\t// \t$this.hide();\r\n\t\t\t// }\r\n\r\n\t\t\t// For the fields\r\n\t\t\tlet $fields = $('.form-group', $this),\r\n\t\t\t\t_moreButton = `<span class=\"add-more-fields ${i}\" style=\"cursor: pointer; color: #d92231; display: none;\"> + ${collapsibleFormLabels.addField}</span>`,\r\n\t\t\t\t_deleteButton = `<span class=\"remove-one-field\" style=\"cursor: pointer; color: #d92231; padding-left: 15px; display: none;\"> - ${collapsibleFormLabels.removeField}</span>`,\r\n\t\t\t\tfieldsCount = 1;\r\n\r\n\t\t\t// Append button if more than one field present\r\n\t\t\tif($fields.length > 1){\r\n\t\t\t\t$this.append(_moreButton);\r\n\t\t\t\t$this.append(_deleteButton);\r\n\t\t\t\t$('.add-more-fields', $this).show();\r\n\t\t\t\t// $('.remove-one-field', $this).hide();\r\n\t\t\t}\r\n\r\n\t\t\t// Hide all fields except first field\r\n\t\t\t$fields.map(function(i, ele) {\r\n\t\t\t\tlet $thisField = $(ele);\r\n\r\n\t\t\t\tif(i != 0){\r\n\t\t\t\t\t$thisField.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Add one more field\r\n\t\t\t$('.add-more-fields', $this).on('click', function(){\r\n\t\t\t\tif($this.data('reset') === 'true'){\r\n\t\t\t\t\tfieldsCount = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(fieldsCount < $fields.length){\r\n\t\t\t\t\t$fields.eq(fieldsCount).show();\r\n\t\t\t\t\tfieldsCount++;\r\n\t\t\t\t\t$this.data('reset', 'false');\r\n\r\n\t\t\t\t\tif(fieldsCount == $fields.length){\r\n\t\t\t\t\t\t$('.add-more-fields', $this).hide();\r\n\t\t\t\t\t\t$('.remove-one-field', $this).css('padding-left', '0');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(fieldsCount >= 2){\r\n\t\t\t\t\t\t$('.remove-one-field', $this).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Remove one field\r\n\t\t\t$('.remove-one-field', $this).on('click', function(){\r\n\t\t\t\tif(fieldsCount > 1){\r\n\t\t\t\t\tfieldsCount--;\r\n\t\t\t\t\t$fields.eq(fieldsCount).hide();\r\n\t\t\t\t\t$fields.eq(fieldsCount).find('input').val('');\r\n\r\n\t\t\t\t\tif(fieldsCount < $fields.length){\r\n\t\t\t\t\t\t$('.add-more-fields', $this).show();\r\n\t\t\t\t\t\t$('.remove-one-field', $this).css('padding-left', '15px');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(fieldsCount < 2){\r\n\t\t\t\t\t\t$('.remove-one-field', $this).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// // Add one more section\r\n\t\t// $('.add-more-sections', $form).on('click', function(){\r\n\t\t// \tif(sectionCount < $addRemoveFieldsForm.length){\r\n\t\t// \t\t$addRemoveFieldsForm.eq(sectionCount).show();\r\n\t\t// \t\tsectionCount++;\r\n\r\n\t\t// \t\tif(sectionCount == $addRemoveFieldsForm.length){\r\n\t\t// \t\t\t$('.add-more-sections', $form).hide();\r\n\t\t// \t\t\t$('.remove-one-section', $form).css('padding-left', '0');\r\n\t\t// \t\t}\r\n\t\t// \t\tif(sectionCount >= 2){\r\n\t\t// \t\t\t$('.remove-one-section', $form).show();\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\t// // Remove one section\r\n\t\t// $('.remove-one-section', $form).on('click', function(){\r\n\t\t// \tif(sectionCount > 1){\r\n\t\t// \t\tsectionCount--;\r\n\t\t// \t\t$addRemoveFieldsForm.eq(sectionCount).hide();\r\n\t\t// \t\t$addRemoveFieldsForm.eq(sectionCount).find('input').val('');\r\n\r\n\t\t// \t\t// Hide all fields except first field in removed section\r\n\t\t// \t\t$addRemoveFieldsForm.eq(sectionCount).find('.form-group').map(function(i, ele) {\r\n\t\t// \t\t\tlet $clearThese = $(ele);\r\n\r\n\t\t// \t\t\t$addRemoveFieldsForm.eq(sectionCount).data('reset', 'true');\r\n\t\t// \t\t\t$('.remove-one-field', $addRemoveFieldsForm.eq(sectionCount)).hide();\r\n\r\n\t\t// \t\t\tif(i != 0){\r\n\t\t// \t\t\t\t$clearThese.hide();\r\n\t\t// \t\t\t}\r\n\t\t// \t\t});\r\n\r\n\t\t// \t\tif(sectionCount < $addRemoveFieldsForm.length){\r\n\t\t// \t\t\t$('.add-more-sections', $form).show();\r\n\t\t// \t\t\t$('.remove-one-section', $form).css('padding-left', '15px');\r\n\t\t// \t\t}\r\n\t\t// \t\tif(sectionCount < 2){\r\n\t\t// \t\t\t$('.remove-one-section', $form).hide();\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// });\r\n\t}\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGZhbmN5YXBwcy9mYW5jeWJveC9kaXN0L2pxdWVyeS5mYW5jeWJveC5qcyIsIm5vZGVfbW9kdWxlcy9kb3QvZG9ULmpzIiwibm9kZV9tb2R1bGVzL2VucXVpcmUuanMvc3JjL01lZGlhUXVlcnkuanMiLCJub2RlX21vZHVsZXMvZW5xdWlyZS5qcy9zcmMvTWVkaWFRdWVyeURpc3BhdGNoLmpzIiwibm9kZV9tb2R1bGVzL2VucXVpcmUuanMvc3JjL1F1ZXJ5SGFuZGxlci5qcyIsIm5vZGVfbW9kdWxlcy9lbnF1aXJlLmpzL3NyYy9VdGlsLmpzIiwibm9kZV9tb2R1bGVzL2VucXVpcmUuanMvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS1tYXRjaC1oZWlnaHQvZGlzdC9qcXVlcnkubWF0Y2hIZWlnaHQuanMiLCJub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzIiwibm9kZV9tb2R1bGVzL2pzLWNvb2tpZS9zcmMvanMuY29va2llLmpzIiwibm9kZV9tb2R1bGVzL2pzb24tcXVlcnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvanNvbi1xdWVyeS9saWIvZGVwdGgtc3BsaXQuanMiLCJub2RlX21vZHVsZXMvanNvbi1xdWVyeS9saWIvc3RhdGUuanMiLCJub2RlX21vZHVsZXMvanNvbi1xdWVyeS9saWIvdG9rZW5pemUuanMiLCJub2RlX21vZHVsZXMvbWF0Y2gtbWVkaWEvbWF0Y2hNZWRpYS5qcyIsIm5vZGVfbW9kdWxlcy9vYmplY3QtZml0LWltYWdlcy9kaXN0L29maS5jb21tb24tanMuanMiLCJub2RlX21vZHVsZXMvb2JqZWN0LWZpdC12aWRlb3Mvb2JqZWN0LWZpdC12aWRlb3MuanMiLCJub2RlX21vZHVsZXMvc2xpY2stY2Fyb3VzZWwvc2xpY2svc2xpY2suanMiLCJub2RlX21vZHVsZXMvdGFibGVzb3J0ZXIvZGlzdC9qcy9qcXVlcnkudGFibGVzb3J0ZXIuY29tYmluZWQuanMiLCJzcmMvX2pzL2Z1amkteGVyb3guanMiLCJzcmMvX21vZHVsZXMvY2xvbmUtc2VsZWN0L2Nsb25lLXNlbGVjdC5qcyIsInNyYy9fbW9kdWxlcy9tb2xlY3VsZXMvY29tcGFyZS1pdGVtL2NvbXBhcmUtaXRlbS5qcyIsInNyYy9fbW9kdWxlcy9tb2xlY3VsZXMvbGlzdGluZy1zb3J0ZXIvbGlzdGluZy1zb3J0ZXIuanMiLCJzcmMvX21vZHVsZXMvbW9sZWN1bGVzL25hdi10YWJzLWFuY2hvci9uYXYtdGFicy1hbmNob3IuanMiLCJzcmMvX21vZHVsZXMvbW9sZWN1bGVzL3Byb2R1Y3QtaXRlbS9wcm9kdWN0LWl0ZW0uanMiLCJzcmMvX21vZHVsZXMvbW9sZWN1bGVzL3F1ZXN0aW9uLWl0ZW0vcXVlc3Rpb24taXRlbS5qcyIsInNyYy9fbW9kdWxlcy9tb2xlY3VsZXMvc3Vic2NyaWJlLWZvcm0vc3Vic2NyaWJlLWZvcm0uanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL2FjY29yZGlvbi13cmFwcGVyL2FjY29yZGlvbi13cmFwcGVyLmpzIiwic3JjL19tb2R1bGVzL29yZ2FuaXNtcy9hZ2VuZGEvYWdlbmRhLmpzIiwic3JjL19tb2R1bGVzL29yZ2FuaXNtcy9hbGlwYXktZm9ybS9hbGlwYXktZm9ybS5qcyIsInNyYy9fbW9kdWxlcy9vcmdhbmlzbXMvY2Fyb3VzZWwvY2Fyb3VzZWwuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL2ZlYXR1cmVkLXNwZWFrZXJzL2ZlYXR1cmVkLXNwZWFrZXJzLmpzIiwic3JjL19tb2R1bGVzL29yZ2FuaXNtcy9mb3JtL2Zvcm0uanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL2ltYWdlLWxpbmtzLXdyYXBwZXIvaW1hZ2UtbGlua3Mtd3JhcHBlci5qcyIsInNyYy9fbW9kdWxlcy9vcmdhbmlzbXMvaW5zaWdodC1jb21wb25lbnQvaW5zaWdodC1jb21wb25lbnQuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL2xpc3RpbmctZmlsdGVycy9saXN0aW5nLWZpbHRlcnMuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL2xpc3RpbmctcmVzdWx0cy9saXN0aW5nLXJlc3VsdHMuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL21hcHBlci9tYXBwZXIuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL21vZGFsL21vZGFsLmpzIiwic3JjL19tb2R1bGVzL29yZ2FuaXNtcy9uZXdzcm9vbS13cmFwcGVyL25ld3Nyb29tLXdyYXBwZXIuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL3Byb2R1Y3QtZmluZGVyLWNvbXBhcmUvcHJvZHVjdC1maW5kZXItY29tcGFyZS5qcyIsInNyYy9fbW9kdWxlcy9vcmdhbmlzbXMvcHJvZHVjdC1maW5kZXIvcHJvZHVjdC1maW5kZXIuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL3Jlc2VsbGVyLWxvY2F0b3IvcmVzZWxsZXItbG9jYXRvci5qcyIsInNyYy9fbW9kdWxlcy9vcmdhbmlzbXMvc2l0ZS1oZWFkZXIvc2l0ZS1oZWFkZXIuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL3NvbHV0aW9ucy1zZXJ2aWNlcy9zb2x1dGlvbnMtc2VydmljZXMuanMiLCJzcmMvX21vZHVsZXMvb3JnYW5pc21zL3N0b3JlLWxvY2F0b3Ivc3RvcmUtbG9jYXRvci5qcyIsInNyYy9fbW9kdWxlcy9vcmdhbmlzbXMvdGFiLWNhcm91c2VsL3RhYi1jYXJvdXNlbC5qcyIsInNyYy9fbW9kdWxlcy9vcmdhbmlzbXMvdGFicy90YWJzLmpzIiwic3JjL19tb2R1bGVzL3RhYmxlLXJlc3BvbnNpdmUvdGFibGUtcmVzcG9uc2l2ZS5qcyIsInNyYy9fbW9kdWxlcy92aWV3LWNvbnRyb2xsZXIvdmlldy1jb250cm9sbGVyLmpzIiwic3JjL19tb2R1bGVzL3dmZm0tYWRkLXJlbW92ZS1maWVsZHMvd2ZmbS1hZGQtcmVtb3ZlLWZpZWxkcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2xnTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcFlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1K1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdk9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ244RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3o4TEE7QUFDQTs7QUFFQTs7QUFFQTs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFHQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBdEJBO0FBd0JBLENBQUMsVUFBUyxD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QUFDQTtBQUNEO0FBQ0QsR0FkRDtBQWVBLEVBckVEOztBQXVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7a0JBckltQixtQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxuOyBqUXVlcnkgPSBnbG9iYWwualF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbjsgdmFyIF9fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1yZXF1aXJlOyhmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGRlZmluZSwgcmVxdWlyZSkge1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIGZhbmN5Qm94IHYzLjUuMlxuLy9cbi8vIExpY2Vuc2VkIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2Vcbi8vIG9yIGZhbmN5Qm94IENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2Vcbi8vXG4vLyBodHRwOi8vZmFuY3lhcHBzLmNvbS9mYW5jeWJveC9cbi8vIENvcHlyaWdodCAyMDE4IGZhbmN5QXBwc1xuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgJCwgdW5kZWZpbmVkKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIHdpbmRvdy5jb25zb2xlID0gd2luZG93LmNvbnNvbGUgfHwge1xyXG4gICAgaW5mbzogZnVuY3Rpb24oc3R1ZmYpIHt9XHJcbiAgfTtcclxuXHJcbiAgLy8gSWYgdGhlcmUncyBubyBqUXVlcnksIGZhbmN5Qm94IGNhbid0IHdvcmtcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBpZiAoISQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGZhbmN5Qm94IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWRcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGlmICgkLmZuLmZhbmN5Ym94KSB7XHJcbiAgICBjb25zb2xlLmluZm8oXCJmYW5jeUJveCBhbHJlYWR5IGluaXRpYWxpemVkXCIpO1xyXG5cclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIFByaXZhdGUgZGVmYXVsdCBzZXR0aW5nc1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAvLyBDbG9zZSBleGlzdGluZyBtb2RhbHNcclxuICAgIC8vIFNldCB0aGlzIHRvIGZhbHNlIGlmIHlvdSBkbyBub3QgbmVlZCB0byBzdGFjayBtdWx0aXBsZSBpbnN0YW5jZXNcclxuICAgIGNsb3NlRXhpc3Rpbmc6IGZhbHNlLFxyXG5cclxuICAgIC8vIEVuYWJsZSBpbmZpbml0ZSBnYWxsZXJ5IG5hdmlnYXRpb25cclxuICAgIGxvb3A6IGZhbHNlLFxyXG5cclxuICAgIC8vIEhvcml6b250YWwgc3BhY2UgYmV0d2VlbiBzbGlkZXNcclxuICAgIGd1dHRlcjogNTAsXHJcblxyXG4gICAgLy8gRW5hYmxlIGtleWJvYXJkIG5hdmlnYXRpb25cclxuICAgIGtleWJvYXJkOiB0cnVlLFxyXG5cclxuICAgIC8vIFNob3VsZCBhbGxvdyBjYXB0aW9uIHRvIG92ZXJsYXAgdGhlIGNvbnRlbnRcclxuICAgIHByZXZlbnRDYXB0aW9uT3ZlcmxhcDogdHJ1ZSxcclxuXHJcbiAgICAvLyBTaG91bGQgZGlzcGxheSBuYXZpZ2F0aW9uIGFycm93cyBhdCB0aGUgc2NyZWVuIGVkZ2VzXHJcbiAgICBhcnJvd3M6IHRydWUsXHJcblxyXG4gICAgLy8gU2hvdWxkIGRpc3BsYXkgY291bnRlciBhdCB0aGUgdG9wIGxlZnQgY29ybmVyXHJcbiAgICBpbmZvYmFyOiB0cnVlLFxyXG5cclxuICAgIC8vIFNob3VsZCBkaXNwbGF5IGNsb3NlIGJ1dHRvbiAodXNpbmcgYGJ0blRwbC5zbWFsbEJ0bmAgdGVtcGxhdGUpIG92ZXIgdGhlIGNvbnRlbnRcclxuICAgIC8vIENhbiBiZSB0cnVlLCBmYWxzZSwgXCJhdXRvXCJcclxuICAgIC8vIElmIFwiYXV0b1wiIC0gd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGVuYWJsZWQgZm9yIFwiaHRtbFwiLCBcImlubGluZVwiIG9yIFwiYWpheFwiIGl0ZW1zXHJcbiAgICBzbWFsbEJ0bjogXCJhdXRvXCIsXHJcblxyXG4gICAgLy8gU2hvdWxkIGRpc3BsYXkgdG9vbGJhciAoYnV0dG9ucyBhdCB0aGUgdG9wKVxyXG4gICAgLy8gQ2FuIGJlIHRydWUsIGZhbHNlLCBcImF1dG9cIlxyXG4gICAgLy8gSWYgXCJhdXRvXCIgLSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaGlkZGVuIGlmIFwic21hbGxCdG5cIiBpcyBlbmFibGVkXHJcbiAgICB0b29sYmFyOiBcImF1dG9cIixcclxuXHJcbiAgICAvLyBXaGF0IGJ1dHRvbnMgc2hvdWxkIGFwcGVhciBpbiB0aGUgdG9wIHJpZ2h0IGNvcm5lci5cclxuICAgIC8vIEJ1dHRvbnMgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRlbXBsYXRlcyBmcm9tIGBidG5UcGxgIG9wdGlvblxyXG4gICAgLy8gYW5kIHRoZXkgd2lsbCBiZSBwbGFjZWQgaW50byB0b29sYmFyIChjbGFzcz1cImZhbmN5Ym94LXRvb2xiYXJcImAgZWxlbWVudClcclxuICAgIGJ1dHRvbnM6IFtcclxuICAgICAgXCJ6b29tXCIsXHJcbiAgICAgIC8vXCJzaGFyZVwiLFxyXG4gICAgICBcInNsaWRlU2hvd1wiLFxyXG4gICAgICAvL1wiZnVsbFNjcmVlblwiLFxyXG4gICAgICAvL1wiZG93bmxvYWRcIixcclxuICAgICAgXCJ0aHVtYnNcIixcclxuICAgICAgXCJjbG9zZVwiXHJcbiAgICBdLFxyXG5cclxuICAgIC8vIERldGVjdCBcImlkbGVcIiB0aW1lIGluIHNlY29uZHNcclxuICAgIGlkbGVUaW1lOiAzLFxyXG5cclxuICAgIC8vIERpc2FibGUgcmlnaHQtY2xpY2sgYW5kIHVzZSBzaW1wbGUgaW1hZ2UgcHJvdGVjdGlvbiBmb3IgaW1hZ2VzXHJcbiAgICBwcm90ZWN0OiBmYWxzZSxcclxuXHJcbiAgICAvLyBTaG9ydGN1dCB0byBtYWtlIGNvbnRlbnQgXCJtb2RhbFwiIC0gZGlzYWJsZSBrZXlib2FyZCBuYXZpZ3Rpb24sIGhpZGUgYnV0dG9ucywgZXRjXHJcbiAgICBtb2RhbDogZmFsc2UsXHJcblxyXG4gICAgaW1hZ2U6IHtcclxuICAgICAgLy8gV2FpdCBmb3IgaW1hZ2VzIHRvIGxvYWQgYmVmb3JlIGRpc3BsYXlpbmdcclxuICAgICAgLy8gICB0cnVlICAtIHdhaXQgZm9yIGltYWdlIHRvIGxvYWQgYW5kIHRoZW4gZGlzcGxheTtcclxuICAgICAgLy8gICBmYWxzZSAtIGRpc3BsYXkgdGh1bWJuYWlsIGFuZCBsb2FkIHRoZSBmdWxsLXNpemVkIGltYWdlIG92ZXIgdG9wLFxyXG4gICAgICAvLyAgICAgICAgICAgcmVxdWlyZXMgcHJlZGVmaW5lZCBpbWFnZSBkaW1lbnNpb25zIChgZGF0YS13aWR0aGAgYW5kIGBkYXRhLWhlaWdodGAgYXR0cmlidXRlcylcclxuICAgICAgcHJlbG9hZDogZmFsc2VcclxuICAgIH0sXHJcblxyXG4gICAgYWpheDoge1xyXG4gICAgICAvLyBPYmplY3QgY29udGFpbmluZyBzZXR0aW5ncyBmb3IgYWpheCByZXF1ZXN0XHJcbiAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgLy8gVGhpcyBoZWxwcyB0byBpbmRpY2F0ZSB0aGF0IHJlcXVlc3QgY29tZXMgZnJvbSB0aGUgbW9kYWxcclxuICAgICAgICAvLyBGZWVsIGZyZWUgdG8gY2hhbmdlIG5hbWluZ1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGZhbmN5Ym94OiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGlmcmFtZToge1xyXG4gICAgICAvLyBJZnJhbWUgdGVtcGxhdGVcclxuICAgICAgdHBsOlxyXG4gICAgICAgICc8aWZyYW1lIGlkPVwiZmFuY3lib3gtZnJhbWV7cm5kfVwiIG5hbWU9XCJmYW5jeWJveC1mcmFtZXtybmR9XCIgY2xhc3M9XCJmYW5jeWJveC1pZnJhbWVcIiBhbGxvd2Z1bGxzY3JlZW4gYWxsb3c9XCJhdXRvcGxheTsgZnVsbHNjcmVlblwiIHNyYz1cIlwiPjwvaWZyYW1lPicsXHJcblxyXG4gICAgICAvLyBQcmVsb2FkIGlmcmFtZSBiZWZvcmUgZGlzcGxheWluZyBpdFxyXG4gICAgICAvLyBUaGlzIGFsbG93cyB0byBjYWxjdWxhdGUgaWZyYW1lIGNvbnRlbnQgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgICAvLyAobm90ZTogRHVlIHRvIFwiU2FtZSBPcmlnaW4gUG9saWN5XCIsIHlvdSBjYW4ndCBnZXQgY3Jvc3MgZG9tYWluIGRhdGEpLlxyXG4gICAgICBwcmVsb2FkOiB0cnVlLFxyXG5cclxuICAgICAgLy8gQ3VzdG9tIENTUyBzdHlsaW5nIGZvciBpZnJhbWUgd3JhcHBpbmcgZWxlbWVudFxyXG4gICAgICAvLyBZb3UgY2FuIHVzZSB0aGlzIHRvIHNldCBjdXN0b20gaWZyYW1lIGRpbWVuc2lvbnNcclxuICAgICAgY3NzOiB7fSxcclxuXHJcbiAgICAgIC8vIElmcmFtZSB0YWcgYXR0cmlidXRlc1xyXG4gICAgICBhdHRyOiB7XHJcbiAgICAgICAgc2Nyb2xsaW5nOiBcImF1dG9cIlxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEZvciBIVE1MNSB2aWRlbyBvbmx5XHJcbiAgICB2aWRlbzoge1xyXG4gICAgICB0cGw6XHJcbiAgICAgICAgJzx2aWRlbyBjbGFzcz1cImZhbmN5Ym94LXZpZGVvXCIgY29udHJvbHMgY29udHJvbHNMaXN0PVwibm9kb3dubG9hZFwiIHBvc3Rlcj1cInt7cG9zdGVyfX1cIj4nICtcclxuICAgICAgICAnPHNvdXJjZSBzcmM9XCJ7e3NyY319XCIgdHlwZT1cInt7Zm9ybWF0fX1cIiAvPicgK1xyXG4gICAgICAgICdTb3JyeSwgeW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGVtYmVkZGVkIHZpZGVvcywgPGEgaHJlZj1cInt7c3JjfX1cIj5kb3dubG9hZDwvYT4gYW5kIHdhdGNoIHdpdGggeW91ciBmYXZvcml0ZSB2aWRlbyBwbGF5ZXIhJyArXHJcbiAgICAgICAgXCI8L3ZpZGVvPlwiLFxyXG4gICAgICBmb3JtYXQ6IFwiXCIsIC8vIGN1c3RvbSB2aWRlbyBmb3JtYXRcclxuICAgICAgYXV0b1N0YXJ0OiB0cnVlXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIERlZmF1bHQgY29udGVudCB0eXBlIGlmIGNhbm5vdCBiZSBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5XHJcbiAgICBkZWZhdWx0VHlwZTogXCJpbWFnZVwiLFxyXG5cclxuICAgIC8vIE9wZW4vY2xvc2UgYW5pbWF0aW9uIHR5cGVcclxuICAgIC8vIFBvc3NpYmxlIHZhbHVlczpcclxuICAgIC8vICAgZmFsc2UgICAgICAgICAgICAtIGRpc2FibGVcclxuICAgIC8vICAgXCJ6b29tXCIgICAgICAgICAgIC0gem9vbSBpbWFnZXMgZnJvbS90byB0aHVtYm5haWxcclxuICAgIC8vICAgXCJmYWRlXCJcclxuICAgIC8vICAgXCJ6b29tLWluLW91dFwiXHJcbiAgICAvL1xyXG4gICAgYW5pbWF0aW9uRWZmZWN0OiBcInpvb21cIixcclxuXHJcbiAgICAvLyBEdXJhdGlvbiBpbiBtcyBmb3Igb3Blbi9jbG9zZSBhbmltYXRpb25cclxuICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAzNjYsXHJcblxyXG4gICAgLy8gU2hvdWxkIGltYWdlIGNoYW5nZSBvcGFjaXR5IHdoaWxlIHpvb21pbmdcclxuICAgIC8vIElmIG9wYWNpdHkgaXMgXCJhdXRvXCIsIHRoZW4gb3BhY2l0eSB3aWxsIGJlIGNoYW5nZWQgaWYgaW1hZ2UgYW5kIHRodW1ibmFpbCBoYXZlIGRpZmZlcmVudCBhc3BlY3QgcmF0aW9zXHJcbiAgICB6b29tT3BhY2l0eTogXCJhdXRvXCIsXHJcblxyXG4gICAgLy8gVHJhbnNpdGlvbiBlZmZlY3QgYmV0d2VlbiBzbGlkZXNcclxuICAgIC8vXHJcbiAgICAvLyBQb3NzaWJsZSB2YWx1ZXM6XHJcbiAgICAvLyAgIGZhbHNlICAgICAgICAgICAgLSBkaXNhYmxlXHJcbiAgICAvLyAgIFwiZmFkZSdcclxuICAgIC8vICAgXCJzbGlkZSdcclxuICAgIC8vICAgXCJjaXJjdWxhcidcclxuICAgIC8vICAgXCJ0dWJlJ1xyXG4gICAgLy8gICBcInpvb20taW4tb3V0J1xyXG4gICAgLy8gICBcInJvdGF0ZSdcclxuICAgIC8vXHJcbiAgICB0cmFuc2l0aW9uRWZmZWN0OiBcImZhZGVcIixcclxuXHJcbiAgICAvLyBEdXJhdGlvbiBpbiBtcyBmb3IgdHJhbnNpdGlvbiBhbmltYXRpb25cclxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMzY2LFxyXG5cclxuICAgIC8vIEN1c3RvbSBDU1MgY2xhc3MgZm9yIHNsaWRlIGVsZW1lbnRcclxuICAgIHNsaWRlQ2xhc3M6IFwiXCIsXHJcblxyXG4gICAgLy8gQ3VzdG9tIENTUyBjbGFzcyBmb3IgbGF5b3V0XHJcbiAgICBiYXNlQ2xhc3M6IFwiXCIsXHJcblxyXG4gICAgLy8gQmFzZSB0ZW1wbGF0ZSBmb3IgbGF5b3V0XHJcbiAgICBiYXNlVHBsOlxyXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiB0YWJpbmRleD1cIi0xXCI+JyArXHJcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtYmdcIj48L2Rpdj4nICtcclxuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1pbm5lclwiPicgK1xyXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWluZm9iYXJcIj48c3BhbiBkYXRhLWZhbmN5Ym94LWluZGV4Pjwvc3Bhbj4mbmJzcDsvJm5ic3A7PHNwYW4gZGF0YS1mYW5jeWJveC1jb3VudD48L3NwYW4+PC9kaXY+JyArXHJcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtdG9vbGJhclwiPnt7YnV0dG9uc319PC9kaXY+JyArXHJcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtbmF2aWdhdGlvblwiPnt7YXJyb3dzfX08L2Rpdj4nICtcclxuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1zdGFnZVwiPjwvZGl2PicgK1xyXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNhcHRpb25cIj48L2Rpdj4nICtcclxuICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgIFwiPC9kaXY+XCIsXHJcblxyXG4gICAgLy8gTG9hZGluZyBpbmRpY2F0b3IgdGVtcGxhdGVcclxuICAgIHNwaW5uZXJUcGw6ICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtbG9hZGluZ1wiPjwvZGl2PicsXHJcblxyXG4gICAgLy8gRXJyb3IgbWVzc2FnZSB0ZW1wbGF0ZVxyXG4gICAgZXJyb3JUcGw6ICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtZXJyb3JcIj48cD57e0VSUk9SfX08L3A+PC9kaXY+JyxcclxuXHJcbiAgICBidG5UcGw6IHtcclxuICAgICAgZG93bmxvYWQ6XHJcbiAgICAgICAgJzxhIGRvd25sb2FkIGRhdGEtZmFuY3lib3gtZG93bmxvYWQgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1kb3dubG9hZFwiIHRpdGxlPVwie3tET1dOTE9BRH19XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPicgK1xyXG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xOC42MiAxNy4wOVYxOUg1LjM4di0xLjkxem0tMi45Ny02Ljk2TDE3IDExLjQ1bC01IDQuODctNS00Ljg3IDEuMzYtMS4zMiAyLjY4IDIuNjRWNWgxLjkydjcuNzd6XCIvPjwvc3ZnPicgK1xyXG4gICAgICAgIFwiPC9hPlwiLFxyXG5cclxuICAgICAgem9vbTpcclxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXpvb20gY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS16b29tXCIgdGl0bGU9XCJ7e1pPT019fVwiPicgK1xyXG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xOC43IDE3LjNsLTMtM2E1LjkgNS45IDAgMCAwLS42LTcuNiA1LjkgNS45IDAgMCAwLTguNCAwIDUuOSA1LjkgMCAwIDAgMCA4LjQgNS45IDUuOSAwIDAgMCA3LjcuN2wzIDNhMSAxIDAgMCAwIDEuMyAwYy40LS41LjQtMSAwLTEuNXpNOC4xIDEzLjhhNCA0IDAgMCAxIDAtNS43IDQgNCAwIDAgMSA1LjcgMCA0IDQgMCAwIDEgMCA1LjcgNCA0IDAgMCAxLTUuNyAwelwiLz48L3N2Zz4nICtcclxuICAgICAgICBcIjwvYnV0dG9uPlwiLFxyXG5cclxuICAgICAgY2xvc2U6XHJcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1jbG9zZSBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWNsb3NlXCIgdGl0bGU9XCJ7e0NMT1NFfX1cIj4nICtcclxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTIgMTAuNkw2LjYgNS4yIDUuMiA2LjZsNS40IDUuNC01LjQgNS40IDEuNCAxLjQgNS40LTUuNCA1LjQgNS40IDEuNC0xLjQtNS40LTUuNCA1LjQtNS40LTEuNC0xLjQtNS40IDUuNHpcIi8+PC9zdmc+JyArXHJcbiAgICAgICAgXCI8L2J1dHRvbj5cIixcclxuXHJcbiAgICAgIC8vIEFycm93c1xyXG4gICAgICBhcnJvd0xlZnQ6XHJcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1wcmV2IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfbGVmdFwiIHRpdGxlPVwie3tQUkVWfX1cIj4nICtcclxuICAgICAgICAnPGRpdj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xMS4yOCAxNS43bC0xLjM0IDEuMzdMNSAxMmw0Ljk0LTUuMDcgMS4zNCAxLjM4LTIuNjggMi43MkgxOXYxLjk0SDguNnpcIi8+PC9zdmc+PC9kaXY+JyArXHJcbiAgICAgICAgXCI8L2J1dHRvbj5cIixcclxuXHJcbiAgICAgIGFycm93UmlnaHQ6XHJcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1uZXh0IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfcmlnaHRcIiB0aXRsZT1cInt7TkVYVH19XCI+JyArXHJcbiAgICAgICAgJzxkaXY+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUuNCAxMi45N2wtMi42OCAyLjcyIDEuMzQgMS4zOEwxOSAxMmwtNC45NC01LjA3LTEuMzQgMS4zOCAyLjY4IDIuNzJINXYxLjk0elwiLz48L3N2Zz48L2Rpdj4nICtcclxuICAgICAgICBcIjwvYnV0dG9uPlwiLFxyXG5cclxuICAgICAgLy8gVGhpcyBzbWFsbCBjbG9zZSBidXR0b24gd2lsbCBiZSBhcHBlbmRlZCB0byB5b3VyIGh0bWwvaW5saW5lL2FqYXggY29udGVudCBieSBkZWZhdWx0LFxyXG4gICAgICAvLyBpZiBcInNtYWxsQnRuXCIgb3B0aW9uIGlzIG5vdCBzZXQgdG8gZmFsc2VcclxuICAgICAgc21hbGxCdG46XHJcbiAgICAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtZmFuY3lib3gtY2xvc2UgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtY2xvc2Utc21hbGxcIiB0aXRsZT1cInt7Q0xPU0V9fVwiPicgK1xyXG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEzIDEybDUtNS0xLTEtNSA1LTUtNS0xIDEgNSA1LTUgNSAxIDEgNS01IDUgNSAxLTF6XCIvPjwvc3ZnPicgK1xyXG4gICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ29udGFpbmVyIGlzIGluamVjdGVkIGludG8gdGhpcyBlbGVtZW50XHJcbiAgICBwYXJlbnRFbDogXCJib2R5XCIsXHJcblxyXG4gICAgLy8gSGlkZSBicm93c2VyIHZlcnRpY2FsIHNjcm9sbGJhcnM7IHVzZSBhdCB5b3VyIG93biByaXNrXHJcbiAgICBoaWRlU2Nyb2xsYmFyOiB0cnVlLFxyXG5cclxuICAgIC8vIEZvY3VzIGhhbmRsaW5nXHJcbiAgICAvLyA9PT09PT09PT09PT09PVxyXG5cclxuICAgIC8vIFRyeSB0byBmb2N1cyBvbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgYWZ0ZXIgb3BlbmluZ1xyXG4gICAgYXV0b0ZvY3VzOiB0cnVlLFxyXG5cclxuICAgIC8vIFB1dCBmb2N1cyBiYWNrIHRvIGFjdGl2ZSBlbGVtZW50IGFmdGVyIGNsb3NpbmdcclxuICAgIGJhY2tGb2N1czogdHJ1ZSxcclxuXHJcbiAgICAvLyBEbyBub3QgbGV0IHVzZXIgdG8gZm9jdXMgb24gZWxlbWVudCBvdXRzaWRlIG1vZGFsIGNvbnRlbnRcclxuICAgIHRyYXBGb2N1czogdHJ1ZSxcclxuXHJcbiAgICAvLyBNb2R1bGUgc3BlY2lmaWMgb3B0aW9uc1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBmdWxsU2NyZWVuOiB7XHJcbiAgICAgIGF1dG9TdGFydDogZmFsc2VcclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2V0IGB0b3VjaDogZmFsc2VgIHRvIGRpc2FibGUgcGFubmluZy9zd2lwaW5nXHJcbiAgICB0b3VjaDoge1xyXG4gICAgICB2ZXJ0aWNhbDogdHJ1ZSwgLy8gQWxsb3cgdG8gZHJhZyBjb250ZW50IHZlcnRpY2FsbHlcclxuICAgICAgbW9tZW50dW06IHRydWUgLy8gQ29udGludWUgbW92ZW1lbnQgYWZ0ZXIgcmVsZWFzaW5nIG1vdXNlL3RvdWNoIHdoZW4gcGFubmluZ1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBIYXNoIHZhbHVlIHdoZW4gaW5pdGlhbGl6aW5nIG1hbnVhbGx5LFxyXG4gICAgLy8gc2V0IGBmYWxzZWAgdG8gZGlzYWJsZSBoYXNoIGNoYW5nZVxyXG4gICAgaGFzaDogbnVsbCxcclxuXHJcbiAgICAvLyBDdXN0b21pemUgb3IgYWRkIG5ldyBtZWRpYSB0eXBlc1xyXG4gICAgLy8gRXhhbXBsZTpcclxuICAgIC8qXHJcbiAgICAgIG1lZGlhIDoge1xyXG4gICAgICAgIHlvdXR1YmUgOiB7XHJcbiAgICAgICAgICBwYXJhbXMgOiB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5IDogMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKi9cclxuICAgIG1lZGlhOiB7fSxcclxuXHJcbiAgICBzbGlkZVNob3c6IHtcclxuICAgICAgYXV0b1N0YXJ0OiBmYWxzZSxcclxuICAgICAgc3BlZWQ6IDMwMDBcclxuICAgIH0sXHJcblxyXG4gICAgdGh1bWJzOiB7XHJcbiAgICAgIGF1dG9TdGFydDogZmFsc2UsIC8vIERpc3BsYXkgdGh1bWJuYWlscyBvbiBvcGVuaW5nXHJcbiAgICAgIGhpZGVPbkNsb3NlOiB0cnVlLCAvLyBIaWRlIHRodW1ibmFpbCBncmlkIHdoZW4gY2xvc2luZyBhbmltYXRpb24gc3RhcnRzXHJcbiAgICAgIHBhcmVudEVsOiBcIi5mYW5jeWJveC1jb250YWluZXJcIiwgLy8gQ29udGFpbmVyIGlzIGluamVjdGVkIGludG8gdGhpcyBlbGVtZW50XHJcbiAgICAgIGF4aXM6IFwieVwiIC8vIFZlcnRpY2FsICh5KSBvciBob3Jpem9udGFsICh4KSBzY3JvbGxpbmdcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVXNlIG1vdXNld2hlZWwgdG8gbmF2aWdhdGUgZ2FsbGVyeVxyXG4gICAgLy8gSWYgJ2F1dG8nIC0gZW5hYmxlZCBmb3IgaW1hZ2VzIG9ubHlcclxuICAgIHdoZWVsOiBcImF1dG9cIixcclxuXHJcbiAgICAvLyBDYWxsYmFja3NcclxuICAgIC8vPT09PT09PT09PVxyXG5cclxuICAgIC8vIFNlZSBEb2N1bWVudGF0aW9uL0FQSS9FdmVudHMgZm9yIG1vcmUgaW5mb3JtYXRpb25cclxuICAgIC8vIEV4YW1wbGU6XHJcbiAgICAvKlxyXG4gICAgICBhZnRlclNob3c6IGZ1bmN0aW9uKCBpbnN0YW5jZSwgY3VycmVudCApIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oICdDbGlja2VkIGVsZW1lbnQ6JyApO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyggY3VycmVudC5vcHRzLiRvcmlnICk7XHJcbiAgICAgIH1cclxuICAgICovXHJcblxyXG4gICAgb25Jbml0OiAkLm5vb3AsIC8vIFdoZW4gaW5zdGFuY2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcclxuXHJcbiAgICBiZWZvcmVMb2FkOiAkLm5vb3AsIC8vIEJlZm9yZSB0aGUgY29udGVudCBvZiBhIHNsaWRlIGlzIGJlaW5nIGxvYWRlZFxyXG4gICAgYWZ0ZXJMb2FkOiAkLm5vb3AsIC8vIFdoZW4gdGhlIGNvbnRlbnQgb2YgYSBzbGlkZSBpcyBkb25lIGxvYWRpbmdcclxuXHJcbiAgICBiZWZvcmVTaG93OiAkLm5vb3AsIC8vIEJlZm9yZSBvcGVuIGFuaW1hdGlvbiBzdGFydHNcclxuICAgIGFmdGVyU2hvdzogJC5ub29wLCAvLyBXaGVuIGNvbnRlbnQgaXMgZG9uZSBsb2FkaW5nIGFuZCBhbmltYXRpbmdcclxuXHJcbiAgICBiZWZvcmVDbG9zZTogJC5ub29wLCAvLyBCZWZvcmUgdGhlIGluc3RhbmNlIGF0dGVtcHRzIHRvIGNsb3NlLiBSZXR1cm4gZmFsc2UgdG8gY2FuY2VsIHRoZSBjbG9zZS5cclxuICAgIGFmdGVyQ2xvc2U6ICQubm9vcCwgLy8gQWZ0ZXIgaW5zdGFuY2UgaGFzIGJlZW4gY2xvc2VkXHJcblxyXG4gICAgb25BY3RpdmF0ZTogJC5ub29wLCAvLyBXaGVuIGluc3RhbmNlIGlzIGJyb3VnaHQgdG8gZnJvbnRcclxuICAgIG9uRGVhY3RpdmF0ZTogJC5ub29wLCAvLyBXaGVuIG90aGVyIGluc3RhbmNlIGhhcyBiZWVuIGFjdGl2YXRlZFxyXG5cclxuICAgIC8vIEludGVyYWN0aW9uXHJcbiAgICAvLyA9PT09PT09PT09PVxyXG5cclxuICAgIC8vIFVzZSBvcHRpb25zIGJlbG93IHRvIGN1c3RvbWl6ZSB0YWtlbiBhY3Rpb24gd2hlbiB1c2VyIGNsaWNrcyBvciBkb3VibGUgY2xpY2tzIG9uIHRoZSBmYW5jeUJveCBhcmVhLFxyXG4gICAgLy8gZWFjaCBvcHRpb24gY2FuIGJlIHN0cmluZyBvciBtZXRob2QgdGhhdCByZXR1cm5zIHZhbHVlLlxyXG4gICAgLy9cclxuICAgIC8vIFBvc3NpYmxlIHZhbHVlczpcclxuICAgIC8vICAgXCJjbG9zZVwiICAgICAgICAgICAtIGNsb3NlIGluc3RhbmNlXHJcbiAgICAvLyAgIFwibmV4dFwiICAgICAgICAgICAgLSBtb3ZlIHRvIG5leHQgZ2FsbGVyeSBpdGVtXHJcbiAgICAvLyAgIFwibmV4dE9yQ2xvc2VcIiAgICAgLSBtb3ZlIHRvIG5leHQgZ2FsbGVyeSBpdGVtIG9yIGNsb3NlIGlmIGdhbGxlcnkgaGFzIG9ubHkgb25lIGl0ZW1cclxuICAgIC8vICAgXCJ0b2dnbGVDb250cm9sc1wiICAtIHNob3cvaGlkZSBjb250cm9sc1xyXG4gICAgLy8gICBcInpvb21cIiAgICAgICAgICAgIC0gem9vbSBpbWFnZSAoaWYgbG9hZGVkKVxyXG4gICAgLy8gICBmYWxzZSAgICAgICAgICAgICAtIGRvIG5vdGhpbmdcclxuXHJcbiAgICAvLyBDbGlja2VkIG9uIHRoZSBjb250ZW50XHJcbiAgICBjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XHJcbiAgICAgIHJldHVybiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiem9vbVwiIDogZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENsaWNrZWQgb24gdGhlIHNsaWRlXHJcbiAgICBjbGlja1NsaWRlOiBcImNsb3NlXCIsXHJcblxyXG4gICAgLy8gQ2xpY2tlZCBvbiB0aGUgYmFja2dyb3VuZCAoYmFja2Ryb3ApIGVsZW1lbnQ7XHJcbiAgICAvLyBpZiB5b3UgaGF2ZSBub3QgY2hhbmdlZCB0aGUgbGF5b3V0LCB0aGVuIG1vc3QgbGlrZWx5IHlvdSBuZWVkIHRvIHVzZSBgY2xpY2tTbGlkZWAgb3B0aW9uXHJcbiAgICBjbGlja091dHNpZGU6IFwiY2xvc2VcIixcclxuXHJcbiAgICAvLyBTYW1lIGFzIHByZXZpb3VzIHR3bywgYnV0IGZvciBkb3VibGUgY2xpY2tcclxuICAgIGRibGNsaWNrQ29udGVudDogZmFsc2UsXHJcbiAgICBkYmxjbGlja1NsaWRlOiBmYWxzZSxcclxuICAgIGRibGNsaWNrT3V0c2lkZTogZmFsc2UsXHJcblxyXG4gICAgLy8gQ3VzdG9tIG9wdGlvbnMgd2hlbiBtb2JpbGUgZGV2aWNlIGlzIGRldGVjdGVkXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBtb2JpbGU6IHtcclxuICAgICAgcHJldmVudENhcHRpb25PdmVybGFwOiBmYWxzZSxcclxuICAgICAgaWRsZVRpbWU6IGZhbHNlLFxyXG4gICAgICBjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gXCJ0b2dnbGVDb250cm9sc1wiIDogZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNsaWNrU2xpZGU6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gXCJ0b2dnbGVDb250cm9sc1wiIDogXCJjbG9zZVwiO1xyXG4gICAgICB9LFxyXG4gICAgICBkYmxjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gXCJ6b29tXCIgOiBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgZGJsY2xpY2tTbGlkZTogZnVuY3Rpb24oY3VycmVudCwgZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudC50eXBlID09PSBcImltYWdlXCIgPyBcInpvb21cIiA6IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEludGVybmF0aW9uYWxpemF0aW9uXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGxhbmc6IFwiZW5cIixcclxuICAgIGkxOG46IHtcclxuICAgICAgZW46IHtcclxuICAgICAgICBDTE9TRTogXCJDbG9zZVwiLFxyXG4gICAgICAgIE5FWFQ6IFwiTmV4dFwiLFxyXG4gICAgICAgIFBSRVY6IFwiUHJldmlvdXNcIixcclxuICAgICAgICBFUlJPUjogXCJUaGUgcmVxdWVzdGVkIGNvbnRlbnQgY2Fubm90IGJlIGxvYWRlZC4gPGJyLz4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcclxuICAgICAgICBQTEFZX1NUQVJUOiBcIlN0YXJ0IHNsaWRlc2hvd1wiLFxyXG4gICAgICAgIFBMQVlfU1RPUDogXCJQYXVzZSBzbGlkZXNob3dcIixcclxuICAgICAgICBGVUxMX1NDUkVFTjogXCJGdWxsIHNjcmVlblwiLFxyXG4gICAgICAgIFRIVU1CUzogXCJUaHVtYm5haWxzXCIsXHJcbiAgICAgICAgRE9XTkxPQUQ6IFwiRG93bmxvYWRcIixcclxuICAgICAgICBTSEFSRTogXCJTaGFyZVwiLFxyXG4gICAgICAgIFpPT006IFwiWm9vbVwiXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlOiB7XHJcbiAgICAgICAgQ0xPU0U6IFwiU2NobGllc3NlblwiLFxyXG4gICAgICAgIE5FWFQ6IFwiV2VpdGVyXCIsXHJcbiAgICAgICAgUFJFVjogXCJadXLDvGNrXCIsXHJcbiAgICAgICAgRVJST1I6IFwiRGllIGFuZ2Vmb3JkZXJ0ZW4gRGF0ZW4ga29ubnRlbiBuaWNodCBnZWxhZGVuIHdlcmRlbi4gPGJyLz4gQml0dGUgdmVyc3VjaGVuIFNpZSBlcyBzcMOkdGVyIG5vY2htYWwuXCIsXHJcbiAgICAgICAgUExBWV9TVEFSVDogXCJEaWFzY2hhdSBzdGFydGVuXCIsXHJcbiAgICAgICAgUExBWV9TVE9QOiBcIkRpYXNjaGF1IGJlZW5kZW5cIixcclxuICAgICAgICBGVUxMX1NDUkVFTjogXCJWb2xsYmlsZFwiLFxyXG4gICAgICAgIFRIVU1CUzogXCJWb3JzY2hhdWJpbGRlclwiLFxyXG4gICAgICAgIERPV05MT0FEOiBcIkhlcnVudGVybGFkZW5cIixcclxuICAgICAgICBTSEFSRTogXCJUZWlsZW5cIixcclxuICAgICAgICBaT09NOiBcIk1hw59zdGFiXCJcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEZldyB1c2VmdWwgdmFyaWFibGVzIGFuZCBtZXRob2RzXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyICRXID0gJCh3aW5kb3cpO1xyXG4gIHZhciAkRCA9ICQoZG9jdW1lbnQpO1xyXG5cclxuICB2YXIgY2FsbGVkID0gMDtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGEgalF1ZXJ5IG9iamVjdCBhbmQgbm90IGEgbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgdmFyIGlzUXVlcnkgPSBmdW5jdGlvbihvYmopIHtcclxuICAgIHJldHVybiBvYmogJiYgb2JqLmhhc093blByb3BlcnR5ICYmIG9iaiBpbnN0YW5jZW9mICQ7XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIG11bHRpcGxlIGJyb3dzZXJzIGZvciBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiIGFuZCBcImNhbmNlbEFuaW1hdGlvbkZyYW1lXCJcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgdmFyIHJlcXVlc3RBRnJhbWUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAvLyBpZiBhbGwgZWxzZSBmYWlscywgdXNlIHNldFRpbWVvdXRcclxuICAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfSkoKTtcclxuXHJcbiAgdmFyIGNhbmNlbEFGcmFtZSA9IChmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgIHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9KSgpO1xyXG5cclxuICAvLyBEZXRlY3QgdGhlIHN1cHBvcnRlZCB0cmFuc2l0aW9uLWVuZCBldmVudCBwcm9wZXJ0eSBuYW1lXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIHZhciB0cmFuc2l0aW9uRW5kID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpLFxyXG4gICAgICB0O1xyXG5cclxuICAgIHZhciB0cmFuc2l0aW9ucyA9IHtcclxuICAgICAgdHJhbnNpdGlvbjogXCJ0cmFuc2l0aW9uZW5kXCIsXHJcbiAgICAgIE9UcmFuc2l0aW9uOiBcIm9UcmFuc2l0aW9uRW5kXCIsXHJcbiAgICAgIE1velRyYW5zaXRpb246IFwidHJhbnNpdGlvbmVuZFwiLFxyXG4gICAgICBXZWJraXRUcmFuc2l0aW9uOiBcIndlYmtpdFRyYW5zaXRpb25FbmRcIlxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKHQgaW4gdHJhbnNpdGlvbnMpIHtcclxuICAgICAgaWYgKGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbnNbdF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gXCJ0cmFuc2l0aW9uZW5kXCI7XHJcbiAgfSkoKTtcclxuXHJcbiAgLy8gRm9yY2UgcmVkcmF3IG9uIGFuIGVsZW1lbnQuXHJcbiAgLy8gVGhpcyBoZWxwcyBpbiBjYXNlcyB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0IHJlZHJhdyBhbiB1cGRhdGVkIGVsZW1lbnQgcHJvcGVybHlcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIHZhciBmb3JjZVJlZHJhdyA9IGZ1bmN0aW9uKCRlbCkge1xyXG4gICAgcmV0dXJuICRlbCAmJiAkZWwubGVuZ3RoICYmICRlbFswXS5vZmZzZXRIZWlnaHQ7XHJcbiAgfTtcclxuXHJcbiAgLy8gRXhjbHVkZSBhcnJheSAoYGJ1dHRvbnNgKSBvcHRpb25zIGZyb20gZGVlcCBtZXJnaW5nXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgdmFyIG1lcmdlT3B0cyA9IGZ1bmN0aW9uKG9wdHMxLCBvcHRzMikge1xyXG4gICAgdmFyIHJleiA9ICQuZXh0ZW5kKHRydWUsIHt9LCBvcHRzMSwgb3B0czIpO1xyXG5cclxuICAgICQuZWFjaChvcHRzMiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICBpZiAoJC5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIHJleltrZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXo7XHJcbiAgfTtcclxuXHJcbiAgLy8gSG93IG11Y2ggb2YgYW4gZWxlbWVudCBpcyB2aXNpYmxlIGluIHZpZXdwb3J0XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHZhciBpblZpZXdwb3J0ID0gZnVuY3Rpb24oZWxlbSkge1xyXG4gICAgdmFyIGVsZW1DZW50ZXIsIHJlejtcclxuXHJcbiAgICBpZiAoIWVsZW0gfHwgZWxlbS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgJChcIi5mYW5jeWJveC1jb250YWluZXJcIikuY3NzKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xyXG5cclxuICAgIGVsZW1DZW50ZXIgPSB7XHJcbiAgICAgIHg6IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyLFxyXG4gICAgICB5OiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIGVsZW0ub2Zmc2V0SGVpZ2h0IC8gMlxyXG4gICAgfTtcclxuXHJcbiAgICByZXogPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGVsZW1DZW50ZXIueCwgZWxlbUNlbnRlci55KSA9PT0gZWxlbTtcclxuXHJcbiAgICAkKFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiKS5jc3MoXCJwb2ludGVyLWV2ZW50c1wiLCBcIlwiKTtcclxuXHJcbiAgICByZXR1cm4gcmV6O1xyXG4gIH07XHJcblxyXG4gIC8vIENsYXNzIGRlZmluaXRpb25cclxuICAvLyA9PT09PT09PT09PT09PT09XHJcblxyXG4gIHZhciBGYW5jeUJveCA9IGZ1bmN0aW9uKGNvbnRlbnQsIG9wdHMsIGluZGV4KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgc2VsZi5vcHRzID0gbWVyZ2VPcHRzKHtpbmRleDogaW5kZXh9LCAkLmZhbmN5Ym94LmRlZmF1bHRzKTtcclxuXHJcbiAgICBpZiAoJC5pc1BsYWluT2JqZWN0KG9wdHMpKSB7XHJcbiAgICAgIHNlbGYub3B0cyA9IG1lcmdlT3B0cyhzZWxmLm9wdHMsIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkLmZhbmN5Ym94LmlzTW9iaWxlKSB7XHJcbiAgICAgIHNlbGYub3B0cyA9IG1lcmdlT3B0cyhzZWxmLm9wdHMsIHNlbGYub3B0cy5tb2JpbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuaWQgPSBzZWxmLm9wdHMuaWQgfHwgKytjYWxsZWQ7XHJcblxyXG4gICAgc2VsZi5jdXJySW5kZXggPSBwYXJzZUludChzZWxmLm9wdHMuaW5kZXgsIDEwKSB8fCAwO1xyXG4gICAgc2VsZi5wcmV2SW5kZXggPSBudWxsO1xyXG5cclxuICAgIHNlbGYucHJldlBvcyA9IG51bGw7XHJcbiAgICBzZWxmLmN1cnJQb3MgPSAwO1xyXG5cclxuICAgIHNlbGYuZmlyc3RSdW4gPSB0cnVlO1xyXG5cclxuICAgIC8vIEFsbCBncm91cCBpdGVtc1xyXG4gICAgc2VsZi5ncm91cCA9IFtdO1xyXG5cclxuICAgIC8vIEV4aXN0aW5nIHNsaWRlcyAoZm9yIGN1cnJlbnQsIG5leHQgYW5kIHByZXZpb3VzIGdhbGxlcnkgaXRlbXMpXHJcbiAgICBzZWxmLnNsaWRlcyA9IHt9O1xyXG5cclxuICAgIC8vIENyZWF0ZSBncm91cCBlbGVtZW50c1xyXG4gICAgc2VsZi5hZGRDb250ZW50KGNvbnRlbnQpO1xyXG5cclxuICAgIGlmICghc2VsZi5ncm91cC5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuaW5pdCgpO1xyXG4gIH07XHJcblxyXG4gICQuZXh0ZW5kKEZhbmN5Qm94LnByb3RvdHlwZSwge1xyXG4gICAgLy8gQ3JlYXRlIERPTSBzdHJ1Y3R1cmVcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBmaXJzdEl0ZW0gPSBzZWxmLmdyb3VwW3NlbGYuY3VyckluZGV4XSxcclxuICAgICAgICBmaXJzdEl0ZW1PcHRzID0gZmlyc3RJdGVtLm9wdHMsXHJcbiAgICAgICAgJGNvbnRhaW5lcixcclxuICAgICAgICBidXR0b25TdHI7XHJcblxyXG4gICAgICBpZiAoZmlyc3RJdGVtT3B0cy5jbG9zZUV4aXN0aW5nKSB7XHJcbiAgICAgICAgJC5mYW5jeWJveC5jbG9zZSh0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSGlkZSBzY3JvbGxiYXJzXHJcbiAgICAgIC8vID09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJmYW5jeWJveC1hY3RpdmVcIik7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgISQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSAmJlxyXG4gICAgICAgIGZpcnN0SXRlbU9wdHMuaGlkZVNjcm9sbGJhciAhPT0gZmFsc2UgJiZcclxuICAgICAgICAhJC5mYW5jeWJveC5pc01vYmlsZSAmJlxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICkge1xyXG4gICAgICAgICQoXCJoZWFkXCIpLmFwcGVuZChcclxuICAgICAgICAgICc8c3R5bGUgaWQ9XCJmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPi5jb21wZW5zYXRlLWZvci1zY3JvbGxiYXJ7bWFyZ2luLXJpZ2h0OicgK1xyXG4gICAgICAgICAgICAod2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICtcclxuICAgICAgICAgICAgXCJweDt9PC9zdHlsZT5cIlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBCdWlsZCBodG1sIG1hcmt1cCBhbmQgc2V0IHJlZmVyZW5jZXNcclxuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICAvLyBCdWlsZCBodG1sIGNvZGUgZm9yIGJ1dHRvbnMgYW5kIGluc2VydCBpbnRvIG1haW4gdGVtcGxhdGVcclxuICAgICAgYnV0dG9uU3RyID0gXCJcIjtcclxuXHJcbiAgICAgICQuZWFjaChmaXJzdEl0ZW1PcHRzLmJ1dHRvbnMsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGJ1dHRvblN0ciArPSBmaXJzdEl0ZW1PcHRzLmJ0blRwbFt2YWx1ZV0gfHwgXCJcIjtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgbWFya3VwIGZyb20gYmFzZSB0ZW1wbGF0ZSwgaXQgd2lsbCBiZSBpbml0aWFsbHkgaGlkZGVuIHRvXHJcbiAgICAgIC8vIGF2b2lkIHVubmVjZXNzYXJ5IHdvcmsgbGlrZSBwYWludGluZyB3aGlsZSBpbml0aWFsaXppbmcgaXMgbm90IGNvbXBsZXRlXHJcbiAgICAgICRjb250YWluZXIgPSAkKFxyXG4gICAgICAgIHNlbGYudHJhbnNsYXRlKFxyXG4gICAgICAgICAgc2VsZixcclxuICAgICAgICAgIGZpcnN0SXRlbU9wdHMuYmFzZVRwbFxyXG4gICAgICAgICAgICAucmVwbGFjZShcInt7YnV0dG9uc319XCIsIGJ1dHRvblN0cilcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7e2Fycm93c319XCIsIGZpcnN0SXRlbU9wdHMuYnRuVHBsLmFycm93TGVmdCArIGZpcnN0SXRlbU9wdHMuYnRuVHBsLmFycm93UmlnaHQpXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcImZhbmN5Ym94LWNvbnRhaW5lci1cIiArIHNlbGYuaWQpXHJcbiAgICAgICAgLmFkZENsYXNzKGZpcnN0SXRlbU9wdHMuYmFzZUNsYXNzKVxyXG4gICAgICAgIC5kYXRhKFwiRmFuY3lCb3hcIiwgc2VsZilcclxuICAgICAgICAuYXBwZW5kVG8oZmlyc3RJdGVtT3B0cy5wYXJlbnRFbCk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgb2JqZWN0IGhvbGRpbmcgcmVmZXJlbmNlcyB0byBqUXVlcnkgd3JhcHBlZCBub2Rlc1xyXG4gICAgICBzZWxmLiRyZWZzID0ge1xyXG4gICAgICAgIGNvbnRhaW5lcjogJGNvbnRhaW5lclxyXG4gICAgICB9O1xyXG5cclxuICAgICAgW1wiYmdcIiwgXCJpbm5lclwiLCBcImluZm9iYXJcIiwgXCJ0b29sYmFyXCIsIFwic3RhZ2VcIiwgXCJjYXB0aW9uXCIsIFwibmF2aWdhdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICBzZWxmLiRyZWZzW2l0ZW1dID0gJGNvbnRhaW5lci5maW5kKFwiLmZhbmN5Ym94LVwiICsgaXRlbSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2VsZi50cmlnZ2VyKFwib25Jbml0XCIpO1xyXG5cclxuICAgICAgLy8gRW5hYmxlIGV2ZW50cywgZGVhY3RpdmUgcHJldmlvdXMgaW5zdGFuY2VzXHJcbiAgICAgIHNlbGYuYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgIC8vIEJ1aWxkIHNsaWRlcywgbG9hZCBhbmQgcmV2ZWFsIGNvbnRlbnRcclxuICAgICAgc2VsZi5qdW1wVG8oc2VsZi5jdXJySW5kZXgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBTaW1wbGUgaTE4biBzdXBwb3J0IC0gcmVwbGFjZXMgb2JqZWN0IGtleXMgZm91bmQgaW4gdGVtcGxhdGVcclxuICAgIC8vIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXNcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24ob2JqLCBzdHIpIHtcclxuICAgICAgdmFyIGFyciA9IG9iai5vcHRzLmkxOG5bb2JqLm9wdHMubGFuZ10gfHwgb2JqLm9wdHMuaTE4bi5lbjtcclxuXHJcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFx7XFx7KFxcdyspXFx9XFx9L2csIGZ1bmN0aW9uKG1hdGNoLCBuKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyW25dO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gUG9wdWxhdGUgY3VycmVudCBncm91cCB3aXRoIGZyZXNoIGNvbnRlbnRcclxuICAgIC8vIENoZWNrIGlmIGVhY2ggb2JqZWN0IGhhcyB2YWxpZCB0eXBlIGFuZCBjb250ZW50XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGFkZENvbnRlbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGl0ZW1zID0gJC5tYWtlQXJyYXkoY29udGVudCksXHJcbiAgICAgICAgdGh1bWJzO1xyXG5cclxuICAgICAgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbihpLCBpdGVtKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHt9LFxyXG4gICAgICAgICAgb3B0cyA9IHt9LFxyXG4gICAgICAgICAgJGl0ZW0sXHJcbiAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgZm91bmQsXHJcbiAgICAgICAgICBzcmMsXHJcbiAgICAgICAgICBzcmNQYXJ0cztcclxuXHJcbiAgICAgICAgLy8gU3RlcCAxIC0gTWFrZSBzdXJlIHdlIGhhdmUgYW4gb2JqZWN0XHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QoaXRlbSkpIHtcclxuICAgICAgICAgIC8vIFdlIHByb2JhYmx5IGhhdmUgbWFudWFsIHVzYWdlIGhlcmUsIHNvbWV0aGluZyBsaWtlXHJcbiAgICAgICAgICAvLyAkLmZhbmN5Ym94Lm9wZW4oIFsgeyBzcmMgOiBcImltYWdlLmpwZ1wiLCB0eXBlIDogXCJpbWFnZVwiIH0gXSApXHJcblxyXG4gICAgICAgICAgb2JqID0gaXRlbTtcclxuICAgICAgICAgIG9wdHMgPSBpdGVtLm9wdHMgfHwgaXRlbTtcclxuICAgICAgICB9IGVsc2UgaWYgKCQudHlwZShpdGVtKSA9PT0gXCJvYmplY3RcIiAmJiAkKGl0ZW0pLmxlbmd0aCkge1xyXG4gICAgICAgICAgLy8gSGVyZSB3ZSBwcm9iYWJseSBoYXZlIGpRdWVyeSBjb2xsZWN0aW9uIHJldHVybmVkIGJ5IHNvbWUgc2VsZWN0b3JcclxuICAgICAgICAgICRpdGVtID0gJChpdGVtKTtcclxuXHJcbiAgICAgICAgICAvLyBTdXBwb3J0IGF0dHJpYnV0ZXMgbGlrZSBgZGF0YS1vcHRpb25zPSd7XCJ0b3VjaFwiIDogZmFsc2V9J2AgYW5kIGBkYXRhLXRvdWNoPSdmYWxzZSdgXHJcbiAgICAgICAgICBvcHRzID0gJGl0ZW0uZGF0YSgpIHx8IHt9O1xyXG4gICAgICAgICAgb3B0cyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBvcHRzLCBvcHRzLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgIC8vIEhlcmUgd2Ugc3RvcmUgY2xpY2tlZCBlbGVtZW50XHJcbiAgICAgICAgICBvcHRzLiRvcmlnID0gJGl0ZW07XHJcblxyXG4gICAgICAgICAgb2JqLnNyYyA9IHNlbGYub3B0cy5zcmMgfHwgb3B0cy5zcmMgfHwgJGl0ZW0uYXR0cihcImhyZWZcIik7XHJcblxyXG4gICAgICAgICAgLy8gQXNzdW1lIHRoYXQgc2ltcGxlIHN5bnRheCBpcyB1c2VkLCBmb3IgZXhhbXBsZTpcclxuICAgICAgICAgIC8vICAgYCQuZmFuY3lib3gub3BlbiggJChcIiN0ZXN0XCIpLCB7fSApO2BcclxuICAgICAgICAgIGlmICghb2JqLnR5cGUgJiYgIW9iai5zcmMpIHtcclxuICAgICAgICAgICAgb2JqLnR5cGUgPSBcImlubGluZVwiO1xyXG4gICAgICAgICAgICBvYmouc3JjID0gaXRlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gQXNzdW1lIHdlIGhhdmUgYSBzaW1wbGUgaHRtbCBjb2RlLCBmb3IgZXhhbXBsZTpcclxuICAgICAgICAgIC8vICAgJC5mYW5jeWJveC5vcGVuKCAnPGRpdj48aDE+SGkhPC9oMT48L2Rpdj4nICk7XHJcbiAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICBzcmM6IGl0ZW0gKyBcIlwiXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRWFjaCBnYWxsZXJ5IG9iamVjdCBoYXMgZnVsbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnNcclxuICAgICAgICBvYmoub3B0cyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLm9wdHMsIG9wdHMpO1xyXG5cclxuICAgICAgICAvLyBEbyBub3QgbWVyZ2UgYnV0dG9ucyBhcnJheVxyXG4gICAgICAgIGlmICgkLmlzQXJyYXkob3B0cy5idXR0b25zKSkge1xyXG4gICAgICAgICAgb2JqLm9wdHMuYnV0dG9ucyA9IG9wdHMuYnV0dG9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkLmZhbmN5Ym94LmlzTW9iaWxlICYmIG9iai5vcHRzLm1vYmlsZSkge1xyXG4gICAgICAgICAgb2JqLm9wdHMgPSBtZXJnZU9wdHMob2JqLm9wdHMsIG9iai5vcHRzLm1vYmlsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdGVwIDIgLSBNYWtlIHN1cmUgd2UgaGF2ZSBjb250ZW50IHR5cGUsIGlmIG5vdCAtIHRyeSB0byBndWVzc1xyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICAgIHR5cGUgPSBvYmoudHlwZSB8fCBvYmoub3B0cy50eXBlO1xyXG4gICAgICAgIHNyYyA9IG9iai5zcmMgfHwgXCJcIjtcclxuXHJcbiAgICAgICAgaWYgKCF0eXBlICYmIHNyYykge1xyXG4gICAgICAgICAgaWYgKChmb3VuZCA9IHNyYy5tYXRjaCgvXFwuKG1wNHxtb3Z8b2d2fHdlYm0pKChcXD98IykuKik/JC9pKSkpIHtcclxuICAgICAgICAgICAgdHlwZSA9IFwidmlkZW9cIjtcclxuXHJcbiAgICAgICAgICAgIGlmICghb2JqLm9wdHMudmlkZW8uZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgb2JqLm9wdHMudmlkZW8uZm9ybWF0ID0gXCJ2aWRlby9cIiArIChmb3VuZFsxXSA9PT0gXCJvZ3ZcIiA/IFwib2dnXCIgOiBmb3VuZFsxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3JjLm1hdGNoKC8oXmRhdGE6aW1hZ2VcXC9bYS16MC05K1xcLz1dKiwpfChcXC4oanAoZXxnfGVnKXxnaWZ8cG5nfGJtcHx3ZWJwfHN2Z3xpY28pKChcXD98IykuKik/JCkvaSkpIHtcclxuICAgICAgICAgICAgdHlwZSA9IFwiaW1hZ2VcIjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3JjLm1hdGNoKC9cXC4ocGRmKSgoXFw/fCMpLiopPyQvaSkpIHtcclxuICAgICAgICAgICAgdHlwZSA9IFwiaWZyYW1lXCI7XHJcbiAgICAgICAgICAgIG9iaiA9ICQuZXh0ZW5kKHRydWUsIG9iaiwge2NvbnRlbnRUeXBlOiBcInBkZlwiLCBvcHRzOiB7aWZyYW1lOiB7cHJlbG9hZDogZmFsc2V9fX0pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzcmMuY2hhckF0KDApID09PSBcIiNcIikge1xyXG4gICAgICAgICAgICB0eXBlID0gXCJpbmxpbmVcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICBvYmoudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYudHJpZ2dlcihcIm9iamVjdE5lZWRzVHlwZVwiLCBvYmopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFvYmouY29udGVudFR5cGUpIHtcclxuICAgICAgICAgIG9iai5jb250ZW50VHlwZSA9ICQuaW5BcnJheShvYmoudHlwZSwgW1wiaHRtbFwiLCBcImlubGluZVwiLCBcImFqYXhcIl0pID4gLTEgPyBcImh0bWxcIiA6IG9iai50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RlcCAzIC0gU29tZSBhZGp1c3RtZW50c1xyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgICAgb2JqLmluZGV4ID0gc2VsZi5ncm91cC5sZW5ndGg7XHJcblxyXG4gICAgICAgIGlmIChvYmoub3B0cy5zbWFsbEJ0biA9PSBcImF1dG9cIikge1xyXG4gICAgICAgICAgb2JqLm9wdHMuc21hbGxCdG4gPSAkLmluQXJyYXkob2JqLnR5cGUsIFtcImh0bWxcIiwgXCJpbmxpbmVcIiwgXCJhamF4XCJdKSA+IC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9iai5vcHRzLnRvb2xiYXIgPT09IFwiYXV0b1wiKSB7XHJcbiAgICAgICAgICBvYmoub3B0cy50b29sYmFyID0gIW9iai5vcHRzLnNtYWxsQnRuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmluZCB0aHVtYm5haWwgaW1hZ2UsIGNoZWNrIGlmIGV4aXN0cyBhbmQgaWYgaXMgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgb2JqLiR0aHVtYiA9IG9iai5vcHRzLiR0aHVtYiB8fCBudWxsO1xyXG5cclxuICAgICAgICBpZiAob2JqLm9wdHMuJHRyaWdnZXIgJiYgb2JqLmluZGV4ID09PSBzZWxmLm9wdHMuaW5kZXgpIHtcclxuICAgICAgICAgIG9iai4kdGh1bWIgPSBvYmoub3B0cy4kdHJpZ2dlci5maW5kKFwiaW1nOmZpcnN0XCIpO1xyXG5cclxuICAgICAgICAgIGlmIChvYmouJHRodW1iLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBvYmoub3B0cy4kb3JpZyA9IG9iai5vcHRzLiR0cmlnZ2VyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCEob2JqLiR0aHVtYiAmJiBvYmouJHRodW1iLmxlbmd0aCkgJiYgb2JqLm9wdHMuJG9yaWcpIHtcclxuICAgICAgICAgIG9iai4kdGh1bWIgPSBvYmoub3B0cy4kb3JpZy5maW5kKFwiaW1nOmZpcnN0XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9iai4kdGh1bWIgJiYgIW9iai4kdGh1bWIubGVuZ3RoKSB7XHJcbiAgICAgICAgICBvYmouJHRodW1iID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9iai50aHVtYiA9IG9iai5vcHRzLnRodW1iIHx8IChvYmouJHRodW1iID8gb2JqLiR0aHVtYlswXS5zcmMgOiBudWxsKTtcclxuXHJcbiAgICAgICAgLy8gXCJjYXB0aW9uXCIgaXMgYSBcInNwZWNpYWxcIiBvcHRpb24sIGl0IGNhbiBiZSB1c2VkIHRvIGN1c3RvbWl6ZSBjYXB0aW9uIHBlciBnYWxsZXJ5IGl0ZW1cclxuICAgICAgICBpZiAoJC50eXBlKG9iai5vcHRzLmNhcHRpb24pID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIG9iai5vcHRzLmNhcHRpb24gPSBvYmoub3B0cy5jYXB0aW9uLmFwcGx5KGl0ZW0sIFtzZWxmLCBvYmpdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkLnR5cGUoc2VsZi5vcHRzLmNhcHRpb24pID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIG9iai5vcHRzLmNhcHRpb24gPSBzZWxmLm9wdHMuY2FwdGlvbi5hcHBseShpdGVtLCBbc2VsZiwgb2JqXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBjYXB0aW9uIGFzIGEgc3RyaW5nIG9yIGpRdWVyeSBvYmplY3RcclxuICAgICAgICBpZiAoIShvYmoub3B0cy5jYXB0aW9uIGluc3RhbmNlb2YgJCkpIHtcclxuICAgICAgICAgIG9iai5vcHRzLmNhcHRpb24gPSBvYmoub3B0cy5jYXB0aW9uID09PSB1bmRlZmluZWQgPyBcIlwiIDogb2JqLm9wdHMuY2FwdGlvbiArIFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB1cmwgY29udGFpbnMgXCJmaWx0ZXJcIiB1c2VkIHRvIGZpbHRlciB0aGUgY29udGVudFxyXG4gICAgICAgIC8vIEV4YW1wbGU6IFwiYWpheC5odG1sICNzb21ldGhpbmdcIlxyXG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJhamF4XCIpIHtcclxuICAgICAgICAgIHNyY1BhcnRzID0gc3JjLnNwbGl0KC9cXHMrLywgMik7XHJcblxyXG4gICAgICAgICAgaWYgKHNyY1BhcnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgb2JqLnNyYyA9IHNyY1BhcnRzLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICBvYmoub3B0cy5maWx0ZXIgPSBzcmNQYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGlkZSBhbGwgYnV0dG9ucyBhbmQgZGlzYWJsZSBpbnRlcmFjdGl2aXR5IGZvciBtb2RhbCBpdGVtc1xyXG4gICAgICAgIGlmIChvYmoub3B0cy5tb2RhbCkge1xyXG4gICAgICAgICAgb2JqLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCBvYmoub3B0cywge1xyXG4gICAgICAgICAgICB0cmFwRm9jdXM6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBidXR0b25zXHJcbiAgICAgICAgICAgIGluZm9iYXI6IDAsXHJcbiAgICAgICAgICAgIHRvb2xiYXI6IDAsXHJcblxyXG4gICAgICAgICAgICBzbWFsbEJ0bjogMCxcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUga2V5Ym9hcmQgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICBrZXlib2FyZDogMCxcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgc29tZSBtb2R1bGVzXHJcbiAgICAgICAgICAgIHNsaWRlU2hvdzogMCxcclxuICAgICAgICAgICAgZnVsbFNjcmVlbjogMCxcclxuICAgICAgICAgICAgdGh1bWJzOiAwLFxyXG4gICAgICAgICAgICB0b3VjaDogMCxcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgY2xpY2sgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICAgICAgY2xpY2tDb250ZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgY2xpY2tTbGlkZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNsaWNrT3V0c2lkZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRibGNsaWNrQ29udGVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIGRibGNsaWNrU2xpZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBkYmxjbGlja091dHNpZGU6IGZhbHNlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0ZXAgNCAtIEFkZCBwcm9jZXNzZWQgb2JqZWN0IHRvIGdyb3VwXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgICAgc2VsZi5ncm91cC5wdXNoKG9iaik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIGNvbnRyb2xzIGlmIGdhbGxlcnkgaXMgYWxyZWFkeSBvcGVuZWRcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuc2xpZGVzKS5sZW5ndGgpIHtcclxuICAgICAgICBzZWxmLnVwZGF0ZUNvbnRyb2xzKCk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aHVtYm5haWxzLCBpZiBuZWVkZWRcclxuICAgICAgICB0aHVtYnMgPSBzZWxmLlRodW1icztcclxuXHJcbiAgICAgICAgaWYgKHRodW1icyAmJiB0aHVtYnMuaXNBY3RpdmUpIHtcclxuICAgICAgICAgIHRodW1icy5jcmVhdGUoKTtcclxuXHJcbiAgICAgICAgICB0aHVtYnMuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gQXR0YWNoIGFuIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zIGZvcjpcclxuICAgIC8vICAgLSBuYXZpZ2F0aW9uIGJ1dHRvbnNcclxuICAgIC8vICAgLSBicm93c2VyIHNjcm9sbGluZywgcmVzaXppbmc7XHJcbiAgICAvLyAgIC0gZm9jdXNpbmdcclxuICAgIC8vICAgLSBrZXlib2FyZFxyXG4gICAgLy8gICAtIGRldGVjdGluZyBpbmFjdGl2aXR5XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGFkZEV2ZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIHNlbGYucmVtb3ZlRXZlbnRzKCk7XHJcblxyXG4gICAgICAvLyBNYWtlIG5hdmlnYXRpb24gZWxlbWVudHMgY2xpY2thYmxlXHJcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgIHNlbGYuJHJlZnMuY29udGFpbmVyXHJcbiAgICAgICAgLm9uKFwiY2xpY2suZmItY2xvc2VcIiwgXCJbZGF0YS1mYW5jeWJveC1jbG9zZV1cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICBzZWxmLmNsb3NlKGUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwidG91Y2hzdGFydC5mYi1wcmV2IGNsaWNrLmZiLXByZXZcIiwgXCJbZGF0YS1mYW5jeWJveC1wcmV2XVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgIHNlbGYucHJldmlvdXMoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcInRvdWNoc3RhcnQuZmItbmV4dCBjbGljay5mYi1uZXh0XCIsIFwiW2RhdGEtZmFuY3lib3gtbmV4dF1cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICBzZWxmLm5leHQoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcImNsaWNrLmZiXCIsIFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgLy8gQ2xpY2sgaGFuZGxlciBmb3Igem9vbSBidXR0b25cclxuICAgICAgICAgIHNlbGZbc2VsZi5pc1NjYWxlZERvd24oKSA/IFwic2NhbGVUb0FjdHVhbFwiIDogXCJzY2FsZVRvRml0XCJdKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBIYW5kbGUgcGFnZSBzY3JvbGxpbmcgYW5kIGJyb3dzZXIgcmVzaXppbmdcclxuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICAkVy5vbihcIm9yaWVudGF0aW9uY2hhbmdlLmZiIHJlc2l6ZS5mYlwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUgJiYgZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC50eXBlID09PSBcInJlc2l6ZVwiKSB7XHJcbiAgICAgICAgICBpZiAoc2VsZi5yZXF1ZXN0SWQpIHtcclxuICAgICAgICAgICAgY2FuY2VsQUZyYW1lKHNlbGYucmVxdWVzdElkKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLnJlcXVlc3RJZCA9IHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChzZWxmLmN1cnJlbnQgJiYgc2VsZi5jdXJyZW50LnR5cGUgPT09IFwiaWZyYW1lXCIpIHtcclxuICAgICAgICAgICAgc2VsZi4kcmVmcy5zdGFnZS5oaWRlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi4kcmVmcy5zdGFnZS5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZShlKTtcclxuICAgICAgICAgIH0sICQuZmFuY3lib3guaXNNb2JpbGUgPyA2MDAgOiAyNTApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkRC5vbihcImtleWRvd24uZmJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9ICQuZmFuY3lib3ggPyAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCkgOiBudWxsLFxyXG4gICAgICAgICAgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQsXHJcbiAgICAgICAgICBrZXljb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XHJcblxyXG4gICAgICAgIC8vIFRyYXAga2V5Ym9hcmQgZm9jdXMgaW5zaWRlIG9mIHRoZSBtb2RhbFxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgICBpZiAoa2V5Y29kZSA9PSA5KSB7XHJcbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRzLnRyYXBGb2N1cykge1xyXG4gICAgICAgICAgICBzZWxmLmZvY3VzKGUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVuYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgICAgaWYgKCFjdXJyZW50Lm9wdHMua2V5Ym9hcmQgfHwgZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgJChlLnRhcmdldCkuaXMoXCJpbnB1dFwiKSB8fCAkKGUudGFyZ2V0KS5pcyhcInRleHRhcmVhXCIpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCYWNrc3BhY2UgYW5kIEVzYyBrZXlzXHJcbiAgICAgICAgaWYgKGtleWNvZGUgPT09IDggfHwga2V5Y29kZSA9PT0gMjcpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICBzZWxmLmNsb3NlKGUpO1xyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExlZnQgYXJyb3cgYW5kIFVwIGFycm93XHJcbiAgICAgICAgaWYgKGtleWNvZGUgPT09IDM3IHx8IGtleWNvZGUgPT09IDM4KSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgc2VsZi5wcmV2aW91cygpO1xyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJpZ2ggYXJyb3cgYW5kIERvd24gYXJyb3dcclxuICAgICAgICBpZiAoa2V5Y29kZSA9PT0gMzkgfHwga2V5Y29kZSA9PT0gNDApIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICBzZWxmLm5leHQoKTtcclxuXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLnRyaWdnZXIoXCJhZnRlcktleWRvd25cIiwgZSwga2V5Y29kZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gSGlkZSBjb250cm9scyBhZnRlciBzb21lIGluYWN0aXZpdHkgcGVyaW9kXHJcbiAgICAgIGlmIChzZWxmLmdyb3VwW3NlbGYuY3VyckluZGV4XS5vcHRzLmlkbGVUaW1lKSB7XHJcbiAgICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xyXG5cclxuICAgICAgICAkRC5vbihcclxuICAgICAgICAgIFwibW91c2Vtb3ZlLmZiLWlkbGUgbW91c2VsZWF2ZS5mYi1pZGxlIG1vdXNlZG93bi5mYi1pZGxlIHRvdWNoc3RhcnQuZmItaWRsZSB0b3VjaG1vdmUuZmItaWRsZSBzY3JvbGwuZmItaWRsZSBrZXlkb3duLmZiLWlkbGVcIixcclxuICAgICAgICAgIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGYuaXNJZGxlKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5zaG93Q29udHJvbHMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5pc0lkbGUgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzZWxmLmlkbGVJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuaWRsZVNlY29uZHNDb3VudGVyKys7XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGYuaWRsZVNlY29uZHNDb3VudGVyID49IHNlbGYuZ3JvdXBbc2VsZi5jdXJySW5kZXhdLm9wdHMuaWRsZVRpbWUgJiYgIXNlbGYuaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICBzZWxmLmlzSWRsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYuaWRsZVNlY29uZHNDb3VudGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuaGlkZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gUmVtb3ZlIGV2ZW50cyBhZGRlZCBieSB0aGUgY29yZVxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHJlbW92ZUV2ZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICRXLm9mZihcIm9yaWVudGF0aW9uY2hhbmdlLmZiIHJlc2l6ZS5mYlwiKTtcclxuICAgICAgJEQub2ZmKFwia2V5ZG93bi5mYiAuZmItaWRsZVwiKTtcclxuXHJcbiAgICAgIHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZihcIi5mYi1jbG9zZSAuZmItcHJldiAuZmItbmV4dFwiKTtcclxuXHJcbiAgICAgIGlmIChzZWxmLmlkbGVJbnRlcnZhbCkge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHNlbGYuaWRsZUludGVydmFsKTtcclxuXHJcbiAgICAgICAgc2VsZi5pZGxlSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENoYW5nZSB0byBwcmV2aW91cyBnYWxsZXJ5IGl0ZW1cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBwcmV2aW91czogZnVuY3Rpb24oZHVyYXRpb24pIHtcclxuICAgICAgcmV0dXJuIHRoaXMuanVtcFRvKHRoaXMuY3VyclBvcyAtIDEsIGR1cmF0aW9uKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2hhbmdlIHRvIG5leHQgZ2FsbGVyeSBpdGVtXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBuZXh0OiBmdW5jdGlvbihkdXJhdGlvbikge1xyXG4gICAgICByZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5jdXJyUG9zICsgMSwgZHVyYXRpb24pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBTd2l0Y2ggdG8gc2VsZWN0ZWQgZ2FsbGVyeSBpdGVtXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAganVtcFRvOiBmdW5jdGlvbihwb3MsIGR1cmF0aW9uKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBncm91cExlbiA9IHNlbGYuZ3JvdXAubGVuZ3RoLFxyXG4gICAgICAgIGZpcnN0UnVuLFxyXG4gICAgICAgIGlzTW92ZWQsXHJcbiAgICAgICAgbG9vcCxcclxuICAgICAgICBjdXJyZW50LFxyXG4gICAgICAgIHByZXZpb3VzLFxyXG4gICAgICAgIHNsaWRlUG9zLFxyXG4gICAgICAgIHN0YWdlUG9zLFxyXG4gICAgICAgIHByb3AsXHJcbiAgICAgICAgZGlmZjtcclxuXHJcbiAgICAgIGlmIChzZWxmLmlzRHJhZ2dpbmcgfHwgc2VsZi5pc0Nsb3NpbmcgfHwgKHNlbGYuaXNBbmltYXRpbmcgJiYgc2VsZi5maXJzdFJ1bikpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNob3VsZCBsb29wP1xyXG4gICAgICBwb3MgPSBwYXJzZUludChwb3MsIDEwKTtcclxuICAgICAgbG9vcCA9IHNlbGYuY3VycmVudCA/IHNlbGYuY3VycmVudC5vcHRzLmxvb3AgOiBzZWxmLm9wdHMubG9vcDtcclxuXHJcbiAgICAgIGlmICghbG9vcCAmJiAocG9zIDwgMCB8fCBwb3MgPj0gZ3JvdXBMZW4pKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBvcGVuaW5nIGZvciB0aGUgZmlyc3QgdGltZTsgdGhpcyBoZWxwcyB0byBzcGVlZCB0aGluZ3MgdXBcclxuICAgICAgZmlyc3RSdW4gPSBzZWxmLmZpcnN0UnVuID0gIU9iamVjdC5rZXlzKHNlbGYuc2xpZGVzKS5sZW5ndGg7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgc2xpZGVzXHJcbiAgICAgIHByZXZpb3VzID0gc2VsZi5jdXJyZW50O1xyXG5cclxuICAgICAgc2VsZi5wcmV2SW5kZXggPSBzZWxmLmN1cnJJbmRleDtcclxuICAgICAgc2VsZi5wcmV2UG9zID0gc2VsZi5jdXJyUG9zO1xyXG5cclxuICAgICAgY3VycmVudCA9IHNlbGYuY3JlYXRlU2xpZGUocG9zKTtcclxuXHJcbiAgICAgIGlmIChncm91cExlbiA+IDEpIHtcclxuICAgICAgICBpZiAobG9vcCB8fCBjdXJyZW50LmluZGV4IDwgZ3JvdXBMZW4gLSAxKSB7XHJcbiAgICAgICAgICBzZWxmLmNyZWF0ZVNsaWRlKHBvcyArIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxvb3AgfHwgY3VycmVudC5pbmRleCA+IDApIHtcclxuICAgICAgICAgIHNlbGYuY3JlYXRlU2xpZGUocG9zIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLmN1cnJlbnQgPSBjdXJyZW50O1xyXG4gICAgICBzZWxmLmN1cnJJbmRleCA9IGN1cnJlbnQuaW5kZXg7XHJcbiAgICAgIHNlbGYuY3VyclBvcyA9IGN1cnJlbnQucG9zO1xyXG5cclxuICAgICAgc2VsZi50cmlnZ2VyKFwiYmVmb3JlU2hvd1wiLCBmaXJzdFJ1bik7XHJcblxyXG4gICAgICBzZWxmLnVwZGF0ZUNvbnRyb2xzKCk7XHJcblxyXG4gICAgICAvLyBWYWxpZGF0ZSBkdXJhdGlvbiBsZW5ndGhcclxuICAgICAgY3VycmVudC5mb3JjZWREdXJhdGlvbiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgIGlmICgkLmlzTnVtZXJpYyhkdXJhdGlvbikpIHtcclxuICAgICAgICBjdXJyZW50LmZvcmNlZER1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZHVyYXRpb24gPSBjdXJyZW50Lm9wdHNbZmlyc3RSdW4gPyBcImFuaW1hdGlvbkR1cmF0aW9uXCIgOiBcInRyYW5zaXRpb25EdXJhdGlvblwiXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZHVyYXRpb24gPSBwYXJzZUludChkdXJhdGlvbiwgMTApO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgc3dpcGVkIHRoZSBzbGlkZXMgb3IgaWYgc3RpbGwgYW5pbWF0aW5nXHJcbiAgICAgIGlzTW92ZWQgPSBzZWxmLmlzTW92ZWQoY3VycmVudCk7XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgY3VycmVudCBzbGlkZSBpcyB2aXNpYmxlXHJcbiAgICAgIGN1cnJlbnQuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIik7XHJcblxyXG4gICAgICAvLyBGcmVzaCBzdGFydCAtIHJldmVhbCBjb250YWluZXIsIGN1cnJlbnQgc2xpZGUgYW5kIHN0YXJ0IGxvYWRpbmcgY29udGVudFxyXG4gICAgICBpZiAoZmlyc3RSdW4pIHtcclxuICAgICAgICBpZiAoY3VycmVudC5vcHRzLmFuaW1hdGlvbkVmZmVjdCAmJiBkdXJhdGlvbikge1xyXG4gICAgICAgICAgc2VsZi4kcmVmcy5jb250YWluZXIuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBkdXJhdGlvbiArIFwibXNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLW9wZW5cIikudHJpZ2dlcihcImZvY3VzXCIpO1xyXG5cclxuICAgICAgICAvLyBBdHRlbXB0IHRvIGxvYWQgY29udGVudCBpbnRvIHNsaWRlXHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIGxhdGVyIGNhbGwgYGFmdGVyTG9hZGAgLT4gYHJldmVhbENvbnRlbnRgXHJcbiAgICAgICAgc2VsZi5sb2FkU2xpZGUoY3VycmVudCk7XHJcblxyXG4gICAgICAgIHNlbGYucHJlbG9hZChcImltYWdlXCIpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCBhY3R1YWwgc2xpZGUvc3RhZ2UgcG9zaXRpb25zIChiZWZvcmUgY2xlYW5pbmcgdXApXHJcbiAgICAgIHNsaWRlUG9zID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUocHJldmlvdXMuJHNsaWRlKTtcclxuICAgICAgc3RhZ2VQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzZWxmLiRyZWZzLnN0YWdlKTtcclxuXHJcbiAgICAgIC8vIENsZWFuIHVwIGFsbCBzbGlkZXNcclxuICAgICAgJC5lYWNoKHNlbGYuc2xpZGVzLCBmdW5jdGlvbihpbmRleCwgc2xpZGUpIHtcclxuICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJHNsaWRlLCB0cnVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocHJldmlvdXMucG9zICE9PSBjdXJyZW50LnBvcykge1xyXG4gICAgICAgIHByZXZpb3VzLmlzQ29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcHJldmlvdXMuJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlIGZhbmN5Ym94LXNsaWRlLS1jdXJyZW50XCIpO1xyXG5cclxuICAgICAgLy8gSWYgc2xpZGVzIGFyZSBvdXQgb2YgcGxhY2UsIHRoZW4gYW5pbWF0ZSB0aGVtIHRvIGNvcnJlY3QgcG9zaXRpb25cclxuICAgICAgaWYgKGlzTW92ZWQpIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGUgaG9yaXpvbnRhbCBzd2lwZSBkaXN0YW5jZVxyXG4gICAgICAgIGRpZmYgPSBzbGlkZVBvcy5sZWZ0IC0gKHByZXZpb3VzLnBvcyAqIHNsaWRlUG9zLndpZHRoICsgcHJldmlvdXMucG9zICogcHJldmlvdXMub3B0cy5ndXR0ZXIpO1xyXG5cclxuICAgICAgICAkLmVhY2goc2VsZi5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xyXG4gICAgICAgICAgc2xpZGUuJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYW5pbWF0ZWRcIikucmVtb3ZlQ2xhc3MoZnVuY3Rpb24oaW5kZXgsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNsYXNzTmFtZS5tYXRjaCgvKF58XFxzKWZhbmN5Ym94LWZ4LVxcUysvZykgfHwgW10pLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgZWFjaCBzbGlkZSBpcyBpbiBlcXVhbCBkaXN0YW5jZVxyXG4gICAgICAgICAgLy8gVGhpcyBpcyBtb3N0bHkgbmVlZGVkIGZvciBmcmVzaGx5IGFkZGVkIHNsaWRlcywgYmVjYXVzZSB0aGV5IGFyZSBub3QgeWV0IHBvc2l0aW9uZWRcclxuICAgICAgICAgIHZhciBsZWZ0UG9zID0gc2xpZGUucG9zICogc2xpZGVQb3Mud2lkdGggKyBzbGlkZS5wb3MgKiBzbGlkZS5vcHRzLmd1dHRlcjtcclxuXHJcbiAgICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzbGlkZS4kc2xpZGUsIHt0b3A6IDAsIGxlZnQ6IGxlZnRQb3MgLSBzdGFnZVBvcy5sZWZ0ICsgZGlmZn0pO1xyXG5cclxuICAgICAgICAgIGlmIChzbGlkZS5wb3MgIT09IGN1cnJlbnQucG9zKSB7XHJcbiAgICAgICAgICAgIHNsaWRlLiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIiArIChzbGlkZS5wb3MgPiBjdXJyZW50LnBvcyA/IFwibmV4dFwiIDogXCJwcmV2aW91c1wiKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVkcmF3IHRvIG1ha2Ugc3VyZSB0aGF0IHRyYW5zaXRpb24gd2lsbCBzdGFydFxyXG4gICAgICAgICAgZm9yY2VSZWRyYXcoc2xpZGUuJHNsaWRlKTtcclxuXHJcbiAgICAgICAgICAvLyBBbmltYXRlIHRoZSBzbGlkZVxyXG4gICAgICAgICAgJC5mYW5jeWJveC5hbmltYXRlKFxyXG4gICAgICAgICAgICBzbGlkZS4kc2xpZGUsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgbGVmdDogKHNsaWRlLnBvcyAtIGN1cnJlbnQucG9zKSAqIHNsaWRlUG9zLndpZHRoICsgKHNsaWRlLnBvcyAtIGN1cnJlbnQucG9zKSAqIHNsaWRlLm9wdHMuZ3V0dGVyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBzbGlkZS4kc2xpZGVcclxuICAgICAgICAgICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIik7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuY3VyclBvcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiAmJiBjdXJyZW50Lm9wdHMudHJhbnNpdGlvbkVmZmVjdCkge1xyXG4gICAgICAgIC8vIFNldCB0cmFuc2l0aW9uIGVmZmVjdCBmb3IgcHJldmlvdXNseSBhY3RpdmUgc2xpZGVcclxuICAgICAgICBwcm9wID0gXCJmYW5jeWJveC1hbmltYXRlZCBmYW5jeWJveC1meC1cIiArIGN1cnJlbnQub3B0cy50cmFuc2l0aW9uRWZmZWN0O1xyXG5cclxuICAgICAgICBwcmV2aW91cy4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIgKyAocHJldmlvdXMucG9zID4gY3VycmVudC5wb3MgPyBcIm5leHRcIiA6IFwicHJldmlvdXNcIikpO1xyXG5cclxuICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgICBwcmV2aW91cy4kc2xpZGUsXHJcbiAgICAgICAgICBwcm9wLFxyXG4gICAgICAgICAgZHVyYXRpb24sXHJcbiAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcHJldmlvdXMuJHNsaWRlLnJlbW92ZUNsYXNzKHByb3ApLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLW5leHQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzXCIpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGN1cnJlbnQuaXNMb2FkZWQpIHtcclxuICAgICAgICBzZWxmLnJldmVhbENvbnRlbnQoY3VycmVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5sb2FkU2xpZGUoY3VycmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYucHJlbG9hZChcImltYWdlXCIpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDcmVhdGUgbmV3IFwic2xpZGVcIiBlbGVtZW50XHJcbiAgICAvLyBUaGVzZSBhcmUgZ2FsbGVyeSBpdGVtcyAgdGhhdCBhcmUgYWN0dWFsbHkgYWRkZWQgdG8gRE9NXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgY3JlYXRlU2xpZGU6IGZ1bmN0aW9uKHBvcykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgJHNsaWRlLFxyXG4gICAgICAgIGluZGV4O1xyXG5cclxuICAgICAgaW5kZXggPSBwb3MgJSBzZWxmLmdyb3VwLmxlbmd0aDtcclxuICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBzZWxmLmdyb3VwLmxlbmd0aCArIGluZGV4IDogaW5kZXg7XHJcblxyXG4gICAgICBpZiAoIXNlbGYuc2xpZGVzW3Bvc10gJiYgc2VsZi5ncm91cFtpbmRleF0pIHtcclxuICAgICAgICAkc2xpZGUgPSAkKCc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtc2xpZGVcIj48L2Rpdj4nKS5hcHBlbmRUbyhzZWxmLiRyZWZzLnN0YWdlKTtcclxuXHJcbiAgICAgICAgc2VsZi5zbGlkZXNbcG9zXSA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmdyb3VwW2luZGV4XSwge1xyXG4gICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAkc2xpZGU6ICRzbGlkZSxcclxuICAgICAgICAgIGlzTG9hZGVkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZVNsaWRlKHNlbGYuc2xpZGVzW3Bvc10pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZi5zbGlkZXNbcG9zXTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2NhbGUgaW1hZ2UgdG8gdGhlIGFjdHVhbCBzaXplIG9mIHRoZSBpbWFnZTtcclxuICAgIC8vIHggYW5kIHkgdmFsdWVzIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgc2xpZGVcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBzY2FsZVRvQWN0dWFsOiBmdW5jdGlvbih4LCB5LCBkdXJhdGlvbikge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcclxuICAgICAgICAkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQsXHJcbiAgICAgICAgY2FudmFzV2lkdGggPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjdXJyZW50LiRzbGlkZSkud2lkdGgsXHJcbiAgICAgICAgY2FudmFzSGVpZ2h0ID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoY3VycmVudC4kc2xpZGUpLmhlaWdodCxcclxuICAgICAgICBuZXdJbWdXaWR0aCA9IGN1cnJlbnQud2lkdGgsXHJcbiAgICAgICAgbmV3SW1nSGVpZ2h0ID0gY3VycmVudC5oZWlnaHQsXHJcbiAgICAgICAgaW1nUG9zLFxyXG4gICAgICAgIHBvc1gsXHJcbiAgICAgICAgcG9zWSxcclxuICAgICAgICBzY2FsZVgsXHJcbiAgICAgICAgc2NhbGVZO1xyXG5cclxuICAgICAgaWYgKHNlbGYuaXNBbmltYXRpbmcgfHwgc2VsZi5pc01vdmVkKCkgfHwgISRjb250ZW50IHx8ICEoY3VycmVudC50eXBlID09IFwiaW1hZ2VcIiAmJiBjdXJyZW50LmlzTG9hZGVkICYmICFjdXJyZW50Lmhhc0Vycm9yKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAkLmZhbmN5Ym94LnN0b3AoJGNvbnRlbnQpO1xyXG5cclxuICAgICAgeCA9IHggPT09IHVuZGVmaW5lZCA/IGNhbnZhc1dpZHRoICogMC41IDogeDtcclxuICAgICAgeSA9IHkgPT09IHVuZGVmaW5lZCA/IGNhbnZhc0hlaWdodCAqIDAuNSA6IHk7XHJcblxyXG4gICAgICBpbWdQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSgkY29udGVudCk7XHJcblxyXG4gICAgICBpbWdQb3MudG9wIC09ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJHNsaWRlKS50b3A7XHJcbiAgICAgIGltZ1Bvcy5sZWZ0IC09ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJHNsaWRlKS5sZWZ0O1xyXG5cclxuICAgICAgc2NhbGVYID0gbmV3SW1nV2lkdGggLyBpbWdQb3Mud2lkdGg7XHJcbiAgICAgIHNjYWxlWSA9IG5ld0ltZ0hlaWdodCAvIGltZ1Bvcy5oZWlnaHQ7XHJcblxyXG4gICAgICAvLyBHZXQgY2VudGVyIHBvc2l0aW9uIGZvciBvcmlnaW5hbCBpbWFnZVxyXG4gICAgICBwb3NYID0gY2FudmFzV2lkdGggKiAwLjUgLSBuZXdJbWdXaWR0aCAqIDAuNTtcclxuICAgICAgcG9zWSA9IGNhbnZhc0hlaWdodCAqIDAuNSAtIG5ld0ltZ0hlaWdodCAqIDAuNTtcclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSBpbWFnZSBkb2VzIG5vdCBtb3ZlIGF3YXkgZnJvbSBlZGdlc1xyXG4gICAgICBpZiAobmV3SW1nV2lkdGggPiBjYW52YXNXaWR0aCkge1xyXG4gICAgICAgIHBvc1ggPSBpbWdQb3MubGVmdCAqIHNjYWxlWCAtICh4ICogc2NhbGVYIC0geCk7XHJcblxyXG4gICAgICAgIGlmIChwb3NYID4gMCkge1xyXG4gICAgICAgICAgcG9zWCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocG9zWCA8IGNhbnZhc1dpZHRoIC0gbmV3SW1nV2lkdGgpIHtcclxuICAgICAgICAgIHBvc1ggPSBjYW52YXNXaWR0aCAtIG5ld0ltZ1dpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG5ld0ltZ0hlaWdodCA+IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgIHBvc1kgPSBpbWdQb3MudG9wICogc2NhbGVZIC0gKHkgKiBzY2FsZVkgLSB5KTtcclxuXHJcbiAgICAgICAgaWYgKHBvc1kgPiAwKSB7XHJcbiAgICAgICAgICBwb3NZID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwb3NZIDwgY2FudmFzSGVpZ2h0IC0gbmV3SW1nSGVpZ2h0KSB7XHJcbiAgICAgICAgICBwb3NZID0gY2FudmFzSGVpZ2h0IC0gbmV3SW1nSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi51cGRhdGVDdXJzb3IobmV3SW1nV2lkdGgsIG5ld0ltZ0hlaWdodCk7XHJcblxyXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgJGNvbnRlbnQsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdG9wOiBwb3NZLFxyXG4gICAgICAgICAgbGVmdDogcG9zWCxcclxuICAgICAgICAgIHNjYWxlWDogc2NhbGVYLFxyXG4gICAgICAgICAgc2NhbGVZOiBzY2FsZVlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGR1cmF0aW9uIHx8IDMzMCxcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBTdG9wIHNsaWRlc2hvd1xyXG4gICAgICBpZiAoc2VsZi5TbGlkZVNob3cgJiYgc2VsZi5TbGlkZVNob3cuaXNBY3RpdmUpIHtcclxuICAgICAgICBzZWxmLlNsaWRlU2hvdy5zdG9wKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2NhbGUgaW1hZ2UgdG8gZml0IGluc2lkZSBwYXJlbnQgZWxlbWVudFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHNjYWxlVG9GaXQ6IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxyXG4gICAgICAgICRjb250ZW50ID0gY3VycmVudC4kY29udGVudCxcclxuICAgICAgICBlbmQ7XHJcblxyXG4gICAgICBpZiAoc2VsZi5pc0FuaW1hdGluZyB8fCBzZWxmLmlzTW92ZWQoKSB8fCAhJGNvbnRlbnQgfHwgIShjdXJyZW50LnR5cGUgPT0gXCJpbWFnZVwiICYmIGN1cnJlbnQuaXNMb2FkZWQgJiYgIWN1cnJlbnQuaGFzRXJyb3IpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLmlzQW5pbWF0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICQuZmFuY3lib3guc3RvcCgkY29udGVudCk7XHJcblxyXG4gICAgICBlbmQgPSBzZWxmLmdldEZpdFBvcyhjdXJyZW50KTtcclxuXHJcbiAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKGVuZC53aWR0aCwgZW5kLmhlaWdodCk7XHJcblxyXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgJGNvbnRlbnQsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdG9wOiBlbmQudG9wLFxyXG4gICAgICAgICAgbGVmdDogZW5kLmxlZnQsXHJcbiAgICAgICAgICBzY2FsZVg6IGVuZC53aWR0aCAvICRjb250ZW50LndpZHRoKCksXHJcbiAgICAgICAgICBzY2FsZVk6IGVuZC5oZWlnaHQgLyAkY29udGVudC5oZWlnaHQoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHVyYXRpb24gfHwgMzMwLFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGltYWdlIHNpemUgdG8gZml0IGluc2lkZSB2aWV3cG9ydFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGdldEZpdFBvczogZnVuY3Rpb24oc2xpZGUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICRjb250ZW50ID0gc2xpZGUuJGNvbnRlbnQsXHJcbiAgICAgICAgJHNsaWRlID0gc2xpZGUuJHNsaWRlLFxyXG4gICAgICAgIHdpZHRoID0gc2xpZGUud2lkdGggfHwgc2xpZGUub3B0cy53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBzbGlkZS5oZWlnaHQgfHwgc2xpZGUub3B0cy5oZWlnaHQsXHJcbiAgICAgICAgbWF4V2lkdGgsXHJcbiAgICAgICAgbWF4SGVpZ2h0LFxyXG4gICAgICAgIG1pblJhdGlvLFxyXG4gICAgICAgIGFzcGVjdFJhdGlvLFxyXG4gICAgICAgIHJleiA9IHt9O1xyXG5cclxuICAgICAgaWYgKCFzbGlkZS5pc0xvYWRlZCB8fCAhJGNvbnRlbnQgfHwgISRjb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbWF4V2lkdGggPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzZWxmLiRyZWZzLnN0YWdlKS53aWR0aDtcclxuICAgICAgbWF4SGVpZ2h0ID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoc2VsZi4kcmVmcy5zdGFnZSkuaGVpZ2h0O1xyXG5cclxuICAgICAgbWF4V2lkdGggLT1cclxuICAgICAgICBwYXJzZUZsb2F0KCRzbGlkZS5jc3MoXCJwYWRkaW5nTGVmdFwiKSkgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoJHNsaWRlLmNzcyhcInBhZGRpbmdSaWdodFwiKSkgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoJGNvbnRlbnQuY3NzKFwibWFyZ2luTGVmdFwiKSkgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoJGNvbnRlbnQuY3NzKFwibWFyZ2luUmlnaHRcIikpO1xyXG5cclxuICAgICAgbWF4SGVpZ2h0IC09XHJcbiAgICAgICAgcGFyc2VGbG9hdCgkc2xpZGUuY3NzKFwicGFkZGluZ1RvcFwiKSkgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoJHNsaWRlLmNzcyhcInBhZGRpbmdCb3R0b21cIikpICtcclxuICAgICAgICBwYXJzZUZsb2F0KCRjb250ZW50LmNzcyhcIm1hcmdpblRvcFwiKSkgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoJGNvbnRlbnQuY3NzKFwibWFyZ2luQm90dG9tXCIpKTtcclxuXHJcbiAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xyXG4gICAgICAgIHdpZHRoID0gbWF4V2lkdGg7XHJcbiAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtaW5SYXRpbyA9IE1hdGgubWluKDEsIG1heFdpZHRoIC8gd2lkdGgsIG1heEhlaWdodCAvIGhlaWdodCk7XHJcblxyXG4gICAgICB3aWR0aCA9IG1pblJhdGlvICogd2lkdGg7XHJcbiAgICAgIGhlaWdodCA9IG1pblJhdGlvICogaGVpZ2h0O1xyXG5cclxuICAgICAgLy8gQWRqdXN0IHdpZHRoL2hlaWdodCB0byBwcmVjaXNlbHkgZml0IGludG8gY29udGFpbmVyXHJcbiAgICAgIGlmICh3aWR0aCA+IG1heFdpZHRoIC0gMC41KSB7XHJcbiAgICAgICAgd2lkdGggPSBtYXhXaWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGhlaWdodCA+IG1heEhlaWdodCAtIDAuNSkge1xyXG4gICAgICAgIGhlaWdodCA9IG1heEhlaWdodDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNsaWRlLnR5cGUgPT09IFwiaW1hZ2VcIikge1xyXG4gICAgICAgIHJlei50b3AgPSBNYXRoLmZsb29yKChtYXhIZWlnaHQgLSBoZWlnaHQpICogMC41KSArIHBhcnNlRmxvYXQoJHNsaWRlLmNzcyhcInBhZGRpbmdUb3BcIikpO1xyXG4gICAgICAgIHJlei5sZWZ0ID0gTWF0aC5mbG9vcigobWF4V2lkdGggLSB3aWR0aCkgKiAwLjUpICsgcGFyc2VGbG9hdCgkc2xpZGUuY3NzKFwicGFkZGluZ0xlZnRcIikpO1xyXG4gICAgICB9IGVsc2UgaWYgKHNsaWRlLmNvbnRlbnRUeXBlID09PSBcInZpZGVvXCIpIHtcclxuICAgICAgICAvLyBGb3JjZSBhc3BlY3QgcmF0aW8gZm9yIHRoZSB2aWRlb1xyXG4gICAgICAgIC8vIFwiSSBzYXkgdGhlIHdob2xlIHdvcmxkIG11c3QgbGVhcm4gb2Ygb3VyIHBlYWNlZnVsIHdheXPigKYgYnkgZm9yY2UhXCJcclxuICAgICAgICBhc3BlY3RSYXRpbyA9IHNsaWRlLm9wdHMud2lkdGggJiYgc2xpZGUub3B0cy5oZWlnaHQgPyB3aWR0aCAvIGhlaWdodCA6IHNsaWRlLm9wdHMucmF0aW8gfHwgMTYgLyA5O1xyXG5cclxuICAgICAgICBpZiAoaGVpZ2h0ID4gd2lkdGggLyBhc3BlY3RSYXRpbykge1xyXG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcclxuICAgICAgICB9IGVsc2UgaWYgKHdpZHRoID4gaGVpZ2h0ICogYXNwZWN0UmF0aW8pIHtcclxuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXoud2lkdGggPSB3aWR0aDtcclxuICAgICAgcmV6LmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICAgIHJldHVybiByZXo7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFVwZGF0ZSBjb250ZW50IHNpemUgYW5kIHBvc2l0aW9uIGZvciBhbGwgc2xpZGVzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICQuZWFjaChzZWxmLnNsaWRlcywgZnVuY3Rpb24oa2V5LCBzbGlkZSkge1xyXG4gICAgICAgIHNlbGYudXBkYXRlU2xpZGUoc2xpZGUsIGUpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVXBkYXRlIHNsaWRlIGNvbnRlbnQgcG9zaXRpb24gYW5kIHNpemVcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgdXBkYXRlU2xpZGU6IGZ1bmN0aW9uKHNsaWRlLCBlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICAkY29udGVudCA9IHNsaWRlICYmIHNsaWRlLiRjb250ZW50LFxyXG4gICAgICAgIHdpZHRoID0gc2xpZGUud2lkdGggfHwgc2xpZGUub3B0cy53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBzbGlkZS5oZWlnaHQgfHwgc2xpZGUub3B0cy5oZWlnaHQsXHJcbiAgICAgICAgJHNsaWRlID0gc2xpZGUuJHNsaWRlO1xyXG5cclxuICAgICAgLy8gRmlyc3QsIHByZXZlbnQgY2FwdGlvbiBvdmVybGFwLCBpZiBuZWVkZWRcclxuICAgICAgc2VsZi5hZGp1c3RDYXB0aW9uKHNsaWRlKTtcclxuXHJcbiAgICAgIC8vIFRoZW4gcmVzaXplIGNvbnRlbnQgdG8gZml0IGluc2lkZSB0aGUgc2xpZGVcclxuICAgICAgaWYgKCRjb250ZW50ICYmICh3aWR0aCB8fCBoZWlnaHQgfHwgc2xpZGUuY29udGVudFR5cGUgPT09IFwidmlkZW9cIikgJiYgIXNsaWRlLmhhc0Vycm9yKSB7XHJcbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKCRjb250ZW50KTtcclxuXHJcbiAgICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoJGNvbnRlbnQsIHNlbGYuZ2V0Rml0UG9zKHNsaWRlKSk7XHJcblxyXG4gICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuY3VyclBvcykge1xyXG4gICAgICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGVuIHNvbWUgYWRqdXN0bWVudHNcclxuICAgICAgc2VsZi5hZGp1c3RMYXlvdXQoc2xpZGUpO1xyXG5cclxuICAgICAgaWYgKCRzbGlkZS5sZW5ndGgpIHtcclxuICAgICAgICAkc2xpZGUudHJpZ2dlcihcInJlZnJlc2hcIik7XHJcblxyXG4gICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuY3VyclBvcykge1xyXG4gICAgICAgICAgc2VsZi4kcmVmcy50b29sYmFyXHJcbiAgICAgICAgICAgIC5hZGQoc2VsZi4kcmVmcy5uYXZpZ2F0aW9uLmZpbmQoXCIuZmFuY3lib3gtYnV0dG9uLS1hcnJvd19yaWdodFwiKSlcclxuICAgICAgICAgICAgLnRvZ2dsZUNsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIsICRzbGlkZS5nZXQoMCkuc2Nyb2xsSGVpZ2h0ID4gJHNsaWRlLmdldCgwKS5jbGllbnRIZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi50cmlnZ2VyKFwib25VcGRhdGVcIiwgc2xpZGUsIGUpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBIb3Jpem9udGFsbHkgY2VudGVyIHNsaWRlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgY2VudGVyU2xpZGU6IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxyXG4gICAgICAgICRzbGlkZSA9IGN1cnJlbnQuJHNsaWRlO1xyXG5cclxuICAgICAgaWYgKHNlbGYuaXNDbG9zaW5nIHx8ICFjdXJyZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2xpZGUuc2libGluZ3MoKS5jc3Moe1xyXG4gICAgICAgIHRyYW5zZm9ybTogXCJcIixcclxuICAgICAgICBvcGFjaXR5OiBcIlwiXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJHNsaWRlXHJcbiAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMgZmFuY3lib3gtc2xpZGUtLW5leHRcIik7XHJcblxyXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgJHNsaWRlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkdXJhdGlvbiA9PT0gdW5kZWZpbmVkID8gMCA6IGR1cmF0aW9uLFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgLy8gQ2xlYW4gdXBcclxuICAgICAgICAgICRzbGlkZS5jc3Moe1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwiXCIsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiXCJcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmICghY3VycmVudC5pc0NvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY29tcGxldGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZhbHNlXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgc2xpZGUgaXMgbW92ZWQgKHN3aXBlZClcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBpc01vdmVkOiBmdW5jdGlvbihzbGlkZSkge1xyXG4gICAgICB2YXIgY3VycmVudCA9IHNsaWRlIHx8IHRoaXMuY3VycmVudCxcclxuICAgICAgICBzbGlkZVBvcyxcclxuICAgICAgICBzdGFnZVBvcztcclxuXHJcbiAgICAgIGlmICghY3VycmVudCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RhZ2VQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSh0aGlzLiRyZWZzLnN0YWdlKTtcclxuICAgICAgc2xpZGVQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjdXJyZW50LiRzbGlkZSk7XHJcblxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgICFjdXJyZW50LiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpICYmXHJcbiAgICAgICAgKE1hdGguYWJzKHNsaWRlUG9zLnRvcCAtIHN0YWdlUG9zLnRvcCkgPiAwLjUgfHwgTWF0aC5hYnMoc2xpZGVQb3MubGVmdCAtIHN0YWdlUG9zLmxlZnQpID4gMC41KVxyXG4gICAgICApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBVcGRhdGUgY3Vyc29yIHN0eWxlIGRlcGVuZGluZyBpZiBjb250ZW50IGNhbiBiZSB6b29tZWRcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHVwZGF0ZUN1cnNvcjogZnVuY3Rpb24obmV4dFdpZHRoLCBuZXh0SGVpZ2h0KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxyXG4gICAgICAgICRjb250YWluZXIgPSBzZWxmLiRyZWZzLmNvbnRhaW5lcixcclxuICAgICAgICBjYW5QYW4sXHJcbiAgICAgICAgaXNab29tYWJsZTtcclxuXHJcbiAgICAgIGlmICghY3VycmVudCB8fCBzZWxmLmlzQ2xvc2luZyB8fCAhc2VsZi5HdWVzdHVyZXMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy16b29tYWJsZSBmYW5jeWJveC1jYW4tem9vbUluIGZhbmN5Ym94LWNhbi16b29tT3V0IGZhbmN5Ym94LWNhbi1zd2lwZSBmYW5jeWJveC1jYW4tcGFuXCIpO1xyXG5cclxuICAgICAgY2FuUGFuID0gc2VsZi5jYW5QYW4obmV4dFdpZHRoLCBuZXh0SGVpZ2h0KTtcclxuXHJcbiAgICAgIGlzWm9vbWFibGUgPSBjYW5QYW4gPyB0cnVlIDogc2VsZi5pc1pvb21hYmxlKCk7XHJcblxyXG4gICAgICAkY29udGFpbmVyLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtaXMtem9vbWFibGVcIiwgaXNab29tYWJsZSk7XHJcblxyXG4gICAgICAkKFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIikucHJvcChcImRpc2FibGVkXCIsICFpc1pvb21hYmxlKTtcclxuXHJcbiAgICAgIGlmIChjYW5QYW4pIHtcclxuICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLXBhblwiKTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBpc1pvb21hYmxlICYmXHJcbiAgICAgICAgKGN1cnJlbnQub3B0cy5jbGlja0NvbnRlbnQgPT09IFwiem9vbVwiIHx8ICgkLmlzRnVuY3Rpb24oY3VycmVudC5vcHRzLmNsaWNrQ29udGVudCkgJiYgY3VycmVudC5vcHRzLmNsaWNrQ29udGVudChjdXJyZW50KSA9PSBcInpvb21cIikpXHJcbiAgICAgICkge1xyXG4gICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1jYW4tem9vbUluXCIpO1xyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQub3B0cy50b3VjaCAmJiAoY3VycmVudC5vcHRzLnRvdWNoLnZlcnRpY2FsIHx8IHNlbGYuZ3JvdXAubGVuZ3RoID4gMSkgJiYgY3VycmVudC5jb250ZW50VHlwZSAhPT0gXCJ2aWRlb1wiKSB7XHJcbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWNhbi1zd2lwZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHNsaWRlIGlzIHpvb21hYmxlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgaXNab29tYWJsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxyXG4gICAgICAgIGZpdFBvcztcclxuXHJcbiAgICAgIC8vIEFzc3VtZSB0aGF0IHNsaWRlIGlzIHpvb21hYmxlIGlmOlxyXG4gICAgICAvLyAgIC0gaW1hZ2UgaXMgc3RpbGwgbG9hZGluZ1xyXG4gICAgICAvLyAgIC0gYWN0dWFsIHNpemUgb2YgdGhlIGltYWdlIGlzIHNtYWxsZXIgdGhhbiBhdmFpbGFibGUgYXJlYVxyXG4gICAgICBpZiAoY3VycmVudCAmJiAhc2VsZi5pc0Nsb3NpbmcgJiYgY3VycmVudC50eXBlID09PSBcImltYWdlXCIgJiYgIWN1cnJlbnQuaGFzRXJyb3IpIHtcclxuICAgICAgICBpZiAoIWN1cnJlbnQuaXNMb2FkZWQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZml0UG9zID0gc2VsZi5nZXRGaXRQb3MoY3VycmVudCk7XHJcblxyXG4gICAgICAgIGlmIChmaXRQb3MgJiYgKGN1cnJlbnQud2lkdGggPiBmaXRQb3Mud2lkdGggfHwgY3VycmVudC5oZWlnaHQgPiBmaXRQb3MuaGVpZ2h0KSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgaW1hZ2UgZGltZW5zaW9ucyBhcmUgc21hbGxlciB0aGFuIGFjdHVhbFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgaXNTY2FsZWREb3duOiBmdW5jdGlvbihuZXh0V2lkdGgsIG5leHRIZWlnaHQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIHJleiA9IGZhbHNlLFxyXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXHJcbiAgICAgICAgJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50O1xyXG5cclxuICAgICAgaWYgKG5leHRXaWR0aCAhPT0gdW5kZWZpbmVkICYmIG5leHRIZWlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJleiA9IG5leHRXaWR0aCA8IGN1cnJlbnQud2lkdGggJiYgbmV4dEhlaWdodCA8IGN1cnJlbnQuaGVpZ2h0O1xyXG4gICAgICB9IGVsc2UgaWYgKCRjb250ZW50KSB7XHJcbiAgICAgICAgcmV6ID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoJGNvbnRlbnQpO1xyXG4gICAgICAgIHJleiA9IHJlei53aWR0aCA8IGN1cnJlbnQud2lkdGggJiYgcmV6LmhlaWdodCA8IGN1cnJlbnQuaGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmV6O1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDaGVjayBpZiBpbWFnZSBkaW1lbnNpb25zIGV4Y2VlZCBwYXJlbnQgZWxlbWVudFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBjYW5QYW46IGZ1bmN0aW9uKG5leHRXaWR0aCwgbmV4dEhlaWdodCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcclxuICAgICAgICBwb3MgPSBudWxsLFxyXG4gICAgICAgIHJleiA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiICYmIChjdXJyZW50LmlzQ29tcGxldGUgfHwgKG5leHRXaWR0aCAmJiBuZXh0SGVpZ2h0KSkgJiYgIWN1cnJlbnQuaGFzRXJyb3IpIHtcclxuICAgICAgICByZXogPSBzZWxmLmdldEZpdFBvcyhjdXJyZW50KTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRXaWR0aCAhPT0gdW5kZWZpbmVkICYmIG5leHRIZWlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgcG9zID0ge3dpZHRoOiBuZXh0V2lkdGgsIGhlaWdodDogbmV4dEhlaWdodH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmlzQ29tcGxldGUpIHtcclxuICAgICAgICAgIHBvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBvcyAmJiByZXopIHtcclxuICAgICAgICAgIHJleiA9IE1hdGguYWJzKHBvcy53aWR0aCAtIHJlei53aWR0aCkgPiAxLjUgfHwgTWF0aC5hYnMocG9zLmhlaWdodCAtIHJlei5oZWlnaHQpID4gMS41O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlejtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTG9hZCBjb250ZW50IGludG8gdGhlIHNsaWRlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBsb2FkU2xpZGU6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgICRzbGlkZSxcclxuICAgICAgICBhamF4TG9hZDtcclxuXHJcbiAgICAgIGlmIChzbGlkZS5pc0xvYWRpbmcgfHwgc2xpZGUuaXNMb2FkZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNsaWRlLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICBpZiAoc2VsZi50cmlnZ2VyKFwiYmVmb3JlTG9hZFwiLCBzbGlkZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgc2xpZGUuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdHlwZSA9IHNsaWRlLnR5cGU7XHJcbiAgICAgICRzbGlkZSA9IHNsaWRlLiRzbGlkZTtcclxuXHJcbiAgICAgICRzbGlkZVxyXG4gICAgICAgIC5vZmYoXCJyZWZyZXNoXCIpXHJcbiAgICAgICAgLnRyaWdnZXIoXCJvblJlc2V0XCIpXHJcbiAgICAgICAgLmFkZENsYXNzKHNsaWRlLm9wdHMuc2xpZGVDbGFzcyk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgY29udGVudCBkZXBlbmRpbmcgb24gdGhlIHR5cGVcclxuICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XHJcbiAgICAgICAgICBzZWxmLnNldEltYWdlKHNsaWRlKTtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImlmcmFtZVwiOlxyXG4gICAgICAgICAgc2VsZi5zZXRJZnJhbWUoc2xpZGUpO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiaHRtbFwiOlxyXG4gICAgICAgICAgc2VsZi5zZXRDb250ZW50KHNsaWRlLCBzbGlkZS5zcmMgfHwgc2xpZGUuY29udGVudCk7XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxyXG4gICAgICAgICAgc2VsZi5zZXRDb250ZW50KFxyXG4gICAgICAgICAgICBzbGlkZSxcclxuICAgICAgICAgICAgc2xpZGUub3B0cy52aWRlby50cGxcclxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFx7XFx7c3JjXFx9XFx9L2dpLCBzbGlkZS5zcmMpXHJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7e2Zvcm1hdH19XCIsIHNsaWRlLm9wdHMudmlkZW9Gb3JtYXQgfHwgc2xpZGUub3B0cy52aWRlby5mb3JtYXQgfHwgXCJcIilcclxuICAgICAgICAgICAgICAucmVwbGFjZShcInt7cG9zdGVyfX1cIiwgc2xpZGUudGh1bWIgfHwgXCJcIilcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJpbmxpbmVcIjpcclxuICAgICAgICAgIGlmICgkKHNsaWRlLnNyYykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0Q29udGVudChzbGlkZSwgJChzbGlkZS5zcmMpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0RXJyb3Ioc2xpZGUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiYWpheFwiOlxyXG4gICAgICAgICAgc2VsZi5zaG93TG9hZGluZyhzbGlkZSk7XHJcblxyXG4gICAgICAgICAgYWpheExvYWQgPSAkLmFqYXgoXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHt9LCBzbGlkZS5vcHRzLmFqYXguc2V0dGluZ3MsIHtcclxuICAgICAgICAgICAgICB1cmw6IHNsaWRlLnNyYyxcclxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5zZXRDb250ZW50KHNsaWRlLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGpxWEhSICYmIHRleHRTdGF0dXMgIT09IFwiYWJvcnRcIikge1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLnNldEVycm9yKHNsaWRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICRzbGlkZS5vbmUoXCJvblJlc2V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBhamF4TG9hZC5hYm9ydCgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBzZWxmLnNldEVycm9yKHNsaWRlKTtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFVzZSB0aHVtYm5haWwgaW1hZ2UsIGlmIHBvc3NpYmxlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHNldEltYWdlOiBmdW5jdGlvbihzbGlkZSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgZ2hvc3Q7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBuZWVkIHRvIHNob3cgbG9hZGluZyBpY29uXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyICRpbWcgPSBzbGlkZS4kaW1hZ2U7XHJcblxyXG4gICAgICAgIGlmICghc2VsZi5pc0Nsb3NpbmcgJiYgc2xpZGUuaXNMb2FkaW5nICYmICghJGltZyB8fCAhJGltZy5sZW5ndGggfHwgISRpbWdbMF0uY29tcGxldGUpICYmICFzbGlkZS5oYXNFcnJvcikge1xyXG4gICAgICAgICAgc2VsZi5zaG93TG9hZGluZyhzbGlkZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCA1MCk7XHJcblxyXG4gICAgICAvL0NoZWNrIGlmIGltYWdlIGhhcyBzcmNzZXRcclxuICAgICAgc2VsZi5jaGVja1NyY3NldChzbGlkZSk7XHJcblxyXG4gICAgICAvLyBUaGlzIHdpbGwgYmUgd3JhcHBlciBjb250YWluaW5nIGJvdGggZ2hvc3QgYW5kIGFjdHVhbCBpbWFnZVxyXG4gICAgICBzbGlkZS4kY29udGVudCA9ICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1jb250ZW50XCI+PC9kaXY+JylcclxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIilcclxuICAgICAgICAuYXBwZW5kVG8oc2xpZGUuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWltYWdlXCIpKTtcclxuXHJcbiAgICAgIC8vIElmIHdlIGhhdmUgYSB0aHVtYm5haWwsIHdlIGNhbiBkaXNwbGF5IGl0IHdoaWxlIGFjdHVhbCBpbWFnZSBpcyBsb2FkaW5nXHJcbiAgICAgIC8vIFVzZXJzIHdpbGwgbm90IHN0YXJlIGF0IGJsYWNrIHNjcmVlbiBhbmQgYWN0dWFsIGltYWdlIHdpbGwgYXBwZWFyIGdyYWR1YWxseVxyXG4gICAgICBpZiAoc2xpZGUub3B0cy5wcmVsb2FkICE9PSBmYWxzZSAmJiBzbGlkZS5vcHRzLndpZHRoICYmIHNsaWRlLm9wdHMuaGVpZ2h0ICYmIHNsaWRlLnRodW1iKSB7XHJcbiAgICAgICAgc2xpZGUud2lkdGggPSBzbGlkZS5vcHRzLndpZHRoO1xyXG4gICAgICAgIHNsaWRlLmhlaWdodCA9IHNsaWRlLm9wdHMuaGVpZ2h0O1xyXG5cclxuICAgICAgICBnaG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblxyXG4gICAgICAgIGdob3N0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgc2xpZGUuJGdob3N0ID0gbnVsbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBnaG9zdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuYWZ0ZXJMb2FkKHNsaWRlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzbGlkZS4kZ2hvc3QgPSAkKGdob3N0KVxyXG4gICAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtaW1hZ2VcIilcclxuICAgICAgICAgIC5hcHBlbmRUbyhzbGlkZS4kY29udGVudClcclxuICAgICAgICAgIC5hdHRyKFwic3JjXCIsIHNsaWRlLnRodW1iKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3RhcnQgbG9hZGluZyBhY3R1YWwgaW1hZ2VcclxuICAgICAgc2VsZi5zZXRCaWdJbWFnZShzbGlkZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENoZWNrIGlmIGltYWdlIGhhcyBzcmNzZXQgYW5kIGdldCB0aGUgc291cmNlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgY2hlY2tTcmNzZXQ6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciBzcmNzZXQgPSBzbGlkZS5vcHRzLnNyY3NldCB8fCBzbGlkZS5vcHRzLmltYWdlLnNyY3NldCxcclxuICAgICAgICBmb3VuZCxcclxuICAgICAgICB0ZW1wLFxyXG4gICAgICAgIHB4UmF0aW8sXHJcbiAgICAgICAgd2luZG93V2lkdGg7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBoYXZlIFwic3Jjc2V0XCIsIHRoZW4gd2UgbmVlZCB0byBmaW5kIGZpcnN0IG1hdGNoaW5nIFwic3JjXCIgdmFsdWUuXHJcbiAgICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIHdoZW4geW91IHNldCBhbiBzcmMgYXR0cmlidXRlLCB0aGUgYnJvd3NlciB3aWxsIHByZWxvYWQgdGhlIGltYWdlXHJcbiAgICAgIC8vIGJlZm9yZSBhbnkgamF2YXNjcmlwdCBvciBldmVuIENTUyBpcyBhcHBsaWVkLlxyXG4gICAgICBpZiAoc3Jjc2V0KSB7XHJcbiAgICAgICAgcHhSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XHJcbiAgICAgICAgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAqIHB4UmF0aW87XHJcblxyXG4gICAgICAgIHRlbXAgPSBzcmNzZXQuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgdmFyIHJldCA9IHt9O1xyXG5cclxuICAgICAgICAgIGVsLnRyaW0oKVxyXG4gICAgICAgICAgICAuc3BsaXQoL1xccysvKVxyXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihlbCwgaSkge1xyXG4gICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KGVsLnN1YnN0cmluZygwLCBlbC5sZW5ndGggLSAxKSwgMTApO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChyZXQudXJsID0gZWwpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXQudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldC5wb3N0Zml4ID0gZWxbZWwubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTb3J0IGJ5IHZhbHVlXHJcbiAgICAgICAgdGVtcC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgIHJldHVybiBhLnZhbHVlIC0gYi52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gT2ssIG5vdyB3ZSBoYXZlIGFuIGFycmF5IG9mIGFsbCBzcmNzZXQgdmFsdWVzXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICB2YXIgZWwgPSB0ZW1wW2pdO1xyXG5cclxuICAgICAgICAgIGlmICgoZWwucG9zdGZpeCA9PT0gXCJ3XCIgJiYgZWwudmFsdWUgPj0gd2luZG93V2lkdGgpIHx8IChlbC5wb3N0Zml4ID09PSBcInhcIiAmJiBlbC52YWx1ZSA+PSBweFJhdGlvKSkge1xyXG4gICAgICAgICAgICBmb3VuZCA9IGVsO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCwgdGFrZSB0aGUgbGFzdCBvbmVcclxuICAgICAgICBpZiAoIWZvdW5kICYmIHRlbXAubGVuZ3RoKSB7XHJcbiAgICAgICAgICBmb3VuZCA9IHRlbXBbdGVtcC5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgc2xpZGUuc3JjID0gZm91bmQudXJsO1xyXG5cclxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgZGVmYXVsdCB3aWR0aC9oZWlnaHQgdmFsdWVzLCB3ZSBjYW4gY2FsY3VsYXRlIGhlaWdodCBmb3IgbWF0Y2hpbmcgc291cmNlXHJcbiAgICAgICAgICBpZiAoc2xpZGUud2lkdGggJiYgc2xpZGUuaGVpZ2h0ICYmIGZvdW5kLnBvc3RmaXggPT0gXCJ3XCIpIHtcclxuICAgICAgICAgICAgc2xpZGUuaGVpZ2h0ID0gKHNsaWRlLndpZHRoIC8gc2xpZGUuaGVpZ2h0KSAqIGZvdW5kLnZhbHVlO1xyXG4gICAgICAgICAgICBzbGlkZS53aWR0aCA9IGZvdW5kLnZhbHVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNsaWRlLm9wdHMuc3Jjc2V0ID0gc3Jjc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDcmVhdGUgZnVsbC1zaXplIGltYWdlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgc2V0QmlnSW1hZ2U6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLFxyXG4gICAgICAgICRpbWcgPSAkKGltZyk7XHJcblxyXG4gICAgICBzbGlkZS4kaW1hZ2UgPSAkaW1nXHJcbiAgICAgICAgLm9uZShcImVycm9yXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5zZXRFcnJvcihzbGlkZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub25lKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBzaXplcztcclxuXHJcbiAgICAgICAgICBpZiAoIXNsaWRlLiRnaG9zdCkge1xyXG4gICAgICAgICAgICBzZWxmLnJlc29sdmVJbWFnZVNsaWRlU2l6ZShzbGlkZSwgdGhpcy5uYXR1cmFsV2lkdGgsIHRoaXMubmF0dXJhbEhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmFmdGVyTG9hZChzbGlkZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGYuaXNDbG9zaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc2xpZGUub3B0cy5zcmNzZXQpIHtcclxuICAgICAgICAgICAgc2l6ZXMgPSBzbGlkZS5vcHRzLnNpemVzO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzaXplcyB8fCBzaXplcyA9PT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgICAgICBzaXplcyA9XHJcbiAgICAgICAgICAgICAgICAoc2xpZGUud2lkdGggLyBzbGlkZS5oZWlnaHQgPiAxICYmICRXLndpZHRoKCkgLyAkVy5oZWlnaHQoKSA+IDEgPyBcIjEwMFwiIDogTWF0aC5yb3VuZCgoc2xpZGUud2lkdGggLyBzbGlkZS5oZWlnaHQpICogMTAwKSkgK1xyXG4gICAgICAgICAgICAgICAgXCJ2d1wiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkaW1nLmF0dHIoXCJzaXplc1wiLCBzaXplcykuYXR0cihcInNyY3NldFwiLCBzbGlkZS5vcHRzLnNyY3NldCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSGlkZSB0ZW1wb3JhcnkgaW1hZ2UgYWZ0ZXIgc29tZSBkZWxheVxyXG4gICAgICAgICAgaWYgKHNsaWRlLiRnaG9zdCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGlmIChzbGlkZS4kZ2hvc3QgJiYgIXNlbGYuaXNDbG9zaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZS4kZ2hvc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgTWF0aC5taW4oMzAwLCBNYXRoLm1heCgxMDAwLCBzbGlkZS5oZWlnaHQgLyAxNjAwKSkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuaGlkZUxvYWRpbmcoc2xpZGUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtaW1hZ2VcIilcclxuICAgICAgICAuYXR0cihcInNyY1wiLCBzbGlkZS5zcmMpXHJcbiAgICAgICAgLmFwcGVuZFRvKHNsaWRlLiRjb250ZW50KTtcclxuXHJcbiAgICAgIGlmICgoaW1nLmNvbXBsZXRlIHx8IGltZy5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikgJiYgJGltZy5uYXR1cmFsV2lkdGggJiYgJGltZy5uYXR1cmFsSGVpZ2h0KSB7XHJcbiAgICAgICAgJGltZy50cmlnZ2VyKFwibG9hZFwiKTtcclxuICAgICAgfSBlbHNlIGlmIChpbWcuZXJyb3IpIHtcclxuICAgICAgICAkaW1nLnRyaWdnZXIoXCJlcnJvclwiKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDb21wdXRlcyB0aGUgc2xpZGUgc2l6ZSBmcm9tIGltYWdlIHNpemUgYW5kIG1heFdpZHRoL21heEhlaWdodFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICByZXNvbHZlSW1hZ2VTbGlkZVNpemU6IGZ1bmN0aW9uKHNsaWRlLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KSB7XHJcbiAgICAgIHZhciBtYXhXaWR0aCA9IHBhcnNlSW50KHNsaWRlLm9wdHMud2lkdGgsIDEwKSxcclxuICAgICAgICBtYXhIZWlnaHQgPSBwYXJzZUludChzbGlkZS5vcHRzLmhlaWdodCwgMTApO1xyXG5cclxuICAgICAgLy8gU2V0cyB0aGUgZGVmYXVsdCB2YWx1ZXMgZnJvbSB0aGUgaW1hZ2VcclxuICAgICAgc2xpZGUud2lkdGggPSBpbWdXaWR0aDtcclxuICAgICAgc2xpZGUuaGVpZ2h0ID0gaW1nSGVpZ2h0O1xyXG5cclxuICAgICAgaWYgKG1heFdpZHRoID4gMCkge1xyXG4gICAgICAgIHNsaWRlLndpZHRoID0gbWF4V2lkdGg7XHJcbiAgICAgICAgc2xpZGUuaGVpZ2h0ID0gTWF0aC5mbG9vcigobWF4V2lkdGggKiBpbWdIZWlnaHQpIC8gaW1nV2lkdGgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWF4SGVpZ2h0ID4gMCkge1xyXG4gICAgICAgIHNsaWRlLndpZHRoID0gTWF0aC5mbG9vcigobWF4SGVpZ2h0ICogaW1nV2lkdGgpIC8gaW1nSGVpZ2h0KTtcclxuICAgICAgICBzbGlkZS5oZWlnaHQgPSBtYXhIZWlnaHQ7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ3JlYXRlIGlmcmFtZSB3cmFwcGVyLCBpZnJhbWUgYW5kIGJpbmRpbmdzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBzZXRJZnJhbWU6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBvcHRzID0gc2xpZGUub3B0cy5pZnJhbWUsXHJcbiAgICAgICAgJHNsaWRlID0gc2xpZGUuJHNsaWRlLFxyXG4gICAgICAgICRpZnJhbWU7XHJcblxyXG4gICAgICAvLyBGaXggcmVzcG9uc2l2ZSBpZnJhbWVzIG9uIGlPUyAoYWxvbmcgd2l0aCBgcG9zaXRpb246YWJzb2x1dGU7YCBmb3IgaWZyYW1lIGVsZW1lbnQpXHJcbiAgICAgIGlmICgkLmZhbmN5Ym94LmlzTW9iaWxlKSB7XHJcbiAgICAgICAgb3B0cy5jc3Mub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzbGlkZS4kY29udGVudCA9ICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1jb250ZW50JyArIChvcHRzLnByZWxvYWQgPyBcIiBmYW5jeWJveC1pcy1oaWRkZW5cIiA6IFwiXCIpICsgJ1wiPjwvZGl2PicpXHJcbiAgICAgICAgLmNzcyhvcHRzLmNzcylcclxuICAgICAgICAuYXBwZW5kVG8oJHNsaWRlKTtcclxuXHJcbiAgICAgICRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIiArIHNsaWRlLmNvbnRlbnRUeXBlKTtcclxuXHJcbiAgICAgIHNsaWRlLiRpZnJhbWUgPSAkaWZyYW1lID0gJChvcHRzLnRwbC5yZXBsYWNlKC9cXHtybmRcXH0vZywgbmV3IERhdGUoKS5nZXRUaW1lKCkpKVxyXG4gICAgICAgIC5hdHRyKG9wdHMuYXR0cilcclxuICAgICAgICAuYXBwZW5kVG8oc2xpZGUuJGNvbnRlbnQpO1xyXG5cclxuICAgICAgaWYgKG9wdHMucHJlbG9hZCkge1xyXG4gICAgICAgIHNlbGYuc2hvd0xvYWRpbmcoc2xpZGUpO1xyXG5cclxuICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCBpdCBpcyBub3QgYWx3YXlzIHBvc3NpYmxlIHRvIGRldGVybWluZSBpZiBpZnJhbWUgaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZFxyXG4gICAgICAgIC8vIChkdWUgdG8gYnJvd3NlciBzZWN1cml0eSBwb2xpY3kpXHJcblxyXG4gICAgICAgICRpZnJhbWUub24oXCJsb2FkLmZiIGVycm9yLmZiXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIHRoaXMuaXNSZWFkeSA9IDE7XHJcblxyXG4gICAgICAgICAgc2xpZGUuJHNsaWRlLnRyaWdnZXIoXCJyZWZyZXNoXCIpO1xyXG5cclxuICAgICAgICAgIHNlbGYuYWZ0ZXJMb2FkKHNsaWRlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgaWZyYW1lIGNvbnRlbnQgc2l6ZVxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAgICAgJHNsaWRlLm9uKFwicmVmcmVzaC5mYlwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciAkY29udGVudCA9IHNsaWRlLiRjb250ZW50LFxyXG4gICAgICAgICAgICBmcmFtZVdpZHRoID0gb3B0cy5jc3Mud2lkdGgsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0ID0gb3B0cy5jc3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAkY29udGVudHMsXHJcbiAgICAgICAgICAgICRib2R5O1xyXG5cclxuICAgICAgICAgIGlmICgkaWZyYW1lWzBdLmlzUmVhZHkgIT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRjb250ZW50cyA9ICRpZnJhbWUuY29udGVudHMoKTtcclxuICAgICAgICAgICAgJGJvZHkgPSAkY29udGVudHMuZmluZChcImJvZHlcIik7XHJcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XHJcblxyXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGNvbnRuZXQgZGltZW5zaW9ucyBpZiBpdCBpcyBhY2Nlc3NpYmxlXHJcbiAgICAgICAgICBpZiAoJGJvZHkgJiYgJGJvZHkubGVuZ3RoICYmICRib2R5LmNoaWxkcmVuKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIEF2b2lkIHNjcm9sbGluZyB0byB0b3AgKGlmIG11bHRpcGxlIGluc3RhbmNlcylcclxuICAgICAgICAgICAgJHNsaWRlLmNzcyhcIm92ZXJmbG93XCIsIFwidmlzaWJsZVwiKTtcclxuXHJcbiAgICAgICAgICAgICRjb250ZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgIFwibWF4LXdpZHRoXCI6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogXCI5OTk5cHhcIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmcmFtZVdpZHRoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBmcmFtZVdpZHRoID0gTWF0aC5jZWlsKE1hdGgubWF4KCRib2R5WzBdLmNsaWVudFdpZHRoLCAkYm9keS5vdXRlcldpZHRoKHRydWUpKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRjb250ZW50LmNzcyhcIndpZHRoXCIsIGZyYW1lV2lkdGggPyBmcmFtZVdpZHRoIDogXCJcIikuY3NzKFwibWF4LXdpZHRoXCIsIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZyYW1lSGVpZ2h0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBmcmFtZUhlaWdodCA9IE1hdGguY2VpbChNYXRoLm1heCgkYm9keVswXS5jbGllbnRIZWlnaHQsICRib2R5Lm91dGVySGVpZ2h0KHRydWUpKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRjb250ZW50LmNzcyhcImhlaWdodFwiLCBmcmFtZUhlaWdodCA/IGZyYW1lSGVpZ2h0IDogXCJcIik7XHJcblxyXG4gICAgICAgICAgICAkc2xpZGUuY3NzKFwib3ZlcmZsb3dcIiwgXCJhdXRvXCIpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICRjb250ZW50LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuYWZ0ZXJMb2FkKHNsaWRlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGlmcmFtZS5hdHRyKFwic3JjXCIsIHNsaWRlLnNyYyk7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgaWZyYW1lIGlmIGNsb3Npbmcgb3IgY2hhbmdpbmcgZ2FsbGVyeSBpdGVtXHJcbiAgICAgICRzbGlkZS5vbmUoXCJvblJlc2V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFRoaXMgaGVscHMgSUUgbm90IHRvIHRocm93IGVycm9ycyB3aGVuIGNsb3NpbmdcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAuZmluZChcImlmcmFtZVwiKVxyXG4gICAgICAgICAgICAuaGlkZSgpXHJcbiAgICAgICAgICAgIC51bmJpbmQoKVxyXG4gICAgICAgICAgICAuYXR0cihcInNyY1wiLCBcIi8vYWJvdXQ6YmxhbmtcIik7XHJcbiAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG5cclxuICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAub2ZmKFwicmVmcmVzaC5mYlwiKVxyXG4gICAgICAgICAgLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIHNsaWRlLmlzTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgc2xpZGUuaXNSZXZlYWxlZCA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gV3JhcCBhbmQgYXBwZW5kIGNvbnRlbnQgdG8gdGhlIHNsaWRlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uKHNsaWRlLCBjb250ZW50KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmIChzZWxmLmlzQ2xvc2luZykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5oaWRlTG9hZGluZyhzbGlkZSk7XHJcblxyXG4gICAgICBpZiAoc2xpZGUuJGNvbnRlbnQpIHtcclxuICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJGNvbnRlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzbGlkZS4kc2xpZGUuZW1wdHkoKTtcclxuXHJcbiAgICAgIC8vIElmIGNvbnRlbnQgaXMgYSBqUXVlcnkgb2JqZWN0LCB0aGVuIGl0IHdpbGwgYmUgbW92ZWQgdG8gdGhlIHNsaWRlLlxyXG4gICAgICAvLyBUaGUgcGxhY2Vob2xkZXIgaXMgY3JlYXRlZCBzbyB3ZSB3aWxsIGtub3cgd2hlcmUgdG8gcHV0IGl0IGJhY2suXHJcbiAgICAgIGlmIChpc1F1ZXJ5KGNvbnRlbnQpICYmIGNvbnRlbnQucGFyZW50KCkubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIGNvbnRlbnQgaXMgbm90IGFscmVhZHkgbW92ZWQgdG8gZmFuY3lCb3hcclxuICAgICAgICBpZiAoY29udGVudC5oYXNDbGFzcyhcImZhbmN5Ym94LWNvbnRlbnRcIikgfHwgY29udGVudC5wYXJlbnQoKS5oYXNDbGFzcyhcImZhbmN5Ym94LWNvbnRlbnRcIikpIHtcclxuICAgICAgICAgIGNvbnRlbnQucGFyZW50cyhcIi5mYW5jeWJveC1zbGlkZVwiKS50cmlnZ2VyKFwib25SZXNldFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wb3JhcnkgZWxlbWVudCBtYXJraW5nIG9yaWdpbmFsIHBsYWNlIG9mIHRoZSBjb250ZW50XHJcbiAgICAgICAgc2xpZGUuJHBsYWNlaG9sZGVyID0gJChcIjxkaXY+XCIpXHJcbiAgICAgICAgICAuaGlkZSgpXHJcbiAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoY29udGVudCk7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBjb250ZW50IGlzIHZpc2libGVcclxuICAgICAgICBjb250ZW50LmNzcyhcImRpc3BsYXlcIiwgXCJpbmxpbmUtYmxvY2tcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoIXNsaWRlLmhhc0Vycm9yKSB7XHJcbiAgICAgICAgLy8gSWYgY29udGVudCBpcyBqdXN0IGEgcGxhaW4gdGV4dCwgdHJ5IHRvIGNvbnZlcnQgaXQgdG8gaHRtbFxyXG4gICAgICAgIGlmICgkLnR5cGUoY29udGVudCkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgIGNvbnRlbnQgPSAkKFwiPGRpdj5cIilcclxuICAgICAgICAgICAgLmFwcGVuZCgkLnRyaW0oY29udGVudCkpXHJcbiAgICAgICAgICAgIC5jb250ZW50cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgXCJmaWx0ZXJcIiBvcHRpb24gaXMgcHJvdmlkZWQsIHRoZW4gZmlsdGVyIGNvbnRlbnRcclxuICAgICAgICBpZiAoc2xpZGUub3B0cy5maWx0ZXIpIHtcclxuICAgICAgICAgIGNvbnRlbnQgPSAkKFwiPGRpdj5cIilcclxuICAgICAgICAgICAgLmh0bWwoY29udGVudClcclxuICAgICAgICAgICAgLmZpbmQoc2xpZGUub3B0cy5maWx0ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc2xpZGUuJHNsaWRlLm9uZShcIm9uUmVzZXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gUGF1c2UgYWxsIGh0bWw1IHZpZGVvL2F1ZGlvXHJcbiAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgLmZpbmQoXCJ2aWRlbyxhdWRpb1wiKVxyXG4gICAgICAgICAgLnRyaWdnZXIoXCJwYXVzZVwiKTtcclxuXHJcbiAgICAgICAgLy8gUHV0IGNvbnRlbnQgYmFja1xyXG4gICAgICAgIGlmIChzbGlkZS4kcGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgIHNsaWRlLiRwbGFjZWhvbGRlci5hZnRlcihjb250ZW50LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtY29udGVudFwiKS5oaWRlKCkpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgIHNsaWRlLiRwbGFjZWhvbGRlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgY3VzdG9tIGNsb3NlIGJ1dHRvblxyXG4gICAgICAgIGlmIChzbGlkZS4kc21hbGxCdG4pIHtcclxuICAgICAgICAgIHNsaWRlLiRzbWFsbEJ0bi5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICBzbGlkZS4kc21hbGxCdG4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGNvbnRlbnQgYW5kIG1hcmsgc2xpZGUgYXMgbm90IGxvYWRlZFxyXG4gICAgICAgIGlmICghc2xpZGUuaGFzRXJyb3IpIHtcclxuICAgICAgICAgICQodGhpcykuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICBzbGlkZS5pc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgc2xpZGUuaXNSZXZlYWxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKGNvbnRlbnQpLmFwcGVuZFRvKHNsaWRlLiRzbGlkZSk7XHJcblxyXG4gICAgICBpZiAoJChjb250ZW50KS5pcyhcInZpZGVvLGF1ZGlvXCIpKSB7XHJcbiAgICAgICAgJChjb250ZW50KS5hZGRDbGFzcyhcImZhbmN5Ym94LXZpZGVvXCIpO1xyXG5cclxuICAgICAgICAkKGNvbnRlbnQpLndyYXAoXCI8ZGl2PjwvZGl2PlwiKTtcclxuXHJcbiAgICAgICAgc2xpZGUuY29udGVudFR5cGUgPSBcInZpZGVvXCI7XHJcblxyXG4gICAgICAgIHNsaWRlLm9wdHMud2lkdGggPSBzbGlkZS5vcHRzLndpZHRoIHx8ICQoY29udGVudCkuYXR0cihcIndpZHRoXCIpO1xyXG4gICAgICAgIHNsaWRlLm9wdHMuaGVpZ2h0ID0gc2xpZGUub3B0cy5oZWlnaHQgfHwgJChjb250ZW50KS5hdHRyKFwiaGVpZ2h0XCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzbGlkZS4kY29udGVudCA9IHNsaWRlLiRzbGlkZVxyXG4gICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgICAgLmZpbHRlcihcImRpdixmb3JtLG1haW4sdmlkZW8sYXVkaW8sYXJ0aWNsZSwuZmFuY3lib3gtY29udGVudFwiKVxyXG4gICAgICAgIC5maXJzdCgpO1xyXG5cclxuICAgICAgc2xpZGUuJGNvbnRlbnQuc2libGluZ3MoKS5oaWRlKCk7XHJcblxyXG4gICAgICAvLyBSZS1jaGVjayBpZiB0aGVyZSBpcyBhIHZhbGlkIGNvbnRlbnRcclxuICAgICAgLy8gKGluIHNvbWUgY2FzZXMsIGFqYXggcmVzcG9uc2UgY2FuIGNvbnRhaW4gdmFyaW91cyBlbGVtZW50cyBvciBwbGFpbiB0ZXh0KVxyXG4gICAgICBpZiAoIXNsaWRlLiRjb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgIHNsaWRlLiRjb250ZW50ID0gc2xpZGUuJHNsaWRlXHJcbiAgICAgICAgICAud3JhcElubmVyKFwiPGRpdj48L2Rpdj5cIilcclxuICAgICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgICAgICAuZmlyc3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2xpZGUuJGNvbnRlbnQuYWRkQ2xhc3MoXCJmYW5jeWJveC1jb250ZW50XCIpO1xyXG5cclxuICAgICAgc2xpZGUuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiICsgc2xpZGUuY29udGVudFR5cGUpO1xyXG5cclxuICAgICAgc2VsZi5hZnRlckxvYWQoc2xpZGUpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBEaXNwbGF5IGVycm9yIG1lc3NhZ2VcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHNldEVycm9yOiBmdW5jdGlvbihzbGlkZSkge1xyXG4gICAgICBzbGlkZS5oYXNFcnJvciA9IHRydWU7XHJcblxyXG4gICAgICBzbGlkZS4kc2xpZGVcclxuICAgICAgICAudHJpZ2dlcihcIm9uUmVzZXRcIilcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIgKyBzbGlkZS5jb250ZW50VHlwZSlcclxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tZXJyb3JcIik7XHJcblxyXG4gICAgICBzbGlkZS5jb250ZW50VHlwZSA9IFwiaHRtbFwiO1xyXG5cclxuICAgICAgdGhpcy5zZXRDb250ZW50KHNsaWRlLCB0aGlzLnRyYW5zbGF0ZShzbGlkZSwgc2xpZGUub3B0cy5lcnJvclRwbCkpO1xyXG5cclxuICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gdGhpcy5jdXJyUG9zKSB7XHJcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFNob3cgbG9hZGluZyBpY29uIGluc2lkZSB0aGUgc2xpZGVcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBzaG93TG9hZGluZzogZnVuY3Rpb24oc2xpZGUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgc2xpZGUgPSBzbGlkZSB8fCBzZWxmLmN1cnJlbnQ7XHJcblxyXG4gICAgICBpZiAoc2xpZGUgJiYgIXNsaWRlLiRzcGlubmVyKSB7XHJcbiAgICAgICAgc2xpZGUuJHNwaW5uZXIgPSAkKHNlbGYudHJhbnNsYXRlKHNlbGYsIHNlbGYub3B0cy5zcGlubmVyVHBsKSlcclxuICAgICAgICAgIC5hcHBlbmRUbyhzbGlkZS4kc2xpZGUpXHJcbiAgICAgICAgICAuaGlkZSgpXHJcbiAgICAgICAgICAuZmFkZUluKFwiZmFzdFwiKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZW1vdmUgbG9hZGluZyBpY29uIGZyb20gdGhlIHNsaWRlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIHNsaWRlID0gc2xpZGUgfHwgc2VsZi5jdXJyZW50O1xyXG5cclxuICAgICAgaWYgKHNsaWRlICYmIHNsaWRlLiRzcGlubmVyKSB7XHJcbiAgICAgICAgc2xpZGUuJHNwaW5uZXIuc3RvcCgpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBkZWxldGUgc2xpZGUuJHNwaW5uZXI7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gQWRqdXN0bWVudHMgYWZ0ZXIgc2xpZGUgY29udGVudCBoYXMgYmVlbiBsb2FkZWRcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgYWZ0ZXJMb2FkOiBmdW5jdGlvbihzbGlkZSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoc2VsZi5pc0Nsb3NpbmcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNsaWRlLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICBzbGlkZS5pc0xvYWRlZCA9IHRydWU7XHJcblxyXG4gICAgICBzZWxmLnRyaWdnZXIoXCJhZnRlckxvYWRcIiwgc2xpZGUpO1xyXG5cclxuICAgICAgc2VsZi5oaWRlTG9hZGluZyhzbGlkZSk7XHJcblxyXG4gICAgICAvLyBBZGQgc21hbGwgY2xvc2UgYnV0dG9uXHJcbiAgICAgIGlmIChzbGlkZS5vcHRzLnNtYWxsQnRuICYmICghc2xpZGUuJHNtYWxsQnRuIHx8ICFzbGlkZS4kc21hbGxCdG4ubGVuZ3RoKSkge1xyXG4gICAgICAgIHNsaWRlLiRzbWFsbEJ0biA9ICQoc2VsZi50cmFuc2xhdGUoc2xpZGUsIHNsaWRlLm9wdHMuYnRuVHBsLnNtYWxsQnRuKSkuYXBwZW5kVG8oc2xpZGUuJGNvbnRlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEaXNhYmxlIHJpZ2h0IGNsaWNrXHJcbiAgICAgIGlmIChzbGlkZS5vcHRzLnByb3RlY3QgJiYgc2xpZGUuJGNvbnRlbnQgJiYgIXNsaWRlLmhhc0Vycm9yKSB7XHJcbiAgICAgICAgc2xpZGUuJGNvbnRlbnQub24oXCJjb250ZXh0bWVudS5mYlwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBpZiAoZS5idXR0b24gPT0gMikge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBmYWtlIGVsZW1lbnQgb24gdG9wIG9mIHRoZSBpbWFnZVxyXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgYSBiaXQgaGFyZGVyIGZvciB1c2VyIHRvIHNlbGVjdCBpbWFnZVxyXG4gICAgICAgIGlmIChzbGlkZS50eXBlID09PSBcImltYWdlXCIpIHtcclxuICAgICAgICAgICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1zcGFjZWJhbGxcIj48L2Rpdj4nKS5hcHBlbmRUbyhzbGlkZS4kY29udGVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLmFkanVzdENhcHRpb24oc2xpZGUpO1xyXG5cclxuICAgICAgc2VsZi5hZGp1c3RMYXlvdXQoc2xpZGUpO1xyXG5cclxuICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XHJcbiAgICAgICAgc2VsZi51cGRhdGVDdXJzb3IoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5yZXZlYWxDb250ZW50KHNsaWRlKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gUHJldmVudCBjYXB0aW9uIG92ZXJsYXAsXHJcbiAgICAvLyBmaXggY3NzIGluY29uc2lzdGVuY3kgYWNyb3NzIGJyb3dzZXJzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgYWRqdXN0Q2FwdGlvbjogZnVuY3Rpb24oc2xpZGUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGN1cnJlbnQgPSBzbGlkZSB8fCBzZWxmLmN1cnJlbnQsXHJcbiAgICAgICAgY2FwdGlvbiA9IGN1cnJlbnQub3B0cy5jYXB0aW9uLFxyXG4gICAgICAgICRjYXB0aW9uID0gc2VsZi4kcmVmcy5jYXB0aW9uLFxyXG4gICAgICAgIGNhcHRpb25IID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoY3VycmVudC5vcHRzLnByZXZlbnRDYXB0aW9uT3ZlcmxhcCAmJiBjYXB0aW9uICYmIGNhcHRpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKGN1cnJlbnQucG9zICE9PSBzZWxmLmN1cnJQb3MpIHtcclxuICAgICAgICAgICRjYXB0aW9uID0gJGNhcHRpb25cclxuICAgICAgICAgICAgLmNsb25lKClcclxuICAgICAgICAgICAgLmVtcHR5KClcclxuICAgICAgICAgICAgLmFwcGVuZFRvKCRjYXB0aW9uLnBhcmVudCgpKTtcclxuXHJcbiAgICAgICAgICAkY2FwdGlvbi5odG1sKGNhcHRpb24pO1xyXG5cclxuICAgICAgICAgIGNhcHRpb25IID0gJGNhcHRpb24ub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgJGNhcHRpb24uZW1wdHkoKS5yZW1vdmUoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuJGNhcHRpb24pIHtcclxuICAgICAgICAgIGNhcHRpb25IID0gc2VsZi4kY2FwdGlvbi5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN1cnJlbnQuJHNsaWRlLmNzcyhcInBhZGRpbmctYm90dG9tXCIsIGNhcHRpb25IIHx8IFwiXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFNpbXBsZSBoYWNrIHRvIGZpeCBpbmNvbnNpc3RlbmN5IGFjcm9zcyBicm93c2VycywgZGVzY3JpYmVkIGhlcmUgKGFmZmVjdHMgRWRnZSwgdG9vKTpcclxuICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTc0ODUxOFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgYWRqdXN0TGF5b3V0OiBmdW5jdGlvbihzbGlkZSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgY3VycmVudCA9IHNsaWRlIHx8IHNlbGYuY3VycmVudCxcclxuICAgICAgICBzY3JvbGxIZWlnaHQsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tLFxyXG4gICAgICAgIGlubGluZVBhZGRpbmcsXHJcbiAgICAgICAgYWN0dWFsUGFkZGluZztcclxuXHJcbiAgICAgIGlmIChjdXJyZW50LmlzTG9hZGVkICYmIGN1cnJlbnQub3B0cy5kaXNhYmxlTGF5b3V0Rml4ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgY3VycmVudC4kY29udGVudC5jc3MoXCJtYXJnaW4tYm90dG9tXCIsIFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBJZiB3ZSB3b3VsZCBhbHdheXMgc2V0IG1hcmdpbi1ib3R0b20gZm9yIHRoZSBjb250ZW50LFxyXG4gICAgICAgIC8vIHRoZW4gaXQgd291bGQgcG90ZW50aWFsbHkgYnJlYWsgdmVydGljYWwgYWxpZ25cclxuICAgICAgICBpZiAoY3VycmVudC4kY29udGVudC5vdXRlckhlaWdodCgpID4gY3VycmVudC4kc2xpZGUuaGVpZ2h0KCkgKyAwLjUpIHtcclxuICAgICAgICAgIGlubGluZVBhZGRpbmcgPSBjdXJyZW50LiRzbGlkZVswXS5zdHlsZVtcInBhZGRpbmctYm90dG9tXCJdO1xyXG4gICAgICAgICAgYWN0dWFsUGFkZGluZyA9IGN1cnJlbnQuJHNsaWRlLmNzcyhcInBhZGRpbmctYm90dG9tXCIpO1xyXG5cclxuICAgICAgICAgIGlmIChwYXJzZUZsb2F0KGFjdHVhbFBhZGRpbmcpID4gMCkge1xyXG4gICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBjdXJyZW50LiRzbGlkZVswXS5zY3JvbGxIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50LiRzbGlkZS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzY3JvbGxIZWlnaHQgLSBjdXJyZW50LiRzbGlkZVswXS5zY3JvbGxIZWlnaHQpIDwgMSkge1xyXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IGFjdHVhbFBhZGRpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN1cnJlbnQuJHNsaWRlLmNzcyhcInBhZGRpbmctYm90dG9tXCIsIGlubGluZVBhZGRpbmcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3VycmVudC4kY29udGVudC5jc3MoXCJtYXJnaW4tYm90dG9tXCIsIG1hcmdpbkJvdHRvbSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gTWFrZSBjb250ZW50IHZpc2libGVcclxuICAgIC8vIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCByaWdodCBhZnRlciBjb250ZW50IGhhcyBiZWVuIGxvYWRlZCBvclxyXG4gICAgLy8gdXNlciBuYXZpZ2F0ZXMgZ2FsbGVyeSBhbmQgdHJhbnNpdGlvbiBzaG91bGQgc3RhcnRcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHJldmVhbENvbnRlbnQ6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICAkc2xpZGUgPSBzbGlkZS4kc2xpZGUsXHJcbiAgICAgICAgZW5kID0gZmFsc2UsXHJcbiAgICAgICAgc3RhcnQgPSBmYWxzZSxcclxuICAgICAgICBpc01vdmVkID0gc2VsZi5pc01vdmVkKHNsaWRlKSxcclxuICAgICAgICBpc1JldmVhbGVkID0gc2xpZGUuaXNSZXZlYWxlZCxcclxuICAgICAgICBlZmZlY3QsXHJcbiAgICAgICAgZWZmZWN0Q2xhc3NOYW1lLFxyXG4gICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgIG9wYWNpdHk7XHJcblxyXG4gICAgICBzbGlkZS5pc1JldmVhbGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgIGVmZmVjdCA9IHNsaWRlLm9wdHNbc2VsZi5maXJzdFJ1biA/IFwiYW5pbWF0aW9uRWZmZWN0XCIgOiBcInRyYW5zaXRpb25FZmZlY3RcIl07XHJcbiAgICAgIGR1cmF0aW9uID0gc2xpZGUub3B0c1tzZWxmLmZpcnN0UnVuID8gXCJhbmltYXRpb25EdXJhdGlvblwiIDogXCJ0cmFuc2l0aW9uRHVyYXRpb25cIl07XHJcblxyXG4gICAgICBkdXJhdGlvbiA9IHBhcnNlSW50KHNsaWRlLmZvcmNlZER1cmF0aW9uID09PSB1bmRlZmluZWQgPyBkdXJhdGlvbiA6IHNsaWRlLmZvcmNlZER1cmF0aW9uLCAxMCk7XHJcblxyXG4gICAgICBpZiAoaXNNb3ZlZCB8fCBzbGlkZS5wb3MgIT09IHNlbGYuY3VyclBvcyB8fCAhZHVyYXRpb24pIHtcclxuICAgICAgICBlZmZlY3QgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgY2FuIHpvb21cclxuICAgICAgaWYgKGVmZmVjdCA9PT0gXCJ6b29tXCIpIHtcclxuICAgICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MgJiYgZHVyYXRpb24gJiYgc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiICYmICFzbGlkZS5oYXNFcnJvciAmJiAoc3RhcnQgPSBzZWxmLmdldFRodW1iUG9zKHNsaWRlKSkpIHtcclxuICAgICAgICAgIGVuZCA9IHNlbGYuZ2V0Rml0UG9zKHNsaWRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWZmZWN0ID0gXCJmYWRlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBab29tIGFuaW1hdGlvblxyXG4gICAgICAvLyA9PT09PT09PT09PT09PVxyXG4gICAgICBpZiAoZWZmZWN0ID09PSBcInpvb21cIikge1xyXG4gICAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBlbmQuc2NhbGVYID0gZW5kLndpZHRoIC8gc3RhcnQud2lkdGg7XHJcbiAgICAgICAgZW5kLnNjYWxlWSA9IGVuZC5oZWlnaHQgLyBzdGFydC5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gYW5pbWF0ZSBvcGFjaXR5XHJcbiAgICAgICAgb3BhY2l0eSA9IHNsaWRlLm9wdHMuem9vbU9wYWNpdHk7XHJcblxyXG4gICAgICAgIGlmIChvcGFjaXR5ID09IFwiYXV0b1wiKSB7XHJcbiAgICAgICAgICBvcGFjaXR5ID0gTWF0aC5hYnMoc2xpZGUud2lkdGggLyBzbGlkZS5oZWlnaHQgLSBzdGFydC53aWR0aCAvIHN0YXJ0LmhlaWdodCkgPiAwLjE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3BhY2l0eSkge1xyXG4gICAgICAgICAgc3RhcnQub3BhY2l0eSA9IDAuMTtcclxuICAgICAgICAgIGVuZC5vcGFjaXR5ID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERyYXcgaW1hZ2UgYXQgc3RhcnQgcG9zaXRpb25cclxuICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzbGlkZS4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKSwgc3RhcnQpO1xyXG5cclxuICAgICAgICBmb3JjZVJlZHJhdyhzbGlkZS4kY29udGVudCk7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvblxyXG4gICAgICAgICQuZmFuY3lib3guYW5pbWF0ZShzbGlkZS4kY29udGVudCwgZW5kLCBkdXJhdGlvbiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgc2VsZi5jb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYudXBkYXRlU2xpZGUoc2xpZGUpO1xyXG5cclxuICAgICAgLy8gU2ltcGx5IHNob3cgY29udGVudCBpZiBubyBlZmZlY3RcclxuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgaWYgKCFlZmZlY3QpIHtcclxuICAgICAgICBzbGlkZS4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc1JldmVhbGVkICYmIGlzTW92ZWQgJiYgc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiICYmICFzbGlkZS5oYXNFcnJvcikge1xyXG4gICAgICAgICAgc2xpZGUuJGNvbnRlbnQuaGlkZSgpLmZhZGVJbihcImZhc3RcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MpIHtcclxuICAgICAgICAgIHNlbGYuY29tcGxldGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJlcGFyZSBmb3IgQ1NTIHRyYW5zaXRvblxyXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICQuZmFuY3lib3guc3RvcCgkc2xpZGUpO1xyXG5cclxuICAgICAgLy9lZmZlY3RDbGFzc05hbWUgPSBcImZhbmN5Ym94LWFuaW1hdGVkIGZhbmN5Ym94LXNsaWRlLS1cIiArIChzbGlkZS5wb3MgPj0gc2VsZi5wcmV2UG9zID8gXCJuZXh0XCIgOiBcInByZXZpb3VzXCIpICsgXCIgZmFuY3lib3gtZngtXCIgKyBlZmZlY3Q7XHJcbiAgICAgIGVmZmVjdENsYXNzTmFtZSA9IFwiZmFuY3lib3gtc2xpZGUtLVwiICsgKHNsaWRlLnBvcyA+PSBzZWxmLnByZXZQb3MgPyBcIm5leHRcIiA6IFwicHJldmlvdXNcIikgKyBcIiBmYW5jeWJveC1hbmltYXRlZCBmYW5jeWJveC1meC1cIiArIGVmZmVjdDtcclxuXHJcbiAgICAgICRzbGlkZS5hZGRDbGFzcyhlZmZlY3RDbGFzc05hbWUpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIik7IC8vLmFkZENsYXNzKGVmZmVjdENsYXNzTmFtZSk7XHJcblxyXG4gICAgICBzbGlkZS4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKTtcclxuXHJcbiAgICAgIC8vIEZvcmNlIHJlZmxvd1xyXG4gICAgICBmb3JjZVJlZHJhdygkc2xpZGUpO1xyXG5cclxuICAgICAgaWYgKHNsaWRlLnR5cGUgIT09IFwiaW1hZ2VcIikge1xyXG4gICAgICAgIHNsaWRlLiRjb250ZW50LmhpZGUoKS5zaG93KDApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgJHNsaWRlLFxyXG4gICAgICAgIFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIixcclxuICAgICAgICBkdXJhdGlvbixcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzbGlkZS5yZW1vdmVDbGFzcyhlZmZlY3RDbGFzc05hbWUpLmNzcyh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogXCJcIixcclxuICAgICAgICAgICAgb3BhY2l0eTogXCJcIlxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY29tcGxldGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgd2UgY2FuIGFuZCBoYXZlIHRvIHpvb20gZnJvbSB0aHVtYm5haWxcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgZ2V0VGh1bWJQb3M6IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgIHZhciByZXogPSBmYWxzZSxcclxuICAgICAgICAkdGh1bWIgPSBzbGlkZS4kdGh1bWIsXHJcbiAgICAgICAgdGh1bWJQb3MsXHJcbiAgICAgICAgYnR3LFxyXG4gICAgICAgIGJydyxcclxuICAgICAgICBiYncsXHJcbiAgICAgICAgYmx3O1xyXG5cclxuICAgICAgaWYgKCEkdGh1bWIgfHwgIWluVmlld3BvcnQoJHRodW1iWzBdKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGh1bWJQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSgkdGh1bWIpO1xyXG5cclxuICAgICAgYnR3ID0gcGFyc2VGbG9hdCgkdGh1bWIuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSB8fCAwKTtcclxuICAgICAgYnJ3ID0gcGFyc2VGbG9hdCgkdGh1bWIuY3NzKFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIpIHx8IDApO1xyXG4gICAgICBiYncgPSBwYXJzZUZsb2F0KCR0aHVtYi5jc3MoXCJib3JkZXItYm90dG9tLXdpZHRoXCIpIHx8IDApO1xyXG4gICAgICBibHcgPSBwYXJzZUZsb2F0KCR0aHVtYi5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKSB8fCAwKTtcclxuXHJcbiAgICAgIHJleiA9IHtcclxuICAgICAgICB0b3A6IHRodW1iUG9zLnRvcCArIGJ0dyxcclxuICAgICAgICBsZWZ0OiB0aHVtYlBvcy5sZWZ0ICsgYmx3LFxyXG4gICAgICAgIHdpZHRoOiB0aHVtYlBvcy53aWR0aCAtIGJydyAtIGJsdyxcclxuICAgICAgICBoZWlnaHQ6IHRodW1iUG9zLmhlaWdodCAtIGJ0dyAtIGJidyxcclxuICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgc2NhbGVZOiAxXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gdGh1bWJQb3Mud2lkdGggPiAwICYmIHRodW1iUG9zLmhlaWdodCA+IDAgPyByZXogOiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gRmluYWwgYWRqdXN0bWVudHMgYWZ0ZXIgY3VycmVudCBnYWxsZXJ5IGl0ZW0gaXMgbW92ZWQgdG8gcG9zaXRpb25cclxuICAgIC8vIGFuZCBpdGBzIGNvbnRlbnQgaXMgbG9hZGVkXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxyXG4gICAgICAgIHNsaWRlcyA9IHt9LFxyXG4gICAgICAgICRlbDtcclxuXHJcbiAgICAgIGlmIChzZWxmLmlzTW92ZWQoKSB8fCAhY3VycmVudC5pc0xvYWRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFjdXJyZW50LmlzQ29tcGxldGUpIHtcclxuICAgICAgICBjdXJyZW50LmlzQ29tcGxldGUgPSB0cnVlO1xyXG5cclxuICAgICAgICBjdXJyZW50LiRzbGlkZS5zaWJsaW5ncygpLnRyaWdnZXIoXCJvblJlc2V0XCIpO1xyXG5cclxuICAgICAgICBzZWxmLnByZWxvYWQoXCJpbmxpbmVcIik7XHJcblxyXG4gICAgICAgIC8vIFRyaWdnZXIgYW55IENTUyB0cmFuc2l0b24gaW5zaWRlIHRoZSBzbGlkZVxyXG4gICAgICAgIGZvcmNlUmVkcmF3KGN1cnJlbnQuJHNsaWRlKTtcclxuXHJcbiAgICAgICAgY3VycmVudC4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY29tcGxldGVcIik7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB1bm5lY2Vzc2FyeSBzbGlkZXNcclxuICAgICAgICAkLmVhY2goc2VsZi5zbGlkZXMsIGZ1bmN0aW9uKGtleSwgc2xpZGUpIHtcclxuICAgICAgICAgIGlmIChzbGlkZS5wb3MgPj0gc2VsZi5jdXJyUG9zIC0gMSAmJiBzbGlkZS5wb3MgPD0gc2VsZi5jdXJyUG9zICsgMSkge1xyXG4gICAgICAgICAgICBzbGlkZXNbc2xpZGUucG9zXSA9IHNsaWRlO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzbGlkZSkge1xyXG4gICAgICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJHNsaWRlKTtcclxuXHJcbiAgICAgICAgICAgIHNsaWRlLiRzbGlkZS5vZmYoKS5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2VsZi5zbGlkZXMgPSBzbGlkZXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKCk7XHJcblxyXG4gICAgICBzZWxmLnRyaWdnZXIoXCJhZnRlclNob3dcIik7XHJcblxyXG4gICAgICAvLyBBdXRvcGxheSBmaXJzdCBodG1sNSB2aWRlby9hdWRpb1xyXG4gICAgICBpZiAoISFjdXJyZW50Lm9wdHMudmlkZW8uYXV0b1N0YXJ0KSB7XHJcbiAgICAgICAgY3VycmVudC4kc2xpZGVcclxuICAgICAgICAgIC5maW5kKFwidmlkZW8sYXVkaW9cIilcclxuICAgICAgICAgIC5maWx0ZXIoXCI6dmlzaWJsZTpmaXJzdFwiKVxyXG4gICAgICAgICAgLnRyaWdnZXIoXCJwbGF5XCIpXHJcbiAgICAgICAgICAub25lKFwiZW5kZWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLm5leHQoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUcnkgdG8gZm9jdXMgb24gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50XHJcbiAgICAgIGlmIChjdXJyZW50Lm9wdHMuYXV0b0ZvY3VzICYmIGN1cnJlbnQuY29udGVudFR5cGUgPT09IFwiaHRtbFwiKSB7XHJcbiAgICAgICAgLy8gTG9vayBmb3IgdGhlIGZpcnN0IGlucHV0IHdpdGggYXV0b2ZvY3VzIGF0dHJpYnV0ZVxyXG4gICAgICAgICRlbCA9IGN1cnJlbnQuJGNvbnRlbnQuZmluZChcImlucHV0W2F1dG9mb2N1c106ZW5hYmxlZDp2aXNpYmxlOmZpcnN0XCIpO1xyXG5cclxuICAgICAgICBpZiAoJGVsLmxlbmd0aCkge1xyXG4gICAgICAgICAgJGVsLnRyaWdnZXIoXCJmb2N1c1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5mb2N1cyhudWxsLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEF2b2lkIGp1bXBpbmdcclxuICAgICAgY3VycmVudC4kc2xpZGUuc2Nyb2xsVG9wKDApLnNjcm9sbExlZnQoMCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFByZWxvYWQgbmV4dCBhbmQgcHJldmlvdXMgc2xpZGVzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHByZWxvYWQ6IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIHByZXYsXHJcbiAgICAgICAgbmV4dDtcclxuXHJcbiAgICAgIGlmIChzZWxmLmdyb3VwLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5leHQgPSBzZWxmLnNsaWRlc1tzZWxmLmN1cnJQb3MgKyAxXTtcclxuICAgICAgcHJldiA9IHNlbGYuc2xpZGVzW3NlbGYuY3VyclBvcyAtIDFdO1xyXG5cclxuICAgICAgaWYgKHByZXYgJiYgcHJldi50eXBlID09PSB0eXBlKSB7XHJcbiAgICAgICAgc2VsZi5sb2FkU2xpZGUocHJldik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXh0ICYmIG5leHQudHlwZSA9PT0gdHlwZSkge1xyXG4gICAgICAgIHNlbGYubG9hZFNsaWRlKG5leHQpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFRyeSB0byBmaW5kIGFuZCBmb2N1cyBvbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnRcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBmb2N1czogZnVuY3Rpb24oZSwgZmlyc3RSdW4pIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGZvY3VzYWJsZVN0ciA9IFtcclxuICAgICAgICAgIFwiYVtocmVmXVwiLFxyXG4gICAgICAgICAgXCJhcmVhW2hyZWZdXCIsXHJcbiAgICAgICAgICAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdHlwZT1cImhpZGRlblwiXSk6bm90KFthcmlhLWhpZGRlbl0pJyxcclxuICAgICAgICAgIFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSlcIixcclxuICAgICAgICAgIFwidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKVwiLFxyXG4gICAgICAgICAgXCJidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKVwiLFxyXG4gICAgICAgICAgXCJpZnJhbWVcIixcclxuICAgICAgICAgIFwib2JqZWN0XCIsXHJcbiAgICAgICAgICBcImVtYmVkXCIsXHJcbiAgICAgICAgICBcIltjb250ZW50ZWRpdGFibGVdXCIsXHJcbiAgICAgICAgICAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pJ1xyXG4gICAgICAgIF0uam9pbihcIixcIiksXHJcbiAgICAgICAgZm9jdXNhYmxlSXRlbXMsXHJcbiAgICAgICAgZm9jdXNlZEl0ZW1JbmRleDtcclxuXHJcbiAgICAgIGlmIChzZWxmLmlzQ2xvc2luZykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGUgfHwgIXNlbGYuY3VycmVudCB8fCAhc2VsZi5jdXJyZW50LmlzQ29tcGxldGUpIHtcclxuICAgICAgICAvLyBGb2N1cyBvbiBhbnkgZWxlbWVudCBpbnNpZGUgZmFuY3lib3hcclxuICAgICAgICBmb2N1c2FibGVJdGVtcyA9IHNlbGYuJHJlZnMuY29udGFpbmVyLmZpbmQoXCIqOnZpc2libGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRm9jdXMgaW5zaWRlIGN1cnJlbnQgc2xpZGVcclxuICAgICAgICBmb2N1c2FibGVJdGVtcyA9IHNlbGYuY3VycmVudC4kc2xpZGUuZmluZChcIio6dmlzaWJsZVwiICsgKGZpcnN0UnVuID8gXCI6bm90KC5mYW5jeWJveC1jbG9zZS1zbWFsbClcIiA6IFwiXCIpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9jdXNhYmxlSXRlbXMgPSBmb2N1c2FibGVJdGVtcy5maWx0ZXIoZm9jdXNhYmxlU3RyKS5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICQodGhpcykuY3NzKFwidmlzaWJpbGl0eVwiKSAhPT0gXCJoaWRkZW5cIiAmJiAhJCh0aGlzKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChmb2N1c2FibGVJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICBmb2N1c2VkSXRlbUluZGV4ID0gZm9jdXNhYmxlSXRlbXMuaW5kZXgoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XHJcblxyXG4gICAgICAgIGlmIChlICYmIGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgIC8vIEJhY2sgdGFiXHJcbiAgICAgICAgICBpZiAoZm9jdXNlZEl0ZW1JbmRleCA8IDAgfHwgZm9jdXNlZEl0ZW1JbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGZvY3VzYWJsZUl0ZW1zLmVxKGZvY3VzYWJsZUl0ZW1zLmxlbmd0aCAtIDEpLnRyaWdnZXIoXCJmb2N1c1wiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gT3V0c2lkZSBvciBGb3J3YXJkIHRhYlxyXG4gICAgICAgICAgaWYgKGZvY3VzZWRJdGVtSW5kZXggPCAwIHx8IGZvY3VzZWRJdGVtSW5kZXggPT0gZm9jdXNhYmxlSXRlbXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9jdXNhYmxlSXRlbXMuZXEoMCkudHJpZ2dlcihcImZvY3VzXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKFwiZm9jdXNcIik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gQWN0aXZhdGVzIGN1cnJlbnQgaW5zdGFuY2UgLSBicmluZ3MgY29udGFpbmVyIHRvIHRoZSBmcm9udCBhbmQgZW5hYmxlcyBrZXlib2FyZCxcclxuICAgIC8vIG5vdGlmaWVzIG90aGVyIGluc3RhbmNlcyBhYm91dCBkZWFjdGl2YXRpbmdcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGFjdGl2YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gRGVhY3RpdmF0ZSBhbGwgaW5zdGFuY2VzXHJcbiAgICAgICQoXCIuZmFuY3lib3gtY29udGFpbmVyXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gJCh0aGlzKS5kYXRhKFwiRmFuY3lCb3hcIik7XHJcblxyXG4gICAgICAgIC8vIFNraXAgc2VsZiBhbmQgY2xvc2luZyBpbnN0YW5jZXNcclxuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaWQgIT09IHNlbGYuaWQgJiYgIWluc3RhbmNlLmlzQ2xvc2luZykge1xyXG4gICAgICAgICAgaW5zdGFuY2UudHJpZ2dlcihcIm9uRGVhY3RpdmF0ZVwiKTtcclxuXHJcbiAgICAgICAgICBpbnN0YW5jZS5yZW1vdmVFdmVudHMoKTtcclxuXHJcbiAgICAgICAgICBpbnN0YW5jZS5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2VsZi5pc1Zpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgaWYgKHNlbGYuY3VycmVudCB8fCBzZWxmLmlzSWRsZSkge1xyXG4gICAgICAgIHNlbGYudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlQ29udHJvbHMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi50cmlnZ2VyKFwib25BY3RpdmF0ZVwiKTtcclxuXHJcbiAgICAgIHNlbGYuYWRkRXZlbnRzKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFN0YXJ0IGNsb3NpbmcgcHJvY2VkdXJlXHJcbiAgICAvLyBUaGlzIHdpbGwgc3RhcnQgXCJ6b29tLW91dFwiIGFuaW1hdGlvbiBpZiBuZWVkZWQgYW5kIGNsZWFuIGV2ZXJ5dGhpbmcgdXAgYWZ0ZXJ3YXJkc1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgY2xvc2U6IGZ1bmN0aW9uKGUsIGQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXHJcbiAgICAgICAgZWZmZWN0LFxyXG4gICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgICRjb250ZW50LFxyXG4gICAgICAgIGRvbVJlY3QsXHJcbiAgICAgICAgb3BhY2l0eSxcclxuICAgICAgICBzdGFydCxcclxuICAgICAgICBlbmQ7XHJcblxyXG4gICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuY2xlYW5VcChlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChzZWxmLmlzQ2xvc2luZykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5pc0Nsb3NpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gSWYgYmVmb3JlQ2xvc2UgY2FsbGJhY2sgcHJldmVudHMgY2xvc2luZywgbWFrZSBzdXJlIGNvbnRlbnQgaXMgY2VudGVyZWRcclxuICAgICAgaWYgKHNlbGYudHJpZ2dlcihcImJlZm9yZUNsb3NlXCIsIGUpID09PSBmYWxzZSkge1xyXG4gICAgICAgIHNlbGYuaXNDbG9zaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBhbGwgZXZlbnRzXHJcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBpbnN0YW5jZXMsIHRoZXkgd2lsbCBiZSBzZXQgYWdhaW4gYnkgXCJhY3RpdmF0ZVwiIG1ldGhvZFxyXG4gICAgICBzZWxmLnJlbW92ZUV2ZW50cygpO1xyXG5cclxuICAgICAgJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50O1xyXG4gICAgICBlZmZlY3QgPSBjdXJyZW50Lm9wdHMuYW5pbWF0aW9uRWZmZWN0O1xyXG4gICAgICBkdXJhdGlvbiA9ICQuaXNOdW1lcmljKGQpID8gZCA6IGVmZmVjdCA/IGN1cnJlbnQub3B0cy5hbmltYXRpb25EdXJhdGlvbiA6IDA7XHJcblxyXG4gICAgICBjdXJyZW50LiRzbGlkZS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jb21wbGV0ZSBmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMgZmFuY3lib3gtYW5pbWF0ZWRcIik7XHJcblxyXG4gICAgICBpZiAoZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICQuZmFuY3lib3guc3RvcChjdXJyZW50LiRzbGlkZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWZmZWN0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBvdGhlciBzbGlkZXNcclxuICAgICAgY3VycmVudC4kc2xpZGVcclxuICAgICAgICAuc2libGluZ3MoKVxyXG4gICAgICAgIC50cmlnZ2VyKFwib25SZXNldFwiKVxyXG4gICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgIC8vIFRyaWdnZXIgYW5pbWF0aW9uc1xyXG4gICAgICBpZiAoZHVyYXRpb24pIHtcclxuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lclxyXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtb3BlblwiKVxyXG4gICAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtY2xvc2luZ1wiKVxyXG4gICAgICAgICAgLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgZHVyYXRpb24gKyBcIm1zXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGVhbiB1cFxyXG4gICAgICBzZWxmLmhpZGVMb2FkaW5nKGN1cnJlbnQpO1xyXG5cclxuICAgICAgc2VsZi5oaWRlQ29udHJvbHModHJ1ZSk7XHJcblxyXG4gICAgICBzZWxmLnVwZGF0ZUN1cnNvcigpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgcG9zc2libGUgdG8gem9vbS1vdXRcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGVmZmVjdCA9PT0gXCJ6b29tXCIgJiZcclxuICAgICAgICAhKCRjb250ZW50ICYmIGR1cmF0aW9uICYmIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiICYmICFzZWxmLmlzTW92ZWQoKSAmJiAhY3VycmVudC5oYXNFcnJvciAmJiAoZW5kID0gc2VsZi5nZXRUaHVtYlBvcyhjdXJyZW50KSkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGVmZmVjdCA9IFwiZmFkZVwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZWZmZWN0ID09PSBcInpvb21cIikge1xyXG4gICAgICAgICQuZmFuY3lib3guc3RvcCgkY29udGVudCk7XHJcblxyXG4gICAgICAgIGRvbVJlY3QgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSgkY29udGVudCk7XHJcblxyXG4gICAgICAgIHN0YXJ0ID0ge1xyXG4gICAgICAgICAgdG9wOiBkb21SZWN0LnRvcCxcclxuICAgICAgICAgIGxlZnQ6IGRvbVJlY3QubGVmdCxcclxuICAgICAgICAgIHNjYWxlWDogZG9tUmVjdC53aWR0aCAvIGVuZC53aWR0aCxcclxuICAgICAgICAgIHNjYWxlWTogZG9tUmVjdC5oZWlnaHQgLyBlbmQuaGVpZ2h0LFxyXG4gICAgICAgICAgd2lkdGg6IGVuZC53aWR0aCxcclxuICAgICAgICAgIGhlaWdodDogZW5kLmhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gYW5pbWF0ZSBvcGFjaXR5XHJcbiAgICAgICAgb3BhY2l0eSA9IGN1cnJlbnQub3B0cy56b29tT3BhY2l0eTtcclxuXHJcbiAgICAgICAgaWYgKG9wYWNpdHkgPT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgIG9wYWNpdHkgPSBNYXRoLmFicyhjdXJyZW50LndpZHRoIC8gY3VycmVudC5oZWlnaHQgLSBlbmQud2lkdGggLyBlbmQuaGVpZ2h0KSA+IDAuMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcGFjaXR5KSB7XHJcbiAgICAgICAgICBlbmQub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZSgkY29udGVudCwgc3RhcnQpO1xyXG5cclxuICAgICAgICBmb3JjZVJlZHJhdygkY29udGVudCk7XHJcblxyXG4gICAgICAgICQuZmFuY3lib3guYW5pbWF0ZSgkY29udGVudCwgZW5kLCBkdXJhdGlvbiwgZG9uZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZWZmZWN0ICYmIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgJC5mYW5jeWJveC5hbmltYXRlKFxyXG4gICAgICAgICAgY3VycmVudC4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIikucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKSxcclxuICAgICAgICAgIFwiZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtZngtXCIgKyBlZmZlY3QsXHJcbiAgICAgICAgICBkdXJhdGlvbixcclxuICAgICAgICAgIGRvbmVcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIElmIHNraXAgYW5pbWF0aW9uXHJcbiAgICAgICAgaWYgKGUgPT09IHRydWUpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoZG9uZSwgZHVyYXRpb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gRmluYWwgYWRqdXN0bWVudHMgYWZ0ZXIgcmVtb3ZpbmcgdGhlIGluc3RhbmNlXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBjbGVhblVwOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBpbnN0YW5jZSxcclxuICAgICAgICAkZm9jdXMgPSBzZWxmLmN1cnJlbnQub3B0cy4kb3JpZyxcclxuICAgICAgICB4LFxyXG4gICAgICAgIHk7XHJcblxyXG4gICAgICBzZWxmLmN1cnJlbnQuJHNsaWRlLnRyaWdnZXIoXCJvblJlc2V0XCIpO1xyXG5cclxuICAgICAgc2VsZi4kcmVmcy5jb250YWluZXIuZW1wdHkoKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgIHNlbGYudHJpZ2dlcihcImFmdGVyQ2xvc2VcIiwgZSk7XHJcblxyXG4gICAgICAvLyBQbGFjZSBiYWNrIGZvY3VzXHJcbiAgICAgIGlmICghIXNlbGYuY3VycmVudC5vcHRzLmJhY2tGb2N1cykge1xyXG4gICAgICAgIGlmICghJGZvY3VzIHx8ICEkZm9jdXMubGVuZ3RoIHx8ICEkZm9jdXMuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgJGZvY3VzID0gc2VsZi4kdHJpZ2dlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkZm9jdXMgJiYgJGZvY3VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgeCA9IHdpbmRvdy5zY3JvbGxYO1xyXG4gICAgICAgICAgeSA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgICAgICAgICRmb2N1cy50cmlnZ2VyKFwiZm9jdXNcIik7XHJcblxyXG4gICAgICAgICAgJChcImh0bWwsIGJvZHlcIilcclxuICAgICAgICAgICAgLnNjcm9sbFRvcCh5KVxyXG4gICAgICAgICAgICAuc2Nyb2xsTGVmdCh4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuY3VycmVudCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgb3RoZXIgaW5zdGFuY2VzXHJcbiAgICAgIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuYWN0aXZhdGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWFjdGl2ZSBjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIik7XHJcblxyXG4gICAgICAgICQoXCIjZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIikucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2FsbCBjYWxsYmFjayBhbmQgdHJpZ2dlciBhbiBldmVudFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHRyaWdnZXI6IGZ1bmN0aW9uKG5hbWUsIHNsaWRlKSB7XHJcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcclxuICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICBvYmogPSBzbGlkZSAmJiBzbGlkZS5vcHRzID8gc2xpZGUgOiBzZWxmLmN1cnJlbnQsXHJcbiAgICAgICAgcmV6O1xyXG5cclxuICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgIGFyZ3MudW5zaGlmdChvYmopO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9iaiA9IHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFyZ3MudW5zaGlmdChzZWxmKTtcclxuXHJcbiAgICAgIGlmICgkLmlzRnVuY3Rpb24ob2JqLm9wdHNbbmFtZV0pKSB7XHJcbiAgICAgICAgcmV6ID0gb2JqLm9wdHNbbmFtZV0uYXBwbHkob2JqLCBhcmdzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJleiA9PT0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gcmV6O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobmFtZSA9PT0gXCJhZnRlckNsb3NlXCIgfHwgIXNlbGYuJHJlZnMpIHtcclxuICAgICAgICAkRC50cmlnZ2VyKG5hbWUgKyBcIi5mYlwiLCBhcmdzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKG5hbWUgKyBcIi5mYlwiLCBhcmdzKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBVcGRhdGUgaW5mb2JhciB2YWx1ZXMsIG5hdmlnYXRpb24gYnV0dG9uIHN0YXRlcyBhbmQgcmV2ZWFsIGNhcHRpb25cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHVwZGF0ZUNvbnRyb2xzOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXHJcbiAgICAgICAgaW5kZXggPSBjdXJyZW50LmluZGV4LFxyXG4gICAgICAgICRjb250YWluZXIgPSBzZWxmLiRyZWZzLmNvbnRhaW5lcixcclxuICAgICAgICAkY2FwdGlvbiA9IHNlbGYuJHJlZnMuY2FwdGlvbixcclxuICAgICAgICBjYXB0aW9uID0gY3VycmVudC5vcHRzLmNhcHRpb247XHJcblxyXG4gICAgICAvLyBSZWNhbGN1bGF0ZSBjb250ZW50IGRpbWVuc2lvbnNcclxuICAgICAgY3VycmVudC4kc2xpZGUudHJpZ2dlcihcInJlZnJlc2hcIik7XHJcblxyXG4gICAgICBzZWxmLiRjYXB0aW9uID0gY2FwdGlvbiAmJiBjYXB0aW9uLmxlbmd0aCA/ICRjYXB0aW9uLmh0bWwoY2FwdGlvbikgOiBudWxsO1xyXG5cclxuICAgICAgaWYgKCFzZWxmLmhhc0hpZGRlbkNvbnRyb2xzICYmICFzZWxmLmlzSWRsZSkge1xyXG4gICAgICAgIHNlbGYuc2hvd0NvbnRyb2xzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBpbmZvIGFuZCBuYXZpZ2F0aW9uIGVsZW1lbnRzXHJcbiAgICAgICRjb250YWluZXIuZmluZChcIltkYXRhLWZhbmN5Ym94LWNvdW50XVwiKS5odG1sKHNlbGYuZ3JvdXAubGVuZ3RoKTtcclxuICAgICAgJGNvbnRhaW5lci5maW5kKFwiW2RhdGEtZmFuY3lib3gtaW5kZXhdXCIpLmh0bWwoaW5kZXggKyAxKTtcclxuXHJcbiAgICAgICRjb250YWluZXIuZmluZChcIltkYXRhLWZhbmN5Ym94LXByZXZdXCIpLnByb3AoXCJkaXNhYmxlZFwiLCAhY3VycmVudC5vcHRzLmxvb3AgJiYgaW5kZXggPD0gMCk7XHJcbiAgICAgICRjb250YWluZXIuZmluZChcIltkYXRhLWZhbmN5Ym94LW5leHRdXCIpLnByb3AoXCJkaXNhYmxlZFwiLCAhY3VycmVudC5vcHRzLmxvb3AgJiYgaW5kZXggPj0gc2VsZi5ncm91cC5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgIGlmIChjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIikge1xyXG4gICAgICAgIC8vIFJlLWVuYWJsZSBidXR0b25zOyB1cGRhdGUgZG93bmxvYWQgYnV0dG9uIHNvdXJjZVxyXG4gICAgICAgICRjb250YWluZXJcclxuICAgICAgICAgIC5maW5kKFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIilcclxuICAgICAgICAgIC5zaG93KClcclxuICAgICAgICAgIC5lbmQoKVxyXG4gICAgICAgICAgLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1kb3dubG9hZF1cIilcclxuICAgICAgICAgIC5hdHRyKFwiaHJlZlwiLCBjdXJyZW50Lm9wdHMuaW1hZ2Uuc3JjIHx8IGN1cnJlbnQuc3JjKVxyXG4gICAgICAgICAgLnNob3coKTtcclxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Lm9wdHMudG9vbGJhcikge1xyXG4gICAgICAgICRjb250YWluZXIuZmluZChcIltkYXRhLWZhbmN5Ym94LWRvd25sb2FkXSxbZGF0YS1mYW5jeWJveC16b29tXVwiKS5oaWRlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSBmb2N1cyBpcyBub3Qgb24gZGlzYWJsZWQgYnV0dG9uL2VsZW1lbnRcclxuICAgICAgaWYgKCQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuaXMoXCI6aGlkZGVuLFtkaXNhYmxlZF1cIikpIHtcclxuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKFwiZm9jdXNcIik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gSGlkZSB0b29sYmFyIGFuZCBjYXB0aW9uXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBoaWRlQ29udHJvbHM6IGZ1bmN0aW9uKGFuZENhcHRpb24pIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGFyciA9IFtcImluZm9iYXJcIiwgXCJ0b29sYmFyXCIsIFwibmF2XCJdO1xyXG5cclxuICAgICAgaWYgKGFuZENhcHRpb24gfHwgIXNlbGYuY3VycmVudC5vcHRzLnByZXZlbnRDYXB0aW9uT3ZlcmxhcCkge1xyXG4gICAgICAgIGFyci5wdXNoKFwiY2FwdGlvblwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kcmVmcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXHJcbiAgICAgICAgYXJyXHJcbiAgICAgICAgICAubWFwKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiZmFuY3lib3gtc2hvdy1cIiArIGk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmpvaW4oXCIgXCIpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0aGlzLmhhc0hpZGRlbkNvbnRyb2xzID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgc2hvd0NvbnRyb2xzOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIG9wdHMgPSBzZWxmLmN1cnJlbnQgPyBzZWxmLmN1cnJlbnQub3B0cyA6IHNlbGYub3B0cyxcclxuICAgICAgICAkY29udGFpbmVyID0gc2VsZi4kcmVmcy5jb250YWluZXI7XHJcblxyXG4gICAgICBzZWxmLmhhc0hpZGRlbkNvbnRyb2xzID0gZmFsc2U7XHJcbiAgICAgIHNlbGYuaWRsZVNlY29uZHNDb3VudGVyID0gMDtcclxuXHJcbiAgICAgICRjb250YWluZXJcclxuICAgICAgICAudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LXRvb2xiYXJcIiwgISEob3B0cy50b29sYmFyICYmIG9wdHMuYnV0dG9ucykpXHJcbiAgICAgICAgLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy1pbmZvYmFyXCIsICEhKG9wdHMuaW5mb2JhciAmJiBzZWxmLmdyb3VwLmxlbmd0aCA+IDEpKVxyXG4gICAgICAgIC50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctY2FwdGlvblwiLCAhIXNlbGYuJGNhcHRpb24pXHJcbiAgICAgICAgLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy1uYXZcIiwgISEob3B0cy5hcnJvd3MgJiYgc2VsZi5ncm91cC5sZW5ndGggPiAxKSlcclxuICAgICAgICAudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1pcy1tb2RhbFwiLCAhIW9wdHMubW9kYWwpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBUb2dnbGUgdG9vbGJhciBhbmQgY2FwdGlvblxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICB0b2dnbGVDb250cm9sczogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLmhhc0hpZGRlbkNvbnRyb2xzKSB7XHJcbiAgICAgICAgdGhpcy5zaG93Q29udHJvbHMoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhpZGVDb250cm9scygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQuZmFuY3lib3ggPSB7XHJcbiAgICB2ZXJzaW9uOiBcIjMuNS4yXCIsXHJcbiAgICBkZWZhdWx0czogZGVmYXVsdHMsXHJcblxyXG4gICAgLy8gR2V0IGN1cnJlbnQgaW5zdGFuY2UgYW5kIGV4ZWN1dGUgYSBjb21tYW5kLlxyXG4gICAgLy9cclxuICAgIC8vIEV4YW1wbGVzIG9mIHVzYWdlOlxyXG4gICAgLy9cclxuICAgIC8vICAgJGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpO1xyXG4gICAgLy8gICAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCkuanVtcFRvKCAxICk7XHJcbiAgICAvLyAgICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoICdqdW1wVG8nLCAxICk7XHJcbiAgICAvLyAgICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgICAgY29uc29sZS5pbmZvKCB0aGlzLmN1cnJJbmRleCApO1xyXG4gICAgLy8gICB9KTtcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGdldEluc3RhbmNlOiBmdW5jdGlvbihjb21tYW5kKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZSA9ICQoJy5mYW5jeWJveC1jb250YWluZXI6bm90KFwiLmZhbmN5Ym94LWlzLWNsb3NpbmdcIik6bGFzdCcpLmRhdGEoXCJGYW5jeUJveFwiKSxcclxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIEZhbmN5Qm94KSB7XHJcbiAgICAgICAgaWYgKCQudHlwZShjb21tYW5kKSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgaW5zdGFuY2VbY29tbWFuZF0uYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJC50eXBlKGNvbW1hbmQpID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIGNvbW1hbmQuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgaW5zdGFuY2VcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBvcGVuOiBmdW5jdGlvbihpdGVtcywgb3B0cywgaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBGYW5jeUJveChpdGVtcywgb3B0cywgaW5kZXgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDbG9zZSBjdXJyZW50IG9yIGFsbCBpbnN0YW5jZXNcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGNsb3NlOiBmdW5jdGlvbihhbGwpIHtcclxuICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcclxuXHJcbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgYW5kIGNsb3NlIG5leHQgaW5zdGFuY2VcclxuICAgICAgICBpZiAoYWxsID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKGFsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENsb3NlIGFsbCBpbnN0YW5jZXMgYW5kIHVuYmluZCBhbGwgZXZlbnRzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLmNsb3NlKHRydWUpO1xyXG5cclxuICAgICAgJEQuYWRkKFwiYm9keVwiKS5vZmYoXCJjbGljay5mYi1zdGFydFwiLCBcIioqXCIpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBUcnkgdG8gZGV0ZWN0IG1vYmlsZSBkZXZpY2VzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgaXNNb2JpbGU6IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcclxuXHJcbiAgICAvLyBEZXRlY3QgaWYgJ3RyYW5zbGF0ZTNkJyBzdXBwb3J0IGlzIGF2YWlsYWJsZVxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICB1c2UzZDogKGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUgJiZcclxuICAgICAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYpICYmXHJcbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2KS5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNmb3JtXCIpICYmXHJcbiAgICAgICAgIShkb2N1bWVudC5kb2N1bWVudE1vZGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgMTEpXHJcbiAgICAgICk7XHJcbiAgICB9KSgpLFxyXG5cclxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgY3VycmVudCB2aXN1YWwgc3RhdGUgb2YgYW4gZWxlbWVudFxyXG4gICAgLy8gcmV0dXJucyBhcnJheVsgdG9wLCBsZWZ0LCBob3Jpem9udGFsLXNjYWxlLCB2ZXJ0aWNhbC1zY2FsZSwgb3BhY2l0eSBdXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBnZXRUcmFuc2xhdGU6IGZ1bmN0aW9uKCRlbCkge1xyXG4gICAgICB2YXIgZG9tUmVjdDtcclxuXHJcbiAgICAgIGlmICghJGVsIHx8ICEkZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkb21SZWN0ID0gJGVsWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3A6IGRvbVJlY3QudG9wIHx8IDAsXHJcbiAgICAgICAgbGVmdDogZG9tUmVjdC5sZWZ0IHx8IDAsXHJcbiAgICAgICAgd2lkdGg6IGRvbVJlY3Qud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBkb21SZWN0LmhlaWdodCxcclxuICAgICAgICBvcGFjaXR5OiBwYXJzZUZsb2F0KCRlbC5jc3MoXCJvcGFjaXR5XCIpKVxyXG4gICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBTaG9ydGN1dCBmb3Igc2V0dGluZyBcInRyYW5zbGF0ZTNkXCIgcHJvcGVydGllcyBmb3IgZWxlbWVudFxyXG4gICAgLy8gQ2FuIHNldCBiZSB1c2VkIHRvIHNldCBvcGFjaXR5LCB0b29cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbigkZWwsIHByb3BzKSB7XHJcbiAgICAgIHZhciBzdHIgPSBcIlwiLFxyXG4gICAgICAgIGNzcyA9IHt9O1xyXG5cclxuICAgICAgaWYgKCEkZWwgfHwgIXByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHJvcHMubGVmdCAhPT0gdW5kZWZpbmVkIHx8IHByb3BzLnRvcCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3RyID1cclxuICAgICAgICAgIChwcm9wcy5sZWZ0ID09PSB1bmRlZmluZWQgPyAkZWwucG9zaXRpb24oKS5sZWZ0IDogcHJvcHMubGVmdCkgK1xyXG4gICAgICAgICAgXCJweCwgXCIgK1xyXG4gICAgICAgICAgKHByb3BzLnRvcCA9PT0gdW5kZWZpbmVkID8gJGVsLnBvc2l0aW9uKCkudG9wIDogcHJvcHMudG9wKSArXHJcbiAgICAgICAgICBcInB4XCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZTNkKSB7XHJcbiAgICAgICAgICBzdHIgPSBcInRyYW5zbGF0ZTNkKFwiICsgc3RyICsgXCIsIDBweClcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3RyID0gXCJ0cmFuc2xhdGUoXCIgKyBzdHIgKyBcIilcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wcy5zY2FsZVggIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5zY2FsZVkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN0ciArPSBcIiBzY2FsZShcIiArIHByb3BzLnNjYWxlWCArIFwiLCBcIiArIHByb3BzLnNjYWxlWSArIFwiKVwiO1xyXG4gICAgICB9IGVsc2UgaWYgKHByb3BzLnNjYWxlWCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3RyICs9IFwiIHNjYWxlWChcIiArIHByb3BzLnNjYWxlWCArIFwiKVwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RyLmxlbmd0aCkge1xyXG4gICAgICAgIGNzcy50cmFuc2Zvcm0gPSBzdHI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wcy5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjc3Mub3BhY2l0eSA9IHByb3BzLm9wYWNpdHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wcy53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY3NzLndpZHRoID0gcHJvcHMud2lkdGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wcy5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNzcy5oZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAkZWwuY3NzKGNzcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFNpbXBsZSBDU1MgdHJhbnNpdGlvbiBoYW5kbGVyXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGFuaW1hdGU6IGZ1bmN0aW9uKCRlbCwgdG8sIGR1cmF0aW9uLCBjYWxsYmFjaywgbGVhdmVBbmltYXRpb25OYW1lKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBmcm9tO1xyXG5cclxuICAgICAgaWYgKCQuaXNGdW5jdGlvbihkdXJhdGlvbikpIHtcclxuICAgICAgICBjYWxsYmFjayA9IGR1cmF0aW9uO1xyXG4gICAgICAgIGR1cmF0aW9uID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5zdG9wKCRlbCk7XHJcblxyXG4gICAgICBmcm9tID0gc2VsZi5nZXRUcmFuc2xhdGUoJGVsKTtcclxuXHJcbiAgICAgICRlbC5vbih0cmFuc2l0aW9uRW5kLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gU2tpcCBldmVudHMgZnJvbSBjaGlsZCBlbGVtZW50cyBhbmQgei1pbmRleCBjaGFuZ2VcclxuICAgICAgICBpZiAoZSAmJiBlLm9yaWdpbmFsRXZlbnQgJiYgKCEkZWwuaXMoZS5vcmlnaW5hbEV2ZW50LnRhcmdldCkgfHwgZS5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSA9PSBcInotaW5kZXhcIikpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuc3RvcCgkZWwpO1xyXG5cclxuICAgICAgICBpZiAoJC5pc051bWVyaWMoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAkZWwuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QodG8pKSB7XHJcbiAgICAgICAgICBpZiAodG8uc2NhbGVYICE9PSB1bmRlZmluZWQgJiYgdG8uc2NhbGVZICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc2VsZi5zZXRUcmFuc2xhdGUoJGVsLCB7XHJcbiAgICAgICAgICAgICAgdG9wOiB0by50b3AsXHJcbiAgICAgICAgICAgICAgbGVmdDogdG8ubGVmdCxcclxuICAgICAgICAgICAgICB3aWR0aDogZnJvbS53aWR0aCAqIHRvLnNjYWxlWCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IGZyb20uaGVpZ2h0ICogdG8uc2NhbGVZLFxyXG4gICAgICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgICAgICBzY2FsZVk6IDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChsZWF2ZUFuaW1hdGlvbk5hbWUgIT09IHRydWUpIHtcclxuICAgICAgICAgICRlbC5yZW1vdmVDbGFzcyh0byk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgY2FsbGJhY2soZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICgkLmlzTnVtZXJpYyhkdXJhdGlvbikpIHtcclxuICAgICAgICAkZWwuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBkdXJhdGlvbiArIFwibXNcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvbiBieSBjaGFuZ2luZyBDU1MgcHJvcGVydGllcyBvciBjbGFzcyBuYW1lXHJcbiAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QodG8pKSB7XHJcbiAgICAgICAgaWYgKHRvLnNjYWxlWCAhPT0gdW5kZWZpbmVkICYmIHRvLnNjYWxlWSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBkZWxldGUgdG8ud2lkdGg7XHJcbiAgICAgICAgICBkZWxldGUgdG8uaGVpZ2h0O1xyXG5cclxuICAgICAgICAgIGlmICgkZWwucGFyZW50KCkuaGFzQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0taW1hZ2VcIikpIHtcclxuICAgICAgICAgICAgJGVsLnBhcmVudCgpLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtc2NhbGluZ1wiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKCRlbCwgdG8pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRlbC5hZGRDbGFzcyh0byk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGB0cmFuc2l0aW9uZW5kYCBjYWxsYmFjayBnZXRzIGZpcmVkXHJcbiAgICAgICRlbC5kYXRhKFxyXG4gICAgICAgIFwidGltZXJcIixcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJGVsLnRyaWdnZXIodHJhbnNpdGlvbkVuZCk7XHJcbiAgICAgICAgfSwgZHVyYXRpb24gKyAzMylcclxuICAgICAgKTtcclxuICAgIH0sXHJcblxyXG4gICAgc3RvcDogZnVuY3Rpb24oJGVsLCBjYWxsQ2FsbGJhY2spIHtcclxuICAgICAgaWYgKCRlbCAmJiAkZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KCRlbC5kYXRhKFwidGltZXJcIikpO1xyXG5cclxuICAgICAgICBpZiAoY2FsbENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAkZWwudHJpZ2dlcih0cmFuc2l0aW9uRW5kKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRlbC5vZmYodHJhbnNpdGlvbkVuZCkuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgJGVsLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtc2NhbGluZ1wiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIERlZmF1bHQgY2xpY2sgaGFuZGxlciBmb3IgXCJmYW5jeWJveGVkXCIgbGlua3NcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBfcnVuKGUsIG9wdHMpIHtcclxuICAgIHZhciBpdGVtcyA9IFtdLFxyXG4gICAgICBpbmRleCA9IDAsXHJcbiAgICAgICR0YXJnZXQsXHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBpbnN0YW5jZTtcclxuXHJcbiAgICAvLyBBdm9pZCBvcGVuaW5nIG11bHRpcGxlIHRpbWVzXHJcbiAgICBpZiAoZSAmJiBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgb3B0cyA9IG9wdHMgfHwge307XHJcblxyXG4gICAgaWYgKGUgJiYgZS5kYXRhKSB7XHJcbiAgICAgIG9wdHMgPSBtZXJnZU9wdHMoZS5kYXRhLm9wdGlvbnMsIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgICR0YXJnZXQgPSBvcHRzLiR0YXJnZXQgfHwgJChlLmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIoXCJibHVyXCIpO1xyXG4gICAgaW5zdGFuY2UgPSAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLiR0cmlnZ2VyICYmIGluc3RhbmNlLiR0cmlnZ2VyLmlzKCR0YXJnZXQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0cy5zZWxlY3Rvcikge1xyXG4gICAgICBpdGVtcyA9ICQob3B0cy5zZWxlY3Rvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBHZXQgYWxsIHJlbGF0ZWQgaXRlbXMgYW5kIGZpbmQgaW5kZXggZm9yIGNsaWNrZWQgb25lXHJcbiAgICAgIHZhbHVlID0gJHRhcmdldC5hdHRyKFwiZGF0YS1mYW5jeWJveFwiKSB8fCBcIlwiO1xyXG5cclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgaXRlbXMgPSBlLmRhdGEgPyBlLmRhdGEuaXRlbXMgOiBbXTtcclxuICAgICAgICBpdGVtcyA9IGl0ZW1zLmxlbmd0aCA/IGl0ZW1zLmZpbHRlcignW2RhdGEtZmFuY3lib3g9XCInICsgdmFsdWUgKyAnXCJdJykgOiAkKCdbZGF0YS1mYW5jeWJveD1cIicgKyB2YWx1ZSArICdcIl0nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpdGVtcyA9IFskdGFyZ2V0XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluZGV4ID0gJChpdGVtcykuaW5kZXgoJHRhcmdldCk7XHJcblxyXG4gICAgLy8gU29tZXRpbWVzIGN1cnJlbnQgaXRlbSBjYW4gbm90IGJlIGZvdW5kXHJcbiAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgIGluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9ICQuZmFuY3lib3gub3BlbihpdGVtcywgb3B0cywgaW5kZXgpO1xyXG5cclxuICAgIC8vIFNhdmUgbGFzdCBhY3RpdmUgZWxlbWVudFxyXG4gICAgaW5zdGFuY2UuJHRyaWdnZXIgPSAkdGFyZ2V0O1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGEgalF1ZXJ5IHBsdWdpblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgJC5mbi5mYW5jeWJveCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIHZhciBzZWxlY3RvcjtcclxuXHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIHNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvciB8fCBmYWxzZTtcclxuXHJcbiAgICBpZiAoc2VsZWN0b3IpIHtcclxuICAgICAgLy8gVXNlIGJvZHkgZWxlbWVudCBpbnN0ZWFkIG9mIGRvY3VtZW50IHNvIGl0IGV4ZWN1dGVzIGZpcnN0XHJcbiAgICAgICQoXCJib2R5XCIpXHJcbiAgICAgICAgLm9mZihcImNsaWNrLmZiLXN0YXJ0XCIsIHNlbGVjdG9yKVxyXG4gICAgICAgIC5vbihcImNsaWNrLmZiLXN0YXJ0XCIsIHNlbGVjdG9yLCB7b3B0aW9uczogb3B0aW9uc30sIF9ydW4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vZmYoXCJjbGljay5mYi1zdGFydFwiKS5vbihcclxuICAgICAgICBcImNsaWNrLmZiLXN0YXJ0XCIsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaXRlbXM6IHRoaXMsXHJcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgfSxcclxuICAgICAgICBfcnVuXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLy8gU2VsZiBpbml0aWFsaXppbmcgcGx1Z2luIGZvciBhbGwgZWxlbWVudHMgaGF2aW5nIGBkYXRhLWZhbmN5Ym94YCBhdHRyaWJ1dGVcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAkRC5vbihcImNsaWNrLmZiLXN0YXJ0XCIsIFwiW2RhdGEtZmFuY3lib3hdXCIsIF9ydW4pO1xyXG5cclxuICAvLyBFbmFibGUgXCJ0cmlnZ2VyIGVsZW1lbnRzXCJcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICRELm9uKFwiY2xpY2suZmItc3RhcnRcIiwgXCJbZGF0YS1mYW5jeWJveC10cmlnZ2VyXVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAkKCdbZGF0YS1mYW5jeWJveD1cIicgKyAkKHRoaXMpLmF0dHIoXCJkYXRhLWZhbmN5Ym94LXRyaWdnZXJcIikgKyAnXCJdJylcclxuICAgICAgLmVxKCQodGhpcykuYXR0cihcImRhdGEtZmFuY3lib3gtaW5kZXhcIikgfHwgMClcclxuICAgICAgLnRyaWdnZXIoXCJjbGljay5mYi1zdGFydFwiLCB7XHJcbiAgICAgICAgJHRyaWdnZXI6ICQodGhpcylcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFRyYWNrIGZvY3VzIGV2ZW50IGZvciBiZXR0ZXIgYWNjZXNzaWJpbGl0eSBzdHlsaW5nXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYnV0dG9uU3RyID0gXCIuZmFuY3lib3gtYnV0dG9uXCIsXHJcbiAgICAgIGZvY3VzU3RyID0gXCJmYW5jeWJveC1mb2N1c1wiLFxyXG4gICAgICAkcHJlc3NlZCA9IG51bGw7XHJcblxyXG4gICAgJEQub24oXCJtb3VzZWRvd24gbW91c2V1cCBmb2N1cyBibHVyXCIsIGJ1dHRvblN0ciwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBzd2l0Y2ggKGUudHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcclxuICAgICAgICAgICRwcmVzc2VkID0gJCh0aGlzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtb3VzZXVwXCI6XHJcbiAgICAgICAgICAkcHJlc3NlZCA9IG51bGw7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxyXG4gICAgICAgICAgJChidXR0b25TdHIpLnJlbW92ZUNsYXNzKGZvY3VzU3RyKTtcclxuXHJcbiAgICAgICAgICBpZiAoISQodGhpcykuaXMoJHByZXNzZWQpICYmICEkKHRoaXMpLmlzKFwiW2Rpc2FibGVkXVwiKSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKGZvY3VzU3RyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxyXG4gICAgICAgICAgJChidXR0b25TdHIpLnJlbW92ZUNsYXNzKGZvY3VzU3RyKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KSgpO1xyXG59KSh3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpO1xyXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIE1lZGlhXHJcbi8vIEFkZHMgYWRkaXRpb25hbCBtZWRpYSB0eXBlIHN1cHBvcnRcclxuLy9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKGZ1bmN0aW9uKCQpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgLy8gT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBmb3IgZWFjaCBtZWRpYSB0eXBlXHJcbiAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgeW91dHViZToge1xyXG4gICAgICBtYXRjaGVyOiAvKHlvdXR1YmVcXC5jb218eW91dHVcXC5iZXx5b3V0dWJlXFwtbm9jb29raWVcXC5jb20pXFwvKHdhdGNoXFw/KC4qJik/dj18dlxcL3x1XFwvfGVtYmVkXFwvPyk/KHZpZGVvc2VyaWVzXFw/bGlzdD0oLiopfFtcXHctXXsxMX18XFw/bGlzdFR5cGU9KC4qKSZsaXN0PSguKikpKC4qKS9pLFxyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICBhdXRvcGxheTogMSxcclxuICAgICAgICBhdXRvaGlkZTogMSxcclxuICAgICAgICBmczogMSxcclxuICAgICAgICByZWw6IDAsXHJcbiAgICAgICAgaGQ6IDEsXHJcbiAgICAgICAgd21vZGU6IFwidHJhbnNwYXJlbnRcIixcclxuICAgICAgICBlbmFibGVqc2FwaTogMSxcclxuICAgICAgICBodG1sNTogMVxyXG4gICAgICB9LFxyXG4gICAgICBwYXJhbVBsYWNlOiA4LFxyXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxyXG4gICAgICB1cmw6IFwiLy93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQvJDRcIixcclxuICAgICAgdGh1bWI6IFwiLy9pbWcueW91dHViZS5jb20vdmkvJDQvaHFkZWZhdWx0LmpwZ1wiXHJcbiAgICB9LFxyXG5cclxuICAgIHZpbWVvOiB7XHJcbiAgICAgIG1hdGNoZXI6IC9eLit2aW1lby5jb21cXC8oLipcXC8pPyhbXFxkXSspKC4qKT8vLFxyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICBhdXRvcGxheTogMSxcclxuICAgICAgICBoZDogMSxcclxuICAgICAgICBzaG93X3RpdGxlOiAxLFxyXG4gICAgICAgIHNob3dfYnlsaW5lOiAxLFxyXG4gICAgICAgIHNob3dfcG9ydHJhaXQ6IDAsXHJcbiAgICAgICAgZnVsbHNjcmVlbjogMVxyXG4gICAgICB9LFxyXG4gICAgICBwYXJhbVBsYWNlOiAzLFxyXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxyXG4gICAgICB1cmw6IFwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyQyXCJcclxuICAgIH0sXHJcblxyXG4gICAgaW5zdGFncmFtOiB7XHJcbiAgICAgIG1hdGNoZXI6IC8oaW5zdGFnclxcLmFtfGluc3RhZ3JhbVxcLmNvbSlcXC9wXFwvKFthLXpBLVowLTlfXFwtXSspXFwvPy9pLFxyXG4gICAgICB0eXBlOiBcImltYWdlXCIsXHJcbiAgICAgIHVybDogXCIvLyQxL3AvJDIvbWVkaWEvP3NpemU9bFwiXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEV4YW1wbGVzOlxyXG4gICAgLy8gaHR0cDovL21hcHMuZ29vZ2xlLmNvbS8/bGw9NDguODU3OTk1LDIuMjk0Mjk3JnNwbj0wLjAwNzY2NiwwLjAyMTEzNiZ0PW0mej0xNlxyXG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL0AzNy43ODUyMDA2LC0xMjIuNDE0NjM1NSwxNC42NXpcclxuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9ANTIuMjExMTEyMywyLjkyMzc1NDIsNi42MXo/aGw9ZW5cclxuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9wbGFjZS9Hb29nbGVwbGV4L0AzNy40MjIwMDQxLC0xMjIuMDgzMzQ5NCwxN3ovZGF0YT0hNG01ITNtNCExczB4MDoweDZjMjk2YzY2NjE5MzY3ZTAhOG0yITNkMzcuNDIxOTk5OCE0ZC0xMjIuMDg0MDU3MlxyXG4gICAgZ21hcF9wbGFjZToge1xyXG4gICAgICBtYXRjaGVyOiAvKG1hcHNcXC4pP2dvb2dsZVxcLihbYS16XXsyLDN9KFxcLlthLXpdezJ9KT8pXFwvKCgobWFwc1xcLyhwbGFjZVxcLyguKilcXC8pP1xcQCguKiksKFxcZCsuP1xcZCs/KXopKXwoXFw/bGw9KSkoLiopPy9pLFxyXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxyXG4gICAgICB1cmw6IGZ1bmN0aW9uKHJleikge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICBcIi8vbWFwcy5nb29nbGUuXCIgK1xyXG4gICAgICAgICAgcmV6WzJdICtcclxuICAgICAgICAgIFwiLz9sbD1cIiArXHJcbiAgICAgICAgICAocmV6WzldID8gcmV6WzldICsgXCImej1cIiArIE1hdGguZmxvb3IocmV6WzEwXSkgKyAocmV6WzEyXSA/IHJlelsxMl0ucmVwbGFjZSgvXlxcLy8sIFwiJlwiKSA6IFwiXCIpIDogcmV6WzEyXSArIFwiXCIpLnJlcGxhY2UoL1xcPy8sIFwiJlwiKSArXHJcbiAgICAgICAgICBcIiZvdXRwdXQ9XCIgK1xyXG4gICAgICAgICAgKHJlelsxMl0gJiYgcmV6WzEyXS5pbmRleE9mKFwibGF5ZXI9Y1wiKSA+IDAgPyBcInN2ZW1iZWRcIiA6IFwiZW1iZWRcIilcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEV4YW1wbGVzOlxyXG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3NlYXJjaC9FbXBpcmUrU3RhdGUrQnVpbGRpbmcvXHJcbiAgICAvLyBodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvc2VhcmNoLz9hcGk9MSZxdWVyeT1jZW50dXJ5bGluaytmaWVsZFxyXG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3NlYXJjaC8/YXBpPTEmcXVlcnk9NDcuNTk1MTUxOCwtMTIyLjMzMTYzOTNcclxuICAgIGdtYXBfc2VhcmNoOiB7XHJcbiAgICAgIG1hdGNoZXI6IC8obWFwc1xcLik/Z29vZ2xlXFwuKFthLXpdezIsM30oXFwuW2Etel17Mn0pPylcXC8obWFwc1xcL3NlYXJjaFxcLykoLiopL2ksXHJcbiAgICAgIHR5cGU6IFwiaWZyYW1lXCIsXHJcbiAgICAgIHVybDogZnVuY3Rpb24ocmV6KSB7XHJcbiAgICAgICAgcmV0dXJuIFwiLy9tYXBzLmdvb2dsZS5cIiArIHJlelsyXSArIFwiL21hcHM/cT1cIiArIHJlels1XS5yZXBsYWNlKFwicXVlcnk9XCIsIFwicT1cIikucmVwbGFjZShcImFwaT0xXCIsIFwiXCIpICsgXCImb3V0cHV0PWVtYmVkXCI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGb3JtYXRzIG1hdGNoaW5nIHVybCB0byBmaW5hbCBmb3JtXHJcbiAgdmFyIGZvcm1hdCA9IGZ1bmN0aW9uKHVybCwgcmV6LCBwYXJhbXMpIHtcclxuICAgIGlmICghdXJsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBwYXJhbXMgPSBwYXJhbXMgfHwgXCJcIjtcclxuXHJcbiAgICBpZiAoJC50eXBlKHBhcmFtcykgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgcGFyYW1zID0gJC5wYXJhbShwYXJhbXMsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgICQuZWFjaChyZXosIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoXCIkXCIgKyBrZXksIHZhbHVlIHx8IFwiXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHBhcmFtcy5sZW5ndGgpIHtcclxuICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZihcIj9cIikgPiAwID8gXCImXCIgOiBcIj9cIikgKyBwYXJhbXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVybDtcclxuICB9O1xyXG5cclxuICAkKGRvY3VtZW50KS5vbihcIm9iamVjdE5lZWRzVHlwZS5mYlwiLCBmdW5jdGlvbihlLCBpbnN0YW5jZSwgaXRlbSkge1xyXG4gICAgdmFyIHVybCA9IGl0ZW0uc3JjIHx8IFwiXCIsXHJcbiAgICAgIHR5cGUgPSBmYWxzZSxcclxuICAgICAgbWVkaWEsXHJcbiAgICAgIHRodW1iLFxyXG4gICAgICByZXosXHJcbiAgICAgIHBhcmFtcyxcclxuICAgICAgdXJsUGFyYW1zLFxyXG4gICAgICBwYXJhbU9iaixcclxuICAgICAgcHJvdmlkZXI7XHJcblxyXG4gICAgbWVkaWEgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIGl0ZW0ub3B0cy5tZWRpYSk7XHJcblxyXG4gICAgLy8gTG9vayBmb3IgYW55IG1hdGNoaW5nIG1lZGlhIHR5cGVcclxuICAgICQuZWFjaChtZWRpYSwgZnVuY3Rpb24ocHJvdmlkZXJOYW1lLCBwcm92aWRlck9wdHMpIHtcclxuICAgICAgcmV6ID0gdXJsLm1hdGNoKHByb3ZpZGVyT3B0cy5tYXRjaGVyKTtcclxuXHJcbiAgICAgIGlmICghcmV6KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0eXBlID0gcHJvdmlkZXJPcHRzLnR5cGU7XHJcbiAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJOYW1lO1xyXG4gICAgICBwYXJhbU9iaiA9IHt9O1xyXG5cclxuICAgICAgaWYgKHByb3ZpZGVyT3B0cy5wYXJhbVBsYWNlICYmIHJleltwcm92aWRlck9wdHMucGFyYW1QbGFjZV0pIHtcclxuICAgICAgICB1cmxQYXJhbXMgPSByZXpbcHJvdmlkZXJPcHRzLnBhcmFtUGxhY2VdO1xyXG5cclxuICAgICAgICBpZiAodXJsUGFyYW1zWzBdID09IFwiP1wiKSB7XHJcbiAgICAgICAgICB1cmxQYXJhbXMgPSB1cmxQYXJhbXMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXJsUGFyYW1zID0gdXJsUGFyYW1zLnNwbGl0KFwiJlwiKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCB1cmxQYXJhbXMubGVuZ3RoOyArK20pIHtcclxuICAgICAgICAgIHZhciBwID0gdXJsUGFyYW1zW21dLnNwbGl0KFwiPVwiLCAyKTtcclxuXHJcbiAgICAgICAgICBpZiAocC5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICBwYXJhbU9ialtwWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwWzFdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcGFyYW1zID0gJC5leHRlbmQodHJ1ZSwge30sIHByb3ZpZGVyT3B0cy5wYXJhbXMsIGl0ZW0ub3B0c1twcm92aWRlck5hbWVdLCBwYXJhbU9iaik7XHJcblxyXG4gICAgICB1cmwgPVxyXG4gICAgICAgICQudHlwZShwcm92aWRlck9wdHMudXJsKSA9PT0gXCJmdW5jdGlvblwiID8gcHJvdmlkZXJPcHRzLnVybC5jYWxsKHRoaXMsIHJleiwgcGFyYW1zLCBpdGVtKSA6IGZvcm1hdChwcm92aWRlck9wdHMudXJsLCByZXosIHBhcmFtcyk7XHJcblxyXG4gICAgICB0aHVtYiA9XHJcbiAgICAgICAgJC50eXBlKHByb3ZpZGVyT3B0cy50aHVtYikgPT09IFwiZnVuY3Rpb25cIiA/IHByb3ZpZGVyT3B0cy50aHVtYi5jYWxsKHRoaXMsIHJleiwgcGFyYW1zLCBpdGVtKSA6IGZvcm1hdChwcm92aWRlck9wdHMudGh1bWIsIHJleik7XHJcblxyXG4gICAgICBpZiAocHJvdmlkZXJOYW1lID09PSBcInlvdXR1YmVcIikge1xyXG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8mdD0oKFxcZCspbSk/KFxcZCspcy8sIGZ1bmN0aW9uKG1hdGNoLCBwMSwgbSwgcykge1xyXG4gICAgICAgICAgcmV0dXJuIFwiJnN0YXJ0PVwiICsgKChtID8gcGFyc2VJbnQobSwgMTApICogNjAgOiAwKSArIHBhcnNlSW50KHMsIDEwKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXJOYW1lID09PSBcInZpbWVvXCIpIHtcclxuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShcIiYlMjNcIiwgXCIjXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiBpdCBpcyBmb3VuZCwgdGhlbiBjaGFuZ2UgY29udGVudCB0eXBlIGFuZCB1cGRhdGUgdGhlIHVybFxyXG5cclxuICAgIGlmICh0eXBlKSB7XHJcbiAgICAgIGlmICghaXRlbS5vcHRzLnRodW1iICYmICEoaXRlbS5vcHRzLiR0aHVtYiAmJiBpdGVtLm9wdHMuJHRodW1iLmxlbmd0aCkpIHtcclxuICAgICAgICBpdGVtLm9wdHMudGh1bWIgPSB0aHVtYjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHR5cGUgPT09IFwiaWZyYW1lXCIpIHtcclxuICAgICAgICBpdGVtLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCBpdGVtLm9wdHMsIHtcclxuICAgICAgICAgIGlmcmFtZToge1xyXG4gICAgICAgICAgICBwcmVsb2FkOiBmYWxzZSxcclxuICAgICAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICAgIHNjcm9sbGluZzogXCJub1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJC5leHRlbmQoaXRlbSwge1xyXG4gICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgc3JjOiB1cmwsXHJcbiAgICAgICAgb3JpZ1NyYzogaXRlbS5zcmMsXHJcbiAgICAgICAgY29udGVudFNvdXJjZTogcHJvdmlkZXIsXHJcbiAgICAgICAgY29udGVudFR5cGU6IHR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VcIiA6IHByb3ZpZGVyID09IFwiZ21hcF9wbGFjZVwiIHx8IHByb3ZpZGVyID09IFwiZ21hcF9zZWFyY2hcIiA/IFwibWFwXCIgOiBcInZpZGVvXCJcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHVybCkge1xyXG4gICAgICBpdGVtLnR5cGUgPSBpdGVtLm9wdHMuZGVmYXVsdFR5cGU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIExvYWQgWW91VHViZS9WaWRlbyBBUEkgb24gcmVxdWVzdCB0byBkZXRlY3Qgd2hlbiB2aWRlbyBmaW5pc2hlZCBwbGF5aW5nXHJcbiAgdmFyIFZpZGVvQVBJTG9hZGVyID0ge1xyXG4gICAgeW91dHViZToge1xyXG4gICAgICBzcmM6IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiLFxyXG4gICAgICBjbGFzczogXCJZVFwiLFxyXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgbG9hZGVkOiBmYWxzZVxyXG4gICAgfSxcclxuXHJcbiAgICB2aW1lbzoge1xyXG4gICAgICBzcmM6IFwiaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL2FwaS9wbGF5ZXIuanNcIixcclxuICAgICAgY2xhc3M6IFwiVmltZW9cIixcclxuICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgIGxvYWRlZDogZmFsc2VcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZDogZnVuY3Rpb24odmVuZG9yKSB7XHJcbiAgICAgIHZhciBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgc2NyaXB0O1xyXG5cclxuICAgICAgaWYgKHRoaXNbdmVuZG9yXS5sb2FkZWQpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgX3RoaXMuZG9uZSh2ZW5kb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXNbdmVuZG9yXS5sb2FkaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzW3ZlbmRvcl0ubG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gICAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICAgIHNjcmlwdC5zcmMgPSB0aGlzW3ZlbmRvcl0uc3JjO1xyXG5cclxuICAgICAgaWYgKHZlbmRvciA9PT0gXCJ5b3V0dWJlXCIpIHtcclxuICAgICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIF90aGlzW3ZlbmRvcl0ubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgIF90aGlzLmRvbmUodmVuZG9yKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIF90aGlzW3ZlbmRvcl0ubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgIF90aGlzLmRvbmUodmVuZG9yKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICB9LFxyXG4gICAgZG9uZTogZnVuY3Rpb24odmVuZG9yKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZSwgJGVsLCBwbGF5ZXI7XHJcblxyXG4gICAgICBpZiAodmVuZG9yID09PSBcInlvdXR1YmVcIikge1xyXG4gICAgICAgIGRlbGV0ZSB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgJGVsID0gaW5zdGFuY2UuY3VycmVudC4kY29udGVudC5maW5kKFwiaWZyYW1lXCIpO1xyXG5cclxuICAgICAgICBpZiAodmVuZG9yID09PSBcInlvdXR1YmVcIiAmJiBZVCAhPT0gdW5kZWZpbmVkICYmIFlUKSB7XHJcbiAgICAgICAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCRlbC5hdHRyKFwiaWRcIiksIHtcclxuICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmVuZG9yID09PSBcInZpbWVvXCIgJiYgVmltZW8gIT09IHVuZGVmaW5lZCAmJiBWaW1lbykge1xyXG4gICAgICAgICAgcGxheWVyID0gbmV3IFZpbWVvLlBsYXllcigkZWwpO1xyXG5cclxuICAgICAgICAgIHBsYXllci5vbihcImVuZGVkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5uZXh0KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkKGRvY3VtZW50KS5vbih7XHJcbiAgICBcImFmdGVyU2hvdy5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xyXG4gICAgICBpZiAoaW5zdGFuY2UuZ3JvdXAubGVuZ3RoID4gMSAmJiAoY3VycmVudC5jb250ZW50U291cmNlID09PSBcInlvdXR1YmVcIiB8fCBjdXJyZW50LmNvbnRlbnRTb3VyY2UgPT09IFwidmltZW9cIikpIHtcclxuICAgICAgICBWaWRlb0FQSUxvYWRlci5sb2FkKGN1cnJlbnQuY29udGVudFNvdXJjZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vLyBHdWVzdHVyZXNcclxuLy8gQWRkcyB0b3VjaCBndWVzdHVyZXMsIGhhbmRsZXMgY2xpY2sgYW5kIHRhcCBldmVudHNcclxuLy9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsICQpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgdmFyIHJlcXVlc3RBRnJhbWUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAvLyBpZiBhbGwgZWxzZSBmYWlscywgdXNlIHNldFRpbWVvdXRcclxuICAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfSkoKTtcclxuXHJcbiAgdmFyIGNhbmNlbEFGcmFtZSA9IChmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgIHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9KSgpO1xyXG5cclxuICB2YXIgZ2V0UG9pbnRlclhZID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZSB8fCB3aW5kb3cuZTtcclxuICAgIGUgPSBlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA/IGUudG91Y2hlcyA6IGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPyBlLmNoYW5nZWRUb3VjaGVzIDogW2VdO1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBlKSB7XHJcbiAgICAgIGlmIChlW2tleV0ucGFnZVgpIHtcclxuICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICB4OiBlW2tleV0ucGFnZVgsXHJcbiAgICAgICAgICB5OiBlW2tleV0ucGFnZVlcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChlW2tleV0uY2xpZW50WCkge1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgIHg6IGVba2V5XS5jbGllbnRYLFxyXG4gICAgICAgICAgeTogZVtrZXldLmNsaWVudFlcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGRpc3RhbmNlID0gZnVuY3Rpb24ocG9pbnQyLCBwb2ludDEsIHdoYXQpIHtcclxuICAgIGlmICghcG9pbnQxIHx8ICFwb2ludDIpIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHdoYXQgPT09IFwieFwiKSB7XHJcbiAgICAgIHJldHVybiBwb2ludDIueCAtIHBvaW50MS54O1xyXG4gICAgfSBlbHNlIGlmICh3aGF0ID09PSBcInlcIikge1xyXG4gICAgICByZXR1cm4gcG9pbnQyLnkgLSBwb2ludDEueTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50Mi54IC0gcG9pbnQxLngsIDIpICsgTWF0aC5wb3cocG9pbnQyLnkgLSBwb2ludDEueSwgMikpO1xyXG4gIH07XHJcblxyXG4gIHZhciBpc0NsaWNrYWJsZSA9IGZ1bmN0aW9uKCRlbCkge1xyXG4gICAgaWYgKFxyXG4gICAgICAkZWwuaXMoJ2EsYXJlYSxidXR0b24sW3JvbGU9XCJidXR0b25cIl0saW5wdXQsbGFiZWwsc2VsZWN0LHN1bW1hcnksdGV4dGFyZWEsdmlkZW8sYXVkaW8saWZyYW1lJykgfHxcclxuICAgICAgJC5pc0Z1bmN0aW9uKCRlbC5nZXQoMCkub25jbGljaykgfHxcclxuICAgICAgJGVsLmRhdGEoXCJzZWxlY3RhYmxlXCIpXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGF0dHJpYnV0ZXMgbGlrZSBkYXRhLWZhbmN5Ym94LW5leHQgb3IgZGF0YS1mYW5jeWJveC1jbG9zZVxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGF0dHMgPSAkZWxbMF0uYXR0cmlidXRlcywgbiA9IGF0dHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgIGlmIChhdHRzW2ldLm5vZGVOYW1lLnN1YnN0cigwLCAxNCkgPT09IFwiZGF0YS1mYW5jeWJveC1cIikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHZhciBoYXNTY3JvbGxiYXJzID0gZnVuY3Rpb24oZWwpIHtcclxuICAgIHZhciBvdmVyZmxvd1kgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbXCJvdmVyZmxvdy15XCJdLFxyXG4gICAgICBvdmVyZmxvd1ggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbXCJvdmVyZmxvdy14XCJdLFxyXG4gICAgICB2ZXJ0aWNhbCA9IChvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHwgb3ZlcmZsb3dZID09PSBcImF1dG9cIikgJiYgZWwuc2Nyb2xsSGVpZ2h0ID4gZWwuY2xpZW50SGVpZ2h0LFxyXG4gICAgICBob3Jpem9udGFsID0gKG92ZXJmbG93WCA9PT0gXCJzY3JvbGxcIiB8fCBvdmVyZmxvd1ggPT09IFwiYXV0b1wiKSAmJiBlbC5zY3JvbGxXaWR0aCA+IGVsLmNsaWVudFdpZHRoO1xyXG5cclxuICAgIHJldHVybiB2ZXJ0aWNhbCB8fCBob3Jpem9udGFsO1xyXG4gIH07XHJcblxyXG4gIHZhciBpc1Njcm9sbGFibGUgPSBmdW5jdGlvbigkZWwpIHtcclxuICAgIHZhciByZXogPSBmYWxzZTtcclxuXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICByZXogPSBoYXNTY3JvbGxiYXJzKCRlbC5nZXQoMCkpO1xyXG5cclxuICAgICAgaWYgKHJleikge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkZWwgPSAkZWwucGFyZW50KCk7XHJcblxyXG4gICAgICBpZiAoISRlbC5sZW5ndGggfHwgJGVsLmhhc0NsYXNzKFwiZmFuY3lib3gtc3RhZ2VcIikgfHwgJGVsLmlzKFwiYm9keVwiKSkge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlejtcclxuICB9O1xyXG5cclxuICB2YXIgR3Vlc3R1cmVzID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBzZWxmLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcblxyXG4gICAgc2VsZi4kYmcgPSBpbnN0YW5jZS4kcmVmcy5iZztcclxuICAgIHNlbGYuJHN0YWdlID0gaW5zdGFuY2UuJHJlZnMuc3RhZ2U7XHJcbiAgICBzZWxmLiRjb250YWluZXIgPSBpbnN0YW5jZS4kcmVmcy5jb250YWluZXI7XHJcblxyXG4gICAgc2VsZi5kZXN0cm95KCk7XHJcblxyXG4gICAgc2VsZi4kY29udGFpbmVyLm9uKFwidG91Y2hzdGFydC5mYi50b3VjaCBtb3VzZWRvd24uZmIudG91Y2hcIiwgJC5wcm94eShzZWxmLCBcIm9udG91Y2hzdGFydFwiKSk7XHJcbiAgfTtcclxuXHJcbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgc2VsZi4kY29udGFpbmVyLm9mZihcIi5mYi50b3VjaFwiKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vZmYoXCIuZmIudG91Y2hcIik7XHJcblxyXG4gICAgaWYgKHNlbGYucmVxdWVzdElkKSB7XHJcbiAgICAgIGNhbmNlbEFGcmFtZShzZWxmLnJlcXVlc3RJZCk7XHJcbiAgICAgIHNlbGYucmVxdWVzdElkID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VsZi50YXBwZWQpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYudGFwcGVkKTtcclxuICAgICAgc2VsZi50YXBwZWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAkdGFyZ2V0ID0gJChlLnRhcmdldCksXHJcbiAgICAgIGluc3RhbmNlID0gc2VsZi5pbnN0YW5jZSxcclxuICAgICAgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQsXHJcbiAgICAgICRzbGlkZSA9IGN1cnJlbnQuJHNsaWRlLFxyXG4gICAgICAkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQsXHJcbiAgICAgIGlzVG91Y2hEZXZpY2UgPSBlLnR5cGUgPT0gXCJ0b3VjaHN0YXJ0XCI7XHJcblxyXG4gICAgLy8gRG8gbm90IHJlc3BvbmQgdG8gYm90aCAodG91Y2ggYW5kIG1vdXNlKSBldmVudHNcclxuICAgIGlmIChpc1RvdWNoRGV2aWNlKSB7XHJcbiAgICAgIHNlbGYuJGNvbnRhaW5lci5vZmYoXCJtb3VzZWRvd24uZmIudG91Y2hcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWdub3JlIHJpZ2h0IGNsaWNrXHJcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC5idXR0b24gPT0gMikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWdub3JlIHRhcGluZyBvbiBsaW5rcywgYnV0dG9ucywgaW5wdXQgZWxlbWVudHNcclxuICAgIGlmICghJHNsaWRlLmxlbmd0aCB8fCAhJHRhcmdldC5sZW5ndGggfHwgaXNDbGlja2FibGUoJHRhcmdldCkgfHwgaXNDbGlja2FibGUoJHRhcmdldC5wYXJlbnQoKSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gSWdub3JlIGNsaWNrcyBvbiB0aGUgc2Nyb2xsYmFyXHJcbiAgICBpZiAoISR0YXJnZXQuaXMoXCJpbWdcIikgJiYgZS5vcmlnaW5hbEV2ZW50LmNsaWVudFggPiAkdGFyZ2V0WzBdLmNsaWVudFdpZHRoICsgJHRhcmdldC5vZmZzZXQoKS5sZWZ0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZ25vcmUgY2xpY2tzIHdoaWxlIHpvb21pbmcgb3IgY2xvc2luZ1xyXG4gICAgaWYgKCFjdXJyZW50IHx8IGluc3RhbmNlLmlzQW5pbWF0aW5nIHx8IGN1cnJlbnQuJHNsaWRlLmhhc0NsYXNzKFwiZmFuY3lib3gtYW5pbWF0ZWRcIikpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYucmVhbFBvaW50cyA9IHNlbGYuc3RhcnRQb2ludHMgPSBnZXRQb2ludGVyWFkoZSk7XHJcblxyXG4gICAgaWYgKCFzZWxmLnN0YXJ0UG9pbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWxsb3cgb3RoZXIgc2NyaXB0cyB0byBjYXRjaCB0b3VjaCBldmVudCBpZiBcInRvdWNoXCIgaXMgc2V0IHRvIGZhbHNlXHJcbiAgICBpZiAoY3VycmVudC50b3VjaCkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuc3RhcnRFdmVudCA9IGU7XHJcblxyXG4gICAgc2VsZi5jYW5UYXAgPSB0cnVlO1xyXG4gICAgc2VsZi4kdGFyZ2V0ID0gJHRhcmdldDtcclxuICAgIHNlbGYuJGNvbnRlbnQgPSAkY29udGVudDtcclxuICAgIHNlbGYub3B0cyA9IGN1cnJlbnQub3B0cy50b3VjaDtcclxuXHJcbiAgICBzZWxmLmlzUGFubmluZyA9IGZhbHNlO1xyXG4gICAgc2VsZi5pc1N3aXBpbmcgPSBmYWxzZTtcclxuICAgIHNlbGYuaXNab29taW5nID0gZmFsc2U7XHJcbiAgICBzZWxmLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICBzZWxmLmNhblBhbiA9IGluc3RhbmNlLmNhblBhbigpO1xyXG5cclxuICAgIHNlbGYuc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICBzZWxmLmRpc3RhbmNlWCA9IHNlbGYuZGlzdGFuY2VZID0gc2VsZi5kaXN0YW5jZSA9IDA7XHJcblxyXG4gICAgc2VsZi5jYW52YXNXaWR0aCA9IE1hdGgucm91bmQoJHNsaWRlWzBdLmNsaWVudFdpZHRoKTtcclxuICAgIHNlbGYuY2FudmFzSGVpZ2h0ID0gTWF0aC5yb3VuZCgkc2xpZGVbMF0uY2xpZW50SGVpZ2h0KTtcclxuXHJcbiAgICBzZWxmLmNvbnRlbnRMYXN0UG9zID0gbnVsbDtcclxuICAgIHNlbGYuY29udGVudFN0YXJ0UG9zID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCkgfHwge3RvcDogMCwgbGVmdDogMH07XHJcbiAgICBzZWxmLnNsaWRlclN0YXJ0UG9zID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoJHNsaWRlKTtcclxuXHJcbiAgICAvLyBTaW5jZSBwb3NpdGlvbiB3aWxsIGJlIGFic29sdXRlLCBidXQgd2UgbmVlZCB0byBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSBzdGFnZVxyXG4gICAgc2VsZi5zdGFnZVBvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGluc3RhbmNlLiRyZWZzLnN0YWdlKTtcclxuXHJcbiAgICBzZWxmLnNsaWRlclN0YXJ0UG9zLnRvcCAtPSBzZWxmLnN0YWdlUG9zLnRvcDtcclxuICAgIHNlbGYuc2xpZGVyU3RhcnRQb3MubGVmdCAtPSBzZWxmLnN0YWdlUG9zLmxlZnQ7XHJcblxyXG4gICAgc2VsZi5jb250ZW50U3RhcnRQb3MudG9wIC09IHNlbGYuc3RhZ2VQb3MudG9wO1xyXG4gICAgc2VsZi5jb250ZW50U3RhcnRQb3MubGVmdCAtPSBzZWxmLnN0YWdlUG9zLmxlZnQ7XHJcblxyXG4gICAgJChkb2N1bWVudClcclxuICAgICAgLm9mZihcIi5mYi50b3VjaFwiKVxyXG4gICAgICAub24oaXNUb3VjaERldmljZSA/IFwidG91Y2hlbmQuZmIudG91Y2ggdG91Y2hjYW5jZWwuZmIudG91Y2hcIiA6IFwibW91c2V1cC5mYi50b3VjaCBtb3VzZWxlYXZlLmZiLnRvdWNoXCIsICQucHJveHkoc2VsZiwgXCJvbnRvdWNoZW5kXCIpKVxyXG4gICAgICAub24oaXNUb3VjaERldmljZSA/IFwidG91Y2htb3ZlLmZiLnRvdWNoXCIgOiBcIm1vdXNlbW92ZS5mYi50b3VjaFwiLCAkLnByb3h5KHNlbGYsIFwib250b3VjaG1vdmVcIikpO1xyXG5cclxuICAgIGlmICgkLmZhbmN5Ym94LmlzTW9iaWxlKSB7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2VsZi5vbnNjcm9sbCwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2tpcCBpZiBjbGlja2VkIG91dHNpZGUgdGhlIHNsaWRpbmcgYXJlYVxyXG4gICAgaWYgKCEoc2VsZi5vcHRzIHx8IHNlbGYuY2FuUGFuKSB8fCAhKCR0YXJnZXQuaXMoc2VsZi4kc3RhZ2UpIHx8IHNlbGYuJHN0YWdlLmZpbmQoJHRhcmdldCkubGVuZ3RoKSkge1xyXG4gICAgICBpZiAoJHRhcmdldC5pcyhcIi5mYW5jeWJveC1pbWFnZVwiKSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCEoJC5mYW5jeWJveC5pc01vYmlsZSAmJiAkdGFyZ2V0Lmhhc0NsYXNzKFwiZmFuY3lib3gtY2FwdGlvblwiKSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZWxmLmlzU2Nyb2xsYWJsZSA9IGlzU2Nyb2xsYWJsZSgkdGFyZ2V0KSB8fCBpc1Njcm9sbGFibGUoJHRhcmdldC5wYXJlbnQoKSk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZWxlbWVudCBpcyBzY3JvbGxhYmxlIGFuZCB0cnkgdG8gcHJldmVudCBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcpXHJcbiAgICBpZiAoISgkLmZhbmN5Ym94LmlzTW9iaWxlICYmIHNlbGYuaXNTY3JvbGxhYmxlKSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25lIGZpbmdlciBvciBtb3VzZSBjbGljayAtIHN3aXBlIG9yIHBhbiBhbiBpbWFnZVxyXG4gICAgaWYgKHNlbGYuc3RhcnRQb2ludHMubGVuZ3RoID09PSAxIHx8IGN1cnJlbnQuaGFzRXJyb3IpIHtcclxuICAgICAgaWYgKHNlbGYuY2FuUGFuKSB7XHJcbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKHNlbGYuJGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBzZWxmLmlzUGFubmluZyA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5pc1N3aXBpbmcgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLiRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1ncmFiYmluZ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUd28gZmluZ2VycyAtIHpvb20gaW1hZ2VcclxuICAgIGlmIChzZWxmLnN0YXJ0UG9pbnRzLmxlbmd0aCA9PT0gMiAmJiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiAmJiAoY3VycmVudC5pc0xvYWRlZCB8fCBjdXJyZW50LiRnaG9zdCkpIHtcclxuICAgICAgc2VsZi5jYW5UYXAgPSBmYWxzZTtcclxuICAgICAgc2VsZi5pc1N3aXBpbmcgPSBmYWxzZTtcclxuICAgICAgc2VsZi5pc1Bhbm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgIHNlbGYuaXNab29taW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICQuZmFuY3lib3guc3RvcChzZWxmLiRjb250ZW50KTtcclxuXHJcbiAgICAgIHNlbGYuY2VudGVyUG9pbnRTdGFydFggPSAoc2VsZi5zdGFydFBvaW50c1swXS54ICsgc2VsZi5zdGFydFBvaW50c1sxXS54KSAqIDAuNSAtICQod2luZG93KS5zY3JvbGxMZWZ0KCk7XHJcbiAgICAgIHNlbGYuY2VudGVyUG9pbnRTdGFydFkgPSAoc2VsZi5zdGFydFBvaW50c1swXS55ICsgc2VsZi5zdGFydFBvaW50c1sxXS55KSAqIDAuNSAtICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICAgIHNlbGYucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYID0gKHNlbGYuY2VudGVyUG9pbnRTdGFydFggLSBzZWxmLmNvbnRlbnRTdGFydFBvcy5sZWZ0KSAvIHNlbGYuY29udGVudFN0YXJ0UG9zLndpZHRoO1xyXG4gICAgICBzZWxmLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WSA9IChzZWxmLmNlbnRlclBvaW50U3RhcnRZIC0gc2VsZi5jb250ZW50U3RhcnRQb3MudG9wKSAvIHNlbGYuY29udGVudFN0YXJ0UG9zLmhlaWdodDtcclxuXHJcbiAgICAgIHNlbGYuc3RhcnREaXN0YW5jZUJldHdlZW5GaW5nZXJzID0gZGlzdGFuY2Uoc2VsZi5zdGFydFBvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1sxXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vbnNjcm9sbCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBzZWxmLmlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNlbGYub25zY3JvbGwsIHRydWUpO1xyXG4gIH07XHJcblxyXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub250b3VjaG1vdmUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIHVzZXIgaGFzIG5vdCByZWxlYXNlZCBvdmVyIGlmcmFtZSBvciBkaXNhYmxlZCBlbGVtZW50XHJcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbnMgIT09IHVuZGVmaW5lZCAmJiBlLm9yaWdpbmFsRXZlbnQuYnV0dG9ucyA9PT0gMCkge1xyXG4gICAgICBzZWxmLm9udG91Y2hlbmQoZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VsZi5pc1Njcm9sbGluZykge1xyXG4gICAgICBzZWxmLmNhblRhcCA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5uZXdQb2ludHMgPSBnZXRQb2ludGVyWFkoZSk7XHJcblxyXG4gICAgaWYgKCEoc2VsZi5vcHRzIHx8IHNlbGYuY2FuUGFuKSB8fCAhc2VsZi5uZXdQb2ludHMubGVuZ3RoIHx8ICFzZWxmLm5ld1BvaW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghKHNlbGYuaXNTd2lwaW5nICYmIHNlbGYuaXNTd2lwaW5nID09PSB0cnVlKSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5kaXN0YW5jZVggPSBkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1swXSwgXCJ4XCIpO1xyXG4gICAgc2VsZi5kaXN0YW5jZVkgPSBkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1swXSwgXCJ5XCIpO1xyXG5cclxuICAgIHNlbGYuZGlzdGFuY2UgPSBkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1swXSk7XHJcblxyXG4gICAgLy8gU2tpcCBmYWxzZSBvbnRvdWNobW92ZSBldmVudHMgKENocm9tZSlcclxuICAgIGlmIChzZWxmLmRpc3RhbmNlID4gMCkge1xyXG4gICAgICBpZiAoc2VsZi5pc1N3aXBpbmcpIHtcclxuICAgICAgICBzZWxmLm9uU3dpcGUoZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc1Bhbm5pbmcpIHtcclxuICAgICAgICBzZWxmLm9uUGFuKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc1pvb21pbmcpIHtcclxuICAgICAgICBzZWxmLm9uWm9vbSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vblN3aXBlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICBpbnN0YW5jZSA9IHNlbGYuaW5zdGFuY2UsXHJcbiAgICAgIHN3aXBpbmcgPSBzZWxmLmlzU3dpcGluZyxcclxuICAgICAgbGVmdCA9IHNlbGYuc2xpZGVyU3RhcnRQb3MubGVmdCB8fCAwLFxyXG4gICAgICBhbmdsZTtcclxuXHJcbiAgICAvLyBJZiBkaXJlY3Rpb24gaXMgbm90IHlldCBkZXRlcm1pbmVkXHJcbiAgICBpZiAoc3dpcGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAvLyBXZSBuZWVkIGF0IGxlYXN0IDEwcHggZGlzdGFuY2UgdG8gY29ycmVjdGx5IGNhbGN1bGF0ZSBhbiBhbmdsZVxyXG4gICAgICBpZiAoTWF0aC5hYnMoc2VsZi5kaXN0YW5jZSkgPiAxMCkge1xyXG4gICAgICAgIHNlbGYuY2FuVGFwID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyICYmIHNlbGYub3B0cy52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgc2VsZi5pc1N3aXBpbmcgPSBcInlcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmlzRHJhZ2dpbmcgfHwgc2VsZi5vcHRzLnZlcnRpY2FsID09PSBmYWxzZSB8fCAoc2VsZi5vcHRzLnZlcnRpY2FsID09PSBcImF1dG9cIiAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDgwMCkpIHtcclxuICAgICAgICAgIHNlbGYuaXNTd2lwaW5nID0gXCJ4XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFuZ2xlID0gTWF0aC5hYnMoKE1hdGguYXRhbjIoc2VsZi5kaXN0YW5jZVksIHNlbGYuZGlzdGFuY2VYKSAqIDE4MCkgLyBNYXRoLlBJKTtcclxuXHJcbiAgICAgICAgICBzZWxmLmlzU3dpcGluZyA9IGFuZ2xlID4gNDUgJiYgYW5nbGUgPCAxMzUgPyBcInlcIiA6IFwieFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGYuaXNTd2lwaW5nID09PSBcInlcIiAmJiAkLmZhbmN5Ym94LmlzTW9iaWxlICYmIHNlbGYuaXNTY3JvbGxhYmxlKSB7XHJcbiAgICAgICAgICBzZWxmLmlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnN0YW5jZS5pc0RyYWdnaW5nID0gc2VsZi5pc1N3aXBpbmc7XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IHBvaW50cyB0byBhdm9pZCBqdW1waW5nLCBiZWNhdXNlIHdlIGRyb3BwZWQgZmlyc3Qgc3dpcGVzIHRvIGNhbGN1bGF0ZSB0aGUgYW5nbGVcclxuICAgICAgICBzZWxmLnN0YXJ0UG9pbnRzID0gc2VsZi5uZXdQb2ludHM7XHJcblxyXG4gICAgICAgICQuZWFjaChpbnN0YW5jZS5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xyXG4gICAgICAgICAgdmFyIHNsaWRlUG9zLCBzdGFnZVBvcztcclxuXHJcbiAgICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJHNsaWRlKTtcclxuXHJcbiAgICAgICAgICBzbGlkZVBvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKHNsaWRlLiRzbGlkZSk7XHJcbiAgICAgICAgICBzdGFnZVBvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGluc3RhbmNlLiRyZWZzLnN0YWdlKTtcclxuXHJcbiAgICAgICAgICBzbGlkZS4kc2xpZGVcclxuICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcIlwiLFxyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgICAgXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6IFwiXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYW5pbWF0ZWRcIilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKGZ1bmN0aW9uKGluZGV4LCBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gKGNsYXNzTmFtZS5tYXRjaCgvKF58XFxzKWZhbmN5Ym94LWZ4LVxcUysvZykgfHwgW10pLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoc2xpZGUucG9zID09PSBpbnN0YW5jZS5jdXJyZW50LnBvcykge1xyXG4gICAgICAgICAgICBzZWxmLnNsaWRlclN0YXJ0UG9zLnRvcCA9IHNsaWRlUG9zLnRvcCAtIHN0YWdlUG9zLnRvcDtcclxuICAgICAgICAgICAgc2VsZi5zbGlkZXJTdGFydFBvcy5sZWZ0ID0gc2xpZGVQb3MubGVmdCAtIHN0YWdlUG9zLmxlZnQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2xpZGUuJHNsaWRlLCB7XHJcbiAgICAgICAgICAgIHRvcDogc2xpZGVQb3MudG9wIC0gc3RhZ2VQb3MudG9wLFxyXG4gICAgICAgICAgICBsZWZ0OiBzbGlkZVBvcy5sZWZ0IC0gc3RhZ2VQb3MubGVmdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFN0b3Agc2xpZGVzaG93XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLlNsaWRlU2hvdyAmJiBpbnN0YW5jZS5TbGlkZVNob3cuaXNBY3RpdmUpIHtcclxuICAgICAgICAgIGluc3RhbmNlLlNsaWRlU2hvdy5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RpY2t5IGVkZ2VzXHJcbiAgICBpZiAoc3dpcGluZyA9PSBcInhcIikge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgc2VsZi5kaXN0YW5jZVggPiAwICYmXHJcbiAgICAgICAgKHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiB8fCAoc2VsZi5pbnN0YW5jZS5jdXJyZW50LmluZGV4ID09PSAwICYmICFzZWxmLmluc3RhbmNlLmN1cnJlbnQub3B0cy5sb29wKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGVmdCA9IGxlZnQgKyBNYXRoLnBvdyhzZWxmLmRpc3RhbmNlWCwgMC44KTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBzZWxmLmRpc3RhbmNlWCA8IDAgJiZcclxuICAgICAgICAoc2VsZi5pbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyIHx8XHJcbiAgICAgICAgICAoc2VsZi5pbnN0YW5jZS5jdXJyZW50LmluZGV4ID09PSBzZWxmLmluc3RhbmNlLmdyb3VwLmxlbmd0aCAtIDEgJiYgIXNlbGYuaW5zdGFuY2UuY3VycmVudC5vcHRzLmxvb3ApKVxyXG4gICAgICApIHtcclxuICAgICAgICBsZWZ0ID0gbGVmdCAtIE1hdGgucG93KC1zZWxmLmRpc3RhbmNlWCwgMC44KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZWZ0ID0gbGVmdCArIHNlbGYuZGlzdGFuY2VYO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5zbGlkZXJMYXN0UG9zID0ge1xyXG4gICAgICB0b3A6IHN3aXBpbmcgPT0gXCJ4XCIgPyAwIDogc2VsZi5zbGlkZXJTdGFydFBvcy50b3AgKyBzZWxmLmRpc3RhbmNlWSxcclxuICAgICAgbGVmdDogbGVmdFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoc2VsZi5yZXF1ZXN0SWQpIHtcclxuICAgICAgY2FuY2VsQUZyYW1lKHNlbGYucmVxdWVzdElkKTtcclxuXHJcbiAgICAgIHNlbGYucmVxdWVzdElkID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZWxmLnJlcXVlc3RJZCA9IHJlcXVlc3RBRnJhbWUoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChzZWxmLnNsaWRlckxhc3RQb3MpIHtcclxuICAgICAgICAkLmVhY2goc2VsZi5pbnN0YW5jZS5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xyXG4gICAgICAgICAgdmFyIHBvcyA9IHNsaWRlLnBvcyAtIHNlbGYuaW5zdGFuY2UuY3VyclBvcztcclxuXHJcbiAgICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzbGlkZS4kc2xpZGUsIHtcclxuICAgICAgICAgICAgdG9wOiBzZWxmLnNsaWRlckxhc3RQb3MudG9wLFxyXG4gICAgICAgICAgICBsZWZ0OiBzZWxmLnNsaWRlckxhc3RQb3MubGVmdCArIHBvcyAqIHNlbGYuY2FudmFzV2lkdGggKyBwb3MgKiBzbGlkZS5vcHRzLmd1dHRlclxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNlbGYuJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLXNsaWRpbmdcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub25QYW4gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBQcmV2ZW50IGFjY2lkZW50YWwgbW92ZW1lbnQgKHNvbWV0aW1lcywgd2hlbiB0YXBwaW5nIGNhc3VhbGx5LCBmaW5nZXIgY2FuIG1vdmUgYSBiaXQpXHJcbiAgICBpZiAoZGlzdGFuY2Uoc2VsZi5uZXdQb2ludHNbMF0sIHNlbGYucmVhbFBvaW50c1swXSkgPCAoJC5mYW5jeWJveC5pc01vYmlsZSA/IDEwIDogNSkpIHtcclxuICAgICAgc2VsZi5zdGFydFBvaW50cyA9IHNlbGYubmV3UG9pbnRzO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5jYW5UYXAgPSBmYWxzZTtcclxuXHJcbiAgICBzZWxmLmNvbnRlbnRMYXN0UG9zID0gc2VsZi5saW1pdE1vdmVtZW50KCk7XHJcblxyXG4gICAgaWYgKHNlbGYucmVxdWVzdElkKSB7XHJcbiAgICAgIGNhbmNlbEFGcmFtZShzZWxmLnJlcXVlc3RJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5yZXF1ZXN0SWQgPSByZXF1ZXN0QUZyYW1lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzZWxmLiRjb250ZW50LCBzZWxmLmNvbnRlbnRMYXN0UG9zKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIE1ha2UgcGFubmluZyBzdGlja3kgdG8gdGhlIGVkZ2VzXHJcbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5saW1pdE1vdmVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGNhbnZhc1dpZHRoID0gc2VsZi5jYW52YXNXaWR0aDtcclxuICAgIHZhciBjYW52YXNIZWlnaHQgPSBzZWxmLmNhbnZhc0hlaWdodDtcclxuXHJcbiAgICB2YXIgZGlzdGFuY2VYID0gc2VsZi5kaXN0YW5jZVg7XHJcbiAgICB2YXIgZGlzdGFuY2VZID0gc2VsZi5kaXN0YW5jZVk7XHJcblxyXG4gICAgdmFyIGNvbnRlbnRTdGFydFBvcyA9IHNlbGYuY29udGVudFN0YXJ0UG9zO1xyXG5cclxuICAgIHZhciBjdXJyZW50T2Zmc2V0WCA9IGNvbnRlbnRTdGFydFBvcy5sZWZ0O1xyXG4gICAgdmFyIGN1cnJlbnRPZmZzZXRZID0gY29udGVudFN0YXJ0UG9zLnRvcDtcclxuXHJcbiAgICB2YXIgY3VycmVudFdpZHRoID0gY29udGVudFN0YXJ0UG9zLndpZHRoO1xyXG4gICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBjb250ZW50U3RhcnRQb3MuaGVpZ2h0O1xyXG5cclxuICAgIHZhciBtaW5UcmFuc2xhdGVYLCBtaW5UcmFuc2xhdGVZLCBtYXhUcmFuc2xhdGVYLCBtYXhUcmFuc2xhdGVZLCBuZXdPZmZzZXRYLCBuZXdPZmZzZXRZO1xyXG5cclxuICAgIGlmIChjdXJyZW50V2lkdGggPiBjYW52YXNXaWR0aCkge1xyXG4gICAgICBuZXdPZmZzZXRYID0gY3VycmVudE9mZnNldFggKyBkaXN0YW5jZVg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdPZmZzZXRYID0gY3VycmVudE9mZnNldFg7XHJcbiAgICB9XHJcblxyXG4gICAgbmV3T2Zmc2V0WSA9IGN1cnJlbnRPZmZzZXRZICsgZGlzdGFuY2VZO1xyXG5cclxuICAgIC8vIFNsb3cgZG93biBwcm9wb3J0aW9uYWxseSB0byB0cmF2ZWxlZCBkaXN0YW5jZVxyXG4gICAgbWluVHJhbnNsYXRlWCA9IE1hdGgubWF4KDAsIGNhbnZhc1dpZHRoICogMC41IC0gY3VycmVudFdpZHRoICogMC41KTtcclxuICAgIG1pblRyYW5zbGF0ZVkgPSBNYXRoLm1heCgwLCBjYW52YXNIZWlnaHQgKiAwLjUgLSBjdXJyZW50SGVpZ2h0ICogMC41KTtcclxuXHJcbiAgICBtYXhUcmFuc2xhdGVYID0gTWF0aC5taW4oY2FudmFzV2lkdGggLSBjdXJyZW50V2lkdGgsIGNhbnZhc1dpZHRoICogMC41IC0gY3VycmVudFdpZHRoICogMC41KTtcclxuICAgIG1heFRyYW5zbGF0ZVkgPSBNYXRoLm1pbihjYW52YXNIZWlnaHQgLSBjdXJyZW50SGVpZ2h0LCBjYW52YXNIZWlnaHQgKiAwLjUgLSBjdXJyZW50SGVpZ2h0ICogMC41KTtcclxuXHJcbiAgICAvLyAgIC0+XHJcbiAgICBpZiAoZGlzdGFuY2VYID4gMCAmJiBuZXdPZmZzZXRYID4gbWluVHJhbnNsYXRlWCkge1xyXG4gICAgICBuZXdPZmZzZXRYID0gbWluVHJhbnNsYXRlWCAtIDEgKyBNYXRoLnBvdygtbWluVHJhbnNsYXRlWCArIGN1cnJlbnRPZmZzZXRYICsgZGlzdGFuY2VYLCAwLjgpIHx8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gICAgPC1cclxuICAgIGlmIChkaXN0YW5jZVggPCAwICYmIG5ld09mZnNldFggPCBtYXhUcmFuc2xhdGVYKSB7XHJcbiAgICAgIG5ld09mZnNldFggPSBtYXhUcmFuc2xhdGVYICsgMSAtIE1hdGgucG93KG1heFRyYW5zbGF0ZVggLSBjdXJyZW50T2Zmc2V0WCAtIGRpc3RhbmNlWCwgMC44KSB8fCAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICAgXFwvXHJcbiAgICBpZiAoZGlzdGFuY2VZID4gMCAmJiBuZXdPZmZzZXRZID4gbWluVHJhbnNsYXRlWSkge1xyXG4gICAgICBuZXdPZmZzZXRZID0gbWluVHJhbnNsYXRlWSAtIDEgKyBNYXRoLnBvdygtbWluVHJhbnNsYXRlWSArIGN1cnJlbnRPZmZzZXRZICsgZGlzdGFuY2VZLCAwLjgpIHx8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gICAvXFxcclxuICAgIGlmIChkaXN0YW5jZVkgPCAwICYmIG5ld09mZnNldFkgPCBtYXhUcmFuc2xhdGVZKSB7XHJcbiAgICAgIG5ld09mZnNldFkgPSBtYXhUcmFuc2xhdGVZICsgMSAtIE1hdGgucG93KG1heFRyYW5zbGF0ZVkgLSBjdXJyZW50T2Zmc2V0WSAtIGRpc3RhbmNlWSwgMC44KSB8fCAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvcDogbmV3T2Zmc2V0WSxcclxuICAgICAgbGVmdDogbmV3T2Zmc2V0WFxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBHdWVzdHVyZXMucHJvdG90eXBlLmxpbWl0UG9zaXRpb24gPSBmdW5jdGlvbihuZXdPZmZzZXRYLCBuZXdPZmZzZXRZLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGNhbnZhc1dpZHRoID0gc2VsZi5jYW52YXNXaWR0aDtcclxuICAgIHZhciBjYW52YXNIZWlnaHQgPSBzZWxmLmNhbnZhc0hlaWdodDtcclxuXHJcbiAgICBpZiAobmV3V2lkdGggPiBjYW52YXNXaWR0aCkge1xyXG4gICAgICBuZXdPZmZzZXRYID0gbmV3T2Zmc2V0WCA+IDAgPyAwIDogbmV3T2Zmc2V0WDtcclxuICAgICAgbmV3T2Zmc2V0WCA9IG5ld09mZnNldFggPCBjYW52YXNXaWR0aCAtIG5ld1dpZHRoID8gY2FudmFzV2lkdGggLSBuZXdXaWR0aCA6IG5ld09mZnNldFg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDZW50ZXIgaG9yaXpvbnRhbGx5XHJcbiAgICAgIG5ld09mZnNldFggPSBNYXRoLm1heCgwLCBjYW52YXNXaWR0aCAvIDIgLSBuZXdXaWR0aCAvIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdIZWlnaHQgPiBjYW52YXNIZWlnaHQpIHtcclxuICAgICAgbmV3T2Zmc2V0WSA9IG5ld09mZnNldFkgPiAwID8gMCA6IG5ld09mZnNldFk7XHJcbiAgICAgIG5ld09mZnNldFkgPSBuZXdPZmZzZXRZIDwgY2FudmFzSGVpZ2h0IC0gbmV3SGVpZ2h0ID8gY2FudmFzSGVpZ2h0IC0gbmV3SGVpZ2h0IDogbmV3T2Zmc2V0WTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIENlbnRlciB2ZXJ0aWNhbGx5XHJcbiAgICAgIG5ld09mZnNldFkgPSBNYXRoLm1heCgwLCBjYW52YXNIZWlnaHQgLyAyIC0gbmV3SGVpZ2h0IC8gMik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG9wOiBuZXdPZmZzZXRZLFxyXG4gICAgICBsZWZ0OiBuZXdPZmZzZXRYXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub25ab29tID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgdG8gZ2V0IHBpbmNoIHJhdGlvIGFuZCBuZXcgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgdmFyIGNvbnRlbnRTdGFydFBvcyA9IHNlbGYuY29udGVudFN0YXJ0UG9zO1xyXG5cclxuICAgIHZhciBjdXJyZW50V2lkdGggPSBjb250ZW50U3RhcnRQb3Mud2lkdGg7XHJcbiAgICB2YXIgY3VycmVudEhlaWdodCA9IGNvbnRlbnRTdGFydFBvcy5oZWlnaHQ7XHJcblxyXG4gICAgdmFyIGN1cnJlbnRPZmZzZXRYID0gY29udGVudFN0YXJ0UG9zLmxlZnQ7XHJcbiAgICB2YXIgY3VycmVudE9mZnNldFkgPSBjb250ZW50U3RhcnRQb3MudG9wO1xyXG5cclxuICAgIHZhciBlbmREaXN0YW5jZUJldHdlZW5GaW5nZXJzID0gZGlzdGFuY2Uoc2VsZi5uZXdQb2ludHNbMF0sIHNlbGYubmV3UG9pbnRzWzFdKTtcclxuXHJcbiAgICB2YXIgcGluY2hSYXRpbyA9IGVuZERpc3RhbmNlQmV0d2VlbkZpbmdlcnMgLyBzZWxmLnN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2VycztcclxuXHJcbiAgICB2YXIgbmV3V2lkdGggPSBNYXRoLmZsb29yKGN1cnJlbnRXaWR0aCAqIHBpbmNoUmF0aW8pO1xyXG4gICAgdmFyIG5ld0hlaWdodCA9IE1hdGguZmxvb3IoY3VycmVudEhlaWdodCAqIHBpbmNoUmF0aW8pO1xyXG5cclxuICAgIC8vIFRoaXMgaXMgdGhlIHRyYW5zbGF0aW9uIGR1ZSB0byBwaW5jaC16b29taW5nXHJcbiAgICB2YXIgdHJhbnNsYXRlRnJvbVpvb21pbmdYID0gKGN1cnJlbnRXaWR0aCAtIG5ld1dpZHRoKSAqIHNlbGYucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYO1xyXG4gICAgdmFyIHRyYW5zbGF0ZUZyb21ab29taW5nWSA9IChjdXJyZW50SGVpZ2h0IC0gbmV3SGVpZ2h0KSAqIHNlbGYucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRZO1xyXG5cclxuICAgIC8vIFBvaW50IGJldHdlZW4gdGhlIHR3byB0b3VjaGVzXHJcbiAgICB2YXIgY2VudGVyUG9pbnRFbmRYID0gKHNlbGYubmV3UG9pbnRzWzBdLnggKyBzZWxmLm5ld1BvaW50c1sxXS54KSAvIDIgLSAkKHdpbmRvdykuc2Nyb2xsTGVmdCgpO1xyXG4gICAgdmFyIGNlbnRlclBvaW50RW5kWSA9IChzZWxmLm5ld1BvaW50c1swXS55ICsgc2VsZi5uZXdQb2ludHNbMV0ueSkgLyAyIC0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cclxuICAgIC8vIEFuZCB0aGlzIGlzIHRoZSB0cmFuc2xhdGlvbiBkdWUgdG8gdHJhbnNsYXRpb24gb2YgdGhlIGNlbnRlcnBvaW50XHJcbiAgICAvLyBiZXR3ZWVuIHRoZSB0d28gZmluZ2Vyc1xyXG4gICAgdmFyIHRyYW5zbGF0ZUZyb21UcmFuc2xhdGluZ1ggPSBjZW50ZXJQb2ludEVuZFggLSBzZWxmLmNlbnRlclBvaW50U3RhcnRYO1xyXG4gICAgdmFyIHRyYW5zbGF0ZUZyb21UcmFuc2xhdGluZ1kgPSBjZW50ZXJQb2ludEVuZFkgLSBzZWxmLmNlbnRlclBvaW50U3RhcnRZO1xyXG5cclxuICAgIC8vIFRoZSBuZXcgb2Zmc2V0IGlzIHRoZSBvbGQvY3VycmVudCBvbmUgcGx1cyB0aGUgdG90YWwgdHJhbnNsYXRpb25cclxuICAgIHZhciBuZXdPZmZzZXRYID0gY3VycmVudE9mZnNldFggKyAodHJhbnNsYXRlRnJvbVpvb21pbmdYICsgdHJhbnNsYXRlRnJvbVRyYW5zbGF0aW5nWCk7XHJcbiAgICB2YXIgbmV3T2Zmc2V0WSA9IGN1cnJlbnRPZmZzZXRZICsgKHRyYW5zbGF0ZUZyb21ab29taW5nWSArIHRyYW5zbGF0ZUZyb21UcmFuc2xhdGluZ1kpO1xyXG5cclxuICAgIHZhciBuZXdQb3MgPSB7XHJcbiAgICAgIHRvcDogbmV3T2Zmc2V0WSxcclxuICAgICAgbGVmdDogbmV3T2Zmc2V0WCxcclxuICAgICAgc2NhbGVYOiBwaW5jaFJhdGlvLFxyXG4gICAgICBzY2FsZVk6IHBpbmNoUmF0aW9cclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5jYW5UYXAgPSBmYWxzZTtcclxuXHJcbiAgICBzZWxmLm5ld1dpZHRoID0gbmV3V2lkdGg7XHJcbiAgICBzZWxmLm5ld0hlaWdodCA9IG5ld0hlaWdodDtcclxuXHJcbiAgICBzZWxmLmNvbnRlbnRMYXN0UG9zID0gbmV3UG9zO1xyXG5cclxuICAgIGlmIChzZWxmLnJlcXVlc3RJZCkge1xyXG4gICAgICBjYW5jZWxBRnJhbWUoc2VsZi5yZXF1ZXN0SWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYucmVxdWVzdElkID0gcmVxdWVzdEFGcmFtZShmdW5jdGlvbigpIHtcclxuICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCwgc2VsZi5jb250ZW50TGFzdFBvcyk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9udG91Y2hlbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIHN3aXBpbmcgPSBzZWxmLmlzU3dpcGluZztcclxuICAgIHZhciBwYW5uaW5nID0gc2VsZi5pc1Bhbm5pbmc7XHJcbiAgICB2YXIgem9vbWluZyA9IHNlbGYuaXNab29taW5nO1xyXG4gICAgdmFyIHNjcm9sbGluZyA9IHNlbGYuaXNTY3JvbGxpbmc7XHJcblxyXG4gICAgc2VsZi5lbmRQb2ludHMgPSBnZXRQb2ludGVyWFkoZSk7XHJcbiAgICBzZWxmLmRNcyA9IE1hdGgubWF4KG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc2VsZi5zdGFydFRpbWUsIDEpO1xyXG5cclxuICAgIHNlbGYuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWdyYWJiaW5nXCIpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9mZihcIi5mYi50b3VjaFwiKTtcclxuXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNlbGYub25zY3JvbGwsIHRydWUpO1xyXG5cclxuICAgIGlmIChzZWxmLnJlcXVlc3RJZCkge1xyXG4gICAgICBjYW5jZWxBRnJhbWUoc2VsZi5yZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgc2VsZi5yZXF1ZXN0SWQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuaXNTd2lwaW5nID0gZmFsc2U7XHJcbiAgICBzZWxmLmlzUGFubmluZyA9IGZhbHNlO1xyXG4gICAgc2VsZi5pc1pvb21pbmcgPSBmYWxzZTtcclxuICAgIHNlbGYuaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBzZWxmLmluc3RhbmNlLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoc2VsZi5jYW5UYXApIHtcclxuICAgICAgcmV0dXJuIHNlbGYub25UYXAoZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5zcGVlZCA9IDEwMDtcclxuXHJcbiAgICAvLyBTcGVlZCBpbiBweC9tc1xyXG4gICAgc2VsZi52ZWxvY2l0eVggPSAoc2VsZi5kaXN0YW5jZVggLyBzZWxmLmRNcykgKiAwLjU7XHJcbiAgICBzZWxmLnZlbG9jaXR5WSA9IChzZWxmLmRpc3RhbmNlWSAvIHNlbGYuZE1zKSAqIDAuNTtcclxuXHJcbiAgICBpZiAocGFubmluZykge1xyXG4gICAgICBzZWxmLmVuZFBhbm5pbmcoKTtcclxuICAgIH0gZWxzZSBpZiAoem9vbWluZykge1xyXG4gICAgICBzZWxmLmVuZFpvb21pbmcoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNlbGYuZW5kU3dpcGluZyhzd2lwaW5nLCBzY3JvbGxpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybjtcclxuICB9O1xyXG5cclxuICBHdWVzdHVyZXMucHJvdG90eXBlLmVuZFN3aXBpbmcgPSBmdW5jdGlvbihzd2lwaW5nLCBzY3JvbGxpbmcpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgcmV0ID0gZmFsc2UsXHJcbiAgICAgIGxlbiA9IHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoLFxyXG4gICAgICBkaXN0YW5jZVggPSBNYXRoLmFicyhzZWxmLmRpc3RhbmNlWCksXHJcbiAgICAgIGNhbkFkdmFuY2UgPSBzd2lwaW5nID09IFwieFwiICYmIGxlbiA+IDEgJiYgKChzZWxmLmRNcyA+IDEzMCAmJiBkaXN0YW5jZVggPiAxMCkgfHwgZGlzdGFuY2VYID4gNTApLFxyXG4gICAgICBzcGVlZFggPSAzMDA7XHJcblxyXG4gICAgc2VsZi5zbGlkZXJMYXN0UG9zID0gbnVsbDtcclxuXHJcbiAgICAvLyBDbG9zZSBpZiBzd2lwZWQgdmVydGljYWxseSAvIG5hdmlnYXRlIGlmIGhvcml6b250YWxseVxyXG4gICAgaWYgKHN3aXBpbmcgPT0gXCJ5XCIgJiYgIXNjcm9sbGluZyAmJiBNYXRoLmFicyhzZWxmLmRpc3RhbmNlWSkgPiA1MCkge1xyXG4gICAgICAvLyBDb250aW51ZSB2ZXJ0aWNhbCBtb3ZlbWVudFxyXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgc2VsZi5pbnN0YW5jZS5jdXJyZW50LiRzbGlkZSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0b3A6IHNlbGYuc2xpZGVyU3RhcnRQb3MudG9wICsgc2VsZi5kaXN0YW5jZVkgKyBzZWxmLnZlbG9jaXR5WSAqIDE1MCxcclxuICAgICAgICAgIG9wYWNpdHk6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIDIwMFxyXG4gICAgICApO1xyXG4gICAgICByZXQgPSBzZWxmLmluc3RhbmNlLmNsb3NlKHRydWUsIDI1MCk7XHJcbiAgICB9IGVsc2UgaWYgKGNhbkFkdmFuY2UgJiYgc2VsZi5kaXN0YW5jZVggPiAwKSB7XHJcbiAgICAgIHJldCA9IHNlbGYuaW5zdGFuY2UucHJldmlvdXMoc3BlZWRYKTtcclxuICAgIH0gZWxzZSBpZiAoY2FuQWR2YW5jZSAmJiBzZWxmLmRpc3RhbmNlWCA8IDApIHtcclxuICAgICAgcmV0ID0gc2VsZi5pbnN0YW5jZS5uZXh0KHNwZWVkWCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJldCA9PT0gZmFsc2UgJiYgKHN3aXBpbmcgPT0gXCJ4XCIgfHwgc3dpcGluZyA9PSBcInlcIikpIHtcclxuICAgICAgc2VsZi5pbnN0YW5jZS5jZW50ZXJTbGlkZSgyMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLXNsaWRpbmdcIik7XHJcbiAgfTtcclxuXHJcbiAgLy8gTGltaXQgcGFubmluZyBmcm9tIGVkZ2VzXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5lbmRQYW5uaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgIG5ld09mZnNldFgsXHJcbiAgICAgIG5ld09mZnNldFksXHJcbiAgICAgIG5ld1BvcztcclxuXHJcbiAgICBpZiAoIXNlbGYuY29udGVudExhc3RQb3MpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWxmLm9wdHMubW9tZW50dW0gPT09IGZhbHNlIHx8IHNlbGYuZE1zID4gMzUwKSB7XHJcbiAgICAgIG5ld09mZnNldFggPSBzZWxmLmNvbnRlbnRMYXN0UG9zLmxlZnQ7XHJcbiAgICAgIG5ld09mZnNldFkgPSBzZWxmLmNvbnRlbnRMYXN0UG9zLnRvcDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIENvbnRpbnVlIG1vdmVtZW50XHJcbiAgICAgIG5ld09mZnNldFggPSBzZWxmLmNvbnRlbnRMYXN0UG9zLmxlZnQgKyBzZWxmLnZlbG9jaXR5WCAqIDUwMDtcclxuICAgICAgbmV3T2Zmc2V0WSA9IHNlbGYuY29udGVudExhc3RQb3MudG9wICsgc2VsZi52ZWxvY2l0eVkgKiA1MDA7XHJcbiAgICB9XHJcblxyXG4gICAgbmV3UG9zID0gc2VsZi5saW1pdFBvc2l0aW9uKG5ld09mZnNldFgsIG5ld09mZnNldFksIHNlbGYuY29udGVudFN0YXJ0UG9zLndpZHRoLCBzZWxmLmNvbnRlbnRTdGFydFBvcy5oZWlnaHQpO1xyXG5cclxuICAgIG5ld1Bvcy53aWR0aCA9IHNlbGYuY29udGVudFN0YXJ0UG9zLndpZHRoO1xyXG4gICAgbmV3UG9zLmhlaWdodCA9IHNlbGYuY29udGVudFN0YXJ0UG9zLmhlaWdodDtcclxuXHJcbiAgICAkLmZhbmN5Ym94LmFuaW1hdGUoc2VsZi4kY29udGVudCwgbmV3UG9zLCAzMzApO1xyXG4gIH07XHJcblxyXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUuZW5kWm9vbWluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHZhciBjdXJyZW50ID0gc2VsZi5pbnN0YW5jZS5jdXJyZW50O1xyXG5cclxuICAgIHZhciBuZXdPZmZzZXRYLCBuZXdPZmZzZXRZLCBuZXdQb3MsIHJlc2V0O1xyXG5cclxuICAgIHZhciBuZXdXaWR0aCA9IHNlbGYubmV3V2lkdGg7XHJcbiAgICB2YXIgbmV3SGVpZ2h0ID0gc2VsZi5uZXdIZWlnaHQ7XHJcblxyXG4gICAgaWYgKCFzZWxmLmNvbnRlbnRMYXN0UG9zKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBuZXdPZmZzZXRYID0gc2VsZi5jb250ZW50TGFzdFBvcy5sZWZ0O1xyXG4gICAgbmV3T2Zmc2V0WSA9IHNlbGYuY29udGVudExhc3RQb3MudG9wO1xyXG5cclxuICAgIHJlc2V0ID0ge1xyXG4gICAgICB0b3A6IG5ld09mZnNldFksXHJcbiAgICAgIGxlZnQ6IG5ld09mZnNldFgsXHJcbiAgICAgIHdpZHRoOiBuZXdXaWR0aCxcclxuICAgICAgaGVpZ2h0OiBuZXdIZWlnaHQsXHJcbiAgICAgIHNjYWxlWDogMSxcclxuICAgICAgc2NhbGVZOiAxXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlc2V0IHNjYWxleC9zY2FsZVkgdmFsdWVzOyB0aGlzIGhlbHBzIGZvciBwZXJmb21hbmNlIGFuZCBkb2VzIG5vdCBicmVhayBhbmltYXRpb25cclxuICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKHNlbGYuJGNvbnRlbnQsIHJlc2V0KTtcclxuXHJcbiAgICBpZiAobmV3V2lkdGggPCBzZWxmLmNhbnZhc1dpZHRoICYmIG5ld0hlaWdodCA8IHNlbGYuY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgIHNlbGYuaW5zdGFuY2Uuc2NhbGVUb0ZpdCgxNTApO1xyXG4gICAgfSBlbHNlIGlmIChuZXdXaWR0aCA+IGN1cnJlbnQud2lkdGggfHwgbmV3SGVpZ2h0ID4gY3VycmVudC5oZWlnaHQpIHtcclxuICAgICAgc2VsZi5pbnN0YW5jZS5zY2FsZVRvQWN0dWFsKHNlbGYuY2VudGVyUG9pbnRTdGFydFgsIHNlbGYuY2VudGVyUG9pbnRTdGFydFksIDE1MCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdQb3MgPSBzZWxmLmxpbWl0UG9zaXRpb24obmV3T2Zmc2V0WCwgbmV3T2Zmc2V0WSwgbmV3V2lkdGgsIG5ld0hlaWdodCk7XHJcblxyXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoc2VsZi4kY29udGVudCwgbmV3UG9zLCAxNTApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub25UYXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgIHZhciBpbnN0YW5jZSA9IHNlbGYuaW5zdGFuY2U7XHJcbiAgICB2YXIgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQ7XHJcblxyXG4gICAgdmFyIGVuZFBvaW50cyA9IChlICYmIGdldFBvaW50ZXJYWShlKSkgfHwgc2VsZi5zdGFydFBvaW50cztcclxuXHJcbiAgICB2YXIgdGFwWCA9IGVuZFBvaW50c1swXSA/IGVuZFBvaW50c1swXS54IC0gJCh3aW5kb3cpLnNjcm9sbExlZnQoKSAtIHNlbGYuc3RhZ2VQb3MubGVmdCA6IDA7XHJcbiAgICB2YXIgdGFwWSA9IGVuZFBvaW50c1swXSA/IGVuZFBvaW50c1swXS55IC0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpIC0gc2VsZi5zdGFnZVBvcy50b3AgOiAwO1xyXG5cclxuICAgIHZhciB3aGVyZTtcclxuXHJcbiAgICB2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uKHByZWZpeCkge1xyXG4gICAgICB2YXIgYWN0aW9uID0gY3VycmVudC5vcHRzW3ByZWZpeF07XHJcblxyXG4gICAgICBpZiAoJC5pc0Z1bmN0aW9uKGFjdGlvbikpIHtcclxuICAgICAgICBhY3Rpb24gPSBhY3Rpb24uYXBwbHkoaW5zdGFuY2UsIFtjdXJyZW50LCBlXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghYWN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgIGNhc2UgXCJjbG9zZVwiOlxyXG4gICAgICAgICAgaW5zdGFuY2UuY2xvc2Uoc2VsZi5zdGFydEV2ZW50KTtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInRvZ2dsZUNvbnRyb2xzXCI6XHJcbiAgICAgICAgICBpbnN0YW5jZS50b2dnbGVDb250cm9scygpO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwibmV4dFwiOlxyXG4gICAgICAgICAgaW5zdGFuY2UubmV4dCgpO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwibmV4dE9yQ2xvc2VcIjpcclxuICAgICAgICAgIGlmIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLm5leHQoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlKHNlbGYuc3RhcnRFdmVudCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ6b29tXCI6XHJcbiAgICAgICAgICBpZiAoY3VycmVudC50eXBlID09IFwiaW1hZ2VcIiAmJiAoY3VycmVudC5pc0xvYWRlZCB8fCBjdXJyZW50LiRnaG9zdCkpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmNhblBhbigpKSB7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc2NhbGVUb0ZpdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmlzU2NhbGVkRG93bigpKSB7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc2NhbGVUb0FjdHVhbCh0YXBYLCB0YXBZKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2Uoc2VsZi5zdGFydEV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIElnbm9yZSByaWdodCBjbGlja1xyXG4gICAgaWYgKGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQuYnV0dG9uID09IDIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNraXAgaWYgY2xpY2tlZCBvbiB0aGUgc2Nyb2xsYmFyXHJcbiAgICBpZiAoISR0YXJnZXQuaXMoXCJpbWdcIikgJiYgdGFwWCA+ICR0YXJnZXRbMF0uY2xpZW50V2lkdGggKyAkdGFyZ2V0Lm9mZnNldCgpLmxlZnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIHdoZXJlIGlzIGNsaWNrZWRcclxuICAgIGlmICgkdGFyZ2V0LmlzKFwiLmZhbmN5Ym94LWJnLC5mYW5jeWJveC1pbm5lciwuZmFuY3lib3gtb3V0ZXIsLmZhbmN5Ym94LWNvbnRhaW5lclwiKSkge1xyXG4gICAgICB3aGVyZSA9IFwiT3V0c2lkZVwiO1xyXG4gICAgfSBlbHNlIGlmICgkdGFyZ2V0LmlzKFwiLmZhbmN5Ym94LXNsaWRlXCIpKSB7XHJcbiAgICAgIHdoZXJlID0gXCJTbGlkZVwiO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgaW5zdGFuY2UuY3VycmVudC4kY29udGVudCAmJlxyXG4gICAgICBpbnN0YW5jZS5jdXJyZW50LiRjb250ZW50XHJcbiAgICAgICAgLmZpbmQoJHRhcmdldClcclxuICAgICAgICAuYWRkQmFjaygpXHJcbiAgICAgICAgLmZpbHRlcigkdGFyZ2V0KS5sZW5ndGhcclxuICAgICkge1xyXG4gICAgICB3aGVyZSA9IFwiQ29udGVudFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBkb3VibGUgdGFwXHJcbiAgICBpZiAoc2VsZi50YXBwZWQpIHtcclxuICAgICAgLy8gU3RvcCBwcmV2aW91c2x5IGNyZWF0ZWQgc2luZ2xlIHRhcFxyXG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi50YXBwZWQpO1xyXG4gICAgICBzZWxmLnRhcHBlZCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBTa2lwIGlmIGRpc3RhbmNlIGJldHdlZW4gdGFwcyBpcyB0b28gYmlnXHJcbiAgICAgIGlmIChNYXRoLmFicyh0YXBYIC0gc2VsZi50YXBYKSA+IDUwIHx8IE1hdGguYWJzKHRhcFkgLSBzZWxmLnRhcFkpID4gNTApIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT0ssIG5vdyB3ZSBhc3N1bWUgdGhhdCB0aGlzIGlzIGEgZG91YmxlLXRhcFxyXG4gICAgICBwcm9jZXNzKFwiZGJsY2xpY2tcIiArIHdoZXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNpbmdsZSB0YXAgd2lsbCBiZSBwcm9jZXNzZWQgaWYgdXNlciBoYXMgbm90IGNsaWNrZWQgc2Vjb25kIHRpbWUgd2l0aGluIDMwMG1zXHJcbiAgICAgIC8vIG9yIHRoZXJlIGlzIG5vIG5lZWQgdG8gd2FpdCBmb3IgZG91YmxlLXRhcFxyXG4gICAgICBzZWxmLnRhcFggPSB0YXBYO1xyXG4gICAgICBzZWxmLnRhcFkgPSB0YXBZO1xyXG5cclxuICAgICAgaWYgKGN1cnJlbnQub3B0c1tcImRibGNsaWNrXCIgKyB3aGVyZV0gJiYgY3VycmVudC5vcHRzW1wiZGJsY2xpY2tcIiArIHdoZXJlXSAhPT0gY3VycmVudC5vcHRzW1wiY2xpY2tcIiArIHdoZXJlXSkge1xyXG4gICAgICAgIHNlbGYudGFwcGVkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYudGFwcGVkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MoXCJjbGlja1wiICsgd2hlcmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJvY2VzcyhcImNsaWNrXCIgKyB3aGVyZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAkKGRvY3VtZW50KVxyXG4gICAgLm9uKFwib25BY3RpdmF0ZS5mYlwiLCBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xyXG4gICAgICBpZiAoaW5zdGFuY2UgJiYgIWluc3RhbmNlLkd1ZXN0dXJlcykge1xyXG4gICAgICAgIGluc3RhbmNlLkd1ZXN0dXJlcyA9IG5ldyBHdWVzdHVyZXMoaW5zdGFuY2UpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLm9uKFwiYmVmb3JlQ2xvc2UuZmJcIiwgZnVuY3Rpb24oZSwgaW5zdGFuY2UpIHtcclxuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLkd1ZXN0dXJlcykge1xyXG4gICAgICAgIGluc3RhbmNlLkd1ZXN0dXJlcy5kZXN0cm95KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KSh3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpO1xyXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIFNsaWRlU2hvd1xyXG4vLyBFbmFibGVzIHNsaWRlc2hvdyBmdW5jdGlvbmFsaXR5XHJcbi8vXHJcbi8vIEV4YW1wbGUgb2YgdXNhZ2U6XHJcbi8vICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKS5TbGlkZVNob3cuc3RhcnQoKVxyXG4vL1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4oZnVuY3Rpb24oZG9jdW1lbnQsICQpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgJC5leHRlbmQodHJ1ZSwgJC5mYW5jeWJveC5kZWZhdWx0cywge1xyXG4gICAgYnRuVHBsOiB7XHJcbiAgICAgIHNsaWRlU2hvdzpcclxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXBsYXkgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1wbGF5XCIgdGl0bGU9XCJ7e1BMQVlfU1RBUlR9fVwiPicgK1xyXG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk02LjUgNS40djEzLjJsMTEtNi42elwiLz48L3N2Zz4nICtcclxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNOC4zMyA1Ljc1aDIuMnYxMi41aC0yLjJWNS43NXptNS4xNSAwaDIuMnYxMi41aC0yLjJWNS43NXpcIi8+PC9zdmc+JyArXHJcbiAgICAgICAgXCI8L2J1dHRvbj5cIlxyXG4gICAgfSxcclxuICAgIHNsaWRlU2hvdzoge1xyXG4gICAgICBhdXRvU3RhcnQ6IGZhbHNlLFxyXG4gICAgICBzcGVlZDogMzAwMCxcclxuICAgICAgcHJvZ3Jlc3M6IHRydWVcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIFNsaWRlU2hvdyA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XHJcbiAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9O1xyXG5cclxuICAkLmV4dGVuZChTbGlkZVNob3cucHJvdG90eXBlLCB7XHJcbiAgICB0aW1lcjogbnVsbCxcclxuICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICRidXR0b246IG51bGwsXHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBpbnN0YW5jZSA9IHNlbGYuaW5zdGFuY2UsXHJcbiAgICAgICAgb3B0cyA9IGluc3RhbmNlLmdyb3VwW2luc3RhbmNlLmN1cnJJbmRleF0ub3B0cy5zbGlkZVNob3c7XHJcblxyXG4gICAgICBzZWxmLiRidXR0b24gPSBpbnN0YW5jZS4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1wbGF5XVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYudG9nZ2xlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGluc3RhbmNlLmdyb3VwLmxlbmd0aCA8IDIgfHwgIW9wdHMpIHtcclxuICAgICAgICBzZWxmLiRidXR0b24uaGlkZSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKG9wdHMucHJvZ3Jlc3MpIHtcclxuICAgICAgICBzZWxmLiRwcm9ncmVzcyA9ICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1wcm9ncmVzc1wiPjwvZGl2PicpLmFwcGVuZFRvKGluc3RhbmNlLiRyZWZzLmlubmVyKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzZXQ6IGZ1bmN0aW9uKGZvcmNlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBpbnN0YW5jZSA9IHNlbGYuaW5zdGFuY2UsXHJcbiAgICAgICAgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQ7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiByZWFjaGVkIGxhc3QgZWxlbWVudFxyXG4gICAgICBpZiAoY3VycmVudCAmJiAoZm9yY2UgPT09IHRydWUgfHwgY3VycmVudC5vcHRzLmxvb3AgfHwgaW5zdGFuY2UuY3VyckluZGV4IDwgaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICBpZiAoc2VsZi5pc0FjdGl2ZSAmJiBjdXJyZW50LmNvbnRlbnRUeXBlICE9PSBcInZpZGVvXCIpIHtcclxuICAgICAgICAgIGlmIChzZWxmLiRwcm9ncmVzcykge1xyXG4gICAgICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoc2VsZi4kcHJvZ3Jlc3Muc2hvdygpLCB7c2NhbGVYOiAxfSwgY3VycmVudC5vcHRzLnNsaWRlU2hvdy5zcGVlZCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2VsZi50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuY3VycmVudC5vcHRzLmxvb3AgJiYgaW5zdGFuY2UuY3VycmVudC5pbmRleCA9PSBpbnN0YW5jZS5ncm91cC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2UuanVtcFRvKDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGluc3RhbmNlLm5leHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgY3VycmVudC5vcHRzLnNsaWRlU2hvdy5zcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuc3RvcCgpO1xyXG4gICAgICAgIGluc3RhbmNlLmlkbGVTZWNvbmRzQ291bnRlciA9IDA7XHJcbiAgICAgICAgaW5zdGFuY2Uuc2hvd0NvbnRyb2xzKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lcik7XHJcblxyXG4gICAgICBzZWxmLnRpbWVyID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChzZWxmLiRwcm9ncmVzcykge1xyXG4gICAgICAgIHNlbGYuJHByb2dyZXNzLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgY3VycmVudCA9IHNlbGYuaW5zdGFuY2UuY3VycmVudDtcclxuXHJcbiAgICAgIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgc2VsZi4kYnV0dG9uXHJcbiAgICAgICAgICAuYXR0cihcInRpdGxlXCIsIChjdXJyZW50Lm9wdHMuaTE4bltjdXJyZW50Lm9wdHMubGFuZ10gfHwgY3VycmVudC5vcHRzLmkxOG4uZW4pLlBMQVlfU1RPUClcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGxheVwiKVxyXG4gICAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wYXVzZVwiKTtcclxuXHJcbiAgICAgICAgc2VsZi5pc0FjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChjdXJyZW50LmlzQ29tcGxldGUpIHtcclxuICAgICAgICAgIHNlbGYuc2V0KHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5pbnN0YW5jZS50cmlnZ2VyKFwib25TbGlkZVNob3dDaGFuZ2VcIiwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBjdXJyZW50ID0gc2VsZi5pbnN0YW5jZS5jdXJyZW50O1xyXG5cclxuICAgICAgc2VsZi5jbGVhcigpO1xyXG5cclxuICAgICAgc2VsZi4kYnV0dG9uXHJcbiAgICAgICAgLmF0dHIoXCJ0aXRsZVwiLCAoY3VycmVudC5vcHRzLmkxOG5bY3VycmVudC5vcHRzLmxhbmddIHx8IGN1cnJlbnQub3B0cy5pMThuLmVuKS5QTEFZX1NUQVJUKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGF1c2VcIilcclxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1idXR0b24tLXBsYXlcIik7XHJcblxyXG4gICAgICBzZWxmLmlzQWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICBzZWxmLmluc3RhbmNlLnRyaWdnZXIoXCJvblNsaWRlU2hvd0NoYW5nZVwiLCBmYWxzZSk7XHJcblxyXG4gICAgICBpZiAoc2VsZi4kcHJvZ3Jlc3MpIHtcclxuICAgICAgICBzZWxmLiRwcm9ncmVzcy5yZW1vdmVBdHRyKFwic3R5bGVcIikuaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmIChzZWxmLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgc2VsZi5zdG9wKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5zdGFydCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKHtcclxuICAgIFwib25Jbml0LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XHJcbiAgICAgIGlmIChpbnN0YW5jZSAmJiAhaW5zdGFuY2UuU2xpZGVTaG93KSB7XHJcbiAgICAgICAgaW5zdGFuY2UuU2xpZGVTaG93ID0gbmV3IFNsaWRlU2hvdyhpbnN0YW5jZSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgXCJiZWZvcmVTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBmaXJzdFJ1bikge1xyXG4gICAgICB2YXIgU2xpZGVTaG93ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuU2xpZGVTaG93O1xyXG5cclxuICAgICAgaWYgKGZpcnN0UnVuKSB7XHJcbiAgICAgICAgaWYgKFNsaWRlU2hvdyAmJiBjdXJyZW50Lm9wdHMuc2xpZGVTaG93LmF1dG9TdGFydCkge1xyXG4gICAgICAgICAgU2xpZGVTaG93LnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKFNsaWRlU2hvdyAmJiBTbGlkZVNob3cuaXNBY3RpdmUpIHtcclxuICAgICAgICBTbGlkZVNob3cuY2xlYXIoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBcImFmdGVyU2hvdy5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xyXG4gICAgICB2YXIgU2xpZGVTaG93ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuU2xpZGVTaG93O1xyXG5cclxuICAgICAgaWYgKFNsaWRlU2hvdyAmJiBTbGlkZVNob3cuaXNBY3RpdmUpIHtcclxuICAgICAgICBTbGlkZVNob3cuc2V0KCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgXCJhZnRlcktleWRvd24uZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGN1cnJlbnQsIGtleXByZXNzLCBrZXljb2RlKSB7XHJcbiAgICAgIHZhciBTbGlkZVNob3cgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5TbGlkZVNob3c7XHJcblxyXG4gICAgICAvLyBcIlBcIiBvciBTcGFjZWJhclxyXG4gICAgICBpZiAoU2xpZGVTaG93ICYmIGN1cnJlbnQub3B0cy5zbGlkZVNob3cgJiYgKGtleWNvZGUgPT09IDgwIHx8IGtleWNvZGUgPT09IDMyKSAmJiAhJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyhcImJ1dHRvbixhLGlucHV0XCIpKSB7XHJcbiAgICAgICAga2V5cHJlc3MucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgU2xpZGVTaG93LnRvZ2dsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIFwiYmVmb3JlQ2xvc2UuZmIgb25EZWFjdGl2YXRlLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XHJcbiAgICAgIHZhciBTbGlkZVNob3cgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5TbGlkZVNob3c7XHJcblxyXG4gICAgICBpZiAoU2xpZGVTaG93KSB7XHJcbiAgICAgICAgU2xpZGVTaG93LnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBQYWdlIFZpc2liaWxpdHkgQVBJIHRvIHBhdXNlIHNsaWRlc2hvdyB3aGVuIHdpbmRvdyBpcyBub3QgYWN0aXZlXHJcbiAgJChkb2N1bWVudCkub24oXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpLFxyXG4gICAgICBTbGlkZVNob3cgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5TbGlkZVNob3c7XHJcblxyXG4gICAgaWYgKFNsaWRlU2hvdyAmJiBTbGlkZVNob3cuaXNBY3RpdmUpIHtcclxuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgIFNsaWRlU2hvdy5jbGVhcigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIFNsaWRlU2hvdy5zZXQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59KShkb2N1bWVudCwgalF1ZXJ5KTtcclxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vLyBGdWxsU2NyZWVuXHJcbi8vIEFkZHMgZnVsbHNjcmVlbiBmdW5jdGlvbmFsaXR5XHJcbi8vXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbihmdW5jdGlvbihkb2N1bWVudCwgJCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAvLyBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgc3VwcG9ydGVkIGJ5IHVzZXIgYnJvd3NlclxyXG4gIHZhciBmbiA9IChmdW5jdGlvbigpIHtcclxuICAgIHZhciBmbk1hcCA9IFtcclxuICAgICAgW1wicmVxdWVzdEZ1bGxzY3JlZW5cIiwgXCJleGl0RnVsbHNjcmVlblwiLCBcImZ1bGxzY3JlZW5FbGVtZW50XCIsIFwiZnVsbHNjcmVlbkVuYWJsZWRcIiwgXCJmdWxsc2NyZWVuY2hhbmdlXCIsIFwiZnVsbHNjcmVlbmVycm9yXCJdLFxyXG4gICAgICAvLyBuZXcgV2ViS2l0XHJcbiAgICAgIFtcclxuICAgICAgICBcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXHJcbiAgICAgICAgXCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLFxyXG4gICAgICAgIFwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixcclxuICAgICAgICBcIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXCIsXHJcbiAgICAgICAgXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXHJcbiAgICAgICAgXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIlxyXG4gICAgICBdLFxyXG4gICAgICAvLyBvbGQgV2ViS2l0IChTYWZhcmkgNS4xKVxyXG4gICAgICBbXHJcbiAgICAgICAgXCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlblwiLFxyXG4gICAgICAgIFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFxyXG4gICAgICAgIFwid2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50XCIsXHJcbiAgICAgICAgXCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuXCIsXHJcbiAgICAgICAgXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXHJcbiAgICAgICAgXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIlxyXG4gICAgICBdLFxyXG4gICAgICBbXHJcbiAgICAgICAgXCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLFxyXG4gICAgICAgIFwibW96Q2FuY2VsRnVsbFNjcmVlblwiLFxyXG4gICAgICAgIFwibW96RnVsbFNjcmVlbkVsZW1lbnRcIixcclxuICAgICAgICBcIm1vekZ1bGxTY3JlZW5FbmFibGVkXCIsXHJcbiAgICAgICAgXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsXHJcbiAgICAgICAgXCJtb3pmdWxsc2NyZWVuZXJyb3JcIlxyXG4gICAgICBdLFxyXG4gICAgICBbXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsIFwibXNFeGl0RnVsbHNjcmVlblwiLCBcIm1zRnVsbHNjcmVlbkVsZW1lbnRcIiwgXCJtc0Z1bGxzY3JlZW5FbmFibGVkXCIsIFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsIFwiTVNGdWxsc2NyZWVuRXJyb3JcIl1cclxuICAgIF07XHJcblxyXG4gICAgdmFyIHJldCA9IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5NYXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHZhbCA9IGZuTWFwW2ldO1xyXG5cclxuICAgICAgaWYgKHZhbCAmJiB2YWxbMV0gaW4gZG9jdW1lbnQpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgcmV0W2ZuTWFwWzBdW2pdXSA9IHZhbFtqXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSkoKTtcclxuXHJcbiAgaWYgKGZuKSB7XHJcbiAgICB2YXIgRnVsbFNjcmVlbiA9IHtcclxuICAgICAgcmVxdWVzdDogZnVuY3Rpb24oZWxlbSkge1xyXG4gICAgICAgIGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgZWxlbVtmbi5yZXF1ZXN0RnVsbHNjcmVlbl0oZWxlbS5BTExPV19LRVlCT0FSRF9JTlBVVCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGV4aXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50W2ZuLmV4aXRGdWxsc2NyZWVuXSgpO1xyXG4gICAgICB9LFxyXG4gICAgICB0b2dnbGU6IGZ1bmN0aW9uKGVsZW0pIHtcclxuICAgICAgICBlbGVtID0gZWxlbSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICB0aGlzLmV4aXQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5yZXF1ZXN0KGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgaXNGdWxsc2NyZWVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF0pO1xyXG4gICAgICB9LFxyXG4gICAgICBlbmFibGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRW5hYmxlZF0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZXh0ZW5kKHRydWUsICQuZmFuY3lib3guZGVmYXVsdHMsIHtcclxuICAgICAgYnRuVHBsOiB7XHJcbiAgICAgICAgZnVsbFNjcmVlbjpcclxuICAgICAgICAgICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtZnVsbHNjcmVlbiBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWZzZW50ZXJcIiB0aXRsZT1cInt7RlVMTF9TQ1JFRU59fVwiPicgK1xyXG4gICAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTcgMTRINXY1aDV2LTJIN3YtM3ptLTItNGgyVjdoM1Y1SDV2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTQgNXYyaDN2M2gyVjVoLTV6XCIvPjwvc3ZnPicgK1xyXG4gICAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTUgMTZoM3YzaDJ2LTVINXptMy04SDV2Mmg1VjVIOHptNiAxMWgydi0zaDN2LTJoLTV6bTItMTFWNWgtMnY1aDVWOHpcIi8+PC9zdmc+JyArXHJcbiAgICAgICAgICBcIjwvYnV0dG9uPlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bGxTY3JlZW46IHtcclxuICAgICAgICBhdXRvU3RhcnQ6IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKGZuLmZ1bGxzY3JlZW5jaGFuZ2UsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgaXNGdWxsc2NyZWVuID0gRnVsbFNjcmVlbi5pc0Z1bGxzY3JlZW4oKSxcclxuICAgICAgICBpbnN0YW5jZSA9ICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIC8vIElmIGltYWdlIGlzIHpvb21pbmcsIHRoZW4gZm9yY2UgdG8gc3RvcCBhbmQgcmVwb3NpdGlvbiBwcm9wZXJseVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5jdXJyZW50ICYmIGluc3RhbmNlLmN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiICYmIGluc3RhbmNlLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICBpbnN0YW5jZS5jdXJyZW50LiRjb250ZW50LmNzcyhcInRyYW5zaXRpb25cIiwgXCJub25lXCIpO1xyXG5cclxuICAgICAgICAgIGluc3RhbmNlLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgaW5zdGFuY2UudXBkYXRlKHRydWUsIHRydWUsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFuY2UudHJpZ2dlcihcIm9uRnVsbHNjcmVlbkNoYW5nZVwiLCBpc0Z1bGxzY3JlZW4pO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS4kcmVmcy5jb250YWluZXIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1pcy1mdWxsc2NyZWVuXCIsIGlzRnVsbHNjcmVlbik7XHJcblxyXG4gICAgICAgIGluc3RhbmNlLiRyZWZzLnRvb2xiYXJcclxuICAgICAgICAgIC5maW5kKFwiW2RhdGEtZmFuY3lib3gtZnVsbHNjcmVlbl1cIilcclxuICAgICAgICAgIC50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tZnNlbnRlclwiLCAhaXNGdWxsc2NyZWVuKVxyXG4gICAgICAgICAgLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1mc2V4aXRcIiwgaXNGdWxsc2NyZWVuKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAkKGRvY3VtZW50KS5vbih7XHJcbiAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xyXG4gICAgICB2YXIgJGNvbnRhaW5lcjtcclxuXHJcbiAgICAgIGlmICghZm4pIHtcclxuICAgICAgICBpbnN0YW5jZS4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZ3JvdXBbaW5zdGFuY2UuY3VyckluZGV4XS5vcHRzLmZ1bGxTY3JlZW4pIHtcclxuICAgICAgICAkY29udGFpbmVyID0gaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyO1xyXG5cclxuICAgICAgICAkY29udGFpbmVyLm9uKFwiY2xpY2suZmItZnVsbHNjcmVlblwiLCBcIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgRnVsbFNjcmVlbi50b2dnbGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLm9wdHMuZnVsbFNjcmVlbiAmJiBpbnN0YW5jZS5vcHRzLmZ1bGxTY3JlZW4uYXV0b1N0YXJ0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBGdWxsU2NyZWVuLnJlcXVlc3QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEV4cG9zZSBBUElcclxuICAgICAgICBpbnN0YW5jZS5GdWxsU2NyZWVuID0gRnVsbFNjcmVlbjtcclxuICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGluc3RhbmNlLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dXCIpLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBcImFmdGVyS2V5ZG93bi5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCwga2V5cHJlc3MsIGtleWNvZGUpIHtcclxuICAgICAgLy8gXCJGXCJcclxuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLkZ1bGxTY3JlZW4gJiYga2V5Y29kZSA9PT0gNzApIHtcclxuICAgICAgICBrZXlwcmVzcy5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5GdWxsU2NyZWVuLnRvZ2dsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIFwiYmVmb3JlQ2xvc2UuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UpIHtcclxuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLkZ1bGxTY3JlZW4gJiYgaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyLmhhc0NsYXNzKFwiZmFuY3lib3gtaXMtZnVsbHNjcmVlblwiKSkge1xyXG4gICAgICAgIEZ1bGxTY3JlZW4uZXhpdCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pKGRvY3VtZW50LCBqUXVlcnkpO1xyXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIFRodW1ic1xyXG4vLyBEaXNwbGF5cyB0aHVtYm5haWxzIGluIGEgZ3JpZFxyXG4vL1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4oZnVuY3Rpb24oZG9jdW1lbnQsICQpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgdmFyIENMQVNTID0gXCJmYW5jeWJveC10aHVtYnNcIixcclxuICAgIENMQVNTX0FDVElWRSA9IENMQVNTICsgXCItYWN0aXZlXCI7XHJcblxyXG4gIC8vIE1ha2Ugc3VyZSB0aGVyZSBhcmUgZGVmYXVsdCB2YWx1ZXNcclxuICAkLmZhbmN5Ym94LmRlZmF1bHRzID0gJC5leHRlbmQoXHJcbiAgICB0cnVlLFxyXG4gICAge1xyXG4gICAgICBidG5UcGw6IHtcclxuICAgICAgICB0aHVtYnM6XHJcbiAgICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXRodW1icyBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXRodW1ic1wiIHRpdGxlPVwie3tUSFVNQlN9fVwiPicgK1xyXG4gICAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTE0LjU5IDE0LjU5aDMuNzZ2My43NmgtMy43NnYtMy43NnptLTQuNDcgMGgzLjc2djMuNzZoLTMuNzZ2LTMuNzZ6bS00LjQ3IDBoMy43NnYzLjc2SDUuNjV2LTMuNzZ6bTguOTQtNC40N2gzLjc2djMuNzZoLTMuNzZ2LTMuNzZ6bS00LjQ3IDBoMy43NnYzLjc2aC0zLjc2di0zLjc2em0tNC40NyAwaDMuNzZ2My43Nkg1LjY1di0zLjc2em04Ljk0LTQuNDdoMy43NnYzLjc2aC0zLjc2VjUuNjV6bS00LjQ3IDBoMy43NnYzLjc2aC0zLjc2VjUuNjV6bS00LjQ3IDBoMy43NnYzLjc2SDUuNjVWNS42NXpcIi8+PC9zdmc+JyArXHJcbiAgICAgICAgICBcIjwvYnV0dG9uPlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHRodW1iczoge1xyXG4gICAgICAgIGF1dG9TdGFydDogZmFsc2UsIC8vIERpc3BsYXkgdGh1bWJuYWlscyBvbiBvcGVuaW5nXHJcbiAgICAgICAgaGlkZU9uQ2xvc2U6IHRydWUsIC8vIEhpZGUgdGh1bWJuYWlsIGdyaWQgd2hlbiBjbG9zaW5nIGFuaW1hdGlvbiBzdGFydHNcclxuICAgICAgICBwYXJlbnRFbDogXCIuZmFuY3lib3gtY29udGFpbmVyXCIsIC8vIENvbnRhaW5lciBpcyBpbmplY3RlZCBpbnRvIHRoaXMgZWxlbWVudFxyXG4gICAgICAgIGF4aXM6IFwieVwiIC8vIFZlcnRpY2FsICh5KSBvciBob3Jpem9udGFsICh4KSBzY3JvbGxpbmdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICQuZmFuY3lib3guZGVmYXVsdHNcclxuICApO1xyXG5cclxuICB2YXIgRmFuY3lUaHVtYnMgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xyXG4gICAgdGhpcy5pbml0KGluc3RhbmNlKTtcclxuICB9O1xyXG5cclxuICAkLmV4dGVuZChGYW5jeVRodW1icy5wcm90b3R5cGUsIHtcclxuICAgICRidXR0b246IG51bGwsXHJcbiAgICAkZ3JpZDogbnVsbCxcclxuICAgICRsaXN0OiBudWxsLFxyXG4gICAgaXNWaXNpYmxlOiBmYWxzZSxcclxuICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbihpbnN0YW5jZSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgZ3JvdXAgPSBpbnN0YW5jZS5ncm91cCxcclxuICAgICAgICBlbmFibGVkID0gMDtcclxuXHJcbiAgICAgIHNlbGYuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgc2VsZi5vcHRzID0gZ3JvdXBbaW5zdGFuY2UuY3VyckluZGV4XS5vcHRzLnRodW1icztcclxuXHJcbiAgICAgIGluc3RhbmNlLlRodW1icyA9IHNlbGY7XHJcblxyXG4gICAgICBzZWxmLiRidXR0b24gPSBpbnN0YW5jZS4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC10aHVtYnNdXCIpO1xyXG5cclxuICAgICAgLy8gRW5hYmxlIHRodW1icyBpZiBhdCBsZWFzdCB0d28gZ3JvdXAgaXRlbXMgaGF2ZSB0aHVtYm5haWxzXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBncm91cC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChncm91cFtpXS50aHVtYikge1xyXG4gICAgICAgICAgZW5hYmxlZCsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVuYWJsZWQgPiAxKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChlbmFibGVkID4gMSAmJiAhIXNlbGYub3B0cykge1xyXG4gICAgICAgIHNlbGYuJGJ1dHRvbi5yZW1vdmVBdHRyKFwic3R5bGVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYudG9nZ2xlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNlbGYuaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuJGJ1dHRvbi5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGluc3RhbmNlID0gc2VsZi5pbnN0YW5jZSxcclxuICAgICAgICBwYXJlbnRFbCA9IHNlbGYub3B0cy5wYXJlbnRFbCxcclxuICAgICAgICBsaXN0ID0gW10sXHJcbiAgICAgICAgc3JjO1xyXG5cclxuICAgICAgaWYgKCFzZWxmLiRncmlkKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIG1haW4gZWxlbWVudFxyXG4gICAgICAgIHNlbGYuJGdyaWQgPSAkKCc8ZGl2IGNsYXNzPVwiJyArIENMQVNTICsgXCIgXCIgKyBDTEFTUyArIFwiLVwiICsgc2VsZi5vcHRzLmF4aXMgKyAnXCI+PC9kaXY+JykuYXBwZW5kVG8oXHJcbiAgICAgICAgICBpbnN0YW5jZS4kcmVmcy5jb250YWluZXJcclxuICAgICAgICAgICAgLmZpbmQocGFyZW50RWwpXHJcbiAgICAgICAgICAgIC5hZGRCYWNrKClcclxuICAgICAgICAgICAgLmZpbHRlcihwYXJlbnRFbClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBBZGQgXCJjbGlja1wiIGV2ZW50IHRoYXQgcGVyZm9ybXMgZ2FsbGVyeSBuYXZpZ2F0aW9uXHJcbiAgICAgICAgc2VsZi4kZ3JpZC5vbihcImNsaWNrXCIsIFwiYVwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGluc3RhbmNlLmp1bXBUbygkKHRoaXMpLmF0dHIoXCJkYXRhLWluZGV4XCIpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQnVpbGQgdGhlIGxpc3RcclxuICAgICAgaWYgKCFzZWxmLiRsaXN0KSB7XHJcbiAgICAgICAgc2VsZi4kbGlzdCA9ICQoJzxkaXYgY2xhc3M9XCInICsgQ0xBU1MgKyAnX19saXN0XCI+JykuYXBwZW5kVG8oc2VsZi4kZ3JpZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICQuZWFjaChpbnN0YW5jZS5ncm91cCwgZnVuY3Rpb24oaSwgaXRlbSkge1xyXG4gICAgICAgIHNyYyA9IGl0ZW0udGh1bWI7XHJcblxyXG4gICAgICAgIGlmICghc3JjICYmIGl0ZW0udHlwZSA9PT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgICBzcmMgPSBpdGVtLnNyYztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpc3QucHVzaChcclxuICAgICAgICAgICc8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgdGFiaW5kZXg9XCIwXCIgZGF0YS1pbmRleD1cIicgK1xyXG4gICAgICAgICAgICBpICtcclxuICAgICAgICAgICAgJ1wiJyArXHJcbiAgICAgICAgICAgIChzcmMgJiYgc3JjLmxlbmd0aCA/ICcgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgc3JjICsgJylcIicgOiAnY2xhc3M9XCJmYW5jeWJveC10aHVtYnMtbWlzc2luZ1wiJykgK1xyXG4gICAgICAgICAgICBcIj48L2E+XCJcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNlbGYuJGxpc3RbMF0uaW5uZXJIVE1MID0gbGlzdC5qb2luKFwiXCIpO1xyXG5cclxuICAgICAgaWYgKHNlbGYub3B0cy5heGlzID09PSBcInhcIikge1xyXG4gICAgICAgIC8vIFNldCBmaXhlZCB3aWR0aCBmb3IgbGlzdCBlbGVtZW50IHRvIGVuYWJsZSBob3Jpem9udGFsIHNjcm9sbGluZ1xyXG4gICAgICAgIHNlbGYuJGxpc3Qud2lkdGgoXHJcbiAgICAgICAgICBwYXJzZUludChzZWxmLiRncmlkLmNzcyhcInBhZGRpbmctcmlnaHRcIiksIDEwKSArXHJcbiAgICAgICAgICAgIGluc3RhbmNlLmdyb3VwLmxlbmd0aCAqXHJcbiAgICAgICAgICAgICAgc2VsZi4kbGlzdFxyXG4gICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAgICAgICAgIC5lcSgwKVxyXG4gICAgICAgICAgICAgICAgLm91dGVyV2lkdGgodHJ1ZSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGZvY3VzOiBmdW5jdGlvbihkdXJhdGlvbikge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgJGxpc3QgPSBzZWxmLiRsaXN0LFxyXG4gICAgICAgICRncmlkID0gc2VsZi4kZ3JpZCxcclxuICAgICAgICB0aHVtYixcclxuICAgICAgICB0aHVtYlBvcztcclxuXHJcbiAgICAgIGlmICghc2VsZi5pbnN0YW5jZS5jdXJyZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aHVtYiA9ICRsaXN0XHJcbiAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoQ0xBU1NfQUNUSVZFKVxyXG4gICAgICAgIC5maWx0ZXIoJ1tkYXRhLWluZGV4PVwiJyArIHNlbGYuaW5zdGFuY2UuY3VycmVudC5pbmRleCArICdcIl0nKVxyXG4gICAgICAgIC5hZGRDbGFzcyhDTEFTU19BQ1RJVkUpO1xyXG5cclxuICAgICAgdGh1bWJQb3MgPSB0aHVtYi5wb3NpdGlvbigpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgbmVlZCB0byBzY3JvbGwgdG8gbWFrZSBjdXJyZW50IHRodW1iIHZpc2libGVcclxuICAgICAgaWYgKHNlbGYub3B0cy5heGlzID09PSBcInlcIiAmJiAodGh1bWJQb3MudG9wIDwgMCB8fCB0aHVtYlBvcy50b3AgPiAkbGlzdC5oZWlnaHQoKSAtIHRodW1iLm91dGVySGVpZ2h0KCkpKSB7XHJcbiAgICAgICAgJGxpc3Quc3RvcCgpLmFuaW1hdGUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJGxpc3Quc2Nyb2xsVG9wKCkgKyB0aHVtYlBvcy50b3BcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkdXJhdGlvblxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgc2VsZi5vcHRzLmF4aXMgPT09IFwieFwiICYmXHJcbiAgICAgICAgKHRodW1iUG9zLmxlZnQgPCAkZ3JpZC5zY3JvbGxMZWZ0KCkgfHwgdGh1bWJQb3MubGVmdCA+ICRncmlkLnNjcm9sbExlZnQoKSArICgkZ3JpZC53aWR0aCgpIC0gdGh1bWIub3V0ZXJXaWR0aCgpKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgJGxpc3RcclxuICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgLnN0b3AoKVxyXG4gICAgICAgICAgLmFuaW1hdGUoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBzY3JvbGxMZWZ0OiB0aHVtYlBvcy5sZWZ0XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uXHJcbiAgICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgdGhhdC5pbnN0YW5jZS4kcmVmcy5jb250YWluZXIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LXRodW1ic1wiLCB0aGlzLmlzVmlzaWJsZSk7XHJcblxyXG4gICAgICBpZiAodGhhdC5pc1Zpc2libGUpIHtcclxuICAgICAgICBpZiAoIXRoYXQuJGdyaWQpIHtcclxuICAgICAgICAgIHRoYXQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0Lmluc3RhbmNlLnRyaWdnZXIoXCJvblRodW1ic1Nob3dcIik7XHJcblxyXG4gICAgICAgIHRoYXQuZm9jdXMoMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhhdC4kZ3JpZCkge1xyXG4gICAgICAgIHRoYXQuaW5zdGFuY2UudHJpZ2dlcihcIm9uVGh1bWJzSGlkZVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBkYXRlIGNvbnRlbnQgcG9zaXRpb25cclxuICAgICAgdGhhdC5pbnN0YW5jZS51cGRhdGUoKTtcclxuICAgIH0sXHJcblxyXG4gICAgaGlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuaXNWaXNpYmxlID0gIXRoaXMuaXNWaXNpYmxlO1xyXG4gICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbih7XHJcbiAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xyXG4gICAgICB2YXIgVGh1bWJzO1xyXG5cclxuICAgICAgaWYgKGluc3RhbmNlICYmICFpbnN0YW5jZS5UaHVtYnMpIHtcclxuICAgICAgICBUaHVtYnMgPSBuZXcgRmFuY3lUaHVtYnMoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICBpZiAoVGh1bWJzLmlzQWN0aXZlICYmIFRodW1icy5vcHRzLmF1dG9TdGFydCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgVGh1bWJzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgXCJiZWZvcmVTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBpdGVtLCBmaXJzdFJ1bikge1xyXG4gICAgICB2YXIgVGh1bWJzID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuVGh1bWJzO1xyXG5cclxuICAgICAgaWYgKFRodW1icyAmJiBUaHVtYnMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgVGh1bWJzLmZvY3VzKGZpcnN0UnVuID8gMCA6IDI1MCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgXCJhZnRlcktleWRvd24uZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGN1cnJlbnQsIGtleXByZXNzLCBrZXljb2RlKSB7XHJcbiAgICAgIHZhciBUaHVtYnMgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5UaHVtYnM7XHJcblxyXG4gICAgICAvLyBcIkdcIlxyXG4gICAgICBpZiAoVGh1bWJzICYmIFRodW1icy5pc0FjdGl2ZSAmJiBrZXljb2RlID09PSA3MSkge1xyXG4gICAgICAgIGtleXByZXNzLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIFRodW1icy50b2dnbGUoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBcImJlZm9yZUNsb3NlLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XHJcbiAgICAgIHZhciBUaHVtYnMgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5UaHVtYnM7XHJcblxyXG4gICAgICBpZiAoVGh1bWJzICYmIFRodW1icy5pc1Zpc2libGUgJiYgVGh1bWJzLm9wdHMuaGlkZU9uQ2xvc2UgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgVGh1bWJzLiRncmlkLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59KShkb2N1bWVudCwgalF1ZXJ5KTtcclxuXG4vLy8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIFNoYXJlXHJcbi8vIERpc3BsYXlzIHNpbXBsZSBmb3JtIGZvciBzaGFyaW5nIGN1cnJlbnQgdXJsXHJcbi8vXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbihmdW5jdGlvbihkb2N1bWVudCwgJCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAkLmV4dGVuZCh0cnVlLCAkLmZhbmN5Ym94LmRlZmF1bHRzLCB7XHJcbiAgICBidG5UcGw6IHtcclxuICAgICAgc2hhcmU6XHJcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1zaGFyZSBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXNoYXJlXCIgdGl0bGU9XCJ7e1NIQVJFfX1cIj4nICtcclxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMi41NSAxOWMxLjQtOC40IDkuMS05LjggMTEuOS05LjhWNWw3IDctNyA2LjN2LTMuNWMtMi44IDAtMTAuNSAyLjEtMTEuOSA0LjJ6XCIvPjwvc3ZnPicgK1xyXG4gICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgIH0sXHJcbiAgICBzaGFyZToge1xyXG4gICAgICB1cmw6IGZ1bmN0aW9uKGluc3RhbmNlLCBpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICghaW5zdGFuY2UuY3VycmVudEhhc2ggJiYgIShpdGVtLnR5cGUgPT09IFwiaW5saW5lXCIgfHwgaXRlbS50eXBlID09PSBcImh0bWxcIikgPyBpdGVtLm9yaWdTcmMgfHwgaXRlbS5zcmMgOiBmYWxzZSkgfHwgd2luZG93LmxvY2F0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgICAgdHBsOlxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtc2hhcmVcIj4nICtcclxuICAgICAgICBcIjxoMT57e1NIQVJFfX08L2gxPlwiICtcclxuICAgICAgICBcIjxwPlwiICtcclxuICAgICAgICAnPGEgY2xhc3M9XCJmYW5jeWJveC1zaGFyZV9fYnV0dG9uIGZhbmN5Ym94LXNoYXJlX19idXR0b24tLWZiXCIgaHJlZj1cImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PXt7dXJsfX1cIj4nICtcclxuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIm0yODcgNDU2di0yOTljMC0yMSA2LTM1IDM1LTM1aDM4di02M2MtNy0xLTI5LTMtNTUtMy01NCAwLTkxIDMzLTkxIDk0djMwNm0xNDMtMjU0aC0yMDV2NzJoMTk2XCIgLz48L3N2Zz4nICtcclxuICAgICAgICBcIjxzcGFuPkZhY2Vib29rPC9zcGFuPlwiICtcclxuICAgICAgICBcIjwvYT5cIiArXHJcbiAgICAgICAgJzxhIGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2J1dHRvbiBmYW5jeWJveC1zaGFyZV9fYnV0dG9uLS10d1wiIGhyZWY9XCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD91cmw9e3t1cmx9fSZ0ZXh0PXt7ZGVzY3J9fVwiPicgK1xyXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTQ1NiAxMzNjLTE0IDctMzEgMTEtNDcgMTMgMTctMTAgMzAtMjcgMzctNDYtMTUgMTAtMzQgMTYtNTIgMjAtNjEtNjItMTU3LTctMTQxIDc1LTY4LTMtMTI5LTM1LTE2OS04NS0yMiAzNy0xMSA4NiAyNiAxMDktMTMgMC0yNi00LTM3LTkgMCAzOSAyOCA3MiA2NSA4MC0xMiAzLTI1IDQtMzcgMiAxMCAzMyA0MSA1NyA3NyA1Ny00MiAzMC03NyAzOC0xMjIgMzQgMTcwIDExMSAzNzgtMzIgMzU5LTIwOCAxNi0xMSAzMC0yNSA0MS00MnpcIiAvPjwvc3ZnPicgK1xyXG4gICAgICAgIFwiPHNwYW4+VHdpdHRlcjwvc3Bhbj5cIiArXHJcbiAgICAgICAgXCI8L2E+XCIgK1xyXG4gICAgICAgICc8YSBjbGFzcz1cImZhbmN5Ym94LXNoYXJlX19idXR0b24gZmFuY3lib3gtc2hhcmVfX2J1dHRvbi0tcHRcIiBocmVmPVwiaHR0cHM6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPXt7dXJsfX0mZGVzY3JpcHRpb249e3tkZXNjcn19Jm1lZGlhPXt7bWVkaWF9fVwiPicgK1xyXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTI2NSA1NmMtMTA5IDAtMTY0IDc4LTE2NCAxNDQgMCAzOSAxNSA3NCA0NyA4NyA1IDIgMTAgMCAxMi01bDQtMTljMi02IDEtOC0zLTEzLTktMTEtMTUtMjUtMTUtNDUgMC01OCA0My0xMTAgMTEzLTExMCA2MiAwIDk2IDM4IDk2IDg4IDAgNjctMzAgMTIyLTczIDEyMi0yNCAwLTQyLTE5LTM2LTQ0IDYtMjkgMjAtNjAgMjAtODEgMC0xOS0xMC0zNS0zMS0zNS0yNSAwLTQ0IDI2LTQ0IDYwIDAgMjEgNyAzNiA3IDM2bC0zMCAxMjVjLTggMzctMSA4MyAwIDg3IDAgMyA0IDQgNSAyIDItMyAzMi0zOSA0Mi03NWwxNi02NGM4IDE2IDMxIDI5IDU2IDI5IDc0IDAgMTI0LTY3IDEyNC0xNTcgMC02OS01OC0xMzItMTQ2LTEzMnpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz4nICtcclxuICAgICAgICBcIjxzcGFuPlBpbnRlcmVzdDwvc3Bhbj5cIiArXHJcbiAgICAgICAgXCI8L2E+XCIgK1xyXG4gICAgICAgIFwiPC9wPlwiICtcclxuICAgICAgICAnPHA+PGlucHV0IGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2lucHV0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cInt7dXJsX3Jhd319XCIgb25jbGljaz1cInNlbGVjdCgpXCIgLz48L3A+JyArXHJcbiAgICAgICAgXCI8L2Rpdj5cIlxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xyXG4gICAgdmFyIGVudGl0eU1hcCA9IHtcclxuICAgICAgXCImXCI6IFwiJmFtcDtcIixcclxuICAgICAgXCI8XCI6IFwiJmx0O1wiLFxyXG4gICAgICBcIj5cIjogXCImZ3Q7XCIsXHJcbiAgICAgICdcIic6IFwiJnF1b3Q7XCIsXHJcbiAgICAgIFwiJ1wiOiBcIiYjMzk7XCIsXHJcbiAgICAgIFwiL1wiOiBcIiYjeDJGO1wiLFxyXG4gICAgICBcImBcIjogXCImI3g2MDtcIixcclxuICAgICAgXCI9XCI6IFwiJiN4M0Q7XCJcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UoL1smPD5cIidgPVxcL10vZywgZnVuY3Rpb24ocykge1xyXG4gICAgICByZXR1cm4gZW50aXR5TWFwW3NdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiW2RhdGEtZmFuY3lib3gtc2hhcmVdXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpLFxyXG4gICAgICBjdXJyZW50ID0gaW5zdGFuY2UuY3VycmVudCB8fCBudWxsLFxyXG4gICAgICB1cmwsXHJcbiAgICAgIHRwbDtcclxuXHJcbiAgICBpZiAoIWN1cnJlbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkLnR5cGUoY3VycmVudC5vcHRzLnNoYXJlLnVybCkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICB1cmwgPSBjdXJyZW50Lm9wdHMuc2hhcmUudXJsLmFwcGx5KGN1cnJlbnQsIFtpbnN0YW5jZSwgY3VycmVudF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRwbCA9IGN1cnJlbnQub3B0cy5zaGFyZS50cGxcclxuICAgICAgLnJlcGxhY2UoL1xce1xce21lZGlhXFx9XFx9L2csIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gZW5jb2RlVVJJQ29tcG9uZW50KGN1cnJlbnQuc3JjKSA6IFwiXCIpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHtcXHt1cmxcXH1cXH0vZywgZW5jb2RlVVJJQ29tcG9uZW50KHVybCkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHtcXHt1cmxfcmF3XFx9XFx9L2csIGVzY2FwZUh0bWwodXJsKSlcclxuICAgICAgLnJlcGxhY2UoL1xce1xce2Rlc2NyXFx9XFx9L2csIGluc3RhbmNlLiRjYXB0aW9uID8gZW5jb2RlVVJJQ29tcG9uZW50KGluc3RhbmNlLiRjYXB0aW9uLnRleHQoKSkgOiBcIlwiKTtcclxuXHJcbiAgICAkLmZhbmN5Ym94Lm9wZW4oe1xyXG4gICAgICBzcmM6IGluc3RhbmNlLnRyYW5zbGF0ZShpbnN0YW5jZSwgdHBsKSxcclxuICAgICAgdHlwZTogXCJodG1sXCIsXHJcbiAgICAgIG9wdHM6IHtcclxuICAgICAgICB0b3VjaDogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9uRWZmZWN0OiBmYWxzZSxcclxuICAgICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKHNoYXJlSW5zdGFuY2UsIHNoYXJlQ3VycmVudCkge1xyXG4gICAgICAgICAgLy8gQ2xvc2Ugc2VsZiBpZiBwYXJlbnQgaW5zdGFuY2UgaXMgY2xvc2luZ1xyXG4gICAgICAgICAgaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyLm9uZShcImJlZm9yZUNsb3NlLmZiXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzaGFyZUluc3RhbmNlLmNsb3NlKG51bGwsIDApO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy8gT3BlbmluZyBsaW5rcyBpbiBhIHBvcHVwIHdpbmRvd1xyXG4gICAgICAgICAgc2hhcmVDdXJyZW50LiRjb250ZW50LmZpbmQoXCIuZmFuY3lib3gtc2hhcmVfX2J1dHRvblwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4odGhpcy5ocmVmLCBcIlNoYXJlXCIsIFwid2lkdGg9NTUwLCBoZWlnaHQ9NDUwXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vYmlsZToge1xyXG4gICAgICAgICAgYXV0b0ZvY3VzOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pKGRvY3VtZW50LCBqUXVlcnkpO1xyXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIEhhc2hcclxuLy8gRW5hYmxlcyBsaW5raW5nIHRvIGVhY2ggbW9kYWxcclxuLy9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsICQpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgLy8gU2ltcGxlICQuZXNjYXBlU2VsZWN0b3IgcG9seWZpbGwgKGZvciBqUXVlcnkgcHJpb3IgdjMpXHJcbiAgaWYgKCEkLmVzY2FwZVNlbGVjdG9yKSB7XHJcbiAgICAkLmVzY2FwZVNlbGVjdG9yID0gZnVuY3Rpb24oc2VsKSB7XHJcbiAgICAgIHZhciByY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2c7XHJcbiAgICAgIHZhciBmY3NzZXNjYXBlID0gZnVuY3Rpb24oY2gsIGFzQ29kZVBvaW50KSB7XHJcbiAgICAgICAgaWYgKGFzQ29kZVBvaW50KSB7XHJcbiAgICAgICAgICAvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcclxuICAgICAgICAgIGlmIChjaCA9PT0gXCJcXDBcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcXHVGRkZEXCI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcclxuICAgICAgICAgIHJldHVybiBjaC5zbGljZSgwLCAtMSkgKyBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoY2gubGVuZ3RoIC0gMSkudG9TdHJpbmcoMTYpICsgXCIgXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXHJcbiAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgY2g7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UocmNzc2VzY2FwZSwgZmNzc2VzY2FwZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IGluZm8gYWJvdXQgZ2FsbGVyeSBuYW1lIGFuZCBjdXJyZW50IGluZGV4IGZyb20gdXJsXHJcbiAgZnVuY3Rpb24gcGFyc2VVcmwoKSB7XHJcbiAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKSxcclxuICAgICAgcmV6ID0gaGFzaC5zcGxpdChcIi1cIiksXHJcbiAgICAgIGluZGV4ID0gcmV6Lmxlbmd0aCA+IDEgJiYgL15cXCs/XFxkKyQvLnRlc3QocmV6W3Jlei5sZW5ndGggLSAxXSkgPyBwYXJzZUludChyZXoucG9wKC0xKSwgMTApIHx8IDEgOiAxLFxyXG4gICAgICBnYWxsZXJ5ID0gcmV6LmpvaW4oXCItXCIpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhhc2g6IGhhc2gsXHJcbiAgICAgIC8qIEluZGV4IGlzIHN0YXJ0aW5nIGZyb20gMSAqL1xyXG4gICAgICBpbmRleDogaW5kZXggPCAxID8gMSA6IGluZGV4LFxyXG4gICAgICBnYWxsZXJ5OiBnYWxsZXJ5XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVHJpZ2dlciBjbGljayBldm50IG9uIGxpbmtzIHRvIG9wZW4gbmV3IGZhbmN5Qm94IGluc3RhbmNlXHJcbiAgZnVuY3Rpb24gdHJpZ2dlckZyb21VcmwodXJsKSB7XHJcbiAgICBpZiAodXJsLmdhbGxlcnkgIT09IFwiXCIpIHtcclxuICAgICAgLy8gSWYgd2UgY2FuIGZpbmQgZWxlbWVudCBtYXRjaGluZyAnZGF0YS1mYW5jeWJveCcgYXRyaWJ1dGUsXHJcbiAgICAgIC8vIHRoZW4gdHJpZ2dlcmluZyBjbGljayBldmVudCBzaG91bGQgc3RhcnQgZmFuY3lCb3hcclxuICAgICAgJChcIltkYXRhLWZhbmN5Ym94PSdcIiArICQuZXNjYXBlU2VsZWN0b3IodXJsLmdhbGxlcnkpICsgXCInXVwiKVxyXG4gICAgICAgIC5lcSh1cmwuaW5kZXggLSAxKVxyXG4gICAgICAgIC5mb2N1cygpXHJcbiAgICAgICAgLnRyaWdnZXIoXCJjbGljay5mYi1zdGFydFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEdldCBnYWxsZXJ5IG5hbWUgZnJvbSBjdXJyZW50IGluc3RhbmNlXHJcbiAgZnVuY3Rpb24gZ2V0R2FsbGVyeUlEKGluc3RhbmNlKSB7XHJcbiAgICB2YXIgb3B0cywgcmV0O1xyXG5cclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9wdHMgPSBpbnN0YW5jZS5jdXJyZW50ID8gaW5zdGFuY2UuY3VycmVudC5vcHRzIDogaW5zdGFuY2Uub3B0cztcclxuICAgIHJldCA9IG9wdHMuaGFzaCB8fCAob3B0cy4kb3JpZyA/IG9wdHMuJG9yaWcuZGF0YShcImZhbmN5Ym94XCIpIHx8IG9wdHMuJG9yaWcuZGF0YShcImZhbmN5Ym94LXRyaWdnZXJcIikgOiBcIlwiKTtcclxuXHJcbiAgICByZXR1cm4gcmV0ID09PSBcIlwiID8gZmFsc2UgOiByZXQ7XHJcbiAgfVxyXG5cclxuICAvLyBTdGFydCB3aGVuIERPTSBiZWNvbWVzIHJlYWR5XHJcbiAgJChmdW5jdGlvbigpIHtcclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaGFzIGRpc2FibGVkIHRoaXMgbW9kdWxlXHJcbiAgICBpZiAoJC5mYW5jeWJveC5kZWZhdWx0cy5oYXNoID09PSBmYWxzZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGhhc2ggd2hlbiBvcGVuaW5nL2Nsb3NpbmcgZmFuY3lCb3hcclxuICAgICQoZG9jdW1lbnQpLm9uKHtcclxuICAgICAgXCJvbkluaXQuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgdXJsLCBnYWxsZXJ5O1xyXG5cclxuICAgICAgICBpZiAoaW5zdGFuY2UuZ3JvdXBbaW5zdGFuY2UuY3VyckluZGV4XS5vcHRzLmhhc2ggPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cmwgPSBwYXJzZVVybCgpO1xyXG4gICAgICAgIGdhbGxlcnkgPSBnZXRHYWxsZXJ5SUQoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgZ2FsbGVyeSBzdGFydCBpbmRleCBtYXRjaGVzIGluZGV4IGZyb20gaGFzaFxyXG4gICAgICAgIGlmIChnYWxsZXJ5ICYmIHVybC5nYWxsZXJ5ICYmIGdhbGxlcnkgPT0gdXJsLmdhbGxlcnkpIHtcclxuICAgICAgICAgIGluc3RhbmNlLmN1cnJJbmRleCA9IHVybC5pbmRleCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgXCJiZWZvcmVTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBmaXJzdFJ1bikge1xyXG4gICAgICAgIHZhciBnYWxsZXJ5O1xyXG5cclxuICAgICAgICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudC5vcHRzLmhhc2ggPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBuZWVkIHRvIHVwZGF0ZSB3aW5kb3cgaGFzaFxyXG4gICAgICAgIGdhbGxlcnkgPSBnZXRHYWxsZXJ5SUQoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICBpZiAoIWdhbGxlcnkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhcmlhYmxlIGNvbnRhaW5pbmcgbGFzdCBoYXNoIHZhbHVlIHNldCBieSBmYW5jeUJveFxyXG4gICAgICAgIC8vIEl0IHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWYgZmFuY3lCb3ggbmVlZHMgdG8gY2xvc2UgYWZ0ZXIgaGFzaCBjaGFuZ2UgaXMgZGV0ZWN0ZWRcclxuICAgICAgICBpbnN0YW5jZS5jdXJyZW50SGFzaCA9IGdhbGxlcnkgKyAoaW5zdGFuY2UuZ3JvdXAubGVuZ3RoID4gMSA/IFwiLVwiICsgKGN1cnJlbnQuaW5kZXggKyAxKSA6IFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBJZiBjdXJyZW50IGhhc2ggaXMgdGhlIHNhbWUgKHRoaXMgaW5zdGFuY2UgbW9zdCBsaWtlbHkgaXMgb3BlbmVkIGJ5IGhhc2hjaGFuZ2UpLCB0aGVuIGRvIG5vdGhpbmdcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09IFwiI1wiICsgaW5zdGFuY2UuY3VycmVudEhhc2gpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaXJzdFJ1biAmJiAhaW5zdGFuY2Uub3JpZ0hhc2gpIHtcclxuICAgICAgICAgIGluc3RhbmNlLm9yaWdIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5zdGFuY2UuaGFzaFRpbWVyKSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQoaW5zdGFuY2UuaGFzaFRpbWVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBoYXNoXHJcbiAgICAgICAgaW5zdGFuY2UuaGFzaFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChcInJlcGxhY2VTdGF0ZVwiIGluIHdpbmRvdy5oaXN0b3J5KSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5W2ZpcnN0UnVuID8gXCJwdXNoU3RhdGVcIiA6IFwicmVwbGFjZVN0YXRlXCJdKFxyXG4gICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlLFxyXG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyBcIiNcIiArIGluc3RhbmNlLmN1cnJlbnRIYXNoXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlyc3RSdW4pIHtcclxuICAgICAgICAgICAgICBpbnN0YW5jZS5oYXNDcmVhdGVkSGlzdG9yeSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaW5zdGFuY2UuY3VycmVudEhhc2g7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaW5zdGFuY2UuaGFzaFRpbWVyID0gbnVsbDtcclxuICAgICAgICB9LCAzMDApO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgXCJiZWZvcmVDbG9zZS5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xyXG4gICAgICAgIGlmIChjdXJyZW50Lm9wdHMuaGFzaCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5oYXNoVGltZXIpO1xyXG5cclxuICAgICAgICAvLyBHb3RvIHByZXZpb3VzIGhpc3RvcnkgZW50cnlcclxuICAgICAgICBpZiAoaW5zdGFuY2UuY3VycmVudEhhc2ggJiYgaW5zdGFuY2UuaGFzQ3JlYXRlZEhpc3RvcnkpIHtcclxuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmN1cnJlbnRIYXNoKSB7XHJcbiAgICAgICAgICBpZiAoXCJyZXBsYWNlU3RhdGVcIiBpbiB3aW5kb3cuaGlzdG9yeSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgKGluc3RhbmNlLm9yaWdIYXNoIHx8IFwiXCIpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaW5zdGFuY2Uub3JpZ0hhc2g7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnN0YW5jZS5jdXJyZW50SGFzaCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIG5lZWQgdG8gc3RhcnQvY2xvc2UgYWZ0ZXIgdXJsIGhhcyBjaGFuZ2VkXHJcbiAgICAkKHdpbmRvdykub24oXCJoYXNoY2hhbmdlLmZiXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdXJsID0gcGFyc2VVcmwoKSxcclxuICAgICAgICBmYiA9IG51bGw7XHJcblxyXG4gICAgICAvLyBGaW5kIGxhc3QgZmFuY3lCb3ggaW5zdGFuY2UgdGhhdCBoYXMgXCJoYXNoXCJcclxuICAgICAgJC5lYWNoKFxyXG4gICAgICAgICQoXCIuZmFuY3lib3gtY29udGFpbmVyXCIpXHJcbiAgICAgICAgICAuZ2V0KClcclxuICAgICAgICAgIC5yZXZlcnNlKCksXHJcbiAgICAgICAgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgICB2YXIgdG1wID0gJCh2YWx1ZSkuZGF0YShcIkZhbmN5Qm94XCIpO1xyXG5cclxuICAgICAgICAgIGlmICh0bXAgJiYgdG1wLmN1cnJlbnRIYXNoKSB7XHJcbiAgICAgICAgICAgIGZiID0gdG1wO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGZiKSB7XHJcbiAgICAgICAgLy8gTm93LCBjb21wYXJlIGhhc2ggdmFsdWVzXHJcbiAgICAgICAgaWYgKGZiLmN1cnJlbnRIYXNoICE9PSB1cmwuZ2FsbGVyeSArIFwiLVwiICsgdXJsLmluZGV4ICYmICEodXJsLmluZGV4ID09PSAxICYmIGZiLmN1cnJlbnRIYXNoID09IHVybC5nYWxsZXJ5KSkge1xyXG4gICAgICAgICAgZmIuY3VycmVudEhhc2ggPSBudWxsO1xyXG5cclxuICAgICAgICAgIGZiLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHVybC5nYWxsZXJ5ICE9PSBcIlwiKSB7XHJcbiAgICAgICAgdHJpZ2dlckZyb21VcmwodXJsKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ2hlY2sgY3VycmVudCBoYXNoIGFuZCB0cmlnZ2VyIGNsaWNrIGV2ZW50IG9uIG1hdGNoaW5nIGVsZW1lbnQgdG8gc3RhcnQgZmFuY3lCb3gsIGlmIG5lZWRlZFxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCEkLmZhbmN5Ym94LmdldEluc3RhbmNlKCkpIHtcclxuICAgICAgICB0cmlnZ2VyRnJvbVVybChwYXJzZVVybCgpKTtcclxuICAgICAgfVxyXG4gICAgfSwgNTApO1xyXG4gIH0pO1xyXG59KSh3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpO1xyXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIFdoZWVsXHJcbi8vIEJhc2ljIG1vdXNlIHdlaGVlbCBzdXBwb3J0IGZvciBnYWxsZXJ5IG5hdmlnYXRpb25cclxuLy9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKGZ1bmN0aW9uKGRvY3VtZW50LCAkKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIHZhciBwcmV2VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbih7XHJcbiAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xyXG4gICAgICBpbnN0YW5jZS4kcmVmcy5zdGFnZS5vbihcIm1vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwgd2hlZWwgTW96TW91c2VQaXhlbFNjcm9sbFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBpbnN0YW5jZS5jdXJyZW50LFxyXG4gICAgICAgICAgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLmdyb3VwLmxlbmd0aCA8IDIgfHwgY3VycmVudC5vcHRzLndoZWVsID09PSBmYWxzZSB8fCAoY3VycmVudC5vcHRzLndoZWVsID09PSBcImF1dG9cIiAmJiBjdXJyZW50LnR5cGUgIT09IFwiaW1hZ2VcIikpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudC4kc2xpZGUuaGFzQ2xhc3MoXCJmYW5jeWJveC1hbmltYXRlZFwiKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudCB8fCBlO1xyXG5cclxuICAgICAgICBpZiAoY3VyclRpbWUgLSBwcmV2VGltZSA8IDI1MCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJldlRpbWUgPSBjdXJyVGltZTtcclxuXHJcbiAgICAgICAgaW5zdGFuY2VbKC1lLmRlbHRhWSB8fCAtZS5kZWx0YVggfHwgZS53aGVlbERlbHRhIHx8IC1lLmRldGFpbCkgPCAwID8gXCJuZXh0XCIgOiBcInByZXZpb3VzXCJdKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KShkb2N1bWVudCwgalF1ZXJ5KTtcclxuXG59KS5jYWxsKGdsb2JhbCwgbW9kdWxlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4iLCIvLyBkb1QuanNcbi8vIDIwMTEtMjAxNCwgTGF1cmEgRG9rdG9yb3ZhLCBodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBkb1QgPSB7XG5cdFx0bmFtZTogXCJkb1RcIixcblx0XHR2ZXJzaW9uOiBcIjEuMS4xXCIsXG5cdFx0dGVtcGxhdGVTZXR0aW5nczoge1xuXHRcdFx0ZXZhbHVhdGU6ICAgIC9cXHtcXHsoW1xcc1xcU10rPyhcXH0/KSspXFx9XFx9L2csXG5cdFx0XHRpbnRlcnBvbGF0ZTogL1xce1xcez0oW1xcc1xcU10rPylcXH1cXH0vZyxcblx0XHRcdGVuY29kZTogICAgICAvXFx7XFx7IShbXFxzXFxTXSs/KVxcfVxcfS9nLFxuXHRcdFx0dXNlOiAgICAgICAgIC9cXHtcXHsjKFtcXHNcXFNdKz8pXFx9XFx9L2csXG5cdFx0XHR1c2VQYXJhbXM6ICAgLyhefFteXFx3JF0pZGVmKD86XFwufFxcW1tcXCdcXFwiXSkoW1xcdyRcXC5dKykoPzpbXFwnXFxcIl1cXF0pP1xccypcXDpcXHMqKFtcXHckXFwuXSt8XFxcIlteXFxcIl0rXFxcInxcXCdbXlxcJ10rXFwnfFxce1teXFx9XStcXH0pL2csXG5cdFx0XHRkZWZpbmU6ICAgICAgL1xce1xceyMjXFxzKihbXFx3XFwuJF0rKVxccyooXFw6fD0pKFtcXHNcXFNdKz8pI1xcfVxcfS9nLFxuXHRcdFx0ZGVmaW5lUGFyYW1zOi9eXFxzKihbXFx3JF0rKTooW1xcc1xcU10rKS8sXG5cdFx0XHRjb25kaXRpb25hbDogL1xce1xce1xcPyhcXD8pP1xccyooW1xcc1xcU10qPylcXHMqXFx9XFx9L2csXG5cdFx0XHRpdGVyYXRlOiAgICAgL1xce1xce35cXHMqKD86XFx9XFx9fChbXFxzXFxTXSs/KVxccypcXDpcXHMqKFtcXHckXSspXFxzKig/OlxcOlxccyooW1xcdyRdKykpP1xccypcXH1cXH0pL2csXG5cdFx0XHR2YXJuYW1lOlx0XCJpdFwiLFxuXHRcdFx0c3RyaXA6XHRcdHRydWUsXG5cdFx0XHRhcHBlbmQ6XHRcdHRydWUsXG5cdFx0XHRzZWxmY29udGFpbmVkOiBmYWxzZSxcblx0XHRcdGRvTm90U2tpcEVuY29kZWQ6IGZhbHNlXG5cdFx0fSxcblx0XHR0ZW1wbGF0ZTogdW5kZWZpbmVkLCAvL2ZuLCBjb21waWxlIHRlbXBsYXRlXG5cdFx0Y29tcGlsZTogIHVuZGVmaW5lZCwgLy9mbiwgZm9yIGV4cHJlc3Ncblx0XHRsb2c6IHRydWVcblx0fSwgX2dsb2JhbHM7XG5cblx0ZG9ULmVuY29kZUhUTUxTb3VyY2UgPSBmdW5jdGlvbihkb05vdFNraXBFbmNvZGVkKSB7XG5cdFx0dmFyIGVuY29kZUhUTUxSdWxlcyA9IHsgXCImXCI6IFwiJiMzODtcIiwgXCI8XCI6IFwiJiM2MDtcIiwgXCI+XCI6IFwiJiM2MjtcIiwgJ1wiJzogXCImIzM0O1wiLCBcIidcIjogXCImIzM5O1wiLCBcIi9cIjogXCImIzQ3O1wiIH0sXG5cdFx0XHRtYXRjaEhUTUwgPSBkb05vdFNraXBFbmNvZGVkID8gL1smPD5cIidcXC9dL2cgOiAvJig/ISM/XFx3KzspfDx8PnxcInwnfFxcLy9nO1xuXHRcdHJldHVybiBmdW5jdGlvbihjb2RlKSB7XG5cdFx0XHRyZXR1cm4gY29kZSA/IGNvZGUudG9TdHJpbmcoKS5yZXBsYWNlKG1hdGNoSFRNTCwgZnVuY3Rpb24obSkge3JldHVybiBlbmNvZGVIVE1MUnVsZXNbbV0gfHwgbTt9KSA6IFwiXCI7XG5cdFx0fTtcblx0fTtcblxuXHRfZ2xvYmFscyA9IChmdW5jdGlvbigpeyByZXR1cm4gdGhpcyB8fCAoMCxldmFsKShcInRoaXNcIik7IH0oKSk7XG5cblx0LyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGRvVDtcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbigpe3JldHVybiBkb1Q7fSk7XG5cdH0gZWxzZSB7XG5cdFx0X2dsb2JhbHMuZG9UID0gZG9UO1xuXHR9XG5cblx0dmFyIHN0YXJ0ZW5kID0ge1xuXHRcdGFwcGVuZDogeyBzdGFydDogXCInKyhcIiwgICAgICBlbmQ6IFwiKSsnXCIsICAgICAgc3RhcnRlbmNvZGU6IFwiJytlbmNvZGVIVE1MKFwiIH0sXG5cdFx0c3BsaXQ6ICB7IHN0YXJ0OiBcIic7b3V0Kz0oXCIsIGVuZDogXCIpO291dCs9J1wiLCBzdGFydGVuY29kZTogXCInO291dCs9ZW5jb2RlSFRNTChcIiB9XG5cdH0sIHNraXAgPSAvJF4vO1xuXG5cdGZ1bmN0aW9uIHJlc29sdmVEZWZzKGMsIGJsb2NrLCBkZWYpIHtcblx0XHRyZXR1cm4gKCh0eXBlb2YgYmxvY2sgPT09IFwic3RyaW5nXCIpID8gYmxvY2sgOiBibG9jay50b1N0cmluZygpKVxuXHRcdC5yZXBsYWNlKGMuZGVmaW5lIHx8IHNraXAsIGZ1bmN0aW9uKG0sIGNvZGUsIGFzc2lnbiwgdmFsdWUpIHtcblx0XHRcdGlmIChjb2RlLmluZGV4T2YoXCJkZWYuXCIpID09PSAwKSB7XG5cdFx0XHRcdGNvZGUgPSBjb2RlLnN1YnN0cmluZyg0KTtcblx0XHRcdH1cblx0XHRcdGlmICghKGNvZGUgaW4gZGVmKSkge1xuXHRcdFx0XHRpZiAoYXNzaWduID09PSBcIjpcIikge1xuXHRcdFx0XHRcdGlmIChjLmRlZmluZVBhcmFtcykgdmFsdWUucmVwbGFjZShjLmRlZmluZVBhcmFtcywgZnVuY3Rpb24obSwgcGFyYW0sIHYpIHtcblx0XHRcdFx0XHRcdGRlZltjb2RlXSA9IHthcmc6IHBhcmFtLCB0ZXh0OiB2fTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAoIShjb2RlIGluIGRlZikpIGRlZltjb2RlXT0gdmFsdWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV3IEZ1bmN0aW9uKFwiZGVmXCIsIFwiZGVmWydcIitjb2RlK1wiJ109XCIgKyB2YWx1ZSkoZGVmKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fSlcblx0XHQucmVwbGFjZShjLnVzZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlKSB7XG5cdFx0XHRpZiAoYy51c2VQYXJhbXMpIGNvZGUgPSBjb2RlLnJlcGxhY2UoYy51c2VQYXJhbXMsIGZ1bmN0aW9uKG0sIHMsIGQsIHBhcmFtKSB7XG5cdFx0XHRcdGlmIChkZWZbZF0gJiYgZGVmW2RdLmFyZyAmJiBwYXJhbSkge1xuXHRcdFx0XHRcdHZhciBydyA9IChkK1wiOlwiK3BhcmFtKS5yZXBsYWNlKC8nfFxcXFwvZywgXCJfXCIpO1xuXHRcdFx0XHRcdGRlZi5fX2V4cCA9IGRlZi5fX2V4cCB8fCB7fTtcblx0XHRcdFx0XHRkZWYuX19leHBbcnddID0gZGVmW2RdLnRleHQucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58W15cXFxcdyRdKVwiICsgZGVmW2RdLmFyZyArIFwiKFteXFxcXHckXSlcIiwgXCJnXCIpLCBcIiQxXCIgKyBwYXJhbSArIFwiJDJcIik7XG5cdFx0XHRcdFx0cmV0dXJuIHMgKyBcImRlZi5fX2V4cFsnXCIrcncrXCInXVwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciB2ID0gbmV3IEZ1bmN0aW9uKFwiZGVmXCIsIFwicmV0dXJuIFwiICsgY29kZSkoZGVmKTtcblx0XHRcdHJldHVybiB2ID8gcmVzb2x2ZURlZnMoYywgdiwgZGVmKSA6IHY7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiB1bmVzY2FwZShjb2RlKSB7XG5cdFx0cmV0dXJuIGNvZGUucmVwbGFjZSgvXFxcXCgnfFxcXFwpL2csIFwiJDFcIikucmVwbGFjZSgvW1xcclxcdFxcbl0vZywgXCIgXCIpO1xuXHR9XG5cblx0ZG9ULnRlbXBsYXRlID0gZnVuY3Rpb24odG1wbCwgYywgZGVmKSB7XG5cdFx0YyA9IGMgfHwgZG9ULnRlbXBsYXRlU2V0dGluZ3M7XG5cdFx0dmFyIGNzZSA9IGMuYXBwZW5kID8gc3RhcnRlbmQuYXBwZW5kIDogc3RhcnRlbmQuc3BsaXQsIG5lZWRodG1sZW5jb2RlLCBzaWQgPSAwLCBpbmR2LFxuXHRcdFx0c3RyICA9IChjLnVzZSB8fCBjLmRlZmluZSkgPyByZXNvbHZlRGVmcyhjLCB0bXBsLCBkZWYgfHwge30pIDogdG1wbDtcblxuXHRcdHN0ciA9IChcInZhciBvdXQ9J1wiICsgKGMuc3RyaXAgPyBzdHIucmVwbGFjZSgvKF58XFxyfFxcbilcXHQqICt8ICtcXHQqKFxccnxcXG58JCkvZyxcIiBcIilcblx0XHRcdFx0XHQucmVwbGFjZSgvXFxyfFxcbnxcXHR8XFwvXFwqW1xcc1xcU10qP1xcKlxcLy9nLFwiXCIpOiBzdHIpXG5cdFx0XHQucmVwbGFjZSgvJ3xcXFxcL2csIFwiXFxcXCQmXCIpXG5cdFx0XHQucmVwbGFjZShjLmludGVycG9sYXRlIHx8IHNraXAsIGZ1bmN0aW9uKG0sIGNvZGUpIHtcblx0XHRcdFx0cmV0dXJuIGNzZS5zdGFydCArIHVuZXNjYXBlKGNvZGUpICsgY3NlLmVuZDtcblx0XHRcdH0pXG5cdFx0XHQucmVwbGFjZShjLmVuY29kZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlKSB7XG5cdFx0XHRcdG5lZWRodG1sZW5jb2RlID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIGNzZS5zdGFydGVuY29kZSArIHVuZXNjYXBlKGNvZGUpICsgY3NlLmVuZDtcblx0XHRcdH0pXG5cdFx0XHQucmVwbGFjZShjLmNvbmRpdGlvbmFsIHx8IHNraXAsIGZ1bmN0aW9uKG0sIGVsc2VjYXNlLCBjb2RlKSB7XG5cdFx0XHRcdHJldHVybiBlbHNlY2FzZSA/XG5cdFx0XHRcdFx0KGNvZGUgPyBcIic7fWVsc2UgaWYoXCIgKyB1bmVzY2FwZShjb2RlKSArIFwiKXtvdXQrPSdcIiA6IFwiJzt9ZWxzZXtvdXQrPSdcIikgOlxuXHRcdFx0XHRcdChjb2RlID8gXCInO2lmKFwiICsgdW5lc2NhcGUoY29kZSkgKyBcIil7b3V0Kz0nXCIgOiBcIic7fW91dCs9J1wiKTtcblx0XHRcdH0pXG5cdFx0XHQucmVwbGFjZShjLml0ZXJhdGUgfHwgc2tpcCwgZnVuY3Rpb24obSwgaXRlcmF0ZSwgdm5hbWUsIGluYW1lKSB7XG5cdFx0XHRcdGlmICghaXRlcmF0ZSkgcmV0dXJuIFwiJzt9IH0gb3V0Kz0nXCI7XG5cdFx0XHRcdHNpZCs9MTsgaW5kdj1pbmFtZSB8fCBcImlcIitzaWQ7IGl0ZXJhdGU9dW5lc2NhcGUoaXRlcmF0ZSk7XG5cdFx0XHRcdHJldHVybiBcIic7dmFyIGFyclwiK3NpZCtcIj1cIitpdGVyYXRlK1wiO2lmKGFyclwiK3NpZCtcIil7dmFyIFwiK3ZuYW1lK1wiLFwiK2luZHYrXCI9LTEsbFwiK3NpZCtcIj1hcnJcIitzaWQrXCIubGVuZ3RoLTE7d2hpbGUoXCIraW5kditcIjxsXCIrc2lkK1wiKXtcIlxuXHRcdFx0XHRcdCt2bmFtZStcIj1hcnJcIitzaWQrXCJbXCIraW5kditcIis9MV07b3V0Kz0nXCI7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5ldmFsdWF0ZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlKSB7XG5cdFx0XHRcdHJldHVybiBcIic7XCIgKyB1bmVzY2FwZShjb2RlKSArIFwib3V0Kz0nXCI7XG5cdFx0XHR9KVxuXHRcdFx0KyBcIic7cmV0dXJuIG91dDtcIilcblx0XHRcdC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKS5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0JykucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcblx0XHRcdC5yZXBsYWNlKC8oXFxzfDt8XFx9fF58XFx7KW91dFxcKz0nJzsvZywgJyQxJykucmVwbGFjZSgvXFwrJycvZywgXCJcIik7XG5cdFx0XHQvLy5yZXBsYWNlKC8oXFxzfDt8XFx9fF58XFx7KW91dFxcKz0nJ1xcKy9nLCckMW91dCs9Jyk7XG5cblx0XHRpZiAobmVlZGh0bWxlbmNvZGUpIHtcblx0XHRcdGlmICghYy5zZWxmY29udGFpbmVkICYmIF9nbG9iYWxzICYmICFfZ2xvYmFscy5fZW5jb2RlSFRNTCkgX2dsb2JhbHMuX2VuY29kZUhUTUwgPSBkb1QuZW5jb2RlSFRNTFNvdXJjZShjLmRvTm90U2tpcEVuY29kZWQpO1xuXHRcdFx0c3RyID0gXCJ2YXIgZW5jb2RlSFRNTCA9IHR5cGVvZiBfZW5jb2RlSFRNTCAhPT0gJ3VuZGVmaW5lZCcgPyBfZW5jb2RlSFRNTCA6IChcIlxuXHRcdFx0XHQrIGRvVC5lbmNvZGVIVE1MU291cmNlLnRvU3RyaW5nKCkgKyBcIihcIiArIChjLmRvTm90U2tpcEVuY29kZWQgfHwgJycpICsgXCIpKTtcIlxuXHRcdFx0XHQrIHN0cjtcblx0XHR9XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBuZXcgRnVuY3Rpb24oYy52YXJuYW1lLCBzdHIpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdFx0XHRpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGNyZWF0ZSBhIHRlbXBsYXRlIGZ1bmN0aW9uOiBcIiArIHN0cik7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fTtcblxuXHRkb1QuY29tcGlsZSA9IGZ1bmN0aW9uKHRtcGwsIGRlZikge1xuXHRcdHJldHVybiBkb1QudGVtcGxhdGUodG1wbCwgbnVsbCwgZGVmKTtcblx0fTtcbn0oKSk7XG4iLCJ2YXIgUXVlcnlIYW5kbGVyID0gcmVxdWlyZSgnLi9RdWVyeUhhbmRsZXInKTtcbnZhciBlYWNoID0gcmVxdWlyZSgnLi9VdGlsJykuZWFjaDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIG1lZGlhIHF1ZXJ5LCBtYW5hZ2VzIGl0J3Mgc3RhdGUgYW5kIHJlZ2lzdGVyZWQgaGFuZGxlcnMgZm9yIHRoaXMgcXVlcnlcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSB0aGUgbWVkaWEgcXVlcnkgc3RyaW5nXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1VuY29uZGl0aW9uYWw9ZmFsc2VdIHdoZXRoZXIgdGhlIG1lZGlhIHF1ZXJ5IHNob3VsZCBydW4gcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBjb25kaXRpb25zIGFyZSBtZXQuIFByaW1hcmlseSBmb3IgaGVscGluZyBvbGRlciBicm93c2VycyBkZWFsIHdpdGggbW9iaWxlLWZpcnN0IGRlc2lnblxuICovXG5mdW5jdGlvbiBNZWRpYVF1ZXJ5KHF1ZXJ5LCBpc1VuY29uZGl0aW9uYWwpIHtcbiAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgdGhpcy5pc1VuY29uZGl0aW9uYWwgPSBpc1VuY29uZGl0aW9uYWw7XG4gICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIHRoaXMubXFsID0gd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbihtcWwpIHtcbiAgICAgICAgLy8gQ2hyb21lIHBhc3NlcyBhbiBNZWRpYVF1ZXJ5TGlzdEV2ZW50IG9iamVjdCwgd2hpbGUgb3RoZXIgYnJvd3NlcnMgcGFzcyBNZWRpYVF1ZXJ5TGlzdCBkaXJlY3RseVxuICAgICAgICBzZWxmLm1xbCA9IG1xbC5jdXJyZW50VGFyZ2V0IHx8IG1xbDtcbiAgICAgICAgc2VsZi5hc3Nlc3MoKTtcbiAgICB9O1xuICAgIHRoaXMubXFsLmFkZExpc3RlbmVyKHRoaXMubGlzdGVuZXIpO1xufVxuXG5NZWRpYVF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0dWN0b3IgOiBNZWRpYVF1ZXJ5LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgaGFuZGxlciBmb3IgdGhpcyBxdWVyeSwgdHJpZ2dlcmluZyBpZiBhbHJlYWR5IGFjdGl2ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyLm1hdGNoIGNhbGxiYWNrIGZvciB3aGVuIHF1ZXJ5IGlzIGFjdGl2YXRlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyLnVubWF0Y2hdIGNhbGxiYWNrIGZvciB3aGVuIHF1ZXJ5IGlzIGRlYWN0aXZhdGVkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXIuc2V0dXBdIGNhbGxiYWNrIGZvciBpbW1lZGlhdGUgZXhlY3V0aW9uIHdoZW4gYSBxdWVyeSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYW5kbGVyLmRlZmVyU2V0dXA9ZmFsc2VdIHNob3VsZCB0aGUgc2V0dXAgY2FsbGJhY2sgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGZpcnN0IHRpbWUgdGhlIGhhbmRsZXIgaXMgbWF0Y2hlZD9cbiAgICAgKi9cbiAgICBhZGRIYW5kbGVyIDogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICB2YXIgcWggPSBuZXcgUXVlcnlIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2gocWgpO1xuXG4gICAgICAgIHRoaXMubWF0Y2hlcygpICYmIHFoLm9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZXMgdGhlIGdpdmVuIGhhbmRsZXIgZnJvbSB0aGUgY29sbGVjdGlvbiwgYW5kIGNhbGxzIGl0J3MgZGVzdHJveSBtZXRob2RzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBmdW5jdGlvbn0gaGFuZGxlciB0aGUgaGFuZGxlciB0byByZW1vdmVcbiAgICAgKi9cbiAgICByZW1vdmVIYW5kbGVyIDogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKGhhbmRsZXJzLCBmdW5jdGlvbihoLCBpKSB7XG4gICAgICAgICAgICBpZihoLmVxdWFscyhoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIGguZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhaGFuZGxlcnMuc3BsaWNlKGksMSk7IC8vcmVtb3ZlIGZyb20gYXJyYXkgYW5kIGV4aXQgZWFjaCBlYXJseVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG1lZGlhIHF1ZXJ5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgbWF0Y2hcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgbWVkaWEgcXVlcnkgY2FuIGJlIGNvbnNpZGVyZWQgYSBtYXRjaCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgbWF0Y2hlcyA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tcWwubWF0Y2hlcyB8fCB0aGlzLmlzVW5jb25kaXRpb25hbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBoYW5kbGVycyBhbmQgdW5iaW5kcyBldmVudHNcbiAgICAgKi9cbiAgICBjbGVhciA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tcWwucmVtb3ZlTGlzdGVuZXIodGhpcy5saXN0ZW5lcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMubGVuZ3RoID0gMDsgLy9jbGVhciBhcnJheVxuICAgIH0sXG5cbiAgICAvKlxuICAgICAgICAqIEFzc2Vzc2VzIHRoZSBxdWVyeSwgdHVybmluZyBvbiBhbGwgaGFuZGxlcnMgaWYgaXQgbWF0Y2hlcywgdHVybmluZyB0aGVtIG9mZiBpZiBpdCBkb2Vzbid0IG1hdGNoXG4gICAgICAgICovXG4gICAgYXNzZXNzIDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1hdGNoZXMoKSA/ICdvbicgOiAnb2ZmJztcblxuICAgICAgICBlYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGhhbmRsZXJbYWN0aW9uXSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lZGlhUXVlcnk7XG4iLCJ2YXIgTWVkaWFRdWVyeSA9IHJlcXVpcmUoJy4vTWVkaWFRdWVyeScpO1xudmFyIFV0aWwgPSByZXF1aXJlKCcuL1V0aWwnKTtcbnZhciBlYWNoID0gVXRpbC5lYWNoO1xudmFyIGlzRnVuY3Rpb24gPSBVdGlsLmlzRnVuY3Rpb247XG52YXIgaXNBcnJheSA9IFV0aWwuaXNBcnJheTtcblxuLyoqXG4gKiBBbGxvd3MgZm9yIHJlZ2lzdHJhdGlvbiBvZiBxdWVyeSBoYW5kbGVycy5cbiAqIE1hbmFnZXMgdGhlIHF1ZXJ5IGhhbmRsZXIncyBzdGF0ZSBhbmQgaXMgcmVzcG9uc2libGUgZm9yIHdpcmluZyB1cCBicm93c2VyIGV2ZW50c1xuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNZWRpYVF1ZXJ5RGlzcGF0Y2ggKCkge1xuICAgIGlmKCF3aW5kb3cubWF0Y2hNZWRpYSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hdGNoTWVkaWEgbm90IHByZXNlbnQsIGxlZ2FjeSBicm93c2VycyByZXF1aXJlIGEgcG9seWZpbGwnKTtcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJpZXMgPSB7fTtcbiAgICB0aGlzLmJyb3dzZXJJc0luY2FwYWJsZSA9ICF3aW5kb3cubWF0Y2hNZWRpYSgnb25seSBhbGwnKS5tYXRjaGVzO1xufVxuXG5NZWRpYVF1ZXJ5RGlzcGF0Y2gucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBNZWRpYVF1ZXJ5RGlzcGF0Y2gsXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gbWVkaWEgcXVlcnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxIHRoZSBtZWRpYSBxdWVyeVxuICAgICAqIEBwYXJhbSB7b2JqZWN0IHx8IEFycmF5IHx8IEZ1bmN0aW9ufSBvcHRpb25zIGVpdGhlciBhIHNpbmdsZSBxdWVyeSBoYW5kbGVyIG9iamVjdCwgYSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgb2YgcXVlcnkgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLm1hdGNoIGZpcmVkIHdoZW4gcXVlcnkgbWF0Y2hlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnVubWF0Y2hdIGZpcmVkIHdoZW4gYSBxdWVyeSBpcyBubyBsb25nZXIgbWF0Y2hlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnNldHVwXSBmaXJlZCB3aGVuIGhhbmRsZXIgZmlyc3QgdHJpZ2dlcmVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kZWZlclNldHVwPWZhbHNlXSB3aGV0aGVyIHNldHVwIHNob3VsZCBiZSBydW4gaW1tZWRpYXRlbHkgb3IgZGVmZXJyZWQgdW50aWwgcXVlcnkgaXMgZmlyc3QgbWF0Y2hlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZERlZ3JhZGU9ZmFsc2VdIHdoZXRoZXIgdGhpcyBwYXJ0aWN1bGFyIG1lZGlhIHF1ZXJ5IHNob3VsZCBhbHdheXMgcnVuIG9uIGluY2FwYWJsZSBicm93c2Vyc1xuICAgICAqL1xuICAgIHJlZ2lzdGVyIDogZnVuY3Rpb24ocSwgb3B0aW9ucywgc2hvdWxkRGVncmFkZSkge1xuICAgICAgICB2YXIgcXVlcmllcyAgICAgICAgID0gdGhpcy5xdWVyaWVzLFxuICAgICAgICAgICAgaXNVbmNvbmRpdGlvbmFsID0gc2hvdWxkRGVncmFkZSAmJiB0aGlzLmJyb3dzZXJJc0luY2FwYWJsZTtcblxuICAgICAgICBpZighcXVlcmllc1txXSkge1xuICAgICAgICAgICAgcXVlcmllc1txXSA9IG5ldyBNZWRpYVF1ZXJ5KHEsIGlzVW5jb25kaXRpb25hbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL25vcm1hbGlzZSB0byBvYmplY3QgaW4gYW4gYXJyYXlcbiAgICAgICAgaWYoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgbWF0Y2ggOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBbb3B0aW9uc107XG4gICAgICAgIH1cbiAgICAgICAgZWFjaChvcHRpb25zLCBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSB7IG1hdGNoIDogaGFuZGxlciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVlcmllc1txXS5hZGRIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5yZWdpc3RlcnMgYSBxdWVyeSBhbmQgYWxsIGl0J3MgaGFuZGxlcnMsIG9yIGEgc3BlY2lmaWMgaGFuZGxlciBmb3IgYSBxdWVyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHEgdGhlIG1lZGlhIHF1ZXJ5IHRvIHRhcmdldFxuICAgICAqIEBwYXJhbSB7b2JqZWN0IHx8IGZ1bmN0aW9ufSBbaGFuZGxlcl0gc3BlY2lmaWMgaGFuZGxlciB0byB1bnJlZ2lzdGVyXG4gICAgICovXG4gICAgdW5yZWdpc3RlciA6IGZ1bmN0aW9uKHEsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3FdO1xuXG4gICAgICAgIGlmKHF1ZXJ5KSB7XG4gICAgICAgICAgICBpZihoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcXVlcnkucmVtb3ZlSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucXVlcmllc1txXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWVkaWFRdWVyeURpc3BhdGNoO1xuIiwiLyoqXG4gKiBEZWxlZ2F0ZSB0byBoYW5kbGUgYSBtZWRpYSBxdWVyeSBiZWluZyBtYXRjaGVkIGFuZCB1bm1hdGNoZWQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMubWF0Y2ggY2FsbGJhY2sgZm9yIHdoZW4gdGhlIG1lZGlhIHF1ZXJ5IGlzIG1hdGNoZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnVubWF0Y2hdIGNhbGxiYWNrIGZvciB3aGVuIHRoZSBtZWRpYSBxdWVyeSBpcyB1bm1hdGNoZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLnNldHVwXSBvbmUtdGltZSBjYWxsYmFjayB0cmlnZ2VyZWQgdGhlIGZpcnN0IHRpbWUgYSBxdWVyeSBpcyBtYXRjaGVkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlZmVyU2V0dXA9ZmFsc2VdIHNob3VsZCB0aGUgc2V0dXAgY2FsbGJhY2sgYmUgcnVuIGltbWVkaWF0ZWx5LCByYXRoZXIgdGhhbiBmaXJzdCB0aW1lIHF1ZXJ5IGlzIG1hdGNoZWQ/XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUXVlcnlIYW5kbGVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICFvcHRpb25zLmRlZmVyU2V0dXAgJiYgdGhpcy5zZXR1cCgpO1xufVxuXG5RdWVyeUhhbmRsZXIucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBRdWVyeUhhbmRsZXIsXG5cbiAgICAvKipcbiAgICAgKiBjb29yZGluYXRlcyBzZXR1cCBvZiB0aGUgaGFuZGxlclxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgc2V0dXAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLnNldHVwKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0dXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRpYWxpc2VkID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29vcmRpbmF0ZXMgc2V0dXAgYW5kIHRyaWdnZXJpbmcgb2YgdGhlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICF0aGlzLmluaXRpYWxpc2VkICYmIHRoaXMuc2V0dXAoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLm1hdGNoICYmIHRoaXMub3B0aW9ucy5tYXRjaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb29yZGluYXRlcyB0aGUgdW5tYXRjaCBldmVudCBmb3IgdGhlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIG9mZiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudW5tYXRjaCAmJiB0aGlzLm9wdGlvbnMudW5tYXRjaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiBhIGhhbmRsZXIgaXMgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIGRlbGVnYXRlcyB0byB0aGUgZGVzdHJveSBvciB1bm1hdGNoIGNhbGxiYWNrcywgZGVwZW5kaW5nIG9uIGF2YWlsYWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIGRlc3Ryb3kgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmRlc3Ryb3kgPyB0aGlzLm9wdGlvbnMuZGVzdHJveSgpIDogdGhpcy5vZmYoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lcyBlcXVhbGl0eSBieSByZWZlcmVuY2UuXG4gICAgICogaWYgb2JqZWN0IGlzIHN1cHBsaWVkIGNvbXBhcmUgb3B0aW9ucywgaWYgZnVuY3Rpb24sIGNvbXBhcmUgbWF0Y2ggY2FsbGJhY2tcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0IHx8IGZ1bmN0aW9ufSBbdGFyZ2V0XSB0aGUgdGFyZ2V0IGZvciBjb21wYXJpc29uXG4gICAgICovXG4gICAgZXF1YWxzIDogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMgPT09IHRhcmdldCB8fCB0aGlzLm9wdGlvbnMubWF0Y2ggPT09IHRhcmdldDtcbiAgICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlcnlIYW5kbGVyO1xuIiwiLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGEgY29sbGVjdGlvblxuICpcbiAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gZm5cbiAqL1xuZnVuY3Rpb24gZWFjaChjb2xsZWN0aW9uLCBmbikge1xuICAgIHZhciBpICAgICAgPSAwLFxuICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgY29udDtcblxuICAgIGZvcihpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29udCA9IGZuKGNvbGxlY3Rpb25baV0sIGkpO1xuICAgICAgICBpZihjb250ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7IC8vYWxsb3cgZWFybHkgZXhpdFxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0YXJnZXQgb2JqZWN0IGlzIGFuIGFycmF5XG4gKlxuICogQHBhcmFtIHRhcmdldCB0aGUgb2JqZWN0IHVuZGVyIHRlc3RcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgYXJyYXksIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHRhcmdldCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRhcmdldCBvYmplY3QgaXMgYSBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB0YXJnZXQgdGhlIG9iamVjdCB1bmRlciB0ZXN0XG4gKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGZ1bmN0aW9uLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih0YXJnZXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNGdW5jdGlvbiA6IGlzRnVuY3Rpb24sXG4gICAgaXNBcnJheSA6IGlzQXJyYXksXG4gICAgZWFjaCA6IGVhY2hcbn07XG4iLCJ2YXIgTWVkaWFRdWVyeURpc3BhdGNoID0gcmVxdWlyZSgnLi9NZWRpYVF1ZXJ5RGlzcGF0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IE1lZGlhUXVlcnlEaXNwYXRjaCgpO1xuIiwiLyoqXG4qIGpxdWVyeS1tYXRjaC1oZWlnaHQgMC43LjIgYnkgQGxpYWJydVxuKiBodHRwOi8vYnJtLmlvL2pxdWVyeS1tYXRjaC1oZWlnaHQvXG4qIExpY2Vuc2U6IE1JVFxuKi9cblxuOyhmdW5jdGlvbihmYWN0b3J5KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXh0cmEtc2VtaVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRFxuICAgICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBDb21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdsb2JhbFxuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxufSkoZnVuY3Rpb24oJCkge1xuICAgIC8qXG4gICAgKiAgaW50ZXJuYWxcbiAgICAqL1xuXG4gICAgdmFyIF9wcmV2aW91c1Jlc2l6ZVdpZHRoID0gLTEsXG4gICAgICAgIF91cGRhdGVUaW1lb3V0ID0gLTE7XG5cbiAgICAvKlxuICAgICogIF9wYXJzZVxuICAgICogIHZhbHVlIHBhcnNlIHV0aWxpdHkgZnVuY3Rpb25cbiAgICAqL1xuXG4gICAgdmFyIF9wYXJzZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIHBhcnNlIHZhbHVlIGFuZCBjb252ZXJ0IE5hTiB0byAwXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuICAgIH07XG5cbiAgICAvKlxuICAgICogIF9yb3dzXG4gICAgKiAgdXRpbGl0eSBmdW5jdGlvbiByZXR1cm5zIGFycmF5IG9mIGpRdWVyeSBzZWxlY3Rpb25zIHJlcHJlc2VudGluZyBlYWNoIHJvd1xuICAgICogIChhcyBkaXNwbGF5ZWQgYWZ0ZXIgZmxvYXQgd3JhcHBpbmcgYXBwbGllZCBieSBicm93c2VyKVxuICAgICovXG5cbiAgICB2YXIgX3Jvd3MgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgdG9sZXJhbmNlID0gMSxcbiAgICAgICAgICAgICRlbGVtZW50cyA9ICQoZWxlbWVudHMpLFxuICAgICAgICAgICAgbGFzdFRvcCA9IG51bGwsXG4gICAgICAgICAgICByb3dzID0gW107XG5cbiAgICAgICAgLy8gZ3JvdXAgZWxlbWVudHMgYnkgdGhlaXIgdG9wIHBvc2l0aW9uXG4gICAgICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIHRvcCA9ICR0aGF0Lm9mZnNldCgpLnRvcCAtIF9wYXJzZSgkdGhhdC5jc3MoJ21hcmdpbi10b3AnKSksXG4gICAgICAgICAgICAgICAgbGFzdFJvdyA9IHJvd3MubGVuZ3RoID4gMCA/IHJvd3Nbcm93cy5sZW5ndGggLSAxXSA6IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChsYXN0Um93ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgaXRlbSBvbiB0aGUgcm93LCBzbyBqdXN0IHB1c2ggaXRcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goJHRoYXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcm93IHRvcCBpcyB0aGUgc2FtZSwgYWRkIHRvIHRoZSByb3cgZ3JvdXBcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihNYXRoLmFicyhsYXN0VG9wIC0gdG9wKSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93cy5sZW5ndGggLSAxXSA9IGxhc3RSb3cuYWRkKCR0aGF0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ugc3RhcnQgYSBuZXcgcm93IGdyb3VwXG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaCgkdGhhdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IHJvdyB0b3BcbiAgICAgICAgICAgIGxhc3RUb3AgPSB0b3A7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH07XG5cbiAgICAvKlxuICAgICogIF9wYXJzZU9wdGlvbnNcbiAgICAqICBoYW5kbGUgcGx1Z2luIG9wdGlvbnNcbiAgICAqL1xuXG4gICAgdmFyIF9wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgYnlSb3c6IHRydWUsXG4gICAgICAgICAgICBwcm9wZXJ0eTogJ2hlaWdodCcsXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgICByZW1vdmU6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKG9wdHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdHMuYnlSb3cgPSBvcHRpb25zO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgPT09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgICBvcHRzLnJlbW92ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuXG4gICAgLypcbiAgICAqICBtYXRjaEhlaWdodFxuICAgICogIHBsdWdpbiBkZWZpbml0aW9uXG4gICAgKi9cblxuICAgIHZhciBtYXRjaEhlaWdodCA9ICQuZm4ubWF0Y2hIZWlnaHQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0gX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICAvLyBoYW5kbGUgcmVtb3ZlXG4gICAgICAgIGlmIChvcHRzLnJlbW92ZSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgZml4ZWQgaGVpZ2h0IGZyb20gYWxsIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICB0aGlzLmNzcyhvcHRzLnByb3BlcnR5LCAnJyk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBzZWxlY3RlZCBlbGVtZW50cyBmcm9tIGFsbCBncm91cHNcbiAgICAgICAgICAgICQuZWFjaChtYXRjaEhlaWdodC5fZ3JvdXBzLCBmdW5jdGlvbihrZXksIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZWxlbWVudHMgPSBncm91cC5lbGVtZW50cy5ub3QodGhhdCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVE9ETzogY2xlYW51cCBlbXB0eSBncm91cHNcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPD0gMSAmJiAhb3B0cy50YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGlzIGdyb3VwIHNvIHdlIGNhbiByZS1hcHBseSBsYXRlciBvbiBsb2FkIGFuZCByZXNpemUgZXZlbnRzXG4gICAgICAgIG1hdGNoSGVpZ2h0Ll9ncm91cHMucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50czogdGhpcyxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbWF0Y2ggZWFjaCBlbGVtZW50J3MgaGVpZ2h0IHRvIHRoZSB0YWxsZXN0IGVsZW1lbnQgaW4gdGhlIHNlbGVjdGlvblxuICAgICAgICBtYXRjaEhlaWdodC5fYXBwbHkodGhpcywgb3B0cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgcGx1Z2luIGdsb2JhbCBvcHRpb25zXG4gICAgKi9cblxuICAgIG1hdGNoSGVpZ2h0LnZlcnNpb24gPSAnMC43LjInO1xuICAgIG1hdGNoSGVpZ2h0Ll9ncm91cHMgPSBbXTtcbiAgICBtYXRjaEhlaWdodC5fdGhyb3R0bGUgPSA4MDtcbiAgICBtYXRjaEhlaWdodC5fbWFpbnRhaW5TY3JvbGwgPSBmYWxzZTtcbiAgICBtYXRjaEhlaWdodC5fYmVmb3JlVXBkYXRlID0gbnVsbDtcbiAgICBtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUgPSBudWxsO1xuICAgIG1hdGNoSGVpZ2h0Ll9yb3dzID0gX3Jvd3M7XG4gICAgbWF0Y2hIZWlnaHQuX3BhcnNlID0gX3BhcnNlO1xuICAgIG1hdGNoSGVpZ2h0Ll9wYXJzZU9wdGlvbnMgPSBfcGFyc2VPcHRpb25zO1xuXG4gICAgLypcbiAgICAqICBtYXRjaEhlaWdodC5fYXBwbHlcbiAgICAqICBhcHBseSBtYXRjaEhlaWdodCB0byBnaXZlbiBlbGVtZW50c1xuICAgICovXG5cbiAgICBtYXRjaEhlaWdodC5fYXBwbHkgPSBmdW5jdGlvbihlbGVtZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IF9wYXJzZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICAkZWxlbWVudHMgPSAkKGVsZW1lbnRzKSxcbiAgICAgICAgICAgIHJvd3MgPSBbJGVsZW1lbnRzXTtcblxuICAgICAgICAvLyB0YWtlIG5vdGUgb2Ygc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBodG1sSGVpZ2h0ID0gJCgnaHRtbCcpLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgIC8vIGdldCBoaWRkZW4gcGFyZW50c1xuICAgICAgICB2YXIgJGhpZGRlblBhcmVudHMgPSAkZWxlbWVudHMucGFyZW50cygpLmZpbHRlcignOmhpZGRlbicpO1xuXG4gICAgICAgIC8vIGNhY2hlIHRoZSBvcmlnaW5hbCBpbmxpbmUgc3R5bGVcbiAgICAgICAgJGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICAgICAkdGhhdC5kYXRhKCdzdHlsZS1jYWNoZScsICR0aGF0LmF0dHIoJ3N0eWxlJykpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0ZW1wb3JhcmlseSBtdXN0IGZvcmNlIGhpZGRlbiBwYXJlbnRzIHZpc2libGVcbiAgICAgICAgJGhpZGRlblBhcmVudHMuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cbiAgICAgICAgLy8gZ2V0IHJvd3MgaWYgdXNpbmcgYnlSb3csIG90aGVyd2lzZSBhc3N1bWUgb25lIHJvd1xuICAgICAgICBpZiAob3B0cy5ieVJvdyAmJiAhb3B0cy50YXJnZXQpIHtcblxuICAgICAgICAgICAgLy8gbXVzdCBmaXJzdCBmb3JjZSBhbiBhcmJpdHJhcnkgZXF1YWwgaGVpZ2h0IHNvIGZsb2F0aW5nIGVsZW1lbnRzIGJyZWFrIGV2ZW5seVxuICAgICAgICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGVtcG9yYXJpbHkgZm9yY2UgYSB1c2FibGUgZGlzcGxheSB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ICE9PSAnaW5saW5lLWJsb2NrJyAmJiBkaXNwbGF5ICE9PSAnZmxleCcgJiYgZGlzcGxheSAhPT0gJ2lubGluZS1mbGV4Jykge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYWNoZSB0aGUgb3JpZ2luYWwgaW5saW5lIHN0eWxlXG4gICAgICAgICAgICAgICAgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnLCAkdGhhdC5hdHRyKCdzdHlsZScpKTtcblxuICAgICAgICAgICAgICAgICR0aGF0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogZGlzcGxheSxcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tdG9wJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3Atd2lkdGgnOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItYm90dG9tLXdpZHRoJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGFycmF5IG9mIHJvd3MgKGJhc2VkIG9uIGVsZW1lbnQgdG9wIHBvc2l0aW9uKVxuICAgICAgICAgICAgcm93cyA9IF9yb3dzKCRlbGVtZW50cyk7XG5cbiAgICAgICAgICAgIC8vIHJldmVydCBvcmlnaW5hbCBpbmxpbmUgc3R5bGVzXG4gICAgICAgICAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICR0aGF0LmF0dHIoJ3N0eWxlJywgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnKSB8fCAnJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuZWFjaChyb3dzLCBmdW5jdGlvbihrZXksIHJvdykge1xuICAgICAgICAgICAgdmFyICRyb3cgPSAkKHJvdyksXG4gICAgICAgICAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gMDtcblxuICAgICAgICAgICAgaWYgKCFvcHRzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgYXBwbHkgdG8gcm93cyB3aXRoIG9ubHkgb25lIGl0ZW1cbiAgICAgICAgICAgICAgICBpZiAob3B0cy5ieVJvdyAmJiAkcm93Lmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICRyb3cuY3NzKG9wdHMucHJvcGVydHksICcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgZmluZCB0aGUgbWF4IGhlaWdodFxuICAgICAgICAgICAgICAgICRyb3cuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSAkdGhhdC5hdHRyKCdzdHlsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlbXBvcmFyaWx5IGZvcmNlIGEgdXNhYmxlIGRpc3BsYXkgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICdpbmxpbmUtYmxvY2snICYmIGRpc3BsYXkgIT09ICdmbGV4JyAmJiBkaXNwbGF5ICE9PSAnaW5saW5lLWZsZXgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB3ZSBnZXQgdGhlIGNvcnJlY3QgYWN0dWFsIGhlaWdodCAoYW5kIG5vdCBhIHByZXZpb3VzbHkgc2V0IGhlaWdodCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNzcyA9IHsgJ2Rpc3BsYXknOiBkaXNwbGF5IH07XG4gICAgICAgICAgICAgICAgICAgIGNzc1tvcHRzLnByb3BlcnR5XSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAkdGhhdC5jc3MoY3NzKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBtYXggaGVpZ2h0IChpbmNsdWRpbmcgcGFkZGluZywgYnV0IG5vdCBtYXJnaW4pXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhhdC5vdXRlckhlaWdodChmYWxzZSkgPiB0YXJnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEhlaWdodCA9ICR0aGF0Lm91dGVySGVpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldmVydCBzdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhhdC5hdHRyKCdzdHlsZScsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGF0LmNzcygnZGlzcGxheScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0YXJnZXQgc2V0LCB1c2UgdGhlIGhlaWdodCBvZiB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICB0YXJnZXRIZWlnaHQgPSBvcHRzLnRhcmdldC5vdXRlckhlaWdodChmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgYXBwbHkgdGhlIGhlaWdodCB0byBhbGwgZWxlbWVudHNcbiAgICAgICAgICAgICRyb3cuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhcHBseSB0byBhIHRhcmdldFxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnRhcmdldCAmJiAkdGhhdC5pcyhvcHRzLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBwYWRkaW5nIGFuZCBib3JkZXIgY29ycmVjdGx5IChyZXF1aXJlZCB3aGVuIG5vdCB1c2luZyBib3JkZXItYm94KVxuICAgICAgICAgICAgICAgIGlmICgkdGhhdC5jc3MoJ2JveC1zaXppbmcnKSAhPT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyArPSBfcGFyc2UoJHRoYXQuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpICsgX3BhcnNlKCR0aGF0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxQYWRkaW5nICs9IF9wYXJzZSgkdGhhdC5jc3MoJ3BhZGRpbmctdG9wJykpICsgX3BhcnNlKCR0aGF0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBoZWlnaHQgKGFjY291bnRpbmcgZm9yIHBhZGRpbmcgYW5kIGJvcmRlcilcbiAgICAgICAgICAgICAgICAkdGhhdC5jc3Mob3B0cy5wcm9wZXJ0eSwgKHRhcmdldEhlaWdodCAtIHZlcnRpY2FsUGFkZGluZykgKyAncHgnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZXZlcnQgaGlkZGVuIHBhcmVudHNcbiAgICAgICAgJGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICAgICAkdGhhdC5hdHRyKCdzdHlsZScsICR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJykgfHwgbnVsbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uIGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKG1hdGNoSGVpZ2h0Ll9tYWludGFpblNjcm9sbCkge1xuICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgoc2Nyb2xsVG9wIC8gaHRtbEhlaWdodCkgKiAkKCdodG1sJykub3V0ZXJIZWlnaHQodHJ1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaVxuICAgICogIGFwcGxpZXMgbWF0Y2hIZWlnaHQgdG8gYWxsIGVsZW1lbnRzIHdpdGggYSBkYXRhLW1hdGNoLWhlaWdodCBhdHRyaWJ1dGVcbiAgICAqL1xuXG4gICAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ3JvdXBzID0ge307XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgZ3JvdXBzIGJ5IHRoZWlyIGdyb3VwSWQgc2V0IGJ5IGVsZW1lbnRzIHVzaW5nIGRhdGEtbWF0Y2gtaGVpZ2h0XG4gICAgICAgICQoJ1tkYXRhLW1hdGNoLWhlaWdodF0sIFtkYXRhLW1oXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGdyb3VwSWQgPSAkdGhpcy5hdHRyKCdkYXRhLW1oJykgfHwgJHRoaXMuYXR0cignZGF0YS1tYXRjaC1oZWlnaHQnKTtcblxuICAgICAgICAgICAgaWYgKGdyb3VwSWQgaW4gZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzW2dyb3VwSWRdID0gZ3JvdXBzW2dyb3VwSWRdLmFkZCgkdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cElkXSA9ICR0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhcHBseSBtYXRjaEhlaWdodCB0byBlYWNoIGdyb3VwXG4gICAgICAgICQuZWFjaChncm91cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaEhlaWdodCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgbWF0Y2hIZWlnaHQuX3VwZGF0ZVxuICAgICogIHVwZGF0ZXMgbWF0Y2hIZWlnaHQgb24gYWxsIGN1cnJlbnQgZ3JvdXBzIHdpdGggdGhlaXIgY29ycmVjdCBvcHRpb25zXG4gICAgKi9cblxuICAgIHZhciBfdXBkYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUoZXZlbnQsIG1hdGNoSGVpZ2h0Ll9ncm91cHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5lYWNoKG1hdGNoSGVpZ2h0Ll9ncm91cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWF0Y2hIZWlnaHQuX2FwcGx5KHRoaXMuZWxlbWVudHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUpIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0Ll9hZnRlclVwZGF0ZShldmVudCwgbWF0Y2hIZWlnaHQuX2dyb3Vwcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbWF0Y2hIZWlnaHQuX3VwZGF0ZSA9IGZ1bmN0aW9uKHRocm90dGxlLCBldmVudCkge1xuICAgICAgICAvLyBwcmV2ZW50IHVwZGF0ZSBpZiBmaXJlZCBmcm9tIGEgcmVzaXplIGV2ZW50XG4gICAgICAgIC8vIHdoZXJlIHRoZSB2aWV3cG9ydCB3aWR0aCBoYXNuJ3QgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgICAvLyBmaXhlcyBhbiBldmVudCBsb29waW5nIGJ1ZyBpbiBJRThcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdyZXNpemUnKSB7XG4gICAgICAgICAgICB2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3dXaWR0aCA9PT0gX3ByZXZpb3VzUmVzaXplV2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHJldmlvdXNSZXNpemVXaWR0aCA9IHdpbmRvd1dpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhyb3R0bGUgdXBkYXRlc1xuICAgICAgICBpZiAoIXRocm90dGxlKSB7XG4gICAgICAgICAgICBfdXBkYXRlKGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChfdXBkYXRlVGltZW91dCA9PT0gLTEpIHtcbiAgICAgICAgICAgIF91cGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfdXBkYXRlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBfdXBkYXRlVGltZW91dCA9IC0xO1xuICAgICAgICAgICAgfSwgbWF0Y2hIZWlnaHQuX3Rocm90dGxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICogIGJpbmQgZXZlbnRzXG4gICAgKi9cblxuICAgIC8vIGFwcGx5IG9uIERPTSByZWFkeSBldmVudFxuICAgICQobWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSk7XG5cbiAgICAvLyB1c2Ugb24gb3IgYmluZCB3aGVyZSBzdXBwb3J0ZWRcbiAgICB2YXIgb24gPSAkLmZuLm9uID8gJ29uJyA6ICdiaW5kJztcblxuICAgIC8vIHVwZGF0ZSBoZWlnaHRzIG9uIGxvYWQgYW5kIHJlc2l6ZSBldmVudHNcbiAgICAkKHdpbmRvdylbb25dKCdsb2FkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbWF0Y2hIZWlnaHQuX3VwZGF0ZShmYWxzZSwgZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgLy8gdGhyb3R0bGVkIHVwZGF0ZSBoZWlnaHRzIG9uIHJlc2l6ZSBldmVudHNcbiAgICAkKHdpbmRvdylbb25dKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBtYXRjaEhlaWdodC5fdXBkYXRlKHRydWUsIGV2ZW50KTtcbiAgICB9KTtcblxufSk7XG4iLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMS4xXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDktMjJUMjI6MzBaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjEuMVwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXG5cdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2csXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSApIHtcblx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwiZnVuY3Rpb25cIjtcblx0fSxcblxuXHRpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXG5cdGlzV2luZG93OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdH0sXG5cblx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0XHQvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG5cdFx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0XHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0XHRyZXR1cm4gKCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIgKSAmJlxuXG5cdFx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xuXHR9LFxuXG5cdGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIHByb3RvLCBDdG9yO1xuXG5cdFx0Ly8gRGV0ZWN0IG9idmlvdXMgbmVnYXRpdmVzXG5cdFx0Ly8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG5cdFx0aWYgKCAhb2JqIHx8IHRvU3RyaW5nLmNhbGwoIG9iaiApICE9PSBcIltvYmplY3QgT2JqZWN0XVwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHByb3RvID0gZ2V0UHJvdG8oIG9iaiApO1xuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxuXHRcdGlmICggIXByb3RvICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cblx0XHRDdG9yID0gaGFzT3duLmNhbGwoIHByb3RvLCBcImNvbnN0cnVjdG9yXCIgKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gdHlwZW9mIEN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7XG5cdH0sXG5cblx0aXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblxuXHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy82MTI1XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0dHlwZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHR0eXBlb2Ygb2JqO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlICkge1xuXHRcdERPTUV2YWwoIGNvZGUgKTtcblx0fSxcblxuXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdH0sXG5cblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9LFxuXG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkge1xuXHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdHJldHVybiB0ZXh0ID09IG51bGwgP1xuXHRcdFx0XCJcIiA6XG5cdFx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcblx0fSxcblxuXHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcblxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXlMaWtlKCBPYmplY3QoIGFyciApICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGNvbmNhdC5hcHBseSggW10sIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuXHQvLyBhcmd1bWVudHMuXG5cdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdFx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dG1wID0gZm5bIGNvbnRleHQgXTtcblx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdGZuID0gdG1wO1xuXHRcdH1cblxuXHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdFx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzLCAyICk7XG5cdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHRcdH07XG5cblx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0XHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRcdHJldHVybiBwcm94eTtcblx0fSxcblxuXHRub3c6IERhdGUubm93LFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xufSApO1xuXG5mdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkge1xuXG5cdC8vIFN1cHBvcnQ6IHJlYWwgaU9TIDguMiBvbmx5IChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuM1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDgtMDhcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0ZGlzYWJsZWRBbmNlc3RvciA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiAoXCJmb3JtXCIgaW4gZWxlbSB8fCBcImxhYmVsXCIgaW4gZWxlbSk7XG5cdFx0fSxcblx0XHR7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfVxuXHQpO1xuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xufSBjYXRjaCAoIGUgKSB7XG5cdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblxuXHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cblx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBtLCBpLCBlbGVtLCBuaWQsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLFxuXHRcdG5ld0NvbnRleHQgPSBjb250ZXh0ICYmIGNvbnRleHQub3duZXJEb2N1bWVudCxcblxuXHRcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0XHRub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxuXHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XG5cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcblx0aWYgKCAhc2VlZCApIHtcblxuXHRcdGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHRcdH1cblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuXG5cdFx0XHRcdC8vIElEIHNlbGVjdG9yXG5cdFx0XHRcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmIChlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxuXHRcdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmXG5cdFx0XHRcdFx0XHRcdGVsZW0uaWQgPT09IG0gKSB7XG5cblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUeXBlIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzJdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiZcblx0XHRcdFx0XHRjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGxcblx0XHRcdGlmICggc3VwcG9ydC5xc2EgJiZcblx0XHRcdFx0IWNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXSAmJlxuXHRcdFx0XHQoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkpICkge1xuXG5cdFx0XHRcdGlmICggbm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuXHRcdFx0XHQvLyBxU0EgbG9va3Mgb3V0c2lkZSBFbGVtZW50IGNvbnRleHQsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnRcblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgd29ya2Fyb3VuZCB0ZWNobmlxdWVcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHRcdC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0aWYgKCAobmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApKSApIHtcblx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsIChuaWQgPSBleHBhbmRvKSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxuXHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0Z3JvdXBzW2ldID0gXCIjXCIgKyBuaWQgKyBcIiBcIiArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCBcIixcIiApO1xuXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcblx0XHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsbCBvdGhlcnNcblx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHR2YXIga2V5cyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdFxuICovXG5mdW5jdGlvbiBhc3NlcnQoIGZuICkge1xuXHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSBmaW5hbGx5IHtcblx0XHQvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHRcblx0XHRpZiAoIGVsLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApO1xuXHRcdH1cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxuXHRcdGkgPSBhcnIubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xuXHR9XG59XG5cbi8qKlxuICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xuICogQHBhcmFtIHtFbGVtZW50fSBhXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxuICovXG5mdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XG5cdHZhciBjdXIgPSBiICYmIGEsXG5cdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4O1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHtcblxuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcblx0XHRpZiAoIFwiZm9ybVwiIGluIGVsZW0gKSB7XG5cblx0XHRcdC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcblx0XHRcdC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuXHRcdFx0Ly8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkXG5cdFx0XHQvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHQvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxuXHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXG5cdFx0XHRcdC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG5cdFx0XHRcdHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cblx0XHRcdFx0XHQvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuXHRcdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRkaXNhYmxlZEFuY2VzdG9yKCBlbGVtICkgPT09IGRpc2FibGVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cblx0XHQvLyBUcnkgdG8gd2lubm93IG91dCBlbGVtZW50cyB0aGF0IGNhbid0IGJlIGRpc2FibGVkIGJlZm9yZSB0cnVzdGluZyB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXG5cdFx0Ly8gU29tZSB2aWN0aW1zIGdldCBjYXVnaHQgaW4gb3VyIG5ldCAobGFiZWwsIGxlZ2VuZCwgbWVudSwgdHJhY2spLCBidXQgaXQgc2hvdWxkbid0XG5cdFx0Ly8gZXZlbiBleGlzdCBvbiB0aGVtLCBsZXQgYWxvbmUgaGF2ZSBhIGJvb2xlYW4gdmFsdWUuXG5cdFx0fSBlbHNlIGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gUmVtYWluaW5nIGVsZW1lbnRzIGFyZSBuZWl0aGVyIDplbmFibGVkIG5vciA6ZGlzYWJsZWRcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHR2YXIgaixcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcblx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxuXHQvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcblx0dmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7XG5cdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0aWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuXHRkb2N1bWVudCA9IGRvYztcblx0ZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgOS0xMSwgRWRnZVxuXHQvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXG5cdGlmICggcHJlZmVycmVkRG9jICE9PSBkb2N1bWVudCAmJlxuXHRcdChzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0LyogQXR0cmlidXRlc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gU3VwcG9ydDogSUU8OFxuXHQvLyBWZXJpZnkgdGhhdCBnZXRBdHRyaWJ1dGUgcmVhbGx5IHJldHVybnMgYXR0cmlidXRlcyBhbmQgbm90IHByb3BlcnRpZXNcblx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIik7XG5cdH0pO1xuXG5cdC8qIGdldEVsZW1lbnQocylCeSpcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikgKTtcblx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlkID0gZXhwYW5kbztcblx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gSUQgZmlsdGVyIGFuZCBmaW5kXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPyBbIGVsZW0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHlcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgbm9kZSwgaSwgZWxlbXMsXG5cdFx0XHRcdFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0Ly8gVmVyaWZ5IHRoZSBpZCBhdHRyaWJ1dGVcblx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIFsgZWxlbSBdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEZhbGwgYmFjayBvbiBnZXRFbGVtZW50c0J5TmFtZVxuXHRcdFx0XHRcdGVsZW1zID0gY29udGV4dC5nZXRFbGVtZW50c0J5TmFtZSggaWQgKTtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbXNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdC8vIFRhZ1xuXHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFtcIkNMQVNTXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM3OFxuXHRyYnVnZ3lRU0EgPSBbXTtcblxuXHRpZiAoIChzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApKSApIHtcblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbKl4kXT1cIiArIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIn49XCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIjpjaGVja2VkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG5cdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIipbKl4kfCF+XT89XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZClcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIsLio6XCIpO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKCAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoIChtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IpICkpICkge1xuXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGVsLCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IHNlbGYtZXhjbHVzaXZlXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTZcblx0XHRcdCkpO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0XHRpZiAoIGIgPT09IGEgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdC8qIFNvcnRpbmdcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHRpZiAoIGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHRcdGlmICggYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFjb21waWxlckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lc2NhcGUgPSBmdW5jdGlvbiggc2VsICkge1xuXHRyZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzFdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWzVdID0gKyggKCBtYXRjaFs3XSArIG1hdGNoWzhdICkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQocGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkpICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHBhcmVudDtcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRkaWZmIC09IGxhc3Q7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0dmFyIGlkeCxcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFswXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nICk7XG5cdFx0XHR9XG5cdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSApIHtcblxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBNaXNjZWxsYW5lb3VzXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0XCJyb290XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0fSxcblxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGZhbHNlICksXG5cdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0dmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdC8vIG9wdGlvbnMgaW4gU2FmYXJpIHdvcmsgcHJvcGVybHlcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcImhlYWRlclwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0fSxcblxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBhdHRyO1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICYmXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHwgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0pLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9KTtcblx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlsdGVyc1xuXHRcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XG5cdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xuXHRcdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRza2lwID0gY29tYmluYXRvci5uZXh0LFxuXHRcdGtleSA9IHNraXAgfHwgZGlyLFxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcblxuXHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fCAob3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtID0gZWxlbVsgZGlyIF0gfHwgZWxlbTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIChvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSkgJiZcblx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXG5cdFx0XHRcdFx0XHRcdGlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSA6XG5cdFx0bWF0Y2hlcnNbMF07XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRpZiAoIG1hcHBlZCApIHtcblx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcbn1cblxuZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmlsdGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbHRlciApO1xuXHR9XG5cdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTtcblx0fVxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IgfHwgXCIqXCIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0W10gOlxuXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0cmVzdWx0cyA6XG5cdFx0XHRcdG1hdGNoZXJJbjtcblxuXHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0aWYgKCBwb3N0RmlsdGVyICkge1xuXHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cblx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG5cdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG5cdFx0XHRcdFx0XHQodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cblx0XHRcdFx0XHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdGNoZWNrQ29udGV4dCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gXTtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XG5cdFx0XHRtYXRjaGVycyA9IFsgYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlcikgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuXHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1tqXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3Rvcihcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0XHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KVxuXHRcdFx0XHRcdCkucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLFxuXHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiBtYXRjaGVyRnJvbVRva2VucyggKHRva2VucyA9IHRva2Vucy5zbGljZSggaiApKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXHRcdFx0XHQvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kW1wiVEFHXCJdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLFxuXHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZyBlbGVtZW50cyBieSBpZFxuXHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCApIHtcblx0XHRcdFx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdFx0XHRcdFx0XHR4bWwgPSAhZG9jdW1lbnRJc0hUTUw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBgaWAgaXMgbm93IHRoZSBjb3VudCBvZiBlbGVtZW50cyB2aXNpdGVkIGFib3ZlLCBhbmQgYWRkaW5nIGl0IHRvIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuXHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XG5cblx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gZXF1YWxzIGBpYCksIHVubGVzcyB3ZSBkaWRuJ3QgdmlzaXQgX2FueV8gZWxlbWVudHMgaW4gdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBoYXZlXG5cdFx0XHQvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuXHRcdFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxuXHRcdFx0Ly8gY2FzZSwgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBcIjAwXCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvXG5cdFx0XHQvLyBudW1lcmljYWxseSB6ZXJvLlxuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHQvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFtpXSApO1xuXHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkXG5cdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cblx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAgKTtcblx0XHRpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRcdGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiYgRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5cGUgXSApIHtcblxuXHRcdFx0Y29udGV4dCA9ICggRXhwci5maW5kW1wiSURcIl0oIHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSksIGNvbnRleHQgKSB8fCBbXSApWzBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwcltcIm5lZWRzQ29udGV4dFwiXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0b2tlbiA9IHRva2Vuc1tpXTtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuXHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyAodHlwZSA9IHRva2VuLnR5cGUpIF0gKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAoZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdKSApIHtcblx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdGlmICggKHNlZWQgPSBmaW5kKFxuXHRcdFx0XHRcdHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSxcblx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbMF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdFx0XHRcdCkpICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdHNlbGVjdG9yID0gc2VlZC5sZW5ndGggJiYgdG9TZWxlY3RvciggdG9rZW5zICk7XG5cdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuXHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcblx0XHRzZWVkLFxuXHRcdGNvbnRleHQsXG5cdFx0IWRvY3VtZW50SXNIVE1MLFxuXHRcdHJlc3VsdHMsXG5cdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG5cbi8vIFNvcnQgc3RhYmlsaXR5XG5zdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KFwiXCIpLnNvcnQoIHNvcnRPcmRlciApLmpvaW4oXCJcIikgPT09IGV4cGFuZG87XG5cbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcbi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXG4vLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbnNldERvY3VtZW50KCk7XG5cbi8vIFN1cHBvcnQ6IFdlYmtpdDw1MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpICkgJiAxO1xufSk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8aW5wdXQvPlwiO1xuXHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0pO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59KSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcblxuLy8gRGVwcmVjYXRlZFxualF1ZXJ5LmV4cHJbIFwiOlwiIF0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zO1xualF1ZXJ5LnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XG5qUXVlcnkudGV4dCA9IFNpenpsZS5nZXRUZXh0O1xualF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xualF1ZXJ5LmVzY2FwZVNlbGVjdG9yID0gU2l6emxlLmVzY2FwZTtcblxuXG5cblxudmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdLFxuXHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblxuXHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHtcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHNpYmxpbmdzID0gZnVuY3Rpb24oIG4sIGVsZW0gKSB7XG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0Zm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHtcblx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdG1hdGNoZWQucHVzaCggbiApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblxudmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pICk7XG5cblxuXG52YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIFNpbmdsZSBlbGVtZW50XG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRzLCBBcnJheSlcblx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW1wbGUgc2VsZWN0b3IgdGhhdCBjYW4gYmUgZmlsdGVyZWQgZGlyZWN0bHksIHJlbW92aW5nIG5vbi1FbGVtZW50c1xuXHRpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdH1cblxuXHQvLyBDb21wbGV4IHNlbGVjdG9yLCBjb21wYXJlIHRoZSB0d28gc2V0cywgcmVtb3Zpbmcgbm9uLUVsZW1lbnRzXG5cdHF1YWxpZmllciA9IGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMgKTtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdCAmJiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHR0aGlzWyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuXHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdHRoaXNbIDAgXSA9IHNlbGVjdG9yO1xuXHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1sgaSBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHR0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApO1xuXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cblx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHR0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0XHRjdXIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBJbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcblxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cblx0XHQpO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9XG59ICk7XG5cbmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKCB7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudCB8fCBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90aHRtbHdoaXRlID0gKCAvW15cXHgyMFxcdFxcclxcblxcZl0rL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIG5vbi10aGVuYWJsZXNcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0XHRyZXNvbHZlLmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuY2FsbCggdW5kZWZpbmVkLCB2YWx1ZSApO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0dmFyIG1heERlcHRoID0gMDtcblx0XHRcdFx0XHRmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRcdFx0XHRhcmdzID0gYXJndW1lbnRzLFxuXHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCwgdGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhlbiA9IHJldHVybmVkICYmXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIiApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIubm90aWZ5V2l0aFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAxIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2tcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdGxpc3QuYWRkKCB0dXBsZVsgMyBdLmZpcmUgKTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHR2YXJcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdGkgPSByZW1haW5pbmcsXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXG5cdFx0XHRyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cblx0XHRcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWRcblx0XHRcdG1hc3RlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXG5cdFx0XHQvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XG5cdFx0XHR1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRtYXN0ZXIucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRpZiAoIHJlbWFpbmluZyA8PSAxICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIG1hc3Rlci5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBtYXN0ZXIucmVqZWN0ICk7XG5cblx0XHRcdC8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMClcblx0XHRcdGlmICggbWFzdGVyLnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XG5cdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFzdGVyLnByb21pc2UoKTtcblx0fVxufSApO1xuXG5cbi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXG52YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblxualF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcblx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7XG5cdH1cbn07XG5cblxuXG5cbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGVycm9yO1xuXHR9ICk7XG59O1xuXG5cblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdHJlYWR5TGlzdFxuXHRcdC50aGVuKCBmbiApXG5cblx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuXHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0Ly8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XG5cdGhvbGRSZWFkeTogZnVuY3Rpb24oIGhvbGQgKSB7XG5cdFx0aWYgKCBob2xkICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuXHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG5cdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuXG5cdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XG5cbi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXG4vLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0KCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XG5cblx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxufSBlbHNlIHtcblxuXHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xufVxuXG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cblx0XHRcdFx0XHR2YWx1ZSA6XG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIGNoYWluYWJsZSApIHtcblx0XHRyZXR1cm4gZWxlbXM7XG5cdH1cblxuXHQvLyBHZXRzXG5cdGlmICggYnVsayApIHtcblx0XHRyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTtcblx0fVxuXG5cdHJldHVybiBsZW4gPyBmbiggZWxlbXNbIDAgXSwga2V5ICkgOiBlbXB0eUdldDtcbn07XG52YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHQvLyBBY2NlcHRzIG9ubHk6XG5cdC8vICAtIE5vZGVcblx0Ly8gICAgLSBOb2RlLkVMRU1FTlRfTk9ERVxuXHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuXHQvLyAgLSBPYmplY3Rcblx0Ly8gICAgLSBBbnlcblx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xufTtcblxuXG5cblxuZnVuY3Rpb24gRGF0YSgpIHtcblx0dGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrO1xufVxuXG5EYXRhLnVpZCA9IDE7XG5cbkRhdGEucHJvdG90eXBlID0ge1xuXG5cdGNhY2hlOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcblx0XHR2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcblx0XHRpZiAoICF2YWx1ZSApIHtcblx0XHRcdHZhbHVlID0ge307XG5cblx0XHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGU7XG5cdH0sXG5cdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMuY2FjaGUoIG93bmVyICkgOlxuXG5cdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHQvL1xuXHRcdC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3Rcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0Ly9cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCBvd25lciwga2V5ICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0Y2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIGtleSApICkge1xuXG5cdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxuXHRcdFx0XHRrZXkgPSBrZXkubWFwKCBqUXVlcnkuY2FtZWxDYXNlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRrZXkgPSBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdGtleSA9IGtleSBpbiBjYWNoZSA/XG5cdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0KCBrZXkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpID0ga2V5Lmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZ2V0RGF0YSggZGF0YSApIHtcblx0aWYgKCBkYXRhID09PSBcInRydWVcIiApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJmYWxzZVwiICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJudWxsXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXCJcIiApIHtcblx0XHRyZXR1cm4gK2RhdGE7XG5cdH1cblxuXHRpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBkYXRhQXR0ciggZWxlbSwga2V5LCBkYXRhICkge1xuXHR2YXIgbmFtZTtcblxuXHQvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG5cdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxuXHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXCItJCZcIiApLnRvTG93ZXJDYXNlKCk7XG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGdldERhdGEoIGRhdGEgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuXHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHR9XG5cdH0sXG5cblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXG5cdFx0XHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG5cdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0cXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdH1cblxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcblx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgXCJxdWV1ZVwiLCBrZXkgXSApO1xuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcyA6XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9ICk7XG5cdH0sXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0fSxcblxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSApO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0ZWxlbSA9IGVsIHx8IGVsZW07XG5cblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0Ly8gaW4gdGhlIGRvY3VtZW50LlxuXHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLFxuXHRcdHNjYWxlID0gMSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHRkbyB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqLlxuXHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xuXG5cdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcblx0XHQvLyBCcmVhayB0aGUgbG9vcCBpZiBzY2FsZSBpcyB1bmNoYW5nZWQgb3IgcGVyZmVjdCwgb3IgaWYgd2UndmUganVzdCBoYWQgZW5vdWdoLlxuXHRcdH0gd2hpbGUgKFxuXHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcblx0XHQpO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcbnZhciB3cmFwTWFwID0ge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cblx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG5cdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLFxuXHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5cbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBjb250YWlucywgaixcblx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1zWyBpIF07XG5cblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblxuXHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG5cdGkgPSAwO1xuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXG5cdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdGlmICggaWdub3JlZCApIHtcblx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjb250YWlucyA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHR0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksIFwic2NyaXB0XCIgKTtcblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRpZiAoIGNvbnRhaW5zICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRzY3JpcHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG59ICkoKTtcbnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuXG52YXJcblx0cmtleUV2ZW50ID0gL15rZXkvLFxuXHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xuXHRcdH1cblx0XHRpZiAoICEoIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlICkgKSB7XG5cdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdC8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kXG5cdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdHZhciBldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICk7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzID0ge307XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGpRdWVyeS5pc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDEgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDIgKSB7XG5cdFx0XHRcdHJldHVybiAzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDQgKSB7XG5cdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlICovXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHBpeGVsTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1wiICtcblx0XHRcInBhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgKCMxMjUzNylcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcyApIHtcblx0dmFyIGksXG5cdFx0dmFsID0gMDtcblxuXHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cblx0aWYgKCBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApICkge1xuXHRcdGkgPSA0O1xuXG5cdC8vIE90aGVyd2lzZSBpbml0aWFsaXplIGZvciBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHByb3BlcnRpZXNcblx0fSBlbHNlIHtcblx0XHRpID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gMSA6IDA7XG5cdH1cblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG5cdFx0aWYgKCBleHRyYSA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcblx0XHRcdGlmICggZXh0cmEgPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbDtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKSB7XG5cblx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcblx0dmFyIHZhbCxcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcblx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRpZiAoIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0dmFsID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVsgbmFtZSBdO1xuXHR9XG5cblx0Ly8gU29tZSBub24taHRtbCBlbGVtZW50cyByZXR1cm4gdW5kZWZpbmVkIGZvciBvZmZzZXRXaWR0aCwgc28gY2hlY2sgZm9yIG51bGwvdW5kZWZpbmVkXG5cdC8vIHN2ZyAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY0OTI4NVxuXHQvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2Njhcblx0aWYgKCB2YWwgPD0gMCB8fCB2YWwgPT0gbnVsbCApIHtcblxuXHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0aWYgKCB2YWwgPCAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG5cdFx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJlxuXHRcdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuXHRcdC8vIE5vcm1hbGl6ZSBcIlwiLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcblx0XHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXHR9XG5cblx0Ly8gVXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcblx0cmV0dXJuICggdmFsICtcblx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdGVsZW0sXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlc1xuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdCggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG9yaWdOYW1lICkgfHwgb3JpZ05hbWUgKTtcblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSAmJiBhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHxcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgdGltZXJJZCxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiByYWYoKSB7XG5cdGlmICggdGltZXJJZCApIHtcblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByYWYgKTtcblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblxuXHRcdFx0Ly8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdGFuaW0gPSB0aGlzLFxuXHRcdG9yaWcgPSB7fSxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDEzXG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1lcblx0XHRvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuXHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHR9XG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXG5cdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdHBlcmNlbnQgPSAxIC0gdGVtcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdICk7XG5cblx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gcmVtYWluaW5nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkge1xuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdGpRdWVyeS5wcm94eSggcmVzdWx0LnN0b3AsIHJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0gKVxuXHQpO1xuXG5cdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdHJldHVybiBhbmltYXRpb24ucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHQuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXHRcdH1cblxuXHRcdHZhciBwcm9wLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0gQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZiBvciBpZiBkb2N1bWVudCBpcyBoaWRkZW5cblx0aWYgKCBqUXVlcnkuZngub2ZmIHx8IGRvY3VtZW50LmhpZGRlbiApIHtcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0aWYgKCBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyApIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCBcImZpbmlzaFwiICkgKSB7XG5cdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblxuXHRcdHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cblx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHR2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuXHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJlxuXHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG5cdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0aWYgKCB0aW1lcigpICkge1xuXHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS50aW1lcnMucG9wKCk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggIXRpbWVySWQgKSB7XG5cdFx0dGltZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgP1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICkgOlxuXHRcdFx0d2luZG93LnNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGlmICggd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSggdGltZXJJZCApO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cdH1cblxuXHR0aW1lcklkID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4vLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuXHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblxuXHRcdFx0Ly8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuXHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdGlmICggdGFiaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4vLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cblx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuXHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmZyYXN0cnVjdHVyZS5odG1sI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UoIHZhbHVlICkge1xuXHRcdHZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHRcdHJldHVybiB0b2tlbnMuam9pbiggXCIgXCIgKTtcblx0fVxuXG5cbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xuXHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8IFwiXCI7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cblx0XHRcdFx0Ly8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApO1xuXHRcdFx0XHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIHJyZXR1cm4gPSAvXFxyL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRpZiAoIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0cmV0dXJuIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0c3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmICggaW5kZXggPCAwICkge1xuXHRcdFx0XHRcdGkgPSBtYXg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpID0gb25lID8gaW5kZXggOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFqUXVlcnkubm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKCBbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0Ly8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblx0XHRcdFx0XHRlbGVtWyB0eXBlIF0oKTtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHR9XG5cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9ICk7XG5cdH0sXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZWFjaCggKCBcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcblx0XCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG5cdFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVwiICkuc3BsaXQoIFwiIFwiICksXG5cdGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXG5cdC8vIEhhbmRsZSBldmVudCBiaW5kaW5nXG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG5cdFx0XHR0aGlzLm9uKCBuYW1lLCBudWxsLCBkYXRhLCBmbiApIDpcblx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0fVxufSApO1xuXG5cblxuXG5zdXBwb3J0LmZvY3VzaW4gPSBcIm9uZm9jdXNpblwiIGluIHdpbmRvdztcblxuXG4vLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblxudmFyIG5vbmNlID0galF1ZXJ5Lm5vdygpO1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWw7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cblx0dHJ5IHtcblx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xuXHR9IGNhdGNoICggZSApIHtcblx0XHR4bWwgPSB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoICF4bWwgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKS5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcblx0fVxuXHRyZXR1cm4geG1sO1xufTtcblxuXG52YXJcblx0cmJyYWNrZXQgPSAvXFxbXFxdJC8sXG5cdHJDUkxGID0gL1xccj9cXG4vZyxcblx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cbmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0dmFyIG5hbWU7XG5cblx0aWYgKCBqUXVlcnkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHR2YXIgdmFsdWUgPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBqUXVlcnkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XG5cdFx0fSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7XG5cdH0sXG5cdHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG5cdFx0XHR2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXCJlbGVtZW50c1wiICk7XG5cdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHR9IClcblx0XHQuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXG5cdFx0XHQvLyBVc2UgLmlzKCBcIjpkaXNhYmxlZFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3Ncblx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0cnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxuXHRcdFx0XHQoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XG5cdFx0fSApXG5cdFx0Lm1hcCggZnVuY3Rpb24oIGksIGVsZW0gKSB7XG5cdFx0XHR2YXIgdmFsID0galF1ZXJ5KCB0aGlzICkudmFsKCk7XG5cblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0fSApLmdldCgpO1xuXHR9XG59ICk7XG5cblxudmFyXG5cdHIyMCA9IC8lMjAvZyxcblx0cmhhc2ggPSAvIy4qJC8sXG5cdHJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0YWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KCBcIipcIiApLFxuXG5cdC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0aHRtbDogL1xcYmh0bWwvLFxuXHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblxuXHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0Y2FjaGVVUkwsXG5cblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHR1cmxBbmNob3IsXG5cblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdGNvbXBsZXRlZCxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHR1bmNhY2hlZCxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXG5cdFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDEzXG5cdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XG5cdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cblx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHQvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdHJldHVybiBqcVhIUjtcblx0XHR9XG5cblx0XHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuXHRcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpXG5cdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cblx0XHQvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXG5cdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RhcnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuXHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuXHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cblx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHR1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTtcblxuXHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0aWYgKCBzLmRhdGEgKSB7XG5cdFx0XHRcdGNhY2hlVVJMICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGE7XG5cblx0XHRcdFx0Ly8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuXHRcdFx0XHRkZWxldGUgcy5kYXRhO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgb3IgdXBkYXRlIGFudGktY2FjaGUgcGFyYW0gaWYgbmVlZGVkXG5cdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRjYWNoZVVSTCA9IGNhY2hlVVJMLnJlcGxhY2UoIHJhbnRpQ2FjaGUsIFwiJDFcIiApO1xuXHRcdFx0XHR1bmNhY2hlZCA9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBcIl89XCIgKyAoIG5vbmNlKysgKSArIHVuY2FjaGVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQdXQgaGFzaCBhbmQgYW50aS1jYWNoZSBvbiB0aGUgVVJMIHRoYXQgd2lsbCBiZSByZXF1ZXN0ZWQgKGdoLTE3MzIpXG5cdFx0XHRzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XG5cblx0XHQvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2RlZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OClcblx0XHR9IGVsc2UgaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJlxuXHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKS5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgKSB7XG5cdFx0XHRzLmRhdGEgPSBzLmRhdGEucmVwbGFjZSggcjIwLCBcIitcIiApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTW9kaWZpZWQtU2luY2VcIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Ob25lLU1hdGNoXCIsIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxuXHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXG5cdFx0XHRcIkFjY2VwdFwiLFxuXHRcdFx0cy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/XG5cdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICtcblx0XHRcdFx0XHQoIHMuZGF0YVR5cGVzWyAwIF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiICkgOlxuXHRcdFx0XHRzLmFjY2VwdHNbIFwiKlwiIF1cblx0XHQpO1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXG5cdFx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBzLmhlYWRlcnNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcblx0XHRpZiAoIHMuYmVmb3JlU2VuZCAmJlxuXHRcdFx0KCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBjb21wbGV0ZWQgKSApIHtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXG5cdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHR9XG5cblx0XHQvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRzdHJBYm9ydCA9IFwiYWJvcnRcIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdGNvbXBsZXRlRGVmZXJyZWQuYWRkKCBzLmNvbXBsZXRlICk7XG5cdFx0anFYSFIuZG9uZSggcy5zdWNjZXNzICk7XG5cdFx0anFYSFIuZmFpbCggcy5lcnJvciApO1xuXG5cdFx0Ly8gR2V0IHRyYW5zcG9ydFxuXHRcdHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XG5cdFx0aWYgKCAhdHJhbnNwb3J0ICkge1xuXHRcdFx0ZG9uZSggLTEsIFwiTm8gVHJhbnNwb3J0XCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XG5cblx0XHRcdC8vIFNlbmQgZ2xvYmFsIGV2ZW50XG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4U2VuZFwiLCBbIGpxWEhSLCBzIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRpbWVvdXRcblx0XHRcdGlmICggcy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwICkge1xuXHRcdFx0XHR0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0anFYSFIuYWJvcnQoIFwidGltZW91dFwiICk7XG5cdFx0XHRcdH0sIHMudGltZW91dCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb21wbGV0ZWQgPSBmYWxzZTtcblx0XHRcdFx0dHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBkb25lICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHNcblx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsYmFjayBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGRvbmVcblx0XHRmdW5jdGlvbiBkb25lKCBzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycyApIHtcblx0XHRcdHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsXG5cdFx0XHRcdHN0YXR1c1RleHQgPSBuYXRpdmVTdGF0dXNUZXh0O1xuXG5cdFx0XHQvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb21wbGV0ZWQgPSB0cnVlO1xuXG5cdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcblx0XHRcdHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTZXQgcmVhZHlTdGF0ZVxuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcblxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcblx0XHRcdGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xuXG5cdFx0XHQvLyBHZXQgcmVzcG9uc2UgZGF0YVxuXHRcdFx0aWYgKCByZXNwb25zZXMgKSB7XG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApO1xuXG5cdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJMYXN0LU1vZGlmaWVkXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcImV0YWdcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIG5vIGNvbnRlbnRcblx0XHRcdFx0aWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFwiSEVBRFwiICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vY29udGVudFwiO1xuXG5cdFx0XHRcdC8vIGlmIG5vdCBtb2RpZmllZFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcblx0XHRcdFx0XHRzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuXHRcdFx0XHRcdGlzU3VjY2VzcyA9ICFlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzXG5cdFx0XHRcdGVycm9yID0gc3RhdHVzVGV4dDtcblx0XHRcdFx0aWYgKCBzdGF0dXMgfHwgIXN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwiZXJyb3JcIjtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA8IDAgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXMgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuXHRcdFx0anFYSFIuc3RhdHVzID0gc3RhdHVzO1xuXHRcdFx0anFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyBcIlwiO1xuXG5cdFx0XHQvLyBTdWNjZXNzL0Vycm9yXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQsIGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcblx0XHRcdHN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBpc1N1Y2Nlc3MgPyBcImFqYXhTdWNjZXNzXCIgOiBcImFqYXhFcnJvclwiLFxuXHRcdFx0XHRcdFsganFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbXBsZXRlXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyXG5cdFx0XHRcdGlmICggISggLS1qUXVlcnkuYWN0aXZlICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0b3BcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpxWEhSO1xuXHR9LFxuXG5cdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuXHR9LFxuXG5cdGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwiZ2V0XCIsIFwicG9zdFwiIF0sIGZ1bmN0aW9uKCBpLCBtZXRob2QgKSB7XG5cdGpRdWVyeVsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjaywgdHlwZSApIHtcblxuXHRcdC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuXHRcdHJldHVybiBqUXVlcnkuYWpheCggalF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cdFx0XHR0eXBlOiBtZXRob2QsXG5cdFx0XHRkYXRhVHlwZTogdHlwZSxcblx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xuXHR9O1xufSApO1xuXG5cbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xuXHRcdHVybDogdXJsLFxuXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRjYWNoZTogdHJ1ZSxcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblx0XHRcInRocm93c1wiOiB0cnVlXG5cdH0gKTtcbn07XG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR3cmFwQWxsOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgd3JhcDtcblxuXHRcdGlmICggdGhpc1sgMCBdICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcblx0XHRcdHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSApLmFwcGVuZCggdGhpcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXG5cdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgaXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGlzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG59O1xualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG59O1xuXG5cblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdDEyMjM6IDIwNFxuXHR9LFxuXHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XG5zdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHR2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG5cblx0Ly8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxuXHRpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0eGhyID0gb3B0aW9ucy54aHIoKTtcblxuXHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRvcHRpb25zLnR5cGUsXG5cdFx0XHRcdFx0b3B0aW9ucy51cmwsXG5cdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRvcHRpb25zLnVzZXJuYW1lLFxuXHRcdFx0XHRcdG9wdGlvbnMucGFzc3dvcmRcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSApIHtcblx0XHRcdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcblx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHQvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuXHRcdFx0XHQvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcblx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNldCBoZWFkZXJzXG5cdFx0XHRcdGZvciAoIGkgaW4gaGVhZGVycyApIHtcblx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxuXHRcdFx0XHRcdFx0XHRcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXCJlcnJvclwiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0XHQvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCAwLCBcImVycm9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlICM4NjA1LCAjMTQyMDdcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXG5cdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gTGlzdGVuIHRvIGV2ZW50c1xuXHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0ZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0gY2FsbGJhY2soIFwiZXJyb3JcIiApO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHQvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuXHRcdFx0XHQvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXG5cdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcblx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXG5cdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuXHRcdFx0XHRcdFx0XHQvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcblx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXCJhYm9ydFwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcblx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gIzE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcblx0fVxufSApO1xuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xuXHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHR9LFxuXHRjb250ZW50czoge1xuXHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdH0sXG5cdGNvbnZlcnRlcnM6IHtcblx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0fVxufSApO1xuXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblxuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoIFwiPHNjcmlwdD5cIiApLnByb3AoIHtcblx0XHRcdFx0XHRjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsXG5cdFx0XHRcdFx0c3JjOiBzLnVybFxuXHRcdFx0XHR9ICkub24oXG5cdFx0XHRcdFx0XCJsb2FkIGVycm9yXCIsXG5cdFx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdH0sXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSApO1xuXG4vLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcImpzb24ganNvbnBcIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkge1xuXG5cdHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcblx0XHRqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgP1xuXHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHR0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdCk7XG5cblx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuXHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBqUXVlcnkuaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgP1xuXHRcdFx0cy5qc29ucENhbGxiYWNrKCkgOlxuXHRcdFx0cy5qc29ucENhbGxiYWNrO1xuXG5cdFx0Ly8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuXHRcdGlmICgganNvblByb3AgKSB7XG5cdFx0XHRzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSApO1xuXHRcdH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuXHRcdFx0cy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG5cdFx0cy5jb252ZXJ0ZXJzWyBcInNjcmlwdCBqc29uXCIgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhcmVzcG9uc2VDb250YWluZXIgKSB7XG5cdFx0XHRcdGpRdWVyeS5lcnJvciggY2FsbGJhY2tOYW1lICsgXCIgd2FzIG5vdCBjYWxsZWRcIiApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWyAwIF07XG5cdFx0fTtcblxuXHRcdC8vIEZvcmNlIGpzb24gZGF0YVR5cGVcblx0XHRzLmRhdGFUeXBlc1sgMCBdID0gXCJqc29uXCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrXG5cdFx0b3ZlcndyaXR0ZW4gPSB3aW5kb3dbIGNhbGxiYWNrTmFtZSBdO1xuXHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xuXHRcdH07XG5cblx0XHQvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcblx0XHRqcVhIUi5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXRcblx0XHRcdGlmICggb3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0alF1ZXJ5KCB3aW5kb3cgKS5yZW1vdmVQcm9wKCBjYWxsYmFja05hbWUgKTtcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdGlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7XG5cblx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG5cdFx0XHRcdHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcblxuXHRcdFx0XHQvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG5cdFx0XHRcdG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG5cdFx0XHRpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuXHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdH0gKTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcbi8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcbi8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxuLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xuXHR2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApLmJvZHk7XG5cdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcbn0gKSgpO1xuXG5cbi8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcblx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdH1cblxuXHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXG5cdGlmICggIWNvbnRleHQgKSB7XG5cblx0XHQvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxuXHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICk7XG5cblx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcblx0XHRcdC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXG5cdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0YmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblx0XHRcdGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7XG5cdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cblx0Ly8gU2luZ2xlIHRhZ1xuXHRpZiAoIHBhcnNlZCApIHtcblx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8qKlxuICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuICovXG5qUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7XG5cdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XG5cblx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UoIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG4vKipcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0Vmlldztcbn1cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIGRvY0VsZW0sIHdpbiwgcmVjdCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIG5vdCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpXG5cdFx0aWYgKCByZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0ICkge1xuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG5cdFx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdHJldHVybiByZWN0O1xuXHR9LFxuXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxuXHRcdC8vIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB0aGVyZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0ID0ge1xuXHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblx0XHRcdHZhciB3aW4gPSBnZXRXaW5kb3coIGVsZW0gKTtcblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblxuXHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyBcInB4XCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcbn0gKTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG52YXJcblxuXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cblx0Ly8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0XyQgPSB3aW5kb3cuJDtcblxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcblx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy4kID0gXyQ7XG5cdH1cblxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeTtcbn07XG5cbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXG4vLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG4vLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXG5pZiAoICFub0dsb2JhbCApIHtcblx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xufVxuXG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iLCIvKiFcbiAqIEphdmFTY3JpcHQgQ29va2llIHYyLjIuMFxuICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiwgMjAxNSBLbGF1cyBIYXJ0bCAmIEZhZ25lciBCcmFja1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0dmFyIHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IGZhbHNlO1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKCFyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIpIHtcblx0XHR2YXIgT2xkQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuXHRcdHZhciBhcGkgPSB3aW5kb3cuQ29va2llcyA9IGZhY3RvcnkoKTtcblx0XHRhcGkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHdpbmRvdy5Db29raWVzID0gT2xkQ29va2llcztcblx0XHRcdHJldHVybiBhcGk7XG5cdFx0fTtcblx0fVxufShmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIGV4dGVuZCAoKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHNbIGkgXTtcblx0XHRcdGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdHJlc3VsdFtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCAoY29udmVydGVyKSB7XG5cdFx0ZnVuY3Rpb24gYXBpIChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXcml0ZVxuXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHRcdH0sIGFwaS5kZWZhdWx0cywgYXR0cmlidXRlcyk7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0dmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGV4cGlyZXMuc2V0TWlsbGlzZWNvbmRzKGV4cGlyZXMuZ2V0TWlsbGlzZWNvbmRzKCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xuXHRcdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGV4cGlyZXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSdyZSB1c2luZyBcImV4cGlyZXNcIiBiZWNhdXNlIFwibWF4LWFnZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcblx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJztcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdFx0XHRpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRcdFx0aWYgKCFjb252ZXJ0ZXIud3JpdGUpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKVxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRrZXkgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGtleSkpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XG5cblx0XHRcdFx0dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuXG5cdFx0XHRcdGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblx0XHRcdFx0XHRpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAoZG9jdW1lbnQuY29va2llID0ga2V5ICsgJz0nICsgdmFsdWUgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZWFkXG5cblx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdHJlc3VsdCA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG5cdFx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC4gQWxzbyBwcmV2ZW50cyBvZGQgcmVzdWx0IHdoZW5cblx0XHRcdC8vIGNhbGxpbmcgXCJnZXQoKVwiXG5cdFx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXHRcdFx0dmFyIHJkZWNvZGUgPSAvKCVbMC05QS1aXXsyfSkrL2c7XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cblx0XHRcdFx0aWYgKCF0aGlzLmpzb24gJiYgY29va2llLmNoYXJBdCgwKSA9PT0gJ1wiJykge1xuXHRcdFx0XHRcdGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHZhciBuYW1lID0gcGFydHNbMF0ucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHRcdFx0XHRcdGNvb2tpZSA9IGNvbnZlcnRlci5yZWFkID9cblx0XHRcdFx0XHRcdGNvbnZlcnRlci5yZWFkKGNvb2tpZSwgbmFtZSkgOiBjb252ZXJ0ZXIoY29va2llLCBuYW1lKSB8fFxuXHRcdFx0XHRcdFx0Y29va2llLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcblxuXHRcdFx0XHRcdGlmICh0aGlzLmpzb24pIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvb2tpZSA9IEpTT04ucGFyc2UoY29va2llKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGtleSA9PT0gbmFtZSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gY29va2llO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFrZXkpIHtcblx0XHRcdFx0XHRcdHJlc3VsdFtuYW1lXSA9IGNvb2tpZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0YXBpLnNldCA9IGFwaTtcblx0XHRhcGkuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGFwaS5jYWxsKGFwaSwga2V5KTtcblx0XHR9O1xuXHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGFwaS5hcHBseSh7XG5cdFx0XHRcdGpzb246IHRydWVcblx0XHRcdH0sIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cdFx0fTtcblx0XHRhcGkuZGVmYXVsdHMgPSB7fTtcblxuXHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRhcGkoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0ZXhwaXJlczogLTFcblx0XHRcdH0pKTtcblx0XHR9O1xuXG5cdFx0YXBpLndpdGhDb252ZXJ0ZXIgPSBpbml0O1xuXG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdHJldHVybiBpbml0KGZ1bmN0aW9uICgpIHt9KTtcbn0pKTtcbiIsInZhciBTdGF0ZSA9IHJlcXVpcmUoJy4vbGliL3N0YXRlJylcbnZhciB0b2tlbml6ZSA9IHJlcXVpcmUoJy4vbGliL3Rva2VuaXplJylcblxudmFyIHRva2VuaXplZENhY2hlID0ge31cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBqc29uUXVlcnkgKHF1ZXJ5LCBvcHRpb25zKSB7XG5cbiAgLy8gZXh0cmFjdCBwYXJhbXMgZm9yIFsndGVzdFtwYXJhbT0/XScsICd2YWx1ZSddIHR5cGUgcXVlcmllc1xuICB2YXIgcGFyYW1zID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmFtcyB8fCBudWxsXG4gIGlmIChBcnJheS5pc0FycmF5KHF1ZXJ5KSkge1xuICAgIHBhcmFtcyA9IHF1ZXJ5LnNsaWNlKDEpXG4gICAgcXVlcnkgPSBxdWVyeVswXVxuICB9XG5cbiAgaWYgKCF0b2tlbml6ZWRDYWNoZVtxdWVyeV0pIHtcbiAgICB0b2tlbml6ZWRDYWNoZVtxdWVyeV0gPSB0b2tlbml6ZShxdWVyeSwgdHJ1ZSlcbiAgfVxuXG4gIHJldHVybiBoYW5kbGVRdWVyeSh0b2tlbml6ZWRDYWNoZVtxdWVyeV0sIG9wdGlvbnMsIHBhcmFtcylcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5sYXN0UGFyZW50ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIHZhciBsYXN0ID0gcXVlcnkucGFyZW50c1txdWVyeS5wYXJlbnRzLmxlbmd0aCAtIDFdXG4gIGlmIChsYXN0KSB7XG4gICAgcmV0dXJuIGxhc3QudmFsdWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cblxuZnVuY3Rpb24gaGFuZGxlUXVlcnkgKHRva2Vucywgb3B0aW9ucywgcGFyYW1zKSB7XG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZShvcHRpb25zLCBwYXJhbXMsIGhhbmRsZVF1ZXJ5KVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhbmRsZVRva2VuKHRva2Vuc1tpXSwgc3RhdGUpKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIC8vIGZsdXNoXG4gIGhhbmRsZVRva2VuKG51bGwsIHN0YXRlKVxuXG4gIC8vIHNldCBkYXRhYmluZCBob29rc1xuICBpZiAoc3RhdGUuY3VycmVudEl0ZW0gaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICBzdGF0ZS5hZGRSZWZlcmVuY2Uoc3RhdGUuY3VycmVudEl0ZW0pXG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcmVudE9iamVjdCA9IGdldExhc3RQYXJlbnRPYmplY3Qoc3RhdGUuY3VycmVudFBhcmVudHMpXG4gICAgaWYgKHBhcmVudE9iamVjdCkge1xuICAgICAgc3RhdGUuYWRkUmVmZXJlbmNlKHBhcmVudE9iamVjdClcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZhbHVlOiBzdGF0ZS5jdXJyZW50SXRlbSxcbiAgICBrZXk6IHN0YXRlLmN1cnJlbnRLZXksXG4gICAgcmVmZXJlbmNlczogc3RhdGUuY3VycmVudFJlZmVyZW5jZXMsXG4gICAgcGFyZW50czogc3RhdGUuY3VycmVudFBhcmVudHNcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUb2tlbiAodG9rZW4sIHN0YXRlKSB7XG4gIC8vIHN0YXRlOiBzZXRDdXJyZW50LCBnZXRWYWx1ZSwgZ2V0VmFsdWVzLCByZXNldEN1cnJlbnQsIGRlZXBRdWVyeSwgcm9vdENvbnRleHQsIGN1cnJlbnRJdGVtLCBjdXJyZW50S2V5LCBvcHRpb25zLCBmaWx0ZXJzXG5cbiAgaWYgKHRva2VuID09IG51bGwpIHtcbiAgICAvLyBwcm9jZXNzIGVuZCBvZiBxdWVyeVxuICAgIGlmICghc3RhdGUuY3VycmVudEl0ZW0gJiYgc3RhdGUub3B0aW9ucy5mb3JjZSkge1xuICAgICAgc3RhdGUuZm9yY2Uoc3RhdGUub3B0aW9ucy5mb3JjZSlcbiAgICB9XG4gIH0gZWxzZSBpZiAodG9rZW4udmFsdWVzKSB7XG4gICAgaWYgKHN0YXRlLmN1cnJlbnRJdGVtKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHN0YXRlLmN1cnJlbnRJdGVtKVxuICAgICAgdmFyIHZhbHVlcyA9IFtdXG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodG9rZW4uZGVlcCAmJiBBcnJheS5pc0FycmF5KHN0YXRlLmN1cnJlbnRJdGVtW2tleV0pKSB7XG4gICAgICAgICAgc3RhdGUuY3VycmVudEl0ZW1ba2V5XS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChpdGVtKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goc3RhdGUuY3VycmVudEl0ZW1ba2V5XSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHN0YXRlLnNldEN1cnJlbnQoa2V5cywgdmFsdWVzKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5zZXRDdXJyZW50KGtleXMsIFtdKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0b2tlbi5nZXQpIHtcbiAgICB2YXIga2V5ID0gc3RhdGUuZ2V0VmFsdWUodG9rZW4uZ2V0KVxuICAgIGlmIChzaG91bGRPdmVycmlkZShzdGF0ZSwga2V5KSkge1xuICAgICAgc3RhdGUuc2V0Q3VycmVudChrZXksIHN0YXRlLm92ZXJyaWRlW2tleV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZS5jdXJyZW50SXRlbSB8fCAoc3RhdGUub3B0aW9ucy5mb3JjZSAmJiBzdGF0ZS5mb3JjZSh7fSkpKSB7XG4gICAgICAgIGlmIChpc0RlZXBBY2Nlc3NvcihzdGF0ZS5jdXJyZW50SXRlbSwga2V5KSB8fCB0b2tlbi5tdWx0aXBsZSkge1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSBzdGF0ZS5jdXJyZW50SXRlbS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtW2tleV1cbiAgICAgICAgICB9KS5maWx0ZXIoaXNEZWZpbmVkKVxuXG4gICAgICAgICAgdmFsdWVzID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgdmFsdWVzKSAvLyBmbGF0dGVuXG5cbiAgICAgICAgICBzdGF0ZS5zZXRDdXJyZW50KGtleSwgdmFsdWVzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnNldEN1cnJlbnQoa2V5LCBzdGF0ZS5jdXJyZW50SXRlbVtrZXldKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5zZXRDdXJyZW50KGtleSwgbnVsbClcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodG9rZW4uc2VsZWN0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RhdGUuY3VycmVudEl0ZW0pIHx8IChzdGF0ZS5vcHRpb25zLmZvcmNlICYmIHN0YXRlLmZvcmNlKFtdKSkpIHtcbiAgICAgIHZhciBtYXRjaCA9ICh0b2tlbi5ib29sZWFuID8gdG9rZW4uc2VsZWN0IDogW3Rva2VuXSkubWFwKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgIGlmIChwYXJ0Lm9wID09PSAnOicpIHtcbiAgICAgICAgICB2YXIga2V5ID0gc3RhdGUuZ2V0VmFsdWUocGFydC5zZWxlY3RbMF0pXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZ1bmM6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbVtrZXldXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmdldFZhbHVlRnJvbShwYXJ0LnNlbGVjdFsxXSwgaXRlbSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZWdhdGU6IHBhcnQubmVnYXRlLFxuICAgICAgICAgICAgYm9vbGVhbk9wOiBwYXJ0LmJvb2xlYW5PcFxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzdGF0ZS5nZXRWYWx1ZXMocGFydC5zZWxlY3QpXG4gICAgICAgICAgaWYgKCFzdGF0ZS5vcHRpb25zLmFsbG93UmVnZXhwICYmIHBhcnQub3AgPT09ICd+JyAmJiBzZWxlY3RvclsxXSBpbnN0YW5jZW9mIFJlZ0V4cCkgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zLmFsbG93UmVnZXhwIGlzIG5vdCBlbmFibGVkLicpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogc2VsZWN0b3JbMF0sXG4gICAgICAgICAgICB2YWx1ZTogc2VsZWN0b3JbMV0sXG4gICAgICAgICAgICBuZWdhdGU6IHBhcnQubmVnYXRlLFxuICAgICAgICAgICAgYm9vbGVhbk9wOiBwYXJ0LmJvb2xlYW5PcCxcbiAgICAgICAgICAgIG9wOiBwYXJ0Lm9wXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBpZiAodG9rZW4ubXVsdGlwbGUpIHtcbiAgICAgICAgdmFyIGtleXMgPSBbXVxuICAgICAgICB2YXIgdmFsdWUgPSBbXVxuICAgICAgICBzdGF0ZS5jdXJyZW50SXRlbS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgaWYgKG1hdGNoZXMoaXRlbSwgbWF0Y2gpKSB7XG4gICAgICAgICAgICBrZXlzLnB1c2goaSlcbiAgICAgICAgICAgIHZhbHVlLnB1c2goaXRlbSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHN0YXRlLnNldEN1cnJlbnQoa2V5cywgdmFsdWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXN0YXRlLmN1cnJlbnRJdGVtLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICBpZiAobWF0Y2hlcyhpdGVtLCBtYXRjaCkpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldEN1cnJlbnQoaSwgaXRlbSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KSkge1xuICAgICAgICAgIHN0YXRlLnNldEN1cnJlbnQobnVsbCwgbnVsbClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5zZXRDdXJyZW50KG51bGwsIG51bGwpXG4gICAgfVxuICB9IGVsc2UgaWYgKHRva2VuLnJvb3QpIHtcbiAgICBzdGF0ZS5yZXNldEN1cnJlbnQoKVxuICAgIGlmICh0b2tlbi5hcmdzICYmIHRva2VuLmFyZ3MubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5zZXRDdXJyZW50KG51bGwsIHN0YXRlLmdldFZhbHVlKHRva2VuLmFyZ3NbMF0pKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5zZXRDdXJyZW50KG51bGwsIHN0YXRlLnJvb3RDb250ZXh0KVxuICAgIH1cbiAgfSBlbHNlIGlmICh0b2tlbi5wYXJlbnQpIHtcbiAgICBzdGF0ZS5yZXNldEN1cnJlbnQoKVxuICAgIHN0YXRlLnNldEN1cnJlbnQobnVsbCwgc3RhdGUub3B0aW9ucy5wYXJlbnQpXG4gIH0gZWxzZSBpZiAodG9rZW4ub3IpIHtcbiAgICBpZiAoc3RhdGUuY3VycmVudEl0ZW0pIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnJlc2V0Q3VycmVudCgpXG4gICAgICBzdGF0ZS5zZXRDdXJyZW50KG51bGwsIHN0YXRlLmNvbnRleHQpXG4gICAgfVxuICB9IGVsc2UgaWYgKHRva2VuLmZpbHRlcikge1xuICAgIHZhciBoZWxwZXIgPSBzdGF0ZS5nZXRMb2NhbCh0b2tlbi5maWx0ZXIpIHx8IHN0YXRlLmdldEdsb2JhbCh0b2tlbi5maWx0ZXIpXG4gICAgaWYgKHR5cGVvZiBoZWxwZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGZ1bmN0aW9uKGlucHV0LCBhcmdzLi4uKVxuICAgICAgdmFyIHZhbHVlcyA9IHN0YXRlLmdldFZhbHVlcyh0b2tlbi5hcmdzIHx8IFtdKVxuICAgICAgdmFyIHJlc3VsdCA9IGhlbHBlci5hcHBseShzdGF0ZS5vcHRpb25zLCBbc3RhdGUuY3VycmVudEl0ZW1dLmNvbmNhdCh2YWx1ZXMpKVxuICAgICAgc3RhdGUuc2V0Q3VycmVudChudWxsLCByZXN1bHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhbGxiYWNrIHRvIG9sZCBmaWx0ZXJzXG4gICAgICB2YXIgZmlsdGVyID0gc3RhdGUuZ2V0RmlsdGVyKHRva2VuLmZpbHRlcilcbiAgICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBzdGF0ZS5nZXRWYWx1ZXModG9rZW4uYXJncyB8fCBbXSlcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZpbHRlci5jYWxsKHN0YXRlLm9wdGlvbnMsIHN0YXRlLmN1cnJlbnRJdGVtLCB7YXJnczogdmFsdWVzLCBzdGF0ZTogc3RhdGUsIGRhdGE6IHN0YXRlLnJvb3RDb250ZXh0fSlcbiAgICAgICAgc3RhdGUuc2V0Q3VycmVudChudWxsLCByZXN1bHQpXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHRva2VuLmRlZXApIHtcbiAgICBpZiAoc3RhdGUuY3VycmVudEl0ZW0pIHtcbiAgICAgIGlmICh0b2tlbi5kZWVwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgdmFyIHJlc3VsdCA9IHN0YXRlLmRlZXBRdWVyeShzdGF0ZS5jdXJyZW50SXRlbSwgdG9rZW4uZGVlcCwgc3RhdGUub3B0aW9ucylcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgc3RhdGUuc2V0Q3VycmVudChyZXN1bHQua2V5LCByZXN1bHQudmFsdWUpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzdGF0ZS5jdXJyZW50UGFyZW50cy5wdXNoKHJlc3VsdC5wYXJlbnRzW2ldKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5zZXRDdXJyZW50KG51bGwsIG51bGwpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmN1cnJlbnRJdGVtID0gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaGVzIChpdGVtLCBwYXJ0cykge1xuICB2YXIgcmVzdWx0ID0gZmFsc2VcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvcHRzID0gcGFydHNbaV1cbiAgICB2YXIgciA9IGZhbHNlXG4gICAgaWYgKG9wdHMuZnVuYykge1xuICAgICAgciA9IG9wdHMuZnVuYyhpdGVtKVxuICAgIH0gZWxzZSBpZiAob3B0cy5vcCA9PT0gJ34nKSB7XG4gICAgICBpZiAob3B0cy52YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByID0gaXRlbVtvcHRzLmtleV0gJiYgISFpdGVtW29wdHMua2V5XS5tYXRjaChvcHRzLnZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciA9IGl0ZW1bb3B0cy5rZXldICYmICEhfml0ZW1bb3B0cy5rZXldLmluZGV4T2Yob3B0cy52YWx1ZSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdHMub3AgPT09ICc9Jykge1xuICAgICAgaWYgKChpdGVtW29wdHMua2V5XSA9PT0gdHJ1ZSAmJiBvcHRzLnZhbHVlID09PSAndHJ1ZScpIHx8IChpdGVtW29wdHMua2V5XSA9PT0gZmFsc2UgJiYgb3B0cy52YWx1ZSA9PT0gJ2ZhbHNlJykpIHtcbiAgICAgICAgciA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIgPSBpdGVtW29wdHMua2V5XSA9PSBvcHRzLnZhbHVlXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHRzLm9wID09PSAnPicpIHtcbiAgICAgIHIgPSBpdGVtW29wdHMua2V5XSA+IG9wdHMudmFsdWVcbiAgICB9IGVsc2UgaWYgKG9wdHMub3AgPT09ICc8Jykge1xuICAgICAgciA9IGl0ZW1bb3B0cy5rZXldIDwgb3B0cy52YWx1ZVxuICAgIH0gZWxzZSBpZiAob3B0cy5vcCA9PT0gJz49Jykge1xuICAgICAgciA9IGl0ZW1bb3B0cy5rZXldID49IG9wdHMudmFsdWVcbiAgICB9IGVsc2UgaWYgKG9wdHMub3AgPT09ICc8PScpIHtcbiAgICAgIHIgPSBpdGVtW29wdHMua2V5XSA8PSBvcHRzLnZhbHVlXG4gICAgfVxuXG4gICAgaWYgKG9wdHMubmVnYXRlKSB7XG4gICAgICByID0gIXJcbiAgICB9XG4gICAgaWYgKG9wdHMuYm9vbGVhbk9wID09PSAnJicpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAmJiByXG4gICAgfSBlbHNlIGlmIChvcHRzLmJvb2xlYW5PcCA9PT0gJ3wnKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQgfHwgclxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSByXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCdcbn1cblxuZnVuY3Rpb24gc2hvdWxkT3ZlcnJpZGUgKHN0YXRlLCBrZXkpIHtcbiAgcmV0dXJuIHN0YXRlLm92ZXJyaWRlICYmIHN0YXRlLmN1cnJlbnRJdGVtID09PSBzdGF0ZS5yb290Q29udGV4dCAmJiBzdGF0ZS5vdmVycmlkZVtrZXldICE9PSB1bmRlZmluZWRcbn1cblxuZnVuY3Rpb24gaXNEZWVwQWNjZXNzb3IgKGN1cnJlbnRJdGVtLCBrZXkpIHtcbiAgcmV0dXJuIGN1cnJlbnRJdGVtIGluc3RhbmNlb2YgQXJyYXkgJiYgcGFyc2VJbnQoa2V5KSAhPSBrZXlcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdFBhcmVudE9iamVjdCAocGFyZW50cykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIShwYXJlbnRzW2kgKyAxXSkgfHwgIShwYXJlbnRzW2kgKyAxXS52YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgIHJldHVybiBwYXJlbnRzW2ldLnZhbHVlXG4gICAgfVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGRlcHRoU3BsaXRcblxuZnVuY3Rpb24gZGVwdGhTcGxpdCAodGV4dCwgZGVsaW1pdGVyLCBvcHRzKSB7XG4gIHZhciBtYXggPSBvcHRzICYmIG9wdHMubWF4IHx8IEluZmluaXR5XG4gIHZhciBpbmNsdWRlRGVsaW1pdGVycyA9IG9wdHMgJiYgb3B0cy5pbmNsdWRlRGVsaW1pdGVycyB8fCBmYWxzZVxuXG4gIHZhciBkZXB0aCA9IDBcbiAgdmFyIHN0YXJ0ID0gMFxuICB2YXIgcmVzdWx0ID0gW11cbiAgdmFyIHpvbmVzID0gW11cblxuICB0ZXh0LnJlcGxhY2UoLyhbXFxbXFwoXFx7XSl8KFtcXF1cXClcXH1dKS9nLCBmdW5jdGlvbiAoY3VycmVudCwgb3BlbiwgY2xvc2UsIG9mZnNldCkge1xuICAgIGlmIChvcGVuKSB7XG4gICAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgem9uZXMucHVzaChbc3RhcnQsIG9mZnNldF0pXG4gICAgICB9XG4gICAgICBkZXB0aCArPSAxXG4gICAgfSBlbHNlIGlmIChjbG9zZSkge1xuICAgICAgZGVwdGggLT0gMVxuICAgICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHN0YXJ0ID0gb2Zmc2V0ICsgY3VycmVudC5sZW5ndGhcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgaWYgKGRlcHRoID09PSAwICYmIHN0YXJ0IDwgdGV4dC5sZW5ndGgpIHtcbiAgICB6b25lcy5wdXNoKFtzdGFydCwgdGV4dC5sZW5ndGhdKVxuICB9XG5cbiAgc3RhcnQgPSAwXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB6b25lcy5sZW5ndGggJiYgbWF4ID4gMDsgaSsrKSB7XG4gICAgZm9yIChcbiAgICAgIHZhciBwb3MgPSB6b25lc1tpXVswXSwgbWF0Y2ggPSBkZWxpbWl0ZXIuZXhlYyh0ZXh0LnNsaWNlKHBvcywgem9uZXNbaV1bMV0pKTtcbiAgICAgIG1hdGNoICYmIG1heCA+IDE7XG4gICAgICBwb3MgKz0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgsIHN0YXJ0ID0gcG9zLCBtYXRjaCA9IGRlbGltaXRlci5leGVjKHRleHQuc2xpY2UocG9zLCB6b25lc1tpXVsxXSkpXG4gICAgKSB7XG4gICAgICByZXN1bHQucHVzaCh0ZXh0LnNsaWNlKHN0YXJ0LCBtYXRjaC5pbmRleCArIHBvcykpXG4gICAgICBpZiAoaW5jbHVkZURlbGltaXRlcnMpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobWF0Y2hbMF0pXG4gICAgICB9XG4gICAgICBtYXggLT0gMVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGFydCA8IHRleHQubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnB1c2godGV4dC5zbGljZShzdGFydCkpXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFN0YXRlXG5cbmZ1bmN0aW9uIFN0YXRlKG9wdGlvbnMsIHBhcmFtcywgaGFuZGxlUXVlcnkpe1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgLy90aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gIHRoaXMuaGFuZGxlUXVlcnkgPSBoYW5kbGVRdWVyeVxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gIHRoaXMubG9jYWxzID0gdGhpcy5vcHRpb25zLmxvY2FscyB8fCB7fVxuICB0aGlzLmdsb2JhbHMgPSB0aGlzLm9wdGlvbnMuZ2xvYmFscyB8fCB7fVxuICB0aGlzLnJvb3RDb250ZXh0ID0gZmlyc3ROb25OdWxsKG9wdGlvbnMuZGF0YSwgb3B0aW9ucy5yb290Q29udGV4dCwgb3B0aW9ucy5jb250ZXh0LCBvcHRpb25zLnNvdXJjZSlcbiAgdGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudFxuICB0aGlzLm92ZXJyaWRlID0gb3B0aW9ucy5vdmVycmlkZVxuICB0aGlzLmZpbHRlcnMgPSBvcHRpb25zLmZpbHRlcnMgfHwge31cbiAgdGhpcy5wYXJhbXMgPSBwYXJhbXMgfHwgb3B0aW9ucy5wYXJhbXMgfHwgW11cbiAgdGhpcy5jb250ZXh0ID0gZmlyc3ROb25OdWxsKG9wdGlvbnMuY3VycmVudEl0ZW0sIG9wdGlvbnMuY29udGV4dCwgb3B0aW9ucy5zb3VyY2UpXG4gIHRoaXMuY3VycmVudEl0ZW0gPSBmaXJzdE5vbk51bGwodGhpcy5jb250ZXh0LCBvcHRpb25zLnJvb3RDb250ZXh0LCBvcHRpb25zLmRhdGEpXG4gIHRoaXMuY3VycmVudEtleSA9IG51bGxcbiAgdGhpcy5jdXJyZW50UmVmZXJlbmNlcyA9IFtdXG4gIHRoaXMuY3VycmVudFBhcmVudHMgPSBbXVxufVxuXG5TdGF0ZS5wcm90b3R5cGUgPSB7XG5cbiAgLy8gY3VycmVudCBtYW5pcHVsYXRpb25cbiAgc2V0Q3VycmVudDogZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgaWYgKHRoaXMuY3VycmVudEl0ZW0gfHwgdGhpcy5jdXJyZW50S2V5IHx8IHRoaXMuY3VycmVudFBhcmVudHMubGVuZ3RoPjApe1xuICAgICAgdGhpcy5jdXJyZW50UGFyZW50cy5wdXNoKHtrZXk6IHRoaXMuY3VycmVudEtleSwgdmFsdWU6IHRoaXMuY3VycmVudEl0ZW19KVxuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRJdGVtID0gdmFsdWVcbiAgICB0aGlzLmN1cnJlbnRLZXkgPSBrZXlcbiAgfSxcblxuICByZXNldEN1cnJlbnQ6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5jdXJyZW50SXRlbSA9IG51bGxcbiAgICB0aGlzLmN1cnJlbnRLZXkgPSBudWxsXG4gICAgdGhpcy5jdXJyZW50UGFyZW50cyA9IFtdXG4gIH0sXG5cbiAgZm9yY2U6IGZ1bmN0aW9uKGRlZil7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMuY3VycmVudFBhcmVudHNbdGhpcy5jdXJyZW50UGFyZW50cy5sZW5ndGgtMV1cbiAgICBpZiAoIXRoaXMuY3VycmVudEl0ZW0gJiYgcGFyZW50ICYmICh0aGlzLmN1cnJlbnRLZXkgIT0gbnVsbCkpe1xuICAgICAgdGhpcy5jdXJyZW50SXRlbSA9IGRlZiB8fCB7fVxuICAgICAgcGFyZW50LnZhbHVlW3RoaXMuY3VycmVudEtleV0gPSB0aGlzLmN1cnJlbnRJdGVtXG4gICAgfVxuICAgIHJldHVybiAhIXRoaXMuY3VycmVudEl0ZW1cbiAgfSxcblxuICBnZXRMb2NhbDogZnVuY3Rpb24obG9jYWxOYW1lKXtcbiAgICBpZiAofmxvY2FsTmFtZS5pbmRleE9mKCcvJykpe1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGxcbiAgICAgIHZhciBwYXJ0cyA9IGxvY2FsTmFtZS5zcGxpdCgnLycpXG5cbiAgICAgIGZvciAodmFyIGk9MDtpPHBhcnRzLmxlbmd0aDtpKyspe1xuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldXG4gICAgICAgIGlmIChpID09IDApe1xuICAgICAgICAgIHJlc3VsdCA9IHRoaXMubG9jYWxzW3BhcnRdXG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ICYmIHJlc3VsdFtwYXJ0XSl7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3BhcnRdXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbHNbbG9jYWxOYW1lXVxuICAgIH1cbiAgfSxcblxuICBnZXRHbG9iYWw6IGZ1bmN0aW9uKGdsb2JhbE5hbWUpe1xuICAgIGlmICh+Z2xvYmFsTmFtZS5pbmRleE9mKCcvJykpe1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGxcbiAgICAgIHZhciBwYXJ0cyA9IGdsb2JhbE5hbWUuc3BsaXQoJy8nKVxuXG4gICAgICBmb3IgKHZhciBpPTA7aTxwYXJ0cy5sZW5ndGg7aSsrKXtcbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXVxuICAgICAgICBpZiAoaSA9PSAwKXtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLmdsb2JhbHNbcGFydF1cbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgJiYgcmVzdWx0W3BhcnRdKXtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHRbcGFydF1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdsb2JhbHNbZ2xvYmFsTmFtZV1cbiAgICB9XG4gIH0sXG5cbiAgZ2V0RmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJOYW1lKXtcbiAgICBpZiAofmZpbHRlck5hbWUuaW5kZXhPZignLycpKXtcbiAgICAgIHZhciByZXN1bHQgPSBudWxsXG4gICAgICB2YXIgZmlsdGVyUGFydHMgPSBmaWx0ZXJOYW1lLnNwbGl0KCcvJylcblxuICAgICAgZm9yICh2YXIgaT0wO2k8ZmlsdGVyUGFydHMubGVuZ3RoO2krKyl7XG4gICAgICAgIHZhciBwYXJ0ID0gZmlsdGVyUGFydHNbaV1cbiAgICAgICAgaWYgKGkgPT0gMCl7XG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW3BhcnRdXG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ICYmIHJlc3VsdFtwYXJ0XSl7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3BhcnRdXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXJzW2ZpbHRlck5hbWVdXG4gICAgfVxuICB9LFxuXG4gIGFkZFJlZmVyZW5jZXM6IGZ1bmN0aW9uKHJlZmVyZW5jZXMpe1xuICAgIGlmIChyZWZlcmVuY2VzKXtcbiAgICAgIHJlZmVyZW5jZXMuZm9yRWFjaCh0aGlzLmFkZFJlZmVyZW5jZSwgdGhpcylcbiAgICB9XG4gIH0sXG5cbiAgYWRkUmVmZXJlbmNlOiBmdW5jdGlvbihyZWYpe1xuICAgIGlmIChyZWYgaW5zdGFuY2VvZiBPYmplY3QgJiYgIX50aGlzLmN1cnJlbnRSZWZlcmVuY2VzLmluZGV4T2YocmVmKSl7XG4gICAgICB0aGlzLmN1cnJlbnRSZWZlcmVuY2VzLnB1c2gocmVmKVxuICAgIH1cbiAgfSxcblxuICAvLyBoZWxwZXIgZnVuY3Rpb25zXG4gIGdldFZhbHVlczogZnVuY3Rpb24odmFsdWVzLCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIHZhbHVlcy5tYXAodGhpcy5nZXRWYWx1ZSwgdGhpcylcbiAgfSxcblxuICBnZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVGcm9tKHZhbHVlLCBudWxsKVxuICB9LFxuXG4gIGdldFZhbHVlRnJvbTogZnVuY3Rpb24gKHZhbHVlLCBpdGVtKSB7XG4gICAgaWYgKHZhbHVlLl9wYXJhbSAhPSBudWxsKXtcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtc1t2YWx1ZS5fcGFyYW1dXG4gICAgfSBlbHNlIGlmICh2YWx1ZS5fc3ViKXtcblxuICAgICAgdmFyIG9wdGlvbnMgPSBjb3B5KHRoaXMub3B0aW9ucylcbiAgICAgIG9wdGlvbnMuZm9yY2UgPSBudWxsXG4gICAgICBvcHRpb25zLmN1cnJlbnRJdGVtID0gaXRlbVxuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYW5kbGVRdWVyeSh2YWx1ZS5fc3ViLCBvcHRpb25zLCB0aGlzLnBhcmFtcylcbiAgICAgIHRoaXMuYWRkUmVmZXJlbmNlcyhyZXN1bHQucmVmZXJlbmNlcylcbiAgICAgIHJldHVybiByZXN1bHQudmFsdWVcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG4gIH0sXG5cbiAgZGVlcFF1ZXJ5OiBmdW5jdGlvbihzb3VyY2UsIHRva2Vucywgb3B0aW9ucywgY2FsbGJhY2spe1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKVxuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSl7XG4gICAgICBpZiAoa2V5IGluIHNvdXJjZSl7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBjb3B5KHRoaXMub3B0aW9ucylcbiAgICAgICAgb3B0aW9ucy5jdXJyZW50SXRlbSA9IHNvdXJjZVtrZXldXG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFuZGxlUXVlcnkodG9rZW5zLCBvcHRpb25zLCB0aGlzLnBhcmFtcylcblxuICAgICAgICBpZiAocmVzdWx0LnZhbHVlKXtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbn1cblxuZnVuY3Rpb24gZmlyc3ROb25OdWxsKGFyZ3Mpe1xuICBmb3IgKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7XG4gICAgaWYgKGFyZ3VtZW50c1tpXSAhPSBudWxsKXtcbiAgICAgIHJldHVybiBhcmd1bWVudHNbaV1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weShvYmope1xuICB2YXIgcmVzdWx0ID0ge31cbiAgaWYgKG9iail7XG4gICAgZm9yICh2YXIga2V5IGluIG9iail7XG4gICAgICBpZiAoa2V5IGluIG9iail7XG4gICAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiLy8gdG9kbzogc3ludGF4IGNoZWNraW5nXG4vLyB0b2RvOiB0ZXN0IGhhbmRsZSBhcmdzXG52YXIgZGVwdGhTcGxpdCA9IHJlcXVpcmUoJy4vZGVwdGgtc3BsaXQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHF1ZXJ5LCBzaG91bGRBc3NpZ25QYXJhbUlkcyl7XG4gIGlmICghcXVlcnkpIHJldHVybiBbXVxuXG4gIHZhciByZXN1bHQgPSBbXVxuICAgICwgcHJldkNoYXIsIGNoYXJcbiAgICAsIG5leHRDaGFyID0gcXVlcnkuY2hhckF0KDApXG4gICAgLCBiU3RhcnQgPSAwXG4gICAgLCBiRW5kID0gMFxuICAgICwgcGFydE9mZnNldCA9IDBcbiAgICAsIHBvcyA9IDBcbiAgICAsIGRlcHRoID0gMFxuICAgICwgbW9kZSA9ICdnZXQnXG4gICAgLCBkZWVwUXVlcnkgPSBudWxsXG5cbiAgLy8gaWYgcXVlcnkgY29udGFpbnMgcGFyYW1zIHRoZW4gbnVtYmVyIHRoZW1cbiAgaWYgKHNob3VsZEFzc2lnblBhcmFtSWRzKXtcbiAgICBxdWVyeSA9IGFzc2lnblBhcmFtSWRzKHF1ZXJ5KVxuICB9XG5cbiAgdmFyIHRva2VucyA9IHtcbiAgICAnLic6IHttb2RlOiAnZ2V0J30sXG4gICAgJzonOiB7bW9kZTogJ2ZpbHRlcid9LFxuICAgICd8Jzoge2hhbmRsZTogJ29yJ30sXG4gICAgJ1snOiB7b3BlbjogJ3NlbGVjdCd9LFxuICAgICddJzoge2Nsb3NlOiAnc2VsZWN0J30sXG4gICAgJ3snOiB7b3BlbjogJ21ldGEnfSxcbiAgICAnfSc6IHtjbG9zZTogJ21ldGEnfSxcbiAgICAnKCc6IHtvcGVuOiAnYXJncyd9LFxuICAgICcpJzoge2Nsb3NlOiAnYXJncyd9XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKGl0ZW0pe1xuICAgIGlmIChkZWVwUXVlcnkpe1xuICAgICAgZGVlcFF1ZXJ5LnB1c2goaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2goaXRlbSlcbiAgICB9XG4gIH1cblxuICB2YXIgaGFuZGxlcnMgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbihidWZmZXIpe1xuICAgICAgdmFyIHRyaW1tZWQgPSB0eXBlb2YgYnVmZmVyID09PSAnc3RyaW5nJyA/IGJ1ZmZlci50cmltKCkgOiBudWxsXG4gICAgICBpZiAodHJpbW1lZCl7XG4gICAgICAgIHB1c2goe2dldDp0cmltbWVkfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdDogZnVuY3Rpb24oYnVmZmVyKXtcbiAgICAgIGlmIChidWZmZXIpe1xuICAgICAgICBwdXNoKHRva2VuaXplU2VsZWN0KGJ1ZmZlcikpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWVwIHF1ZXJ5IG92ZXJyaWRlXG4gICAgICAgIHZhciB4ID0ge2RlZXA6IFtdfVxuICAgICAgICByZXN1bHQucHVzaCh4KVxuICAgICAgICBkZWVwUXVlcnkgPSB4LmRlZXBcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbHRlcjogZnVuY3Rpb24oYnVmZmVyKXtcbiAgICAgIGlmIChidWZmZXIpe1xuICAgICAgICBwdXNoKHtmaWx0ZXI6YnVmZmVyLnRyaW0oKX0pXG4gICAgICB9XG4gICAgfSxcbiAgICBvcjogZnVuY3Rpb24oKXtcbiAgICAgIGRlZXBRdWVyeSA9IG51bGxcbiAgICAgIHJlc3VsdC5wdXNoKHtvcjp0cnVlfSlcbiAgICAgIHBhcnRPZmZzZXQgPSBpICsgMVxuICAgIH0sXG4gICAgYXJnczogZnVuY3Rpb24oYnVmZmVyKXtcbiAgICAgIHZhciBhcmdzID0gdG9rZW5pemVBcmdzKGJ1ZmZlcilcbiAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoLTFdLmFyZ3MgPSBhcmdzXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQnVmZmVyKCl7XG4gICAgdmFyIGJ1ZmZlciA9IHF1ZXJ5LnNsaWNlKGJTdGFydCwgYkVuZClcbiAgICBpZiAoaGFuZGxlcnNbbW9kZV0pe1xuICAgICAgaGFuZGxlcnNbbW9kZV0oYnVmZmVyKVxuICAgIH1cbiAgICBtb2RlID0gJ2dldCdcbiAgICBiU3RhcnQgPSBiRW5kICsgMVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7aSA8IHF1ZXJ5Lmxlbmd0aDtpKyspe1xuXG4gICAgLy8gdXBkYXRlIGNoYXIgdmFsdWVzXG4gICAgcHJldkNoYXIgPSBjaGFyOyBjaGFyID0gbmV4dENoYXI7IG5leHRDaGFyID0gcXVlcnkuY2hhckF0KGkgKyAxKTtcbiAgICBwb3MgPSBpIC0gcGFydE9mZnNldFxuXG4gICAgLy8gcm9vdCBxdWVyeSBjaGVja1xuICAgIGlmIChwb3MgPT09IDAgJiYgKGNoYXIgIT09ICc6JyAmJiBjaGFyICE9PSAnLicpKXtcbiAgICAgIHJlc3VsdC5wdXNoKHtyb290OnRydWV9KVxuICAgIH1cblxuICAgIC8vIHBhcmVudCBxdWVyeSBjaGVja1xuICAgIGlmIChwb3MgPT09IDAgJiYgKGNoYXIgPT09ICcuJyAmJiBuZXh0Q2hhciA9PT0gJy4nKSl7XG4gICAgICByZXN1bHQucHVzaCh7cGFyZW50OnRydWV9KVxuICAgIH1cblxuICAgIHZhciB0b2tlbiA9IHRva2Vuc1tjaGFyXVxuICAgIGlmICh0b2tlbil7XG5cbiAgICAgIC8vIHNldCBtb2RlXG4gICAgICBpZiAoZGVwdGggPT09IDAgJiYgKHRva2VuLm1vZGUgfHwgdG9rZW4ub3Blbikpe1xuICAgICAgICBoYW5kbGVCdWZmZXIoKVxuICAgICAgICBtb2RlID0gdG9rZW4ubW9kZSB8fCB0b2tlbi5vcGVuXG4gICAgICB9XG5cbiAgICAgIGlmIChkZXB0aCA9PT0gMCAmJiB0b2tlbi5oYW5kbGUpe1xuICAgICAgICBoYW5kbGVCdWZmZXIoKVxuICAgICAgICBoYW5kbGVyc1t0b2tlbi5oYW5kbGVdKClcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wZW4pe1xuICAgICAgICBkZXB0aCArPSAxXG4gICAgICB9IGVsc2UgaWYgKHRva2VuLmNsb3NlKXtcbiAgICAgICAgZGVwdGggLT0gMVxuICAgICAgfVxuXG4gICAgICAvLyByZXNldCBtb2RlIHRvIGdldFxuICAgICAgaWYgKGRlcHRoID09PSAwICYmIHRva2VuLmNsb3NlKXtcbiAgICAgICAgaGFuZGxlQnVmZmVyKClcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGJFbmQgPSBpICsgMVxuXG4gIH1cblxuICBoYW5kbGVCdWZmZXIoKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHRva2VuaXplQXJncyhhcmdzUXVlcnkpe1xuICBpZiAoYXJnc1F1ZXJ5ID09PSAnLCcpIHJldHVybiBbJywnXVxuICByZXR1cm4gZGVwdGhTcGxpdChhcmdzUXVlcnksIC8sLykubWFwKGZ1bmN0aW9uKHMpe1xuICAgIHJldHVybiBoYW5kbGVTZWxlY3RQYXJ0KHMudHJpbSgpKVxuICB9KVxufVxuXG5mdW5jdGlvbiB0b2tlbml6ZVNlbGVjdCAoc2VsZWN0UXVlcnkpIHtcbiAgaWYgKHNlbGVjdFF1ZXJ5ID09PSAnKicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWVzOiB0cnVlXG4gICAgfVxuICB9IGVsc2UgaWYgKHNlbGVjdFF1ZXJ5ID09PSAnKionKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlczogdHJ1ZSxcbiAgICAgIGRlZXA6IHRydWVcbiAgICB9XG4gIH1cblxuICB2YXIgbXVsdGlwbGUgPSBmYWxzZVxuICBpZiAoc2VsZWN0UXVlcnkuY2hhckF0KDApID09PSAnKicpIHtcbiAgICBtdWx0aXBsZSA9IHRydWVcbiAgICBzZWxlY3RRdWVyeSA9IHNlbGVjdFF1ZXJ5LnNsaWNlKDEpXG4gIH1cblxuICB2YXIgYm9vbGVhblBhcnRzID0gZGVwdGhTcGxpdChzZWxlY3RRdWVyeSwgLyZ8XFx8LywgeyBpbmNsdWRlRGVsaW1pdGVyczogdHJ1ZSB9KVxuICBpZiAoYm9vbGVhblBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICB2YXIgcmVzdWx0ID0gW1xuICAgICAgZ2V0U2VsZWN0UGFydChib29sZWFuUGFydHNbMF0udHJpbSgpKVxuICAgIF1cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGJvb2xlYW5QYXJ0cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgdmFyIHBhcnQgPSBnZXRTZWxlY3RQYXJ0KGJvb2xlYW5QYXJ0c1tpICsgMV0udHJpbSgpKVxuICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgcGFydC5ib29sZWFuT3AgPSBib29sZWFuUGFydHNbaV1cbiAgICAgICAgcmVzdWx0LnB1c2gocGFydClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgIGJvb2xlYW46IHRydWUsXG4gICAgICBzZWxlY3Q6IHJlc3VsdFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgcmVzdWx0ID0gZ2V0U2VsZWN0UGFydChzZWxlY3RRdWVyeS50cmltKCkpXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldDogaGFuZGxlU2VsZWN0UGFydChzZWxlY3RRdWVyeS50cmltKCkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICByZXN1bHQubXVsdGlwbGUgPSB0cnVlXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdFBhcnQgKHNlbGVjdFF1ZXJ5KSB7XG4gIHZhciBwYXJ0cyA9IGRlcHRoU3BsaXQoc2VsZWN0UXVlcnksIC8oISk/KD18fnxcXDp8PD18Pj18PHw+KS8sIHsgbWF4OiAyLCBpbmNsdWRlRGVsaW1pdGVyczogdHJ1ZSB9KVxuICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7XG4gICAgdmFyIG5lZ2F0ZSA9IHBhcnRzWzFdLmNoYXJBdCgwKSA9PT0gJyEnXG4gICAgdmFyIGtleSA9IGhhbmRsZVNlbGVjdFBhcnQocGFydHNbMF0udHJpbSgpKVxuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBuZWdhdGU6IG5lZ2F0ZSxcbiAgICAgIG9wOiBuZWdhdGUgPyBwYXJ0c1sxXS5zbGljZSgxKSA6IHBhcnRzWzFdXG4gICAgfVxuICAgIGlmIChyZXN1bHQub3AgPT09ICc6Jykge1xuICAgICAgcmVzdWx0LnNlbGVjdCA9IFtrZXksIHtfc3ViOiBtb2R1bGUuZXhwb3J0cygnOicgKyBwYXJ0c1syXS50cmltKCkpfV1cbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5vcCA9PT0gJ34nKSB7XG4gICAgICB2YXIgdmFsdWUgPSBoYW5kbGVTZWxlY3RQYXJ0KHBhcnRzWzJdLnRyaW0oKSlcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciByZURlZiA9IHBhcnRzWzJdLnRyaW0oKS5tYXRjaCgvXlxcLyguKilcXC8oW2Etel0/KSQvKVxuICAgICAgICBpZiAocmVEZWYpIHtcbiAgICAgICAgICByZXN1bHQuc2VsZWN0ID0gW2tleSwgbmV3IFJlZ0V4cChyZURlZlsxXSwgcmVEZWZbMl0pXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5zZWxlY3QgPSBba2V5LCB2YWx1ZV1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnNlbGVjdCA9IFtrZXksIHZhbHVlXVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQuc2VsZWN0ID0gW2tleSwgaGFuZGxlU2VsZWN0UGFydChwYXJ0c1syXS50cmltKCkpXVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNJbm5lclF1ZXJ5ICh0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LmNoYXJBdCgwKSA9PT0gJ3snICYmIHRleHQuY2hhckF0KHRleHQubGVuZ3RoLTEpID09PSAnfSdcbn1cblxuZnVuY3Rpb24gaGFuZGxlU2VsZWN0UGFydChwYXJ0KXtcbiAgaWYgKGlzSW5uZXJRdWVyeShwYXJ0KSl7XG4gICAgdmFyIGlubmVyUXVlcnkgPSBwYXJ0LnNsaWNlKDEsIC0xKVxuICAgIHJldHVybiB7X3N1YjogbW9kdWxlLmV4cG9ydHMoaW5uZXJRdWVyeSl9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcmFtVG9rZW4ocGFydClcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJhbVRva2VuKHRleHQpe1xuICBpZiAodGV4dC5jaGFyQXQoMCkgPT09ICc/Jyl7XG4gICAgdmFyIG51bSA9IHBhcnNlSW50KHRleHQuc2xpY2UoMSkpXG4gICAgaWYgKCFpc05hTihudW0pKXtcbiAgICAgIHJldHVybiB7X3BhcmFtOiBudW19XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0ZXh0XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB0ZXh0XG4gIH1cbn1cblxuXG5cbmZ1bmN0aW9uIGFzc2lnblBhcmFtSWRzKHF1ZXJ5KXtcbiAgdmFyIGluZGV4ID0gMFxuICByZXR1cm4gcXVlcnkucmVwbGFjZSgvXFw/L2csIGZ1bmN0aW9uKG1hdGNoKXtcbiAgICByZXR1cm4gbWF0Y2ggKyAoaW5kZXgrKylcbiAgfSlcbn1cblxuZnVuY3Rpb24gbGFzdCAoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdXG59XG4iLCIvKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcywgRGF2aWQgS25pZ2h0LiBEdWFsIE1JVC9CU0QgbGljZW5zZSAqL1xuXG53aW5kb3cubWF0Y2hNZWRpYSB8fCAod2luZG93Lm1hdGNoTWVkaWEgPSBmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgbWF0Y2hNZWRpdW0gYXBpIHN1Y2ggYXMgSUUgOSBhbmQgd2Via2l0XG4gICAgdmFyIHN0eWxlTWVkaWEgPSAod2luZG93LnN0eWxlTWVkaWEgfHwgd2luZG93Lm1lZGlhKTtcblxuICAgIC8vIEZvciB0aG9zZSB0aGF0IGRvbid0IHN1cHBvcnQgbWF0Y2hNZWRpdW1cbiAgICBpZiAoIXN0eWxlTWVkaWEpIHtcbiAgICAgICAgdmFyIHN0eWxlICAgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSxcbiAgICAgICAgICAgIHNjcmlwdCAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdLFxuICAgICAgICAgICAgaW5mbyAgICAgICAgPSBudWxsO1xuXG4gICAgICAgIHN0eWxlLnR5cGUgID0gJ3RleHQvY3NzJztcbiAgICAgICAgc3R5bGUuaWQgICAgPSAnbWF0Y2htZWRpYWpzLXRlc3QnO1xuXG4gICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzdHlsZSwgc2NyaXB0KTtcblxuICAgICAgICAvLyAnc3R5bGUuY3VycmVudFN0eWxlJyBpcyB1c2VkIGJ5IElFIDw9IDggYW5kICd3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZScgZm9yIGFsbCBvdGhlciBicm93c2Vyc1xuICAgICAgICBpbmZvID0gKCdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cpICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0eWxlLCBudWxsKSB8fCBzdHlsZS5jdXJyZW50U3R5bGU7XG5cbiAgICAgICAgc3R5bGVNZWRpYSA9IHtcbiAgICAgICAgICAgIG1hdGNoTWVkaXVtOiBmdW5jdGlvbihtZWRpYSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJ0BtZWRpYSAnICsgbWVkaWEgKyAneyAjbWF0Y2htZWRpYWpzLXRlc3QgeyB3aWR0aDogMXB4OyB9IH0nO1xuXG4gICAgICAgICAgICAgICAgLy8gJ3N0eWxlLnN0eWxlU2hlZXQnIGlzIHVzZWQgYnkgSUUgPD0gOCBhbmQgJ3N0eWxlLnRleHRDb250ZW50JyBmb3IgYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVGVzdCBpZiBtZWRpYSBxdWVyeSBpcyB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZm8ud2lkdGggPT09ICcxcHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihtZWRpYSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF0Y2hlczogc3R5bGVNZWRpYS5tYXRjaE1lZGl1bShtZWRpYSB8fCAnYWxsJyksXG4gICAgICAgICAgICBtZWRpYTogbWVkaWEgfHwgJ2FsbCdcbiAgICAgICAgfTtcbiAgICB9O1xufSgpKTtcbiIsIi8qISBucG0uaW0vb2JqZWN0LWZpdC1pbWFnZXMgMy4yLjQgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIE9GSSA9ICdiZnJlZC1pdDpvYmplY3QtZml0LWltYWdlcyc7XG52YXIgcHJvcFJlZ2V4ID0gLyhvYmplY3QtZml0fG9iamVjdC1wb3NpdGlvbilcXHMqOlxccyooWy0uXFx3XFxzJV0rKS9nO1xudmFyIHRlc3RJbWcgPSB0eXBlb2YgSW1hZ2UgPT09ICd1bmRlZmluZWQnID8ge3N0eWxlOiB7J29iamVjdC1wb3NpdGlvbic6IDF9fSA6IG5ldyBJbWFnZSgpO1xudmFyIHN1cHBvcnRzT2JqZWN0Rml0ID0gJ29iamVjdC1maXQnIGluIHRlc3RJbWcuc3R5bGU7XG52YXIgc3VwcG9ydHNPYmplY3RQb3NpdGlvbiA9ICdvYmplY3QtcG9zaXRpb24nIGluIHRlc3RJbWcuc3R5bGU7XG52YXIgc3VwcG9ydHNPRkkgPSAnYmFja2dyb3VuZC1zaXplJyBpbiB0ZXN0SW1nLnN0eWxlO1xudmFyIHN1cHBvcnRzQ3VycmVudFNyYyA9IHR5cGVvZiB0ZXN0SW1nLmN1cnJlbnRTcmMgPT09ICdzdHJpbmcnO1xudmFyIG5hdGl2ZUdldEF0dHJpYnV0ZSA9IHRlc3RJbWcuZ2V0QXR0cmlidXRlO1xudmFyIG5hdGl2ZVNldEF0dHJpYnV0ZSA9IHRlc3RJbWcuc2V0QXR0cmlidXRlO1xudmFyIGF1dG9Nb2RlRW5hYmxlZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBjcmVhdGVQbGFjZWhvbGRlcih3LCBoKSB7XG5cdHJldHVybiAoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9J1wiICsgdyArIFwiJyBoZWlnaHQ9J1wiICsgaCArIFwiJyUzRSUzQy9zdmclM0VcIik7XG59XG5cbmZ1bmN0aW9uIHBvbHlmaWxsQ3VycmVudFNyYyhlbCkge1xuXHRpZiAoZWwuc3Jjc2V0ICYmICFzdXBwb3J0c0N1cnJlbnRTcmMgJiYgd2luZG93LnBpY3R1cmVmaWxsKSB7XG5cdFx0dmFyIHBmID0gd2luZG93LnBpY3R1cmVmaWxsLl87XG5cdFx0Ly8gcGFyc2Ugc3Jjc2V0IHdpdGggcGljdHVyZWZpbGwgd2hlcmUgY3VycmVudFNyYyBpc24ndCBhdmFpbGFibGVcblx0XHRpZiAoIWVsW3BmLm5zXSB8fCAhZWxbcGYubnNdLmV2YWxlZCkge1xuXHRcdFx0Ly8gZm9yY2Ugc3luY2hyb25vdXMgc3Jjc2V0IHBhcnNpbmdcblx0XHRcdHBmLmZpbGxJbWcoZWwsIHtyZXNlbGVjdDogdHJ1ZX0pO1xuXHRcdH1cblxuXHRcdGlmICghZWxbcGYubnNdLmN1clNyYykge1xuXHRcdFx0Ly8gZm9yY2UgcGljdHVyZWZpbGwgdG8gcGFyc2Ugc3Jjc2V0XG5cdFx0XHRlbFtwZi5uc10uc3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRwZi5maWxsSW1nKGVsLCB7cmVzZWxlY3Q6IHRydWV9KTtcblx0XHR9XG5cblx0XHQvLyByZXRyaWV2ZSBwYXJzZWQgY3VycmVudFNyYywgaWYgYW55XG5cdFx0ZWwuY3VycmVudFNyYyA9IGVsW3BmLm5zXS5jdXJTcmMgfHwgZWwuc3JjO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlKGVsKSB7XG5cdHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpLmZvbnRGYW1pbHk7XG5cdHZhciBwYXJzZWQ7XG5cdHZhciBwcm9wcyA9IHt9O1xuXHR3aGlsZSAoKHBhcnNlZCA9IHByb3BSZWdleC5leGVjKHN0eWxlKSkgIT09IG51bGwpIHtcblx0XHRwcm9wc1twYXJzZWRbMV1dID0gcGFyc2VkWzJdO1xuXHR9XG5cdHJldHVybiBwcm9wcztcbn1cblxuZnVuY3Rpb24gc2V0UGxhY2Vob2xkZXIoaW1nLCB3aWR0aCwgaGVpZ2h0KSB7XG5cdC8vIERlZmF1bHQ6IGZpbGwgd2lkdGgsIG5vIGhlaWdodFxuXHR2YXIgcGxhY2Vob2xkZXIgPSBjcmVhdGVQbGFjZWhvbGRlcih3aWR0aCB8fCAxLCBoZWlnaHQgfHwgMCk7XG5cblx0Ly8gT25seSBzZXQgcGxhY2Vob2xkZXIgaWYgaXQncyBkaWZmZXJlbnRcblx0aWYgKG5hdGl2ZUdldEF0dHJpYnV0ZS5jYWxsKGltZywgJ3NyYycpICE9PSBwbGFjZWhvbGRlcikge1xuXHRcdG5hdGl2ZVNldEF0dHJpYnV0ZS5jYWxsKGltZywgJ3NyYycsIHBsYWNlaG9sZGVyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBvbkltYWdlUmVhZHkoaW1nLCBjYWxsYmFjaykge1xuXHQvLyBuYXR1cmFsV2lkdGggaXMgb25seSBhdmFpbGFibGUgd2hlbiB0aGUgaW1hZ2UgaGVhZGVycyBhcmUgbG9hZGVkLFxuXHQvLyB0aGlzIGxvb3Agd2lsbCBwb2xsIGl0IGV2ZXJ5IDEwMG1zLlxuXHRpZiAoaW1nLm5hdHVyYWxXaWR0aCkge1xuXHRcdGNhbGxiYWNrKGltZyk7XG5cdH0gZWxzZSB7XG5cdFx0c2V0VGltZW91dChvbkltYWdlUmVhZHksIDEwMCwgaW1nLCBjYWxsYmFjayk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZml4T25lKGVsKSB7XG5cdHZhciBzdHlsZSA9IGdldFN0eWxlKGVsKTtcblx0dmFyIG9maSA9IGVsW09GSV07XG5cdHN0eWxlWydvYmplY3QtZml0J10gPSBzdHlsZVsnb2JqZWN0LWZpdCddIHx8ICdmaWxsJzsgLy8gZGVmYXVsdCB2YWx1ZVxuXG5cdC8vIEF2b2lkIHJ1bm5pbmcgd2hlcmUgdW5uZWNlc3NhcnksIHVubGVzcyBPRkkgaGFkIGFscmVhZHkgZG9uZSBpdHMgZGVlZFxuXHRpZiAoIW9maS5pbWcpIHtcblx0XHQvLyBmaWxsIGlzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIHNvIG5vIGFjdGlvbiBpcyBuZWNlc3Nhcnlcblx0XHRpZiAoc3R5bGVbJ29iamVjdC1maXQnXSA9PT0gJ2ZpbGwnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gV2hlcmUgb2JqZWN0LWZpdCBpcyBzdXBwb3J0ZWQgYW5kIG9iamVjdC1wb3NpdGlvbiBpc24ndCAoU2FmYXJpIDwgMTApXG5cdFx0aWYgKFxuXHRcdFx0IW9maS5za2lwVGVzdCAmJiAvLyB1bmxlc3MgdXNlciB3YW50cyB0byBhcHBseSByZWdhcmRsZXNzIG9mIGJyb3dzZXIgc3VwcG9ydFxuXHRcdFx0c3VwcG9ydHNPYmplY3RGaXQgJiYgLy8gaWYgYnJvd3NlciBhbHJlYWR5IHN1cHBvcnRzIG9iamVjdC1maXRcblx0XHRcdCFzdHlsZVsnb2JqZWN0LXBvc2l0aW9uJ10gLy8gdW5sZXNzIG9iamVjdC1wb3NpdGlvbiBpcyB1c2VkXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0Ly8ga2VlcCBhIGNsb25lIGluIG1lbW9yeSB3aGlsZSByZXNldHRpbmcgdGhlIG9yaWdpbmFsIHRvIGEgYmxhbmtcblx0aWYgKCFvZmkuaW1nKSB7XG5cdFx0b2ZpLmltZyA9IG5ldyBJbWFnZShlbC53aWR0aCwgZWwuaGVpZ2h0KTtcblx0XHRvZmkuaW1nLnNyY3NldCA9IG5hdGl2ZUdldEF0dHJpYnV0ZS5jYWxsKGVsLCBcImRhdGEtb2ZpLXNyY3NldFwiKSB8fCBlbC5zcmNzZXQ7XG5cdFx0b2ZpLmltZy5zcmMgPSBuYXRpdmVHZXRBdHRyaWJ1dGUuY2FsbChlbCwgXCJkYXRhLW9maS1zcmNcIikgfHwgZWwuc3JjO1xuXG5cdFx0Ly8gcHJlc2VydmUgZm9yIGFueSBmdXR1cmUgY2xvbmVOb2RlIGNhbGxzXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2JmcmVkLWl0L29iamVjdC1maXQtaW1hZ2VzL2lzc3Vlcy81M1xuXHRcdG5hdGl2ZVNldEF0dHJpYnV0ZS5jYWxsKGVsLCBcImRhdGEtb2ZpLXNyY1wiLCBlbC5zcmMpO1xuXHRcdGlmIChlbC5zcmNzZXQpIHtcblx0XHRcdG5hdGl2ZVNldEF0dHJpYnV0ZS5jYWxsKGVsLCBcImRhdGEtb2ZpLXNyY3NldFwiLCBlbC5zcmNzZXQpO1xuXHRcdH1cblxuXHRcdHNldFBsYWNlaG9sZGVyKGVsLCBlbC5uYXR1cmFsV2lkdGggfHwgZWwud2lkdGgsIGVsLm5hdHVyYWxIZWlnaHQgfHwgZWwuaGVpZ2h0KTtcblxuXHRcdC8vIHJlbW92ZSBzcmNzZXQgYmVjYXVzZSBpdCBvdmVycmlkZXMgc3JjXG5cdFx0aWYgKGVsLnNyY3NldCkge1xuXHRcdFx0ZWwuc3Jjc2V0ID0gJyc7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRrZWVwU3JjVXNhYmxlKGVsKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGlmICh3aW5kb3cuY29uc29sZSkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ2h0dHBzOi8vYml0Lmx5L29maS1vbGQtYnJvd3NlcicpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHBvbHlmaWxsQ3VycmVudFNyYyhvZmkuaW1nKTtcblxuXHRlbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcXFwiXCIgKyAoKG9maS5pbWcuY3VycmVudFNyYyB8fCBvZmkuaW1nLnNyYykucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpKSArIFwiXFxcIilcIjtcblx0ZWwuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gc3R5bGVbJ29iamVjdC1wb3NpdGlvbiddIHx8ICdjZW50ZXInO1xuXHRlbC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gJ25vLXJlcGVhdCc7XG5cdGVsLnN0eWxlLmJhY2tncm91bmRPcmlnaW4gPSAnY29udGVudC1ib3gnO1xuXG5cdGlmICgvc2NhbGUtZG93bi8udGVzdChzdHlsZVsnb2JqZWN0LWZpdCddKSkge1xuXHRcdG9uSW1hZ2VSZWFkeShvZmkuaW1nLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAob2ZpLmltZy5uYXR1cmFsV2lkdGggPiBlbC53aWR0aCB8fCBvZmkuaW1nLm5hdHVyYWxIZWlnaHQgPiBlbC5oZWlnaHQpIHtcblx0XHRcdFx0ZWwuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY29udGFpbic7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdhdXRvJztcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRlbC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IHN0eWxlWydvYmplY3QtZml0J10ucmVwbGFjZSgnbm9uZScsICdhdXRvJykucmVwbGFjZSgnZmlsbCcsICcxMDAlIDEwMCUnKTtcblx0fVxuXG5cdG9uSW1hZ2VSZWFkeShvZmkuaW1nLCBmdW5jdGlvbiAoaW1nKSB7XG5cdFx0c2V0UGxhY2Vob2xkZXIoZWwsIGltZy5uYXR1cmFsV2lkdGgsIGltZy5uYXR1cmFsSGVpZ2h0KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGtlZXBTcmNVc2FibGUoZWwpIHtcblx0dmFyIGRlc2NyaXB0b3JzID0ge1xuXHRcdGdldDogZnVuY3Rpb24gZ2V0KHByb3ApIHtcblx0XHRcdHJldHVybiBlbFtPRkldLmltZ1twcm9wID8gcHJvcCA6ICdzcmMnXTtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24gc2V0KHZhbHVlLCBwcm9wKSB7XG5cdFx0XHRlbFtPRkldLmltZ1twcm9wID8gcHJvcCA6ICdzcmMnXSA9IHZhbHVlO1xuXHRcdFx0bmF0aXZlU2V0QXR0cmlidXRlLmNhbGwoZWwsIChcImRhdGEtb2ZpLVwiICsgcHJvcCksIHZhbHVlKTsgLy8gcHJlc2VydmUgZm9yIGFueSBmdXR1cmUgY2xvbmVOb2RlXG5cdFx0XHRmaXhPbmUoZWwpO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnc3JjJywgZGVzY3JpcHRvcnMpO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdjdXJyZW50U3JjJywge1xuXHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVzY3JpcHRvcnMuZ2V0KCdjdXJyZW50U3JjJyk7IH1cblx0fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ3NyY3NldCcsIHtcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JzLmdldCgnc3Jjc2V0Jyk7IH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoc3MpIHsgcmV0dXJuIGRlc2NyaXB0b3JzLnNldChzcywgJ3NyY3NldCcpOyB9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBoaWphY2tBdHRyaWJ1dGVzKCkge1xuXHRmdW5jdGlvbiBnZXRPZmlJbWFnZU1heWJlKGVsLCBuYW1lKSB7XG5cdFx0cmV0dXJuIGVsW09GSV0gJiYgZWxbT0ZJXS5pbWcgJiYgKG5hbWUgPT09ICdzcmMnIHx8IG5hbWUgPT09ICdzcmNzZXQnKSA/IGVsW09GSV0uaW1nIDogZWw7XG5cdH1cblx0aWYgKCFzdXBwb3J0c09iamVjdFBvc2l0aW9uKSB7XG5cdFx0SFRNTEltYWdlRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdHJldHVybiBuYXRpdmVHZXRBdHRyaWJ1dGUuY2FsbChnZXRPZmlJbWFnZU1heWJlKHRoaXMsIG5hbWUpLCBuYW1lKTtcblx0XHR9O1xuXG5cdFx0SFRNTEltYWdlRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gbmF0aXZlU2V0QXR0cmlidXRlLmNhbGwoZ2V0T2ZpSW1hZ2VNYXliZSh0aGlzLCBuYW1lKSwgbmFtZSwgU3RyaW5nKHZhbHVlKSk7XG5cdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBmaXgoaW1ncywgb3B0cykge1xuXHR2YXIgc3RhcnRBdXRvTW9kZSA9ICFhdXRvTW9kZUVuYWJsZWQgJiYgIWltZ3M7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRpbWdzID0gaW1ncyB8fCAnaW1nJztcblxuXHRpZiAoKHN1cHBvcnRzT2JqZWN0UG9zaXRpb24gJiYgIW9wdHMuc2tpcFRlc3QpIHx8ICFzdXBwb3J0c09GSSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIHVzZSBpbWdzIGFzIGEgc2VsZWN0b3Igb3IganVzdCBzZWxlY3QgYWxsIGltYWdlc1xuXHRpZiAoaW1ncyA9PT0gJ2ltZycpIHtcblx0XHRpbWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBpbWdzID09PSAnc3RyaW5nJykge1xuXHRcdGltZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGltZ3MpO1xuXHR9IGVsc2UgaWYgKCEoJ2xlbmd0aCcgaW4gaW1ncykpIHtcblx0XHRpbWdzID0gW2ltZ3NdO1xuXHR9XG5cblx0Ly8gYXBwbHkgZml4IHRvIGFsbFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGltZ3MubGVuZ3RoOyBpKyspIHtcblx0XHRpbWdzW2ldW09GSV0gPSBpbWdzW2ldW09GSV0gfHwge1xuXHRcdFx0c2tpcFRlc3Q6IG9wdHMuc2tpcFRlc3Rcblx0XHR9O1xuXHRcdGZpeE9uZShpbWdzW2ldKTtcblx0fVxuXG5cdGlmIChzdGFydEF1dG9Nb2RlKSB7XG5cdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnSU1HJykge1xuXHRcdFx0XHRmaXgoZS50YXJnZXQsIHtcblx0XHRcdFx0XHRza2lwVGVzdDogb3B0cy5za2lwVGVzdFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LCB0cnVlKTtcblx0XHRhdXRvTW9kZUVuYWJsZWQgPSB0cnVlO1xuXHRcdGltZ3MgPSAnaW1nJzsgLy8gcmVzZXQgdG8gYSBnZW5lcmljIHNlbGVjdG9yIGZvciB3YXRjaE1RXG5cdH1cblxuXHQvLyBpZiByZXF1ZXN0ZWQsIHdhdGNoIG1lZGlhIHF1ZXJpZXMgZm9yIG9iamVjdC1maXQgY2hhbmdlXG5cdGlmIChvcHRzLndhdGNoTVEpIHtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZml4LmJpbmQobnVsbCwgaW1ncywge1xuXHRcdFx0c2tpcFRlc3Q6IG9wdHMuc2tpcFRlc3Rcblx0XHR9KSk7XG5cdH1cbn1cblxuZml4LnN1cHBvcnRzT2JqZWN0Rml0ID0gc3VwcG9ydHNPYmplY3RGaXQ7XG5maXguc3VwcG9ydHNPYmplY3RQb3NpdGlvbiA9IHN1cHBvcnRzT2JqZWN0UG9zaXRpb247XG5cbmhpamFja0F0dHJpYnV0ZXMoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmaXg7XG4iLCIvKipcbiAqIE9iamVjdCBGaXQgVmlkZW9zXG4gKiBQb2x5ZmlsbCBmb3Igb2JqZWN0LWZpdCBhbmQgb2JqZWN0LXBvc2l0aW9uIENTUyBwcm9wZXJ0aWVzIG9uIHZpZGVvIGVsZW1lbnRzXG4gKiBDb3ZlcnMgSUU5LCBJRTEwLCBJRTExLCBFZGdlLCBTYWZhcmkgPDEwXG4gKlxuICogVXNhZ2VcbiAqIEluIHlvdXIgQ1NTLCBhZGQgYSBzcGVjaWFsIGZvbnQtZmFtaWx5IHRhZyBmb3IgSUUvRWRnZVxuICogdmlkZW8ge1xuICogICBvYmplY3QtZml0OiBjb3ZlcjtcbiAqICAgZm9udC1mYW1pbHk6ICdvYmplY3QtZml0OiBjb3ZlcjsnO1xuICogfVxuICpcbiAqIEJlZm9yZSB0aGUgY2xvc2luZyBib2R5IHRhZywgb3Igd2hlbmV2ZXIgdGhlIERPTSBpcyByZWFkeSxcbiAqIG1ha2UgdGhlIEphdmFTY3JpcHQgY2FsbFxuICogb2JqZWN0Rml0VmlkZW9zKCk7XG4gKlxuICogQWxsIHZpZGVvIGVsZW1lbnRzIHdpdGggdGhlIHNwZWNpYWwgQ1NTIHByb3BlcnR5IHdpbGwgYmUgdGFyZ2V0ZWRcbiAqXG4gKiBAbGljZW5zZSAgTUlUIChodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcbiAqIEBhdXRob3IgICBUb2RkIE1pbGxlciA8dG9kZC5taWxsZXJAdHJpY29tYjJiLmNvbT5cbiAqIEB2ZXJzaW9uICAxLjAuMlxuICogQGNoYW5nZWxvZ1xuICogMjAxNi0wOC0xOSAtIEFkZHMgb2JqZWN0LXBvc2l0aW9uIHN1cHBvcnQuXG4gKiAyMDE2LTA4LTE5IC0gQWRkIHRocm90dGxlIGZ1bmN0aW9uIGZvciBtb3JlIHBlcmZvcm1hbnQgcmVzaXplIGV2ZW50c1xuICogMjAxNi0wOC0xOSAtIEluaXRpYWwgcmVsZWFzZSB3aXRoIG9iamVjdC1maXQgc3VwcG9ydCwgYW5kXG4gKiAgICAgICAgICAgICAgb2JqZWN0LXBvc2l0aW9uIGRlZmF1bHQgJ2NlbnRlcidcbiAqIDIwMTYtMTAtMTQgLSBObyBsb25nZXIgcmVsaWVzIG9uIHdpbmRvdyBsb2FkIGV2ZW50LCBpbnN0ZWFkIHJlcXVpcmVzIGEgc3BlY2lmaWNcbiAqICAgICAgICAgICAgICBmdW5jdGlvbiBjYWxsIHRvIGluaXRpYWxpemUgdGhlIHZpZGVvcyBmb3Igb2JqZWN0IGZpdCBhbmQgcG9zaXRpb24uXG4gKiAyMDE2LTExLTI4IC0gU3VwcG9ydCBDb21tb25KUyBlbnZpcm9ubWVudCwgY291cnRlc3kgb2YgQG1zb3JlbnNzb25cbiAqIDIwMTYtMTItMDUgLSBSZWZhY3RvcnMgdGhlIHRocm90dGxpbmcgZnVuY3Rpb24gdG8gc3VwcG9ydCBJRVxuICogMjAxNy0wOS0yNiAtIEZpeCBhbiBpc3N1ZSB3aXRoIGF1dHBsYXkgbm90IHdvcmtpbmcgb24gcG9seWZpbGxlZCB2aWRlb3NcbiAqICAgICAgICAgICAgLSBBZGRzIHRoZSBjYXBhYmlsaXR5IHRvIHNwZWNpZnkgZWxlbWVudHMgdG8gcG9seWZpbGwsXG4gKiAgICAgICAgICAgICAgaW5zdGVhZCBvZiBqdXN0IGNoZWNraW5nIGV2ZXJ5IHZpZGVvIGVsZW1lbnQgZm9yIHRoZVxuICogICAgICAgICAgICAgIENTUyBwcm9wZXJ0eS4gU2xpZ2h0IHBlcmZvcm1hbmNlIGdhaW4gaW4gbW9zdCB1c2VjYXNlcyxcbiAqICAgICAgICAgICAgICBhbmQgYSBiaWdnZXIgZ2FpbiBpbiBhIGZldyB1c2VjYXNlcy5cbiAqIDIwMTctMTAtMjQgLSBBZGQgdXNlciBhZ2VudCBjaGVjayB0byBlbmFibGUgcG9seWZpbGwgZm9yIGFsbCBFZGdlIGJyb3dzZXJzLlxuICogICAgICAgICAgICAgIG9iamVjdC1maXQgaXMgc3VwcG9ydGVkIG9uIEVkZ2UgPj0gMTYsIGJ1dCBjdXJyZW50bHkganVzdCBmb3IgaW1hZ2VzLlxuICovXG52YXIgb2JqZWN0Rml0VmlkZW9zID0gZnVuY3Rpb24gKHZpZGVvcykge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGlzRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZS8nKSA+PSAwO1xuXG4gIHZhciB0ZXN0SW1nICAgICAgICAgICAgICAgID0gbmV3IEltYWdlKCksXG4gICAgICBzdXBwb3J0c09iamVjdEZpdCAgICAgID0gJ29iamVjdC1maXQnIGluIHRlc3RJbWcuc3R5bGUgJiYgIWlzRWRnZSxcbiAgICAgIHN1cHBvcnRzT2JqZWN0UG9zaXRpb24gPSAnb2JqZWN0LXBvc2l0aW9uJyBpbiB0ZXN0SW1nLnN0eWxlICYmICFpc0VkZ2UsXG4gICAgICBwcm9wUmVnZXggICAgICAgICAgICAgID0gLyhvYmplY3QtZml0fG9iamVjdC1wb3NpdGlvbilcXHMqOlxccyooWy1cXHdcXHMlXSspL2c7XG5cbiAgaWYgKCFzdXBwb3J0c09iamVjdEZpdCB8fCAhc3VwcG9ydHNPYmplY3RQb3NpdGlvbikge1xuICAgIGluaXRpYWxpemUodmlkZW9zKTtcbiAgICB0aHJvdHRsZSgncmVzaXplJywgJ29wdGltaXplZFJlc2l6ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBzdHlsZSBhbmQgbG9vayBmb3IgdGhlIHNwZWNpYWwgZm9udC1mYW1pbHkgdGFnXG4gICAqIEBwYXJhbSAge29iamVjdH0gJGVsIFRoZSBlbGVtZW50IHRvIHBhcnNlXG4gICAqIEByZXR1cm4ge29iamVjdH0gICAgIFRoZSBmb250LWZhbWlseSBwcm9wZXJ0aWVzIHdlJ3JlIGludGVyZXN0ZWQgaW5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0eWxlICgkZWwpIHtcbiAgICB2YXIgc3R5bGUgID0gZ2V0Q29tcHV0ZWRTdHlsZSgkZWwpLmZvbnRGYW1pbHksXG4gICAgICAgIHBhcnNlZCA9IG51bGwsXG4gICAgICAgIHByb3BzICA9IHt9O1xuXG4gICAgICB3aGlsZSAoKHBhcnNlZCA9IHByb3BSZWdleC5leGVjKHN0eWxlKSkgIT09IG51bGwpIHtcbiAgICAgICAgcHJvcHNbcGFyc2VkWzFdXSA9IHBhcnNlZFsyXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzWydvYmplY3QtcG9zaXRpb24nXSlcbiAgICAgICAgcmV0dXJuIHBhcnNlUG9zaXRpb24ocHJvcHMpO1xuXG4gICAgICByZXR1cm4gcHJvcHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbGwgdGhlIHJlbGV2YW50IHZpZGVvIGVsZW1lbnRzIGFuZCBnZXQgdGhlbSBmaXR0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIGluaXRpYWxpemUgKHZpZGVvcykge1xuICAgIHZhciBpbmRleCA9IC0xO1xuXG4gICAgaWYgKCF2aWRlb3MpIHtcbiAgICAgIC8vIGlmIG5vIHZpZGVvcyBnaXZlbiwgcXVlcnkgYWxsIHZpZGVvIGVsZW1lbnRzXG4gICAgICB2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpO1xuICAgIH0gZWxzZSBpZiAoISgnbGVuZ3RoJyBpbiB2aWRlb3MpKSB7XG4gICAgICAvLyBjb252ZXJ0IHRvIGFuIGFycmF5IGZvciBwcm9wZXIgbG9vcGluZyBpZiBhbiBhcnJheSBvciBOb2RlTGlzdFxuICAgICAgLy8gd2FzIG5vdCBnaXZlblxuICAgICAgdmlkZW9zID0gW3ZpZGVvc107XG4gICAgfVxuXG4gICAgd2hpbGUgKHZpZGVvc1srK2luZGV4XSkge1xuICAgICAgdmFyIHN0eWxlID0gZ2V0U3R5bGUodmlkZW9zW2luZGV4XSk7XG5cbiAgICAgIC8vIG9ubHkgZG8gd29yayBpZiB0aGUgcHJvcGVydHkgaXMgb24gdGhlIGVsZW1lbnRcbiAgICAgIGlmIChzdHlsZVsnb2JqZWN0LWZpdCddIHx8IHN0eWxlWydvYmplY3QtcG9zaXRpb24nXSkge1xuICAgICAgICAvLyBzZXQgdGhlIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIHN0eWxlWydvYmplY3QtZml0J10gPSBzdHlsZVsnb2JqZWN0LWZpdCddIHx8ICdmaWxsJztcbiAgICAgICAgZml0SXQodmlkZW9zW2luZGV4XSwgc3R5bGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPYmplY3QgRml0XG4gICAqIEBwYXJhbSAge29iamVjdH0gJGVsIEVsZW1lbnQgdG8gZml0XG4gICAqIEByZXR1cm4ge29iamVjdH0gICAgIFRoZSBlbGVtZW50J3MgcmVsZXZhbnQgcHJvcGVydGllc1xuICAgKi9cbiAgZnVuY3Rpb24gZml0SXQgKCRlbCwgc3R5bGUpIHtcbiAgICAvLyBmaWxsIGlzIHRoZSBkZWZhdWx0IGJlaGF2aW9yLCBubyBhY3Rpb24gaXMgbmVjZXNzYXJ5XG4gICAgaWYgKHN0eWxlWydvYmplY3QtZml0J10gPT09ICdmaWxsJylcbiAgICAgIHJldHVybjtcblxuICAgIC8vIGNvbnZlbmllbmNlIHN0eWxlIHByb3BlcnRpZXMgb24gdGhlIHNvdXJjZSBlbGVtZW50XG4gICAgdmFyIHNldENzcyA9ICRlbC5zdHlsZSxcbiAgICAgICAgZ2V0Q3NzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoJGVsKTtcblxuICAgIC8vIGNyZWF0ZSBhbmQgaW5zZXJ0IGEgd3JhcHBlciBlbGVtZW50XG4gICAgdmFyICR3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2JqZWN0LWZpdCcpO1xuICAgICR3cmFwLmFwcGVuZENoaWxkKCRlbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCgkd3JhcCwgJGVsKSk7XG5cbiAgICAvLyBzdHlsZSB0aGUgd3JhcHBlciBlbGVtZW50IHRvIG1vc3RseSBtYXRjaCB0aGUgc291cmNlIGVsZW1lbnRcbiAgICB2YXIgd3JhcENzcyA9IHtcbiAgICAgIGhlaWdodDogICAgJzEwMCUnLFxuICAgICAgd2lkdGg6ICAgICAnMTAwJScsXG4gICAgICBib3hTaXppbmc6ICdjb250ZW50LWJveCcsXG4gICAgICBkaXNwbGF5OiAgICdpbmxpbmUtYmxvY2snLFxuICAgICAgb3ZlcmZsb3c6ICAnaGlkZGVuJ1xuICAgIH07XG5cbiAgICAnYmFja2dyb3VuZENvbG9yIGJhY2tncm91bmRJbWFnZSBib3JkZXJDb2xvciBib3JkZXJTdHlsZSBib3JkZXJXaWR0aCBib3R0b20gZm9udFNpemUgbGluZUhlaWdodCBsZWZ0IG9wYWNpdHkgbWFyZ2luIHBvc2l0aW9uIHJpZ2h0IHRvcCB2aXNpYmlsaXR5Jy5yZXBsYWNlKC9cXHcrL2csIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHdyYXBDc3Nba2V5XSA9IGdldENzc1trZXldO1xuICAgIH0pO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHdyYXBDc3MpXG4gICAgICAkd3JhcC5zdHlsZVtrZXldID0gd3JhcENzc1trZXldO1xuXG4gICAgLy8gZ2l2ZSB0aGUgc291cmNlIGVsZW1lbnQgc29tZSBzYW5lciBzdHlsZXNcbiAgICBzZXRDc3MuYm9yZGVyICA9IHNldENzcy5tYXJnaW4gPSBzZXRDc3MucGFkZGluZyA9IDA7XG4gICAgc2V0Q3NzLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHNldENzcy5vcGFjaXR5ID0gMTtcblxuICAgIC8vIHNldCB1cCB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAkZWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBkb1dvcmspO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcHRpbWl6ZWRSZXNpemUnLCBkb1dvcmspO1xuXG4gICAgLy8gd2UgbWF5IGhhdmUgbWlzc2VkIHRoZSBsb2FkZWRtZXRhZGF0YSBldmVudCwgc28gaWYgdGhlIHZpZGVvIGhhcyBsb2FkZWRcbiAgICAvLyBlbm91Z2ggZGF0YSwganVzdCBkcm9wIHRoZSBldmVudCBsaXN0ZW5lciBhbmQgZXhlY3V0ZVxuICAgIGlmICgkZWwucmVhZHlTdGF0ZSA+PSAxKSB7XG4gICAgICAkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBkb1dvcmspO1xuICAgICAgZG9Xb3JrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRG8gdGhlIGFjdHVhbCBzaXppbmcuIE1hdGguXG4gICAgICogQG1ldGhvZE9mIGZpdEl0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZG9Xb3JrICgpIHtcbiAgICAgIC8vIHRoZSBhY3R1YWwgc2l6ZSBhbmQgcmF0aW8gb2YgdGhlIHZpZGVvXG4gICAgICAvLyB3ZSBkbyB0aGlzIGhlcmUsIGV2ZW4gdGhvdWdoIGl0IGRvZXNuJ3QgY2hhbmdlLCBiZWNhdXNlXG4gICAgICAvLyBhdCB0aGlzIHBvaW50IHdlIGNhbiBiZSBzdXJlIHRoZSBtZXRhZGF0YSBoYXMgbG9hZGVkXG4gICAgICB2YXIgdmlkZW9XaWR0aCAgPSAkZWwudmlkZW9XaWR0aCxcbiAgICAgICAgICB2aWRlb0hlaWdodCA9ICRlbC52aWRlb0hlaWdodCxcbiAgICAgICAgICB2aWRlb1JhdGlvICA9IHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodDtcblxuICAgICAgdmFyIHdyYXBXaWR0aCAgPSAkd3JhcC5jbGllbnRXaWR0aCxcbiAgICAgICAgICB3cmFwSGVpZ2h0ID0gJHdyYXAuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIHdyYXBSYXRpbyAgPSB3cmFwV2lkdGggLyB3cmFwSGVpZ2h0O1xuXG4gICAgICB2YXIgbmV3SGVpZ2h0ID0gMCxcbiAgICAgICAgICBuZXdXaWR0aCAgPSAwO1xuICAgICAgc2V0Q3NzLm1hcmdpbkxlZnQgPSBzZXRDc3MubWFyZ2luVG9wID0gMDtcblxuICAgICAgLy8gYmFzaWNhbGx5IHdlIGRvIHRoZSBvcHBvc2l0ZSBhY3Rpb24gZm9yIGNvbnRhaW4gYW5kIGNvdmVyLFxuICAgICAgLy8gZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHZpZGVvIGFzcGVjdCByYXRpbyBpcyBsZXNzIHRoYW4gb3JcbiAgICAgIC8vIGdyZWF0ZXIgdGhhbiB0aGUgd3JhcHBlcidzIGFzcGVjdCByYXRpb1xuICAgICAgaWYgKHZpZGVvUmF0aW8gPCB3cmFwUmF0aW8gP1xuICAgICAgICAgIHN0eWxlWydvYmplY3QtZml0J10gPT09ICdjb250YWluJyA6IHN0eWxlWydvYmplY3QtZml0J10gPT09ICdjb3ZlcicpIHtcbiAgICAgICAgbmV3SGVpZ2h0ID0gd3JhcEhlaWdodCAqIHZpZGVvUmF0aW87XG4gICAgICAgIG5ld1dpZHRoICA9IHdyYXBXaWR0aCAvIHZpZGVvUmF0aW87XG5cbiAgICAgICAgc2V0Q3NzLndpZHRoICA9IE1hdGgucm91bmQobmV3SGVpZ2h0KSArICdweCc7XG4gICAgICAgIHNldENzcy5oZWlnaHQgPSB3cmFwSGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICBpZiAoc3R5bGVbJ29iamVjdC1wb3NpdGlvbi14J10gPT09ICdsZWZ0JylcbiAgICAgICAgICBzZXRDc3MubWFyZ2luTGVmdCA9IDA7XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlWydvYmplY3QtcG9zaXRpb24teCddID09PSAncmlnaHQnKVxuICAgICAgICAgIHNldENzcy5tYXJnaW5MZWZ0ID0gTWF0aC5yb3VuZCh3cmFwV2lkdGggLSBuZXdIZWlnaHQpICsgJ3B4JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNldENzcy5tYXJnaW5MZWZ0ID0gTWF0aC5yb3VuZCgod3JhcFdpZHRoIC0gbmV3SGVpZ2h0KSAvIDIpICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1dpZHRoID0gd3JhcFdpZHRoIC8gdmlkZW9SYXRpbztcblxuICAgICAgICBzZXRDc3Mud2lkdGggICAgID0gd3JhcFdpZHRoICsgJ3B4JztcbiAgICAgICAgc2V0Q3NzLmhlaWdodCAgICA9IE1hdGgucm91bmQobmV3V2lkdGgpICsgJ3B4JztcblxuICAgICAgICBpZiAoc3R5bGVbJ29iamVjdC1wb3NpdGlvbi15J10gPT09ICd0b3AnKVxuICAgICAgICAgIHNldENzcy5tYXJnaW5Ub3AgPSAwO1xuICAgICAgICBlbHNlIGlmIChzdHlsZVsnb2JqZWN0LXBvc2l0aW9uLXknXSA9PT0gJ2JvdHRvbScpXG4gICAgICAgICAgc2V0Q3NzLm1hcmdpblRvcCA9IE1hdGgucm91bmQod3JhcEhlaWdodCAtIG5ld1dpZHRoKSArICdweCc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzZXRDc3MubWFyZ2luVG9wID0gTWF0aC5yb3VuZCgod3JhcEhlaWdodCAtIG5ld1dpZHRoKSAvIDIpICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgLy8gcGxheSB0aGUgdmlkZW8gaWYgYXV0b3BsYXkgaXMgc2V0XG4gICAgICBpZiAoJGVsLmF1dG9wbGF5KVxuICAgICAgICAkZWwucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdCB0aGUgb2JqZWN0LXBvc2l0aW9uIHByb3BlcnR5IGludG8geCBhbmQgeSBwb3NpdGlvbiBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSAge29iamVjdH0gc3R5bGUgUmVsZXZhbnQgZWxlbWVudCBzdHlsZXNcbiAgICogQHJldHVybiB7b2JqZWN0fSAgICAgICBUaGUgc3R5bGUgb2JqZWN0IHdpdGggdGhlIGFkZGVkIHggYW5kIHkgcHJvcHNcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlUG9zaXRpb24gKHN0eWxlKSB7XG4gICAgaWYgKH5zdHlsZVsnb2JqZWN0LXBvc2l0aW9uJ10uaW5kZXhPZignbGVmdCcpKVxuICAgICAgc3R5bGVbJ29iamVjdC1wb3NpdGlvbi14J10gPSAnbGVmdCc7XG4gICAgZWxzZSBpZiAofnN0eWxlWydvYmplY3QtcG9zaXRpb24nXS5pbmRleE9mKCdyaWdodCcpKVxuICAgICAgc3R5bGVbJ29iamVjdC1wb3NpdGlvbi14J10gPSAncmlnaHQnO1xuICAgIGVsc2VcbiAgICAgIHN0eWxlWydvYmplY3QtcG9zaXRpb24teCddID0gJ2NlbnRlcic7XG5cbiAgICBpZiAofnN0eWxlWydvYmplY3QtcG9zaXRpb24nXS5pbmRleE9mKCd0b3AnKSlcbiAgICAgIHN0eWxlWydvYmplY3QtcG9zaXRpb24teSddID0gJ3RvcCc7XG4gICAgZWxzZSBpZiAofnN0eWxlWydvYmplY3QtcG9zaXRpb24nXS5pbmRleE9mKCdib3R0b20nKSlcbiAgICAgIHN0eWxlWydvYmplY3QtcG9zaXRpb24teSddID0gJ2JvdHRvbSc7XG4gICAgZWxzZVxuICAgICAgc3R5bGVbJ29iamVjdC1wb3NpdGlvbi15J10gPSAnY2VudGVyJztcblxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvdHRsZSBhbiBldmVudCB3aXRoIFJlcXVlc3RBbmltYXRpb25GcmFtZSBBUEkgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHRvIHRocm90dGxlXG4gICAqIEBwYXJhbSAge3N0cmluZ30gbmFtZSBDdXN0b20gZXZlbnQgbmFtZSB0byBsaXN0ZW4gZm9yXG4gICAqIEBwYXJhbSAge29iamVjdH0gb2JqICBPcHRpb25hbCBvYmplY3QgdG8gYXR0YWNoIHRoZSBldmVudCB0b1xuICAgKi9cbiAgZnVuY3Rpb24gdGhyb3R0bGUgKHR5cGUsIG5hbWUsIG9iaikge1xuICAgIG9iaiA9IG9iaiB8fCB3aW5kb3c7XG4gICAgdmFyIHJ1bm5pbmcgPSBmYWxzZSxcbiAgICAgICAgZXZ0ICAgICA9IG51bGw7XG5cbiAgICAvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBDdXN0b21FdmVudCBjb25zdHJ1Y3RvclxuICAgIC8vIHNvIGlmIHRoYXQgZmFpbHMgZG8gaXQgdGhlIG9sZCB3YXlcbiAgICB0cnkge1xuICAgICAgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChydW5uaW5nKSByZXR1cm47XG5cbiAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2JqLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIG9iai5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMpO1xuICB9XG59O1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9PSAndW5kZWZpbmVkJylcbiAgbW9kdWxlLmV4cG9ydHMgPSBvYmplY3RGaXRWaWRlb3M7XG4iLCIvKlxuICAgICBfIF8gICAgICBfICAgICAgIF9cbiBfX198IChfKSBfX198IHwgX18gIChfKV9fX1xuLyBfX3wgfCB8LyBfX3wgfC8gLyAgfCAvIF9ffFxuXFxfXyBcXCB8IHwgKF9ffCAgIDwgXyB8IFxcX18gXFxcbnxfX18vX3xffFxcX19ffF98XFxfKF8pLyB8X19fL1xuICAgICAgICAgICAgICAgICAgIHxfXy9cblxuIFZlcnNpb246IDEuOC4xXG4gIEF1dGhvcjogS2VuIFdoZWVsZXJcbiBXZWJzaXRlOiBodHRwOi8va2Vud2hlZWxlci5naXRodWIuaW9cbiAgICBEb2NzOiBodHRwOi8va2Vud2hlZWxlci5naXRodWIuaW8vc2xpY2tcbiAgICBSZXBvOiBodHRwOi8vZ2l0aHViLmNvbS9rZW53aGVlbGVyL3NsaWNrXG4gIElzc3VlczogaHR0cDovL2dpdGh1Yi5jb20va2Vud2hlZWxlci9zbGljay9pc3N1ZXNcblxuICovXG4vKiBnbG9iYWwgd2luZG93LCBkb2N1bWVudCwgZGVmaW5lLCBqUXVlcnksIHNldEludGVydmFsLCBjbGVhckludGVydmFsICovXG47KGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxuXG59KGZ1bmN0aW9uKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFNsaWNrID0gd2luZG93LlNsaWNrIHx8IHt9O1xuXG4gICAgU2xpY2sgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGluc3RhbmNlVWlkID0gMDtcblxuICAgICAgICBmdW5jdGlvbiBTbGljayhlbGVtZW50LCBzZXR0aW5ncykge1xuXG4gICAgICAgICAgICB2YXIgXyA9IHRoaXMsIGRhdGFTZXR0aW5ncztcblxuICAgICAgICAgICAgXy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcHBlbmRBcnJvd3M6ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgYXBwZW5kRG90czogJChlbGVtZW50KSxcbiAgICAgICAgICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgICAgICAgICAgYXNOYXZGb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiBjbGFzcz1cInNsaWNrLXByZXZcIiBhcmlhLWxhYmVsPVwiUHJldmlvdXNcIiB0eXBlPVwiYnV0dG9uXCI+UHJldmlvdXM8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIG5leHRBcnJvdzogJzxidXR0b24gY2xhc3M9XCJzbGljay1uZXh0XCIgYXJpYS1sYWJlbD1cIk5leHRcIiB0eXBlPVwiYnV0dG9uXCI+TmV4dDwvYnV0dG9uPicsXG4gICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDMwMDAsXG4gICAgICAgICAgICAgICAgY2VudGVyTW9kZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzUwcHgnLFxuICAgICAgICAgICAgICAgIGNzc0Vhc2U6ICdlYXNlJyxcbiAgICAgICAgICAgICAgICBjdXN0b21QYWdpbmc6IGZ1bmN0aW9uKHNsaWRlciwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgLz4nKS50ZXh0KGkgKyAxKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRvdHNDbGFzczogJ3NsaWNrLWRvdHMnLFxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgICAgICAgICAgICAgIGVkZ2VGcmljdGlvbjogMC4zNSxcbiAgICAgICAgICAgICAgICBmYWRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmb2N1c09uU2VsZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmb2N1c09uQ2hhbmdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbml0aWFsU2xpZGU6IDAsXG4gICAgICAgICAgICAgICAgbGF6eUxvYWQ6ICdvbmRlbWFuZCcsXG4gICAgICAgICAgICAgICAgbW9iaWxlRmlyc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uRm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF1c2VPbkRvdHNIb3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzcG9uZFRvOiAnd2luZG93JyxcbiAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBudWxsLFxuICAgICAgICAgICAgICAgIHJvd3M6IDEsXG4gICAgICAgICAgICAgICAgcnRsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbGlkZTogJycsXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyUm93OiAxLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxuICAgICAgICAgICAgICAgIHN3aXBlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdG91Y2hNb3ZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvdWNoVGhyZXNob2xkOiA1LFxuICAgICAgICAgICAgICAgIHVzZUNTUzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1c2VUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgICAgICAgICAgdmFyaWFibGVXaWR0aDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU3dpcGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgd2FpdEZvckFuaW1hdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgekluZGV4OiAxMDAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBfLmluaXRpYWxzID0ge1xuICAgICAgICAgICAgICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGF1dG9QbGF5VGltZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGlvbjogMCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TGVmdDogbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGU6IDAsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAxLFxuICAgICAgICAgICAgICAgICRkb3RzOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpc3RXaWR0aDogbnVsbCxcbiAgICAgICAgICAgICAgICBsaXN0SGVpZ2h0OiBudWxsLFxuICAgICAgICAgICAgICAgIGxvYWRJbmRleDogMCxcbiAgICAgICAgICAgICAgICAkbmV4dEFycm93OiBudWxsLFxuICAgICAgICAgICAgICAgICRwcmV2QXJyb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgc2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbGlkZUNvdW50OiBudWxsLFxuICAgICAgICAgICAgICAgIHNsaWRlV2lkdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgJHNsaWRlVHJhY2s6IG51bGwsXG4gICAgICAgICAgICAgICAgJHNsaWRlczogbnVsbCxcbiAgICAgICAgICAgICAgICBzbGlkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbGlkZU9mZnNldDogMCxcbiAgICAgICAgICAgICAgICBzd2lwZUxlZnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgc3dpcGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgJGxpc3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgdG91Y2hPYmplY3Q6IHt9LFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1bnNsaWNrZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkLmV4dGVuZChfLCBfLmluaXRpYWxzKTtcblxuICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID0gbnVsbDtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSBudWxsO1xuICAgICAgICAgICAgXy5hbmltUHJvcCA9IG51bGw7XG4gICAgICAgICAgICBfLmJyZWFrcG9pbnRzID0gW107XG4gICAgICAgICAgICBfLmJyZWFrcG9pbnRTZXR0aW5ncyA9IFtdO1xuICAgICAgICAgICAgXy5jc3NUcmFuc2l0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgXy5mb2N1c3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgXy5oaWRkZW4gPSAnaGlkZGVuJztcbiAgICAgICAgICAgIF8ucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIF8ucG9zaXRpb25Qcm9wID0gbnVsbDtcbiAgICAgICAgICAgIF8ucmVzcG9uZFRvID0gbnVsbDtcbiAgICAgICAgICAgIF8ucm93Q291bnQgPSAxO1xuICAgICAgICAgICAgXy5zaG91bGRDbGljayA9IHRydWU7XG4gICAgICAgICAgICBfLiRzbGlkZXIgPSAkKGVsZW1lbnQpO1xuICAgICAgICAgICAgXy4kc2xpZGVzQ2FjaGUgPSBudWxsO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gbnVsbDtcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSBudWxsO1xuICAgICAgICAgICAgXy52aXNpYmlsaXR5Q2hhbmdlID0gJ3Zpc2liaWxpdHljaGFuZ2UnO1xuICAgICAgICAgICAgXy53aW5kb3dXaWR0aCA9IDA7XG4gICAgICAgICAgICBfLndpbmRvd1RpbWVyID0gbnVsbDtcblxuICAgICAgICAgICAgZGF0YVNldHRpbmdzID0gJChlbGVtZW50KS5kYXRhKCdzbGljaycpIHx8IHt9O1xuXG4gICAgICAgICAgICBfLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgXy5kZWZhdWx0cywgc2V0dGluZ3MsIGRhdGFTZXR0aW5ncyk7XG5cbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gXy5vcHRpb25zLmluaXRpYWxTbGlkZTtcblxuICAgICAgICAgICAgXy5vcmlnaW5hbFNldHRpbmdzID0gXy5vcHRpb25zO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBfLmhpZGRlbiA9ICdtb3pIaWRkZW4nO1xuICAgICAgICAgICAgICAgIF8udmlzaWJpbGl0eUNoYW5nZSA9ICdtb3p2aXNpYmlsaXR5Y2hhbmdlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBfLmhpZGRlbiA9ICd3ZWJraXRIaWRkZW4nO1xuICAgICAgICAgICAgICAgIF8udmlzaWJpbGl0eUNoYW5nZSA9ICd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy5hdXRvUGxheSA9ICQucHJveHkoXy5hdXRvUGxheSwgXyk7XG4gICAgICAgICAgICBfLmF1dG9QbGF5Q2xlYXIgPSAkLnByb3h5KF8uYXV0b1BsYXlDbGVhciwgXyk7XG4gICAgICAgICAgICBfLmF1dG9QbGF5SXRlcmF0b3IgPSAkLnByb3h5KF8uYXV0b1BsYXlJdGVyYXRvciwgXyk7XG4gICAgICAgICAgICBfLmNoYW5nZVNsaWRlID0gJC5wcm94eShfLmNoYW5nZVNsaWRlLCBfKTtcbiAgICAgICAgICAgIF8uY2xpY2tIYW5kbGVyID0gJC5wcm94eShfLmNsaWNrSGFuZGxlciwgXyk7XG4gICAgICAgICAgICBfLnNlbGVjdEhhbmRsZXIgPSAkLnByb3h5KF8uc2VsZWN0SGFuZGxlciwgXyk7XG4gICAgICAgICAgICBfLnNldFBvc2l0aW9uID0gJC5wcm94eShfLnNldFBvc2l0aW9uLCBfKTtcbiAgICAgICAgICAgIF8uc3dpcGVIYW5kbGVyID0gJC5wcm94eShfLnN3aXBlSGFuZGxlciwgXyk7XG4gICAgICAgICAgICBfLmRyYWdIYW5kbGVyID0gJC5wcm94eShfLmRyYWdIYW5kbGVyLCBfKTtcbiAgICAgICAgICAgIF8ua2V5SGFuZGxlciA9ICQucHJveHkoXy5rZXlIYW5kbGVyLCBfKTtcblxuICAgICAgICAgICAgXy5pbnN0YW5jZVVpZCA9IGluc3RhbmNlVWlkKys7XG5cbiAgICAgICAgICAgIC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG4gICAgICAgICAgICAvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAobXVzdCBzdGFydCB3aXRoIDwpXG4gICAgICAgICAgICAvLyBFeHRyYWN0ZWQgZnJvbSBqUXVlcnkgdjEuMTEgc291cmNlXG4gICAgICAgICAgICBfLmh0bWxFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qKSQvO1xuXG5cbiAgICAgICAgICAgIF8ucmVnaXN0ZXJCcmVha3BvaW50cygpO1xuICAgICAgICAgICAgXy5pbml0KHRydWUpO1xuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU2xpY2s7XG5cbiAgICB9KCkpO1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFjdGl2YXRlQURBID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmZpbmQoJy5zbGljay1hY3RpdmUnKS5hdHRyKHtcbiAgICAgICAgICAgICdhcmlhLWhpZGRlbic6ICdmYWxzZSdcbiAgICAgICAgfSkuZmluZCgnYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0JykuYXR0cih7XG4gICAgICAgICAgICAndGFiaW5kZXgnOiAnMCdcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFkZFNsaWRlID0gU2xpY2sucHJvdG90eXBlLnNsaWNrQWRkID0gZnVuY3Rpb24obWFya3VwLCBpbmRleCwgYWRkQmVmb3JlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2YoaW5kZXgpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGFkZEJlZm9yZSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kZXggPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgMCB8fCAoaW5kZXggPj0gXy5zbGlkZUNvdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy51bmxvYWQoKTtcblxuICAgICAgICBpZiAodHlwZW9mKGluZGV4KSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBfLiRzbGlkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhZGRCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAkKG1hcmt1cCkuaW5zZXJ0QmVmb3JlKF8uJHNsaWRlcy5lcShpbmRleCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKG1hcmt1cCkuaW5zZXJ0QWZ0ZXIoXy4kc2xpZGVzLmVxKGluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYWRkQmVmb3JlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLnByZXBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVzID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmFwcGVuZChfLiRzbGlkZXMpO1xuXG4gICAgICAgIF8uJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnLCBpbmRleCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlc0NhY2hlID0gXy4kc2xpZGVzO1xuXG4gICAgICAgIF8ucmVpbml0KCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFuaW1hdGVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuICAgICAgICBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PT0gMSAmJiBfLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09IHRydWUgJiYgXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldEhlaWdodCA9IF8uJHNsaWRlcy5lcShfLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgICAgICBfLiRsaXN0LmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0XG4gICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hbmltYXRlU2xpZGUgPSBmdW5jdGlvbih0YXJnZXRMZWZ0LCBjYWxsYmFjaykge1xuXG4gICAgICAgIHZhciBhbmltUHJvcHMgPSB7fSxcbiAgICAgICAgICAgIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYW5pbWF0ZUhlaWdodCgpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlICYmIF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAtdGFyZ2V0TGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy50cmFuc2Zvcm1zRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGFyZ2V0TGVmdFxuICAgICAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCwgXy5vcHRpb25zLmVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB0b3A6IHRhcmdldExlZnRcbiAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQsIF8ub3B0aW9ucy5lYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoXy5jc3NUcmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRMZWZ0ID0gLShfLmN1cnJlbnRMZWZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJCh7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1TdGFydDogXy5jdXJyZW50TGVmdFxuICAgICAgICAgICAgICAgIH0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBhbmltU3RhcnQ6IHRhcmdldExlZnRcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBfLm9wdGlvbnMuc3BlZWQsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogXy5vcHRpb25zLmVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24obm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBNYXRoLmNlaWwobm93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbVByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZSgnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ICsgJ3B4LCAwcHgpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhhbmltUHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltUHJvcHNbXy5hbmltVHlwZV0gPSAndHJhbnNsYXRlKDBweCwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ICsgJ3B4KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MoYW5pbVByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBfLmFwcGx5VHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSBNYXRoLmNlaWwodGFyZ2V0TGVmdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltUHJvcHNbXy5hbmltVHlwZV0gPSAndHJhbnNsYXRlM2QoJyArIHRhcmdldExlZnQgKyAncHgsIDBweCwgMHB4KSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZTNkKDBweCwnICsgdGFyZ2V0TGVmdCArICdweCwgMHB4KSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKGFuaW1Qcm9wcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgXy5kaXNhYmxlVHJhbnNpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXROYXZUYXJnZXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBhc05hdkZvciA9IF8ub3B0aW9ucy5hc05hdkZvcjtcblxuICAgICAgICBpZiAoIGFzTmF2Rm9yICYmIGFzTmF2Rm9yICE9PSBudWxsICkge1xuICAgICAgICAgICAgYXNOYXZGb3IgPSAkKGFzTmF2Rm9yKS5ub3QoXy4kc2xpZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhc05hdkZvcjtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYXNOYXZGb3IgPSBmdW5jdGlvbihpbmRleCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGFzTmF2Rm9yID0gXy5nZXROYXZUYXJnZXQoKTtcblxuICAgICAgICBpZiAoIGFzTmF2Rm9yICE9PSBudWxsICYmIHR5cGVvZiBhc05hdkZvciA9PT0gJ29iamVjdCcgKSB7XG4gICAgICAgICAgICBhc05hdkZvci5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLnNsaWNrKCdnZXRTbGljaycpO1xuICAgICAgICAgICAgICAgIGlmKCF0YXJnZXQudW5zbGlja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5zbGlkZUhhbmRsZXIoaW5kZXgsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFwcGx5VHJhbnNpdGlvbiA9IGZ1bmN0aW9uKHNsaWRlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHt9O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25bXy50cmFuc2l0aW9uVHlwZV0gPSBfLnRyYW5zZm9ybVR5cGUgKyAnICcgKyBfLm9wdGlvbnMuc3BlZWQgKyAnbXMgJyArIF8ub3B0aW9ucy5jc3NFYXNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNpdGlvbltfLnRyYW5zaXRpb25UeXBlXSA9ICdvcGFjaXR5ICcgKyBfLm9wdGlvbnMuc3BlZWQgKyAnbXMgJyArIF8ub3B0aW9ucy5jc3NFYXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3ModHJhbnNpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGUpLmNzcyh0cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hdXRvUGxheSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmF1dG9QbGF5Q2xlYXIoKTtcblxuICAgICAgICBpZiAoIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG4gICAgICAgICAgICBfLmF1dG9QbGF5VGltZXIgPSBzZXRJbnRlcnZhbCggXy5hdXRvUGxheUl0ZXJhdG9yLCBfLm9wdGlvbnMuYXV0b3BsYXlTcGVlZCApO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmF1dG9QbGF5Q2xlYXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8uYXV0b1BsYXlUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfLmF1dG9QbGF5VGltZXIpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmF1dG9QbGF5SXRlcmF0b3IgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBzbGlkZVRvID0gXy5jdXJyZW50U2xpZGUgKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG5cbiAgICAgICAgaWYgKCAhXy5wYXVzZWQgJiYgIV8uaW50ZXJydXB0ZWQgJiYgIV8uZm9jdXNzZWQgKSB7XG5cbiAgICAgICAgICAgIGlmICggXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggXy5kaXJlY3Rpb24gPT09IDEgJiYgKCBfLmN1cnJlbnRTbGlkZSArIDEgKSA9PT0gKCBfLnNsaWRlQ291bnQgLSAxICkpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5kaXJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCBfLmRpcmVjdGlvbiA9PT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBzbGlkZVRvID0gXy5jdXJyZW50U2xpZGUgLSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfLmN1cnJlbnRTbGlkZSAtIDEgPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmRpcmVjdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLnNsaWRlSGFuZGxlciggc2xpZGVUbyApO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYnVpbGRBcnJvd3MgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgKSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvdyA9ICQoXy5vcHRpb25zLnByZXZBcnJvdykuYWRkQ2xhc3MoJ3NsaWNrLWFycm93Jyk7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cgPSAkKF8ub3B0aW9ucy5uZXh0QXJyb3cpLmFkZENsYXNzKCdzbGljay1hcnJvdycpO1xuXG4gICAgICAgICAgICBpZiggXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyApIHtcblxuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2staGlkZGVuJykucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4gdGFiaW5kZXgnKTtcbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWhpZGRlbicpLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuIHRhYmluZGV4Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5odG1sRXhwci50ZXN0KF8ub3B0aW9ucy5wcmV2QXJyb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5wcmVwZW5kVG8oXy5vcHRpb25zLmFwcGVuZEFycm93cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKF8uaHRtbEV4cHIudGVzdChfLm9wdGlvbnMubmV4dEFycm93KSkge1xuICAgICAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cuYXBwZW5kVG8oXy5vcHRpb25zLmFwcGVuZEFycm93cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stZGlzYWJsZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5hZGQoIF8uJG5leHRBcnJvdyApXG5cbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1oaWRkZW4nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kaXNhYmxlZCc6ICd0cnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkRG90cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGksIGRvdDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXIuYWRkQ2xhc3MoJ3NsaWNrLWRvdHRlZCcpO1xuXG4gICAgICAgICAgICBkb3QgPSAkKCc8dWwgLz4nKS5hZGRDbGFzcyhfLm9wdGlvbnMuZG90c0NsYXNzKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSBfLmdldERvdENvdW50KCk7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGRvdC5hcHBlbmQoJCgnPGxpIC8+JykuYXBwZW5kKF8ub3B0aW9ucy5jdXN0b21QYWdpbmcuY2FsbCh0aGlzLCBfLCBpKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLiRkb3RzID0gZG90LmFwcGVuZFRvKF8ub3B0aW9ucy5hcHBlbmREb3RzKTtcblxuICAgICAgICAgICAgXy4kZG90cy5maW5kKCdsaScpLmZpcnN0KCkuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYnVpbGRPdXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVzID1cbiAgICAgICAgICAgIF8uJHNsaWRlclxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbiggXy5vcHRpb25zLnNsaWRlICsgJzpub3QoLnNsaWNrLWNsb25lZCknKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stc2xpZGUnKTtcblxuICAgICAgICBfLnNsaWRlQ291bnQgPSBfLiRzbGlkZXMubGVuZ3RoO1xuXG4gICAgICAgIF8uJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnLCBpbmRleClcbiAgICAgICAgICAgICAgICAuZGF0YSgnb3JpZ2luYWxTdHlsaW5nJywgJChlbGVtZW50KS5hdHRyKCdzdHlsZScpIHx8ICcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay1zbGlkZXInKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrID0gKF8uc2xpZGVDb3VudCA9PT0gMCkgP1xuICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz1cInNsaWNrLXRyYWNrXCIvPicpLmFwcGVuZFRvKF8uJHNsaWRlcikgOlxuICAgICAgICAgICAgXy4kc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJzbGljay10cmFja1wiLz4nKS5wYXJlbnQoKTtcblxuICAgICAgICBfLiRsaXN0ID0gXy4kc2xpZGVUcmFjay53cmFwKFxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzbGljay1saXN0XCIvPicpLnBhcmVudCgpO1xuICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcygnb3BhY2l0eScsIDApO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSB8fCBfLm9wdGlvbnMuc3dpcGVUb1NsaWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnaW1nW2RhdGEtbGF6eV0nLCBfLiRzbGlkZXIpLm5vdCgnW3NyY10nKS5hZGRDbGFzcygnc2xpY2stbG9hZGluZycpO1xuXG4gICAgICAgIF8uc2V0dXBJbmZpbml0ZSgpO1xuXG4gICAgICAgIF8uYnVpbGRBcnJvd3MoKTtcblxuICAgICAgICBfLmJ1aWxkRG90cygpO1xuXG4gICAgICAgIF8udXBkYXRlRG90cygpO1xuXG5cbiAgICAgICAgXy5zZXRTbGlkZUNsYXNzZXModHlwZW9mIF8uY3VycmVudFNsaWRlID09PSAnbnVtYmVyJyA/IF8uY3VycmVudFNsaWRlIDogMCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kcmFnZ2FibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJGxpc3QuYWRkQ2xhc3MoJ2RyYWdnYWJsZScpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkUm93cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgYSwgYiwgYywgbmV3U2xpZGVzLCBudW1PZlNsaWRlcywgb3JpZ2luYWxTbGlkZXMsc2xpZGVzUGVyU2VjdGlvbjtcblxuICAgICAgICBuZXdTbGlkZXMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIG9yaWdpbmFsU2xpZGVzID0gXy4kc2xpZGVyLmNoaWxkcmVuKCk7XG5cbiAgICAgICAgaWYoXy5vcHRpb25zLnJvd3MgPiAwKSB7XG5cbiAgICAgICAgICAgIHNsaWRlc1BlclNlY3Rpb24gPSBfLm9wdGlvbnMuc2xpZGVzUGVyUm93ICogXy5vcHRpb25zLnJvd3M7XG4gICAgICAgICAgICBudW1PZlNsaWRlcyA9IE1hdGguY2VpbChcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFNsaWRlcy5sZW5ndGggLyBzbGlkZXNQZXJTZWN0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmb3IoYSA9IDA7IGEgPCBudW1PZlNsaWRlczsgYSsrKXtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBmb3IoYiA9IDA7IGIgPCBfLm9wdGlvbnMucm93czsgYisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGMgPSAwOyBjIDwgXy5vcHRpb25zLnNsaWRlc1BlclJvdzsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gKGEgKiBzbGlkZXNQZXJTZWN0aW9uICsgKChiICogXy5vcHRpb25zLnNsaWRlc1BlclJvdykgKyBjKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxTbGlkZXMuZ2V0KHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQob3JpZ2luYWxTbGlkZXMuZ2V0KHRhcmdldCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NsaWRlcy5hcHBlbmRDaGlsZChzbGlkZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci5lbXB0eSgpLmFwcGVuZChuZXdTbGlkZXMpO1xuICAgICAgICAgICAgXy4kc2xpZGVyLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6KDEwMCAvIF8ub3B0aW9ucy5zbGlkZXNQZXJSb3cpICsgJyUnLFxuICAgICAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUtYmxvY2snXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jaGVja1Jlc3BvbnNpdmUgPSBmdW5jdGlvbihpbml0aWFsLCBmb3JjZVVwZGF0ZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGJyZWFrcG9pbnQsIHRhcmdldEJyZWFrcG9pbnQsIHJlc3BvbmRUb1dpZHRoLCB0cmlnZ2VyQnJlYWtwb2ludCA9IGZhbHNlO1xuICAgICAgICB2YXIgc2xpZGVyV2lkdGggPSBfLiRzbGlkZXIud2lkdGgoKTtcbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgJCh3aW5kb3cpLndpZHRoKCk7XG5cbiAgICAgICAgaWYgKF8ucmVzcG9uZFRvID09PSAnd2luZG93Jykge1xuICAgICAgICAgICAgcmVzcG9uZFRvV2lkdGggPSB3aW5kb3dXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChfLnJlc3BvbmRUbyA9PT0gJ3NsaWRlcicpIHtcbiAgICAgICAgICAgIHJlc3BvbmRUb1dpZHRoID0gc2xpZGVyV2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5yZXNwb25kVG8gPT09ICdtaW4nKSB7XG4gICAgICAgICAgICByZXNwb25kVG9XaWR0aCA9IE1hdGgubWluKHdpbmRvd1dpZHRoLCBzbGlkZXJXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5yZXNwb25zaXZlICYmXG4gICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGggJiZcbiAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBmb3IgKGJyZWFrcG9pbnQgaW4gXy5icmVha3BvaW50cykge1xuICAgICAgICAgICAgICAgIGlmIChfLmJyZWFrcG9pbnRzLmhhc093blByb3BlcnR5KGJyZWFrcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfLm9yaWdpbmFsU2V0dGluZ3MubW9iaWxlRmlyc3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uZFRvV2lkdGggPCBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludCA9IF8uYnJlYWtwb2ludHNbYnJlYWtwb2ludF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uZFRvV2lkdGggPiBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludCA9IF8uYnJlYWtwb2ludHNbYnJlYWtwb2ludF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXRCcmVha3BvaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uYWN0aXZlQnJlYWtwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0QnJlYWtwb2ludCAhPT0gXy5hY3RpdmVCcmVha3BvaW50IHx8IGZvcmNlVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5icmVha3BvaW50U2V0dGluZ3NbdGFyZ2V0QnJlYWtwb2ludF0gPT09ICd1bnNsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udW5zbGljayh0YXJnZXRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zID0gJC5leHRlbmQoe30sIF8ub3JpZ2luYWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3NbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCcmVha3BvaW50XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnJlZnJlc2goaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQnJlYWtwb2ludCA9IHRhcmdldEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5icmVha3BvaW50U2V0dGluZ3NbdGFyZ2V0QnJlYWtwb2ludF0gPT09ICd1bnNsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy51bnNsaWNrKHRhcmdldEJyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zID0gJC5leHRlbmQoe30sIF8ub3JpZ2luYWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmJyZWFrcG9pbnRTZXR0aW5nc1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IF8ub3B0aW9ucy5pbml0aWFsU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnJlZnJlc2goaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uYWN0aXZlQnJlYWtwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMgPSBfLm9yaWdpbmFsU2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IF8ub3B0aW9ucy5pbml0aWFsU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXy5yZWZyZXNoKGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQnJlYWtwb2ludCA9IHRhcmdldEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IHRyaWdnZXIgYnJlYWtwb2ludHMgZHVyaW5nIGFuIGFjdHVhbCBicmVhay4gbm90IG9uIGluaXRpYWxpemUuXG4gICAgICAgICAgICBpZiggIWluaXRpYWwgJiYgdHJpZ2dlckJyZWFrcG9pbnQgIT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdicmVha3BvaW50JywgW18sIHRyaWdnZXJCcmVha3BvaW50XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2hhbmdlU2xpZGUgPSBmdW5jdGlvbihldmVudCwgZG9udEFuaW1hdGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICAkdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KSxcbiAgICAgICAgICAgIGluZGV4T2Zmc2V0LCBzbGlkZU9mZnNldCwgdW5ldmVuT2Zmc2V0O1xuXG4gICAgICAgIC8vIElmIHRhcmdldCBpcyBhIGxpbmssIHByZXZlbnQgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgIGlmKCR0YXJnZXQuaXMoJ2EnKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRhcmdldCBpcyBub3QgdGhlIDxsaT4gZWxlbWVudCAoaWU6IGEgY2hpbGQpLCBmaW5kIHRoZSA8bGk+LlxuICAgICAgICBpZighJHRhcmdldC5pcygnbGknKSkge1xuICAgICAgICAgICAgJHRhcmdldCA9ICR0YXJnZXQuY2xvc2VzdCgnbGknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVuZXZlbk9mZnNldCA9IChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDApO1xuICAgICAgICBpbmRleE9mZnNldCA9IHVuZXZlbk9mZnNldCA/IDAgOiAoXy5zbGlkZUNvdW50IC0gXy5jdXJyZW50U2xpZGUpICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGF0YS5tZXNzYWdlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXZpb3VzJzpcbiAgICAgICAgICAgICAgICBzbGlkZU9mZnNldCA9IGluZGV4T2Zmc2V0ID09PSAwID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIGluZGV4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKF8uY3VycmVudFNsaWRlIC0gc2xpZGVPZmZzZXQsIGZhbHNlLCBkb250QW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICAgICAgICBzbGlkZU9mZnNldCA9IGluZGV4T2Zmc2V0ID09PSAwID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogaW5kZXhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoXy5jdXJyZW50U2xpZGUgKyBzbGlkZU9mZnNldCwgZmFsc2UsIGRvbnRBbmltYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2luZGV4JzpcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBldmVudC5kYXRhLmluZGV4ID09PSAwID8gMCA6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXggfHwgJHRhcmdldC5pbmRleCgpICogXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoXy5jaGVja05hdmlnYWJsZShpbmRleCksIGZhbHNlLCBkb250QW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5jaGlsZHJlbigpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBuYXZpZ2FibGVzLCBwcmV2TmF2aWdhYmxlO1xuXG4gICAgICAgIG5hdmlnYWJsZXMgPSBfLmdldE5hdmlnYWJsZUluZGV4ZXMoKTtcbiAgICAgICAgcHJldk5hdmlnYWJsZSA9IDA7XG4gICAgICAgIGlmIChpbmRleCA+IG5hdmlnYWJsZXNbbmF2aWdhYmxlcy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgaW5kZXggPSBuYXZpZ2FibGVzW25hdmlnYWJsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIG5hdmlnYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBuYXZpZ2FibGVzW25dKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gcHJldk5hdmlnYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZOYXZpZ2FibGUgPSBuYXZpZ2FibGVzW25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2xlYW5VcEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgJiYgXy4kZG90cyAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAkKCdsaScsIF8uJGRvdHMpXG4gICAgICAgICAgICAgICAgLm9mZignY2xpY2suc2xpY2snLCBfLmNoYW5nZVNsaWRlKVxuICAgICAgICAgICAgICAgIC5vZmYoJ21vdXNlZW50ZXIuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZWxlYXZlLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgZmFsc2UpKTtcblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kZG90cy5vZmYoJ2tleWRvd24uc2xpY2snLCBfLmtleUhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVyLm9mZignZm9jdXMuc2xpY2sgYmx1ci5zbGljaycpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uJHByZXZBcnJvdyAmJiBfLiRwcmV2QXJyb3cub2ZmKCdjbGljay5zbGljaycsIF8uY2hhbmdlU2xpZGUpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93ICYmIF8uJG5leHRBcnJvdy5vZmYoJ2NsaWNrLnNsaWNrJywgXy5jaGFuZ2VTbGlkZSk7XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdyAmJiBfLiRwcmV2QXJyb3cub2ZmKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cgJiYgXy4kbmV4dEFycm93Lm9mZigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfLiRsaXN0Lm9mZigndG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2snLCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub2ZmKCd0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrJywgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9mZigndG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljaycsIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vZmYoJ3RvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2snLCBfLnN3aXBlSGFuZGxlcik7XG5cbiAgICAgICAgXy4kbGlzdC5vZmYoJ2NsaWNrLnNsaWNrJywgXy5jbGlja0hhbmRsZXIpO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZihfLnZpc2liaWxpdHlDaGFuZ2UsIF8udmlzaWJpbGl0eSk7XG5cbiAgICAgICAgXy5jbGVhblVwU2xpZGVFdmVudHMoKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJGxpc3Qub2ZmKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgJChfLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9mZignY2xpY2suc2xpY2snLCBfLnNlbGVjdEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh3aW5kb3cpLm9mZignb3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8ub3JpZW50YXRpb25DaGFuZ2UpO1xuXG4gICAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5yZXNpemUpO1xuXG4gICAgICAgICQoJ1tkcmFnZ2FibGUhPXRydWVdJywgXy4kc2xpZGVUcmFjaykub2ZmKCdkcmFnc3RhcnQnLCBfLnByZXZlbnREZWZhdWx0KTtcblxuICAgICAgICAkKHdpbmRvdykub2ZmKCdsb2FkLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCBfLnNldFBvc2l0aW9uKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2xlYW5VcFNsaWRlRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uJGxpc3Qub2ZmKCdtb3VzZWVudGVyLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgdHJ1ZSkpO1xuICAgICAgICBfLiRsaXN0Lm9mZignbW91c2VsZWF2ZS5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIGZhbHNlKSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNsZWFuVXBSb3dzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLCBvcmlnaW5hbFNsaWRlcztcblxuICAgICAgICBpZihfLm9wdGlvbnMucm93cyA+IDApIHtcbiAgICAgICAgICAgIG9yaWdpbmFsU2xpZGVzID0gXy4kc2xpZGVzLmNoaWxkcmVuKCkuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgIG9yaWdpbmFsU2xpZGVzLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICBfLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQob3JpZ2luYWxTbGlkZXMpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLnNob3VsZENsaWNrID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKHJlZnJlc2gpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheUNsZWFyKCk7XG5cbiAgICAgICAgXy50b3VjaE9iamVjdCA9IHt9O1xuXG4gICAgICAgIF8uY2xlYW5VcEV2ZW50cygpO1xuXG4gICAgICAgICQoJy5zbGljay1jbG9uZWQnLCBfLiRzbGlkZXIpLmRldGFjaCgpO1xuXG4gICAgICAgIGlmIChfLiRkb3RzKSB7XG4gICAgICAgICAgICBfLiRkb3RzLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLiRwcmV2QXJyb3cgJiYgXy4kcHJldkFycm93Lmxlbmd0aCApIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93XG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4JylcbiAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5JywnJyk7XG5cbiAgICAgICAgICAgIGlmICggXy5odG1sRXhwci50ZXN0KCBfLm9wdGlvbnMucHJldkFycm93ICkpIHtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8uJG5leHRBcnJvdyAmJiBfLiRuZXh0QXJyb3cubGVuZ3RoICkge1xuXG4gICAgICAgICAgICBfLiRuZXh0QXJyb3dcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkIHNsaWNrLWFycm93IHNsaWNrLWhpZGRlbicpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXgnKVxuICAgICAgICAgICAgICAgIC5jc3MoJ2Rpc3BsYXknLCcnKTtcblxuICAgICAgICAgICAgaWYgKCBfLmh0bWxFeHByLnRlc3QoIF8ub3B0aW9ucy5uZXh0QXJyb3cgKSkge1xuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKF8uJHNsaWRlcykge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50JylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXNsaWNrLWluZGV4JylcbiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3N0eWxlJywgJCh0aGlzKS5kYXRhKCdvcmlnaW5hbFN0eWxpbmcnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kbGlzdC5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLmFwcGVuZChfLiRzbGlkZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5jbGVhblVwUm93cygpO1xuXG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stc2xpZGVyJyk7XG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgXy4kc2xpZGVyLnJlbW92ZUNsYXNzKCdzbGljay1kb3R0ZWQnKTtcblxuICAgICAgICBfLnVuc2xpY2tlZCA9IHRydWU7XG5cbiAgICAgICAgaWYoIXJlZnJlc2gpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdkZXN0cm95JywgW19dKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5kaXNhYmxlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKHNsaWRlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHt9O1xuXG4gICAgICAgIHRyYW5zaXRpb25bXy50cmFuc2l0aW9uVHlwZV0gPSAnJztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyh0cmFuc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZSkuY3NzKHRyYW5zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmZhZGVTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgsIGNhbGxiYWNrKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLmNzc1RyYW5zaXRpb25zID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuY3NzKHtcbiAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgXy5hcHBseVRyYW5zaXRpb24oc2xpZGVJbmRleCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZUluZGV4KS5jc3Moe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBfLmRpc2FibGVUcmFuc2l0aW9uKHNsaWRlSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoKTtcbiAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZmFkZVNsaWRlT3V0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5jc3NUcmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMlxuICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBfLmFwcGx5VHJhbnNpdGlvbihzbGlkZUluZGV4KTtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmNzcyh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXggLSAyXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmZpbHRlclNsaWRlcyA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0ZpbHRlciA9IGZ1bmN0aW9uKGZpbHRlcikge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoZmlsdGVyICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlID0gXy4kc2xpZGVzO1xuXG4gICAgICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlLmZpbHRlcihmaWx0ZXIpLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuXG4gICAgICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uJHNsaWRlclxuICAgICAgICAgICAgLm9mZignZm9jdXMuc2xpY2sgYmx1ci5zbGljaycpXG4gICAgICAgICAgICAub24oJ2ZvY3VzLnNsaWNrIGJsdXIuc2xpY2snLCAnKicsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdmFyICRzZiA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggXy5vcHRpb25zLnBhdXNlT25Gb2N1cyApIHtcbiAgICAgICAgICAgICAgICAgICAgXy5mb2N1c3NlZCA9ICRzZi5pcygnOmZvY3VzJyk7XG4gICAgICAgICAgICAgICAgICAgIF8uYXV0b1BsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0N1cnJlbnRTbGlkZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcbiAgICAgICAgcmV0dXJuIF8uY3VycmVudFNsaWRlO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXREb3RDb3VudCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICB2YXIgYnJlYWtQb2ludCA9IDA7XG4gICAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgICAgdmFyIHBhZ2VyUXR5ID0gMDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICAgICAgKytwYWdlclF0eTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGJyZWFrUG9pbnQgPCBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgKytwYWdlclF0eTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtQb2ludCA9IGNvdW50ZXIgKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcGFnZXJRdHkgPSBfLnNsaWRlQ291bnQ7XG4gICAgICAgIH0gZWxzZSBpZighXy5vcHRpb25zLmFzTmF2Rm9yKSB7XG4gICAgICAgICAgICBwYWdlclF0eSA9IDEgKyBNYXRoLmNlaWwoKF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIC8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKGJyZWFrUG9pbnQgPCBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICArK3BhZ2VyUXR5O1xuICAgICAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBjb3VudGVyICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VyUXR5IC0gMTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0TGVmdCA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICB0YXJnZXRMZWZ0LFxuICAgICAgICAgICAgdmVydGljYWxIZWlnaHQsXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9IDAsXG4gICAgICAgICAgICB0YXJnZXRTbGlkZSxcbiAgICAgICAgICAgIGNvZWY7XG5cbiAgICAgICAgXy5zbGlkZU9mZnNldCA9IDA7XG4gICAgICAgIHZlcnRpY2FsSGVpZ2h0ID0gXy4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gKF8uc2xpZGVXaWR0aCAqIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpICogLTE7XG4gICAgICAgICAgICAgICAgY29lZiA9IC0xXG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSB0cnVlICYmIF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2VmID0gLTEuNTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2VmID0gLTJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICh2ZXJ0aWNhbEhlaWdodCAqIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpICogY29lZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA+IF8uc2xpZGVDb3VudCAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGlkZUluZGV4ID4gXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gKChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gKHNsaWRlSW5kZXggLSBfLnNsaWRlQ291bnQpKSAqIF8uc2xpZGVXaWR0aCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gKHNsaWRlSW5kZXggLSBfLnNsaWRlQ291bnQpKSAqIHZlcnRpY2FsSGVpZ2h0KSAqIC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSAqIF8uc2xpZGVXaWR0aCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpICogdmVydGljYWxIZWlnaHQpICogLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPiBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gKChzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgLSBfLnNsaWRlQ291bnQpICogXy5zbGlkZVdpZHRoO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKChzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgLSBfLnNsaWRlQ291bnQpICogdmVydGljYWxIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gKChfLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpKSAvIDIpIC0gKChfLnNsaWRlV2lkdGggKiBfLnNsaWRlQ291bnQpIC8gMik7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUgJiYgXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ICs9IF8uc2xpZGVXaWR0aCAqIE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpIC0gXy5zbGlkZVdpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgKz0gXy5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGFyZ2V0TGVmdCA9ICgoc2xpZGVJbmRleCAqIF8uc2xpZGVXaWR0aCkgKiAtMSkgKyBfLnNsaWRlT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0TGVmdCA9ICgoc2xpZGVJbmRleCAqIHZlcnRpY2FsSGVpZ2h0KSAqIC0xKSArIHZlcnRpY2FsT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyB8fCBfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5lcShzbGlkZUluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5lcShzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFNsaWRlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSAoXy4kc2xpZGVUcmFjay53aWR0aCgpIC0gdGFyZ2V0U2xpZGVbMF0ub2Zmc2V0TGVmdCAtIHRhcmdldFNsaWRlLndpZHRoKCkpICogLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9ICAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IHRhcmdldFNsaWRlWzBdID8gdGFyZ2V0U2xpZGVbMF0ub2Zmc2V0TGVmdCAqIC0xIDogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93IHx8IF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5lcShzbGlkZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRTbGlkZSA9IF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oJy5zbGljay1zbGlkZScpLmVxKHNsaWRlSW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5ydGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFNsaWRlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gKF8uJHNsaWRlVHJhY2sud2lkdGgoKSAtIHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgLSB0YXJnZXRTbGlkZS53aWR0aCgpKSAqIC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9ICAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IHRhcmdldFNsaWRlWzBdID8gdGFyZ2V0U2xpZGVbMF0ub2Zmc2V0TGVmdCAqIC0xIDogMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ICs9IChfLiRsaXN0LndpZHRoKCkgLSB0YXJnZXRTbGlkZS5vdXRlcldpZHRoKCkpIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXRMZWZ0O1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRPcHRpb24gPSBTbGljay5wcm90b3R5cGUuc2xpY2tHZXRPcHRpb24gPSBmdW5jdGlvbihvcHRpb24pIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIF8ub3B0aW9uc1tvcHRpb25dO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXROYXZpZ2FibGVJbmRleGVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgYnJlYWtQb2ludCA9IDAsXG4gICAgICAgICAgICBjb3VudGVyID0gMCxcbiAgICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICAgIG1heDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbWF4ID0gXy5zbGlkZUNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWtQb2ludCA9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAqIC0xO1xuICAgICAgICAgICAgY291bnRlciA9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAqIC0xO1xuICAgICAgICAgICAgbWF4ID0gXy5zbGlkZUNvdW50ICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChicmVha1BvaW50IDwgbWF4KSB7XG4gICAgICAgICAgICBpbmRleGVzLnB1c2goYnJlYWtQb2ludCk7XG4gICAgICAgICAgICBicmVha1BvaW50ID0gY291bnRlciArIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgICAgIGNvdW50ZXIgKz0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4ZXM7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldFNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldFNsaWRlQ291bnQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBzbGlkZXNUcmF2ZXJzZWQsIHN3aXBlZFNsaWRlLCBjZW50ZXJPZmZzZXQ7XG5cbiAgICAgICAgY2VudGVyT2Zmc2V0ID0gXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUgPyBfLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSA6IDA7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5zd2lwZVRvU2xpZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLXNsaWRlJykuZWFjaChmdW5jdGlvbihpbmRleCwgc2xpZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGUub2Zmc2V0TGVmdCAtIGNlbnRlck9mZnNldCArICgkKHNsaWRlKS5vdXRlcldpZHRoKCkgLyAyKSA+IChfLnN3aXBlTGVmdCAqIC0xKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2lwZWRTbGlkZSA9IHNsaWRlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNsaWRlc1RyYXZlcnNlZCA9IE1hdGguYWJzKCQoc3dpcGVkU2xpZGUpLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnKSAtIF8uY3VycmVudFNsaWRlKSB8fCAxO1xuXG4gICAgICAgICAgICByZXR1cm4gc2xpZGVzVHJhdmVyc2VkO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdvVG8gPSBTbGljay5wcm90b3R5cGUuc2xpY2tHb1RvID0gZnVuY3Rpb24oc2xpZGUsIGRvbnRBbmltYXRlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHBhcnNlSW50KHNsaWRlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkb250QW5pbWF0ZSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihjcmVhdGlvbikge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoISQoXy4kc2xpZGVyKS5oYXNDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKSkge1xuXG4gICAgICAgICAgICAkKF8uJHNsaWRlcikuYWRkQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJyk7XG5cbiAgICAgICAgICAgIF8uYnVpbGRSb3dzKCk7XG4gICAgICAgICAgICBfLmJ1aWxkT3V0KCk7XG4gICAgICAgICAgICBfLnNldFByb3BzKCk7XG4gICAgICAgICAgICBfLnN0YXJ0TG9hZCgpO1xuICAgICAgICAgICAgXy5sb2FkU2xpZGVyKCk7XG4gICAgICAgICAgICBfLmluaXRpYWxpemVFdmVudHMoKTtcbiAgICAgICAgICAgIF8udXBkYXRlQXJyb3dzKCk7XG4gICAgICAgICAgICBfLnVwZGF0ZURvdHMoKTtcbiAgICAgICAgICAgIF8uY2hlY2tSZXNwb25zaXZlKHRydWUpO1xuICAgICAgICAgICAgXy5mb2N1c0hhbmRsZXIoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNyZWF0aW9uKSB7XG4gICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignaW5pdCcsIFtfXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uaW5pdEFEQSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMuYXV0b3BsYXkgKSB7XG5cbiAgICAgICAgICAgIF8ucGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0QURBID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgICAgICBudW1Eb3RHcm91cHMgPSBNYXRoLmNlaWwoXy5zbGlkZUNvdW50IC8gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyksXG4gICAgICAgICAgICAgICAgdGFiQ29udHJvbEluZGV4ZXMgPSBfLmdldE5hdmlnYWJsZUluZGV4ZXMoKS5maWx0ZXIoZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodmFsID49IDApICYmICh2YWwgPCBfLnNsaWRlQ291bnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlcy5hZGQoXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stY2xvbmVkJykpLmF0dHIoe1xuICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgICAgICAgJ3RhYmluZGV4JzogJy0xJ1xuICAgICAgICB9KS5maW5kKCdhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QnKS5hdHRyKHtcbiAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF8uJGRvdHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlcy5ub3QoXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stY2xvbmVkJykpLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgIHZhciBzbGlkZUNvbnRyb2xJbmRleCA9IHRhYkNvbnRyb2xJbmRleGVzLmluZGV4T2YoaSk7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAncm9sZSc6ICd0YWJwYW5lbCcsXG4gICAgICAgICAgICAgICAgICAgICdpZCc6ICdzbGljay1zbGlkZScgKyBfLmluc3RhbmNlVWlkICsgaSxcbiAgICAgICAgICAgICAgICAgICAgJ3RhYmluZGV4JzogLTFcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChzbGlkZUNvbnRyb2xJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICB2YXIgYXJpYUJ1dHRvbkNvbnRyb2wgPSAnc2xpY2stc2xpZGUtY29udHJvbCcgKyBfLmluc3RhbmNlVWlkICsgc2xpZGVDb250cm9sSW5kZXhcbiAgICAgICAgICAgICAgICAgICBpZiAoJCgnIycgKyBhcmlhQnV0dG9uQ29udHJvbCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogYXJpYUJ1dHRvbkNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgXy4kZG90cy5hdHRyKCdyb2xlJywgJ3RhYmxpc3QnKS5maW5kKCdsaScpLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgIHZhciBtYXBwZWRTbGlkZUluZGV4ID0gdGFiQ29udHJvbEluZGV4ZXNbaV07XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAncm9sZSc6ICdwcmVzZW50YXRpb24nXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2J1dHRvbicpLmZpcnN0KCkuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgICdyb2xlJzogJ3RhYicsXG4gICAgICAgICAgICAgICAgICAgICdpZCc6ICdzbGljay1zbGlkZS1jb250cm9sJyArIF8uaW5zdGFuY2VVaWQgKyBpLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1jb250cm9scyc6ICdzbGljay1zbGlkZScgKyBfLmluc3RhbmNlVWlkICsgbWFwcGVkU2xpZGVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAoaSArIDEpICsgJyBvZiAnICsgbnVtRG90R3JvdXBzLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSkuZXEoXy5jdXJyZW50U2xpZGUpLmZpbmQoJ2J1dHRvbicpLmF0dHIoe1xuICAgICAgICAgICAgICAgICdhcmlhLXNlbGVjdGVkJzogJ3RydWUnLFxuICAgICAgICAgICAgICAgICd0YWJpbmRleCc6ICcwJ1xuICAgICAgICAgICAgfSkuZW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpPV8uY3VycmVudFNsaWRlLCBtYXg9aStfLm9wdGlvbnMuc2xpZGVzVG9TaG93OyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25DaGFuZ2UpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShpKS5hdHRyKHsndGFiaW5kZXgnOiAnMCd9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKGkpLnJlbW92ZUF0dHIoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgXy5hY3RpdmF0ZUFEQSgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0QXJyb3dFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgXy4kcHJldkFycm93XG4gICAgICAgICAgICAgICAub2ZmKCdjbGljay5zbGljaycpXG4gICAgICAgICAgICAgICAub24oJ2NsaWNrLnNsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAncHJldmlvdXMnXG4gICAgICAgICAgICAgICB9LCBfLmNoYW5nZVNsaWRlKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvd1xuICAgICAgICAgICAgICAgLm9mZignY2xpY2suc2xpY2snKVxuICAgICAgICAgICAgICAgLm9uKCdjbGljay5zbGljaycsIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ25leHQnXG4gICAgICAgICAgICAgICB9LCBfLmNoYW5nZVNsaWRlKTtcblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93Lm9uKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cub24oJ2tleWRvd24uc2xpY2snLCBfLmtleUhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXREb3RFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICQoJ2xpJywgXy4kZG90cykub24oJ2NsaWNrLnNsaWNrJywge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpbmRleCdcbiAgICAgICAgICAgIH0sIF8uY2hhbmdlU2xpZGUpO1xuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLiRkb3RzLm9uKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMucGF1c2VPbkRvdHNIb3ZlciA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgICQoJ2xpJywgXy4kZG90cylcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZW50ZXIuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlbGVhdmUuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCBmYWxzZSkpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdFNsaWRlRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLnBhdXNlT25Ib3ZlciApIHtcblxuICAgICAgICAgICAgXy4kbGlzdC5vbignbW91c2VlbnRlci5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIHRydWUpKTtcbiAgICAgICAgICAgIF8uJGxpc3Qub24oJ21vdXNlbGVhdmUuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCBmYWxzZSkpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdGlhbGl6ZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmluaXRBcnJvd0V2ZW50cygpO1xuXG4gICAgICAgIF8uaW5pdERvdEV2ZW50cygpO1xuICAgICAgICBfLmluaXRTbGlkZUV2ZW50cygpO1xuXG4gICAgICAgIF8uJGxpc3Qub24oJ3RvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrJywge1xuICAgICAgICAgICAgYWN0aW9uOiAnc3RhcnQnXG4gICAgICAgIH0sIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vbigndG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljaycsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ21vdmUnXG4gICAgICAgIH0sIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vbigndG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljaycsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2VuZCdcbiAgICAgICAgfSwgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9uKCd0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrJywge1xuICAgICAgICAgICAgYWN0aW9uOiAnZW5kJ1xuICAgICAgICB9LCBfLnN3aXBlSGFuZGxlcik7XG5cbiAgICAgICAgXy4kbGlzdC5vbignY2xpY2suc2xpY2snLCBfLmNsaWNrSGFuZGxlcik7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oXy52aXNpYmlsaXR5Q2hhbmdlLCAkLnByb3h5KF8udmlzaWJpbGl0eSwgXykpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy4kbGlzdC5vbigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICQoXy4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbignY2xpY2suc2xpY2snLCBfLnNlbGVjdEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgJC5wcm94eShfLm9yaWVudGF0aW9uQ2hhbmdlLCBfKSk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsICQucHJveHkoXy5yZXNpemUsIF8pKTtcblxuICAgICAgICAkKCdbZHJhZ2dhYmxlIT10cnVlXScsIF8uJHNsaWRlVHJhY2spLm9uKCdkcmFnc3RhcnQnLCBfLnByZXZlbnREZWZhdWx0KTtcblxuICAgICAgICAkKHdpbmRvdykub24oJ2xvYWQuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8uc2V0UG9zaXRpb24pO1xuICAgICAgICAkKF8uc2V0UG9zaXRpb24pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0VUkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cuc2hvdygpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93LnNob3coKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kZG90cy5zaG93KCk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5rZXlIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgICAvL0RvbnQgc2xpZGUgaWYgdGhlIGN1cnNvciBpcyBpbnNpZGUgdGhlIGZvcm0gZmllbGRzIGFuZCBhcnJvdyBrZXlzIGFyZSBwcmVzc2VkXG4gICAgICAgIGlmKCFldmVudC50YXJnZXQudGFnTmFtZS5tYXRjaCgnVEVYVEFSRUF8SU5QVVR8U0VMRUNUJykpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzNyAmJiBfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfLm9wdGlvbnMucnRsID09PSB0cnVlID8gJ25leHQnIDogICdwcmV2aW91cydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAzOSAmJiBfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfLm9wdGlvbnMucnRsID09PSB0cnVlID8gJ3ByZXZpb3VzJyA6ICduZXh0J1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUubGF6eUxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBsb2FkUmFuZ2UsIGNsb25lUmFuZ2UsIHJhbmdlU3RhcnQsIHJhbmdlRW5kO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRJbWFnZXMoaW1hZ2VzU2NvcGUpIHtcblxuICAgICAgICAgICAgJCgnaW1nW2RhdGEtbGF6eV0nLCBpbWFnZXNTY29wZSkuZWFjaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlU291cmNlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWxhenknKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VTcmNTZXQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc3Jjc2V0JyksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlU2l6ZXMgID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNpemVzJykgfHwgXy4kc2xpZGVyLmF0dHIoJ2RhdGEtc2l6ZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VUb0xvYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgICAgIGltYWdlVG9Mb2FkLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAuYW5pbWF0ZSh7IG9wYWNpdHk6IDAgfSwgMTAwLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVNyY1NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyY3NldCcsIGltYWdlU3JjU2V0ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlU2l6ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NpemVzJywgaW1hZ2VTaXplcyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIGltYWdlU291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYW5pbWF0ZSh7IG9wYWNpdHk6IDEgfSwgMjAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtbGF6eSBkYXRhLXNyY3NldCBkYXRhLXNpemVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2xhenlMb2FkZWQnLCBbXywgaW1hZ2UsIGltYWdlU291cmNlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZVRvTG9hZC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCAnZGF0YS1sYXp5JyApXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoICdzbGljay1sb2FkaW5nJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoICdzbGljay1sYXp5bG9hZC1lcnJvcicgKTtcblxuICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignbGF6eUxvYWRFcnJvcicsIFsgXywgaW1hZ2UsIGltYWdlU291cmNlIF0pO1xuXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlVG9Mb2FkLnNyYyA9IGltYWdlU291cmNlO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VTdGFydCA9IF8uY3VycmVudFNsaWRlICsgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyICsgMSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VFbmQgPSByYW5nZVN0YXJ0ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBNYXRoLm1heCgwLCBfLmN1cnJlbnRTbGlkZSAtIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMiArIDEpKTtcbiAgICAgICAgICAgICAgICByYW5nZUVuZCA9IDIgKyAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIgKyAxKSArIF8uY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2VTdGFydCA9IF8ub3B0aW9ucy5pbmZpbml0ZSA/IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyBfLmN1cnJlbnRTbGlkZSA6IF8uY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgcmFuZ2VFbmQgPSBNYXRoLmNlaWwocmFuZ2VTdGFydCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlU3RhcnQgPiAwKSByYW5nZVN0YXJ0LS07XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlRW5kIDw9IF8uc2xpZGVDb3VudCkgcmFuZ2VFbmQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWRSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stc2xpZGUnKS5zbGljZShyYW5nZVN0YXJ0LCByYW5nZUVuZCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5sYXp5TG9hZCA9PT0gJ2FudGljaXBhdGVkJykge1xuICAgICAgICAgICAgdmFyIHByZXZTbGlkZSA9IHJhbmdlU3RhcnQgLSAxLFxuICAgICAgICAgICAgICAgIG5leHRTbGlkZSA9IHJhbmdlRW5kLFxuICAgICAgICAgICAgICAgICRzbGlkZXMgPSBfLiRzbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlJyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldlNsaWRlIDwgMCkgcHJldlNsaWRlID0gXy5zbGlkZUNvdW50IC0gMTtcbiAgICAgICAgICAgICAgICBsb2FkUmFuZ2UgPSBsb2FkUmFuZ2UuYWRkKCRzbGlkZXMuZXEocHJldlNsaWRlKSk7XG4gICAgICAgICAgICAgICAgbG9hZFJhbmdlID0gbG9hZFJhbmdlLmFkZCgkc2xpZGVzLmVxKG5leHRTbGlkZSkpO1xuICAgICAgICAgICAgICAgIHByZXZTbGlkZS0tO1xuICAgICAgICAgICAgICAgIG5leHRTbGlkZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbG9hZEltYWdlcyhsb2FkUmFuZ2UpO1xuXG4gICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgY2xvbmVSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stc2xpZGUnKTtcbiAgICAgICAgICAgIGxvYWRJbWFnZXMoY2xvbmVSYW5nZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBpZiAoXy5jdXJyZW50U2xpZGUgPj0gXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgY2xvbmVSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stY2xvbmVkJykuc2xpY2UoMCwgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBsb2FkSW1hZ2VzKGNsb25lUmFuZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uY3VycmVudFNsaWRlID09PSAwKSB7XG4gICAgICAgICAgICBjbG9uZVJhbmdlID0gXy4kc2xpZGVyLmZpbmQoJy5zbGljay1jbG9uZWQnKS5zbGljZShfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICogLTEpO1xuICAgICAgICAgICAgbG9hZEltYWdlcyhjbG9uZVJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5sb2FkU2xpZGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uc2V0UG9zaXRpb24oKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyh7XG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stbG9hZGluZycpO1xuXG4gICAgICAgIF8uaW5pdFVJKCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5sYXp5TG9hZCA9PT0gJ3Byb2dyZXNzaXZlJykge1xuICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUubmV4dCA9IFNsaWNrLnByb3RvdHlwZS5zbGlja05leHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ25leHQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5vcmllbnRhdGlvbkNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmNoZWNrUmVzcG9uc2l2ZSgpO1xuICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnBhdXNlID0gU2xpY2sucHJvdG90eXBlLnNsaWNrUGF1c2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheUNsZWFyKCk7XG4gICAgICAgIF8ucGF1c2VkID0gdHJ1ZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucGxheSA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1BsYXkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheSgpO1xuICAgICAgICBfLm9wdGlvbnMuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICBfLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICBfLmZvY3Vzc2VkID0gZmFsc2U7XG4gICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucG9zdFNsaWRlID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYoICFfLnVuc2xpY2tlZCApIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2FmdGVyQ2hhbmdlJywgW18sIGluZGV4XSk7XG5cbiAgICAgICAgICAgIF8uYW5pbWF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuICAgICAgICAgICAgICAgIF8uYXV0b1BsYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy5pbml0QURBKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjdXJyZW50U2xpZGUgPSAkKF8uJHNsaWRlcy5nZXQoXy5jdXJyZW50U2xpZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRTbGlkZS5hdHRyKCd0YWJpbmRleCcsIDApLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucHJldiA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1ByZXYgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ3ByZXZpb3VzJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnByb2dyZXNzaXZlTGF6eUxvYWQgPSBmdW5jdGlvbiggdHJ5Q291bnQgKSB7XG5cbiAgICAgICAgdHJ5Q291bnQgPSB0cnlDb3VudCB8fCAxO1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgICRpbWdzVG9Mb2FkID0gJCggJ2ltZ1tkYXRhLWxhenldJywgXy4kc2xpZGVyICksXG4gICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgIGltYWdlU291cmNlLFxuICAgICAgICAgICAgaW1hZ2VTcmNTZXQsXG4gICAgICAgICAgICBpbWFnZVNpemVzLFxuICAgICAgICAgICAgaW1hZ2VUb0xvYWQ7XG5cbiAgICAgICAgaWYgKCAkaW1nc1RvTG9hZC5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgIGltYWdlID0gJGltZ3NUb0xvYWQuZmlyc3QoKTtcbiAgICAgICAgICAgIGltYWdlU291cmNlID0gaW1hZ2UuYXR0cignZGF0YS1sYXp5Jyk7XG4gICAgICAgICAgICBpbWFnZVNyY1NldCA9IGltYWdlLmF0dHIoJ2RhdGEtc3Jjc2V0Jyk7XG4gICAgICAgICAgICBpbWFnZVNpemVzICA9IGltYWdlLmF0dHIoJ2RhdGEtc2l6ZXMnKSB8fCBfLiRzbGlkZXIuYXR0cignZGF0YS1zaXplcycpO1xuICAgICAgICAgICAgaW1hZ2VUb0xvYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgaW1hZ2VUb0xvYWQub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTcmNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmNzZXQnLCBpbWFnZVNyY1NldCApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVNpemVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzaXplcycsIGltYWdlU2l6ZXMgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCAnc3JjJywgaW1hZ2VTb3VyY2UgKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS1sYXp5IGRhdGEtc3Jjc2V0IGRhdGEtc2l6ZXMnKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgIGlmICggXy5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0ID09PSB0cnVlICkge1xuICAgICAgICAgICAgICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2xhenlMb2FkZWQnLCBbIF8sIGltYWdlLCBpbWFnZVNvdXJjZSBdKTtcbiAgICAgICAgICAgICAgICBfLnByb2dyZXNzaXZlTGF6eUxvYWQoKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaW1hZ2VUb0xvYWQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0cnlDb3VudCA8IDMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIHRyeSB0byBsb2FkIHRoZSBpbWFnZSAzIHRpbWVzLFxuICAgICAgICAgICAgICAgICAgICAgKiBsZWF2ZSBhIHNsaWdodCBkZWxheSBzbyB3ZSBkb24ndCBnZXRcbiAgICAgICAgICAgICAgICAgICAgICogc2VydmVycyBibG9ja2luZyB0aGUgcmVxdWVzdC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCB0cnlDb3VudCArIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0ciggJ2RhdGEtbGF6eScgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCAnc2xpY2stbG9hZGluZycgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCAnc2xpY2stbGF6eWxvYWQtZXJyb3InICk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2xhenlMb2FkRXJyb3InLCBbIF8sIGltYWdlLCBpbWFnZVNvdXJjZSBdKTtcblxuICAgICAgICAgICAgICAgICAgICBfLnByb2dyZXNzaXZlTGF6eUxvYWQoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaW1hZ2VUb0xvYWQuc3JjID0gaW1hZ2VTb3VyY2U7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2FsbEltYWdlc0xvYWRlZCcsIFsgXyBdKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiggaW5pdGlhbGl6aW5nICkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgY3VycmVudFNsaWRlLCBsYXN0VmlzaWJsZUluZGV4O1xuXG4gICAgICAgIGxhc3RWaXNpYmxlSW5kZXggPSBfLnNsaWRlQ291bnQgLSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuXG4gICAgICAgIC8vIGluIG5vbi1pbmZpbml0ZSBzbGlkZXJzLCB3ZSBkb24ndCB3YW50IHRvIGdvIHBhc3QgdGhlXG4gICAgICAgIC8vIGxhc3QgdmlzaWJsZSBpbmRleC5cbiAgICAgICAgaWYoICFfLm9wdGlvbnMuaW5maW5pdGUgJiYgKCBfLmN1cnJlbnRTbGlkZSA+IGxhc3RWaXNpYmxlSW5kZXggKSkge1xuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBsYXN0VmlzaWJsZUluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgbGVzcyBzbGlkZXMgdGhhbiB0byBzaG93LCBnbyB0byBzdGFydC5cbiAgICAgICAgaWYgKCBfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyApIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gMDtcblxuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudFNsaWRlID0gXy5jdXJyZW50U2xpZGU7XG5cbiAgICAgICAgXy5kZXN0cm95KHRydWUpO1xuXG4gICAgICAgICQuZXh0ZW5kKF8sIF8uaW5pdGlhbHMsIHsgY3VycmVudFNsaWRlOiBjdXJyZW50U2xpZGUgfSk7XG5cbiAgICAgICAgXy5pbml0KCk7XG5cbiAgICAgICAgaWYoICFpbml0aWFsaXppbmcgKSB7XG5cbiAgICAgICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRTbGlkZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlZ2lzdGVyQnJlYWtwb2ludHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsIGJyZWFrcG9pbnQsIGN1cnJlbnRCcmVha3BvaW50LCBsLFxuICAgICAgICAgICAgcmVzcG9uc2l2ZVNldHRpbmdzID0gXy5vcHRpb25zLnJlc3BvbnNpdmUgfHwgbnVsbDtcblxuICAgICAgICBpZiAoICQudHlwZShyZXNwb25zaXZlU2V0dGluZ3MpID09PSAnYXJyYXknICYmIHJlc3BvbnNpdmVTZXR0aW5ncy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgIF8ucmVzcG9uZFRvID0gXy5vcHRpb25zLnJlc3BvbmRUbyB8fCAnd2luZG93JztcblxuICAgICAgICAgICAgZm9yICggYnJlYWtwb2ludCBpbiByZXNwb25zaXZlU2V0dGluZ3MgKSB7XG5cbiAgICAgICAgICAgICAgICBsID0gXy5icmVha3BvaW50cy5sZW5ndGgtMTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zaXZlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYnJlYWtwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEJyZWFrcG9pbnQgPSByZXNwb25zaXZlU2V0dGluZ3NbYnJlYWtwb2ludF0uYnJlYWtwb2ludDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGJyZWFrcG9pbnRzIGFuZCBjdXQgb3V0IGFueSBleGlzdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmVzIHdpdGggdGhlIHNhbWUgYnJlYWtwb2ludCBudW1iZXIsIHdlIGRvbid0IHdhbnQgZHVwZXMuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlKCBsID49IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggXy5icmVha3BvaW50c1tsXSAmJiBfLmJyZWFrcG9pbnRzW2xdID09PSBjdXJyZW50QnJlYWtwb2ludCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmJyZWFrcG9pbnRzLnNwbGljZShsLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50cy5wdXNoKGN1cnJlbnRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3NbY3VycmVudEJyZWFrcG9pbnRdID0gcmVzcG9uc2l2ZVNldHRpbmdzW2JyZWFrcG9pbnRdLnNldHRpbmdzO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uYnJlYWtwb2ludHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICggXy5vcHRpb25zLm1vYmlsZUZpcnN0ICkgPyBhLWIgOiBiLWE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLiRzbGlkZXMgPVxuICAgICAgICAgICAgXy4kc2xpZGVUcmFja1xuICAgICAgICAgICAgICAgIC5jaGlsZHJlbihfLm9wdGlvbnMuc2xpZGUpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1zbGlkZScpO1xuXG4gICAgICAgIF8uc2xpZGVDb3VudCA9IF8uJHNsaWRlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAmJiBfLmN1cnJlbnRTbGlkZSAhPT0gMCkge1xuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLmN1cnJlbnRTbGlkZSAtIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5yZWdpc3RlckJyZWFrcG9pbnRzKCk7XG5cbiAgICAgICAgXy5zZXRQcm9wcygpO1xuICAgICAgICBfLnNldHVwSW5maW5pdGUoKTtcbiAgICAgICAgXy5idWlsZEFycm93cygpO1xuICAgICAgICBfLnVwZGF0ZUFycm93cygpO1xuICAgICAgICBfLmluaXRBcnJvd0V2ZW50cygpO1xuICAgICAgICBfLmJ1aWxkRG90cygpO1xuICAgICAgICBfLnVwZGF0ZURvdHMoKTtcbiAgICAgICAgXy5pbml0RG90RXZlbnRzKCk7XG4gICAgICAgIF8uY2xlYW5VcFNsaWRlRXZlbnRzKCk7XG4gICAgICAgIF8uaW5pdFNsaWRlRXZlbnRzKCk7XG5cbiAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUoZmFsc2UsIHRydWUpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgJChfLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCdjbGljay5zbGljaycsIF8uc2VsZWN0SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBfLnNldFNsaWRlQ2xhc3Nlcyh0eXBlb2YgXy5jdXJyZW50U2xpZGUgPT09ICdudW1iZXInID8gXy5jdXJyZW50U2xpZGUgOiAwKTtcblxuICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG4gICAgICAgIF8uZm9jdXNIYW5kbGVyKCk7XG5cbiAgICAgICAgXy5wYXVzZWQgPSAhXy5vcHRpb25zLmF1dG9wbGF5O1xuICAgICAgICBfLmF1dG9QbGF5KCk7XG5cbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ3JlSW5pdCcsIFtfXSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgIT09IF8ud2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfLndpbmRvd0RlbGF5KTtcbiAgICAgICAgICAgIF8ud2luZG93RGVsYXkgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfLndpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgICAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUoKTtcbiAgICAgICAgICAgICAgICBpZiggIV8udW5zbGlja2VkICkgeyBfLnNldFBvc2l0aW9uKCk7IH1cbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucmVtb3ZlU2xpZGUgPSBTbGljay5wcm90b3R5cGUuc2xpY2tSZW1vdmUgPSBmdW5jdGlvbihpbmRleCwgcmVtb3ZlQmVmb3JlLCByZW1vdmVBbGwpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHR5cGVvZihpbmRleCkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmVtb3ZlQmVmb3JlID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRleCA9IHJlbW92ZUJlZm9yZSA9PT0gdHJ1ZSA/IDAgOiBfLnNsaWRlQ291bnQgLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSByZW1vdmVCZWZvcmUgPT09IHRydWUgPyAtLWluZGV4IDogaW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDwgMSB8fCBpbmRleCA8IDAgfHwgaW5kZXggPiBfLnNsaWRlQ291bnQgLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgIGlmIChyZW1vdmVBbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5lcShpbmRleCkucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfLiRzbGlkZXMgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suYXBwZW5kKF8uJHNsaWRlcyk7XG5cbiAgICAgICAgXy4kc2xpZGVzQ2FjaGUgPSBfLiRzbGlkZXM7XG5cbiAgICAgICAgXy5yZWluaXQoKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0Q1NTID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBwb3NpdGlvblByb3BzID0ge30sXG4gICAgICAgICAgICB4LCB5O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IC1wb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB4ID0gXy5wb3NpdGlvblByb3AgPT0gJ2xlZnQnID8gTWF0aC5jZWlsKHBvc2l0aW9uKSArICdweCcgOiAnMHB4JztcbiAgICAgICAgeSA9IF8ucG9zaXRpb25Qcm9wID09ICd0b3AnID8gTWF0aC5jZWlsKHBvc2l0aW9uKSArICdweCcgOiAnMHB4JztcblxuICAgICAgICBwb3NpdGlvblByb3BzW18ucG9zaXRpb25Qcm9wXSA9IHBvc2l0aW9uO1xuXG4gICAgICAgIGlmIChfLnRyYW5zZm9ybXNFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MocG9zaXRpb25Qcm9wcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NpdGlvblByb3BzID0ge307XG4gICAgICAgICAgICBpZiAoXy5jc3NUcmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknO1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHBvc2l0aW9uUHJvcHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZTNkKCcgKyB4ICsgJywgJyArIHkgKyAnLCAwcHgpJztcbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhwb3NpdGlvblByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXREaW1lbnNpb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLiRsaXN0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICgnMHB4ICcgKyBfLm9wdGlvbnMuY2VudGVyUGFkZGluZylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJGxpc3QuaGVpZ2h0KF8uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KHRydWUpICogXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLiRsaXN0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IChfLm9wdGlvbnMuY2VudGVyUGFkZGluZyArICcgMHB4JylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF8ubGlzdFdpZHRoID0gXy4kbGlzdC53aWR0aCgpO1xuICAgICAgICBfLmxpc3RIZWlnaHQgPSBfLiRsaXN0LmhlaWdodCgpO1xuXG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UgJiYgXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLnNsaWRlV2lkdGggPSBNYXRoLmNlaWwoXy5saXN0V2lkdGggLyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KTtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2sud2lkdGgoTWF0aC5jZWlsKChfLnNsaWRlV2lkdGggKiBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5sZW5ndGgpKSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMudmFyaWFibGVXaWR0aCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay53aWR0aCg1MDAwICogXy5zbGlkZUNvdW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uc2xpZGVXaWR0aCA9IE1hdGguY2VpbChfLmxpc3RXaWR0aCk7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmhlaWdodChNYXRoLmNlaWwoKF8uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KHRydWUpICogXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IF8uJHNsaWRlcy5maXJzdCgpLm91dGVyV2lkdGgodHJ1ZSkgLSBfLiRzbGlkZXMuZmlyc3QoKS53aWR0aCgpO1xuICAgICAgICBpZiAoXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IGZhbHNlKSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS53aWR0aChfLnNsaWRlV2lkdGggLSBvZmZzZXQpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRGYWRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdGFyZ2V0TGVmdDtcblxuICAgICAgICBfLiRzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IChfLnNsaWRlV2lkdGggKiBpbmRleCkgKiAtMTtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRhcmdldExlZnQsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0YXJnZXRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDIsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgXy4kc2xpZGVzLmVxKF8uY3VycmVudFNsaWRlKS5jc3Moe1xuICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PT0gMSAmJiBfLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09IHRydWUgJiYgXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldEhlaWdodCA9IF8uJHNsaWRlcy5lcShfLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgICAgICBfLiRsaXN0LmNzcygnaGVpZ2h0JywgdGFyZ2V0SGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRPcHRpb24gPVxuICAgIFNsaWNrLnByb3RvdHlwZS5zbGlja1NldE9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhY2NlcHRzIGFyZ3VtZW50cyBpbiBmb3JtYXQgb2Y6XG4gICAgICAgICAqXG4gICAgICAgICAqICAtIGZvciBjaGFuZ2luZyBhIHNpbmdsZSBvcHRpb24ncyB2YWx1ZTpcbiAgICAgICAgICogICAgIC5zbGljayhcInNldE9wdGlvblwiLCBvcHRpb24sIHZhbHVlLCByZWZyZXNoIClcbiAgICAgICAgICpcbiAgICAgICAgICogIC0gZm9yIGNoYW5naW5nIGEgc2V0IG9mIHJlc3BvbnNpdmUgb3B0aW9uczpcbiAgICAgICAgICogICAgIC5zbGljayhcInNldE9wdGlvblwiLCAncmVzcG9uc2l2ZScsIFt7fSwgLi4uXSwgcmVmcmVzaCApXG4gICAgICAgICAqXG4gICAgICAgICAqICAtIGZvciB1cGRhdGluZyBtdWx0aXBsZSB2YWx1ZXMgYXQgb25jZSAobm90IHJlc3BvbnNpdmUpXG4gICAgICAgICAqICAgICAuc2xpY2soXCJzZXRPcHRpb25cIiwgeyAnb3B0aW9uJzogdmFsdWUsIC4uLiB9LCByZWZyZXNoIClcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLCBsLCBpdGVtLCBvcHRpb24sIHZhbHVlLCByZWZyZXNoID0gZmFsc2UsIHR5cGU7XG5cbiAgICAgICAgaWYoICQudHlwZSggYXJndW1lbnRzWzBdICkgPT09ICdvYmplY3QnICkge1xuXG4gICAgICAgICAgICBvcHRpb24gPSAgYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgcmVmcmVzaCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHR5cGUgPSAnbXVsdGlwbGUnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoICQudHlwZSggYXJndW1lbnRzWzBdICkgPT09ICdzdHJpbmcnICkge1xuXG4gICAgICAgICAgICBvcHRpb24gPSAgYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFsdWUgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICByZWZyZXNoID0gYXJndW1lbnRzWzJdO1xuXG4gICAgICAgICAgICBpZiAoIGFyZ3VtZW50c1swXSA9PT0gJ3Jlc3BvbnNpdmUnICYmICQudHlwZSggYXJndW1lbnRzWzFdICkgPT09ICdhcnJheScgKSB7XG5cbiAgICAgICAgICAgICAgICB0eXBlID0gJ3Jlc3BvbnNpdmUnO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0eXBlb2YgYXJndW1lbnRzWzFdICE9PSAndW5kZWZpbmVkJyApIHtcblxuICAgICAgICAgICAgICAgIHR5cGUgPSAnc2luZ2xlJztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHR5cGUgPT09ICdzaW5nbGUnICkge1xuXG4gICAgICAgICAgICBfLm9wdGlvbnNbb3B0aW9uXSA9IHZhbHVlO1xuXG5cbiAgICAgICAgfSBlbHNlIGlmICggdHlwZSA9PT0gJ211bHRpcGxlJyApIHtcblxuICAgICAgICAgICAgJC5lYWNoKCBvcHRpb24gLCBmdW5jdGlvbiggb3B0LCB2YWwgKSB7XG5cbiAgICAgICAgICAgICAgICBfLm9wdGlvbnNbb3B0XSA9IHZhbDtcblxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9IGVsc2UgaWYgKCB0eXBlID09PSAncmVzcG9uc2l2ZScgKSB7XG5cbiAgICAgICAgICAgIGZvciAoIGl0ZW0gaW4gdmFsdWUgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggJC50eXBlKCBfLm9wdGlvbnMucmVzcG9uc2l2ZSApICE9PSAnYXJyYXknICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlID0gWyB2YWx1ZVtpdGVtXSBdO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBsID0gXy5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSByZXNwb25zaXZlIG9iamVjdCBhbmQgc3BsaWNlIG91dCBkdXBsaWNhdGVzLlxuICAgICAgICAgICAgICAgICAgICB3aGlsZSggbCA+PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggXy5vcHRpb25zLnJlc3BvbnNpdmVbbF0uYnJlYWtwb2ludCA9PT0gdmFsdWVbaXRlbV0uYnJlYWtwb2ludCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlLnNwbGljZShsLDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGwtLTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zLnJlc3BvbnNpdmUucHVzaCggdmFsdWVbaXRlbV0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHJlZnJlc2ggKSB7XG5cbiAgICAgICAgICAgIF8udW5sb2FkKCk7XG4gICAgICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5zZXREaW1lbnNpb25zKCk7XG5cbiAgICAgICAgXy5zZXRIZWlnaHQoKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLnNldENTUyhfLmdldExlZnQoXy5jdXJyZW50U2xpZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uc2V0RmFkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ3NldFBvc2l0aW9uJywgW19dKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0UHJvcHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuXG4gICAgICAgIF8ucG9zaXRpb25Qcm9wID0gXy5vcHRpb25zLnZlcnRpY2FsID09PSB0cnVlID8gJ3RvcCcgOiAnbGVmdCc7XG5cbiAgICAgICAgaWYgKF8ucG9zaXRpb25Qcm9wID09PSAndG9wJykge1xuICAgICAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay12ZXJ0aWNhbCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy4kc2xpZGVyLnJlbW92ZUNsYXNzKCdzbGljay12ZXJ0aWNhbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlTdHlsZS5XZWJraXRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJvZHlTdHlsZS5Nb3pUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJvZHlTdHlsZS5tc1RyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy51c2VDU1MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLmNzc1RyYW5zaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmZhZGUgKSB7XG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBfLm9wdGlvbnMuekluZGV4ID09PSAnbnVtYmVyJyApIHtcbiAgICAgICAgICAgICAgICBpZiggXy5vcHRpb25zLnpJbmRleCA8IDMgKSB7XG4gICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy56SW5kZXggPSAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy5vcHRpb25zLnpJbmRleCA9IF8uZGVmYXVsdHMuekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlTdHlsZS5PVHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSAnT1RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAnLW8tdHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAnT1RyYW5zaXRpb24nO1xuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZS5wZXJzcGVjdGl2ZVByb3BlcnR5ID09PSB1bmRlZmluZWQgJiYgYm9keVN0eWxlLndlYmtpdFBlcnNwZWN0aXZlID09PSB1bmRlZmluZWQpIF8uYW5pbVR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVN0eWxlLk1velRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gJ01velRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAnLW1vei10cmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2l0aW9uVHlwZSA9ICdNb3pUcmFuc2l0aW9uJztcbiAgICAgICAgICAgIGlmIChib2R5U3R5bGUucGVyc3BlY3RpdmVQcm9wZXJ0eSA9PT0gdW5kZWZpbmVkICYmIGJvZHlTdHlsZS5Nb3pQZXJzcGVjdGl2ZSA9PT0gdW5kZWZpbmVkKSBfLmFuaW1UeXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlTdHlsZS53ZWJraXRUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICd3ZWJraXRUcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy13ZWJraXQtdHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAnd2Via2l0VHJhbnNpdGlvbic7XG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlLnBlcnNwZWN0aXZlUHJvcGVydHkgPT09IHVuZGVmaW5lZCAmJiBib2R5U3R5bGUud2Via2l0UGVyc3BlY3RpdmUgPT09IHVuZGVmaW5lZCkgXy5hbmltVHlwZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5U3R5bGUubXNUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICdtc1RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAnLW1zLXRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ21zVHJhbnNpdGlvbic7XG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlLm1zVHJhbnNmb3JtID09PSB1bmRlZmluZWQpIF8uYW5pbVR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVN0eWxlLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkICYmIF8uYW5pbVR5cGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAndHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAndHJhbnNpdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgXy50cmFuc2Zvcm1zRW5hYmxlZCA9IF8ub3B0aW9ucy51c2VUcmFuc2Zvcm0gJiYgKF8uYW5pbVR5cGUgIT09IG51bGwgJiYgXy5hbmltVHlwZSAhPT0gZmFsc2UpO1xuICAgIH07XG5cblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRTbGlkZUNsYXNzZXMgPSBmdW5jdGlvbihpbmRleCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGNlbnRlck9mZnNldCwgYWxsU2xpZGVzLCBpbmRleE9mZnNldCwgcmVtYWluZGVyO1xuXG4gICAgICAgIGFsbFNsaWRlcyA9IF8uJHNsaWRlclxuICAgICAgICAgICAgLmZpbmQoJy5zbGljay1zbGlkZScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stY3VycmVudCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgLmVxKGluZGV4KVxuICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1jdXJyZW50Jyk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIHZhciBldmVuQ29lZiA9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgJSAyID09PSAwID8gMSA6IDA7XG5cbiAgICAgICAgICAgIGNlbnRlck9mZnNldCA9IE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpO1xuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gY2VudGVyT2Zmc2V0ICYmIGluZGV4IDw9IChfLnNsaWRlQ291bnQgLSAxKSAtIGNlbnRlck9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCAtIGNlbnRlck9mZnNldCArIGV2ZW5Db2VmLCBpbmRleCArIGNlbnRlck9mZnNldCArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhPZmZzZXQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4T2Zmc2V0IC0gY2VudGVyT2Zmc2V0ICsgMSArIGV2ZW5Db2VmLCBpbmRleE9mZnNldCArIGNlbnRlck9mZnNldCArIDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKGFsbFNsaWRlcy5sZW5ndGggLSAxIC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stY2VudGVyJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBfLnNsaWRlQ291bnQgLSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXEoXy5vcHRpb25zLnNsaWRlc1RvU2hvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stY2VudGVyJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy4kc2xpZGVzXG4gICAgICAgICAgICAgICAgLmVxKGluZGV4KVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stY2VudGVyJyk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPD0gKF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpKSB7XG5cbiAgICAgICAgICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4LCBpbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxsU2xpZGVzLmxlbmd0aCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJlbWFpbmRlciA9IF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3c7XG4gICAgICAgICAgICAgICAgaW5kZXhPZmZzZXQgPSBfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUgPyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgaW5kZXggOiBpbmRleDtcblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID09IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAmJiAoXy5zbGlkZUNvdW50IC0gaW5kZXgpIDwgXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4T2Zmc2V0IC0gKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSByZW1haW5kZXIpLCBpbmRleE9mZnNldCArIHJlbWFpbmRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleE9mZnNldCwgaW5kZXhPZmZzZXQgKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5sYXp5TG9hZCA9PT0gJ29uZGVtYW5kJyB8fCBfLm9wdGlvbnMubGF6eUxvYWQgPT09ICdhbnRpY2lwYXRlZCcpIHtcbiAgICAgICAgICAgIF8ubGF6eUxvYWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0dXBJbmZpbml0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGksIHNsaWRlSW5kZXgsIGluZmluaXRlQ291bnQ7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLm9wdGlvbnMuY2VudGVyTW9kZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgc2xpZGVJbmRleCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5maW5pdGVDb3VudCA9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlQ291bnQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IF8uc2xpZGVDb3VudDsgaSA+IChfLnNsaWRlQ291bnQgLVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5maW5pdGVDb3VudCk7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZUluZGV4ID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICQoXy4kc2xpZGVzW3NsaWRlSW5kZXhdKS5jbG9uZSh0cnVlKS5hdHRyKCdpZCcsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnLCBzbGlkZUluZGV4IC0gXy5zbGlkZUNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXBlbmRUbyhfLiRzbGlkZVRyYWNrKS5hZGRDbGFzcygnc2xpY2stY2xvbmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbmZpbml0ZUNvdW50ICArIF8uc2xpZGVDb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAkKF8uJHNsaWRlc1tzbGlkZUluZGV4XSkuY2xvbmUodHJ1ZSkuYXR0cignaWQnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXNsaWNrLWluZGV4Jywgc2xpZGVJbmRleCArIF8uc2xpZGVDb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKS5hZGRDbGFzcygnc2xpY2stY2xvbmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLWNsb25lZCcpLmZpbmQoJ1tpZF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2lkJywgJycpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBmdW5jdGlvbiggdG9nZ2xlICkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiggIXRvZ2dsZSApIHtcbiAgICAgICAgICAgIF8uYXV0b1BsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBfLmludGVycnVwdGVkID0gdG9nZ2xlO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZWxlY3RIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPVxuICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmlzKCcuc2xpY2stc2xpZGUnKSA/XG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpIDpcbiAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkucGFyZW50cygnLnNsaWNrLXNsaWRlJyk7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0RWxlbWVudC5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JykpO1xuXG4gICAgICAgIGlmICghaW5kZXgpIGluZGV4ID0gMDtcblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoaW5kZXgsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB9XG5cbiAgICAgICAgXy5zbGlkZUhhbmRsZXIoaW5kZXgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zbGlkZUhhbmRsZXIgPSBmdW5jdGlvbihpbmRleCwgc3luYywgZG9udEFuaW1hdGUpIHtcblxuICAgICAgICB2YXIgdGFyZ2V0U2xpZGUsIGFuaW1TbGlkZSwgb2xkU2xpZGUsIHNsaWRlTGVmdCwgdGFyZ2V0TGVmdCA9IG51bGwsXG4gICAgICAgICAgICBfID0gdGhpcywgbmF2VGFyZ2V0O1xuXG4gICAgICAgIHN5bmMgPSBzeW5jIHx8IGZhbHNlO1xuXG4gICAgICAgIGlmIChfLmFuaW1hdGluZyA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMud2FpdEZvckFuaW1hdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSAmJiBfLmN1cnJlbnRTbGlkZSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5hc05hdkZvcihpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRTbGlkZSA9IGluZGV4O1xuICAgICAgICB0YXJnZXRMZWZ0ID0gXy5nZXRMZWZ0KHRhcmdldFNsaWRlKTtcbiAgICAgICAgc2xpZGVMZWZ0ID0gXy5nZXRMZWZ0KF8uY3VycmVudFNsaWRlKTtcblxuICAgICAgICBfLmN1cnJlbnRMZWZ0ID0gXy5zd2lwZUxlZnQgPT09IG51bGwgPyBzbGlkZUxlZnQgOiBfLnN3aXBlTGVmdDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gZmFsc2UgJiYgKGluZGV4IDwgMCB8fCBpbmRleCA+IF8uZ2V0RG90Q291bnQoKSAqIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpIHtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRTbGlkZSA9IF8uY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgICAgIGlmIChkb250QW5pbWF0ZSAhPT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIF8uYW5pbWF0ZVNsaWRlKHNsaWRlTGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZSh0YXJnZXRTbGlkZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKHRhcmdldFNsaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSAmJiAoaW5kZXggPCAwIHx8IGluZGV4ID4gKF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgICAgICBpZiAoZG9udEFuaW1hdGUgIT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgICAgICBfLmFuaW1hdGVTbGlkZShzbGlkZUxlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUodGFyZ2V0U2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZSh0YXJnZXRTbGlkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMuYXV0b3BsYXkgKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKF8uYXV0b1BsYXlUaW1lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0U2xpZGUgPCAwKSB7XG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5pbVNsaWRlID0gXy5zbGlkZUNvdW50IC0gKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IF8uc2xpZGVDb3VudCArIHRhcmdldFNsaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldFNsaWRlID49IF8uc2xpZGVDb3VudCkge1xuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IHRhcmdldFNsaWRlIC0gXy5zbGlkZUNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5pbVNsaWRlID0gdGFyZ2V0U2xpZGU7XG4gICAgICAgIH1cblxuICAgICAgICBfLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2JlZm9yZUNoYW5nZScsIFtfLCBfLmN1cnJlbnRTbGlkZSwgYW5pbVNsaWRlXSk7XG5cbiAgICAgICAgb2xkU2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBhbmltU2xpZGU7XG5cbiAgICAgICAgXy5zZXRTbGlkZUNsYXNzZXMoXy5jdXJyZW50U2xpZGUpO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmFzTmF2Rm9yICkge1xuXG4gICAgICAgICAgICBuYXZUYXJnZXQgPSBfLmdldE5hdlRhcmdldCgpO1xuICAgICAgICAgICAgbmF2VGFyZ2V0ID0gbmF2VGFyZ2V0LnNsaWNrKCdnZXRTbGljaycpO1xuXG4gICAgICAgICAgICBpZiAoIG5hdlRhcmdldC5zbGlkZUNvdW50IDw9IG5hdlRhcmdldC5vcHRpb25zLnNsaWRlc1RvU2hvdyApIHtcbiAgICAgICAgICAgICAgICBuYXZUYXJnZXQuc2V0U2xpZGVDbGFzc2VzKF8uY3VycmVudFNsaWRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgXy51cGRhdGVEb3RzKCk7XG4gICAgICAgIF8udXBkYXRlQXJyb3dzKCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoZG9udEFuaW1hdGUgIT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgIF8uZmFkZVNsaWRlT3V0KG9sZFNsaWRlKTtcblxuICAgICAgICAgICAgICAgIF8uZmFkZVNsaWRlKGFuaW1TbGlkZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKGFuaW1TbGlkZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUoYW5pbVNsaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uYW5pbWF0ZUhlaWdodCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbnRBbmltYXRlICE9PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uYW5pbWF0ZVNsaWRlKHRhcmdldExlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKGFuaW1TbGlkZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8ucG9zdFNsaWRlKGFuaW1TbGlkZSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93LmhpZGUoKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdy5oaWRlKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uJGRvdHMuaGlkZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfLiRzbGlkZXIuYWRkQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3dpcGVEaXJlY3Rpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgeERpc3QsIHlEaXN0LCByLCBzd2lwZUFuZ2xlLCBfID0gdGhpcztcblxuICAgICAgICB4RGlzdCA9IF8udG91Y2hPYmplY3Quc3RhcnRYIC0gXy50b3VjaE9iamVjdC5jdXJYO1xuICAgICAgICB5RGlzdCA9IF8udG91Y2hPYmplY3Quc3RhcnRZIC0gXy50b3VjaE9iamVjdC5jdXJZO1xuICAgICAgICByID0gTWF0aC5hdGFuMih5RGlzdCwgeERpc3QpO1xuXG4gICAgICAgIHN3aXBlQW5nbGUgPSBNYXRoLnJvdW5kKHIgKiAxODAgLyBNYXRoLlBJKTtcbiAgICAgICAgaWYgKHN3aXBlQW5nbGUgPCAwKSB7XG4gICAgICAgICAgICBzd2lwZUFuZ2xlID0gMzYwIC0gTWF0aC5hYnMoc3dpcGVBbmdsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHN3aXBlQW5nbGUgPD0gNDUpICYmIChzd2lwZUFuZ2xlID49IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gKF8ub3B0aW9ucy5ydGwgPT09IGZhbHNlID8gJ2xlZnQnIDogJ3JpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzd2lwZUFuZ2xlIDw9IDM2MCkgJiYgKHN3aXBlQW5nbGUgPj0gMzE1KSkge1xuICAgICAgICAgICAgcmV0dXJuIChfLm9wdGlvbnMucnRsID09PSBmYWxzZSA/ICdsZWZ0JyA6ICdyaWdodCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3dpcGVBbmdsZSA+PSAxMzUpICYmIChzd2lwZUFuZ2xlIDw9IDIyNSkpIHtcbiAgICAgICAgICAgIHJldHVybiAoXy5vcHRpb25zLnJ0bCA9PT0gZmFsc2UgPyAncmlnaHQnIDogJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKChzd2lwZUFuZ2xlID49IDM1KSAmJiAoc3dpcGVBbmdsZSA8PSAxMzUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ3ZlcnRpY2FsJztcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3dpcGVFbmQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHNsaWRlQ291bnQsXG4gICAgICAgICAgICBkaXJlY3Rpb247XG5cbiAgICAgICAgXy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICBfLnN3aXBpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoXy5zY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIF8uc2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfLmludGVycnVwdGVkID0gZmFsc2U7XG4gICAgICAgIF8uc2hvdWxkQ2xpY2sgPSAoIF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPiAxMCApID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgICAgIGlmICggXy50b3VjaE9iamVjdC5jdXJYID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8udG91Y2hPYmplY3QuZWRnZUhpdCA9PT0gdHJ1ZSApIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdlZGdlJywgW18sIF8uc3dpcGVEaXJlY3Rpb24oKSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA+PSBfLnRvdWNoT2JqZWN0Lm1pblN3aXBlICkge1xuXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBfLnN3aXBlRGlyZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoIGRpcmVjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rvd24nOlxuXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlQ291bnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zLnN3aXBlVG9TbGlkZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jaGVja05hdmlnYWJsZSggXy5jdXJyZW50U2xpZGUgKyBfLmdldFNsaWRlQ291bnQoKSApIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSArIF8uZ2V0U2xpZGVDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uY3VycmVudERpcmVjdGlvbiA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgY2FzZSAndXAnOlxuXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlQ291bnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zLnN3aXBlVG9TbGlkZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jaGVja05hdmlnYWJsZSggXy5jdXJyZW50U2xpZGUgLSBfLmdldFNsaWRlQ291bnQoKSApIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSAtIF8uZ2V0U2xpZGVDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uY3VycmVudERpcmVjdGlvbiA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiAhPSAndmVydGljYWwnICkge1xuXG4gICAgICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoIHNsaWRlQ291bnQgKTtcbiAgICAgICAgICAgICAgICBfLnRvdWNoT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ3N3aXBlJywgW18sIGRpcmVjdGlvbiBdKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICggXy50b3VjaE9iamVjdC5zdGFydFggIT09IF8udG91Y2hPYmplY3QuY3VyWCApIHtcblxuICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKCBfLmN1cnJlbnRTbGlkZSApO1xuICAgICAgICAgICAgICAgIF8udG91Y2hPYmplY3QgPSB7fTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3dpcGVIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKChfLm9wdGlvbnMuc3dpcGUgPT09IGZhbHNlKSB8fCAoJ29udG91Y2hlbmQnIGluIGRvY3VtZW50ICYmIF8ub3B0aW9ucy5zd2lwZSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLmRyYWdnYWJsZSA9PT0gZmFsc2UgJiYgZXZlbnQudHlwZS5pbmRleE9mKCdtb3VzZScpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5maW5nZXJDb3VudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA6IDE7XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5taW5Td2lwZSA9IF8ubGlzdFdpZHRoIC8gXy5vcHRpb25zXG4gICAgICAgICAgICAudG91Y2hUaHJlc2hvbGQ7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8udG91Y2hPYmplY3QubWluU3dpcGUgPSBfLmxpc3RIZWlnaHQgLyBfLm9wdGlvbnNcbiAgICAgICAgICAgICAgICAudG91Y2hUaHJlc2hvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEuYWN0aW9uKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICAgICAgICBfLnN3aXBlU3RhcnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgICAgICAgICBfLnN3aXBlTW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgICAgICAgXy5zd2lwZUVuZChldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zd2lwZU1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGVkZ2VXYXNIaXQgPSBmYWxzZSxcbiAgICAgICAgICAgIGN1ckxlZnQsIHN3aXBlRGlyZWN0aW9uLCBzd2lwZUxlbmd0aCwgcG9zaXRpb25PZmZzZXQsIHRvdWNoZXMsIHZlcnRpY2FsU3dpcGVMZW5ndGg7XG5cbiAgICAgICAgdG91Y2hlcyA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IHVuZGVmaW5lZCA/IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyA6IG51bGw7XG5cbiAgICAgICAgaWYgKCFfLmRyYWdnaW5nIHx8IF8uc2Nyb2xsaW5nIHx8IHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1ckxlZnQgPSBfLmdldExlZnQoXy5jdXJyZW50U2xpZGUpO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QuY3VyWCA9IHRvdWNoZXMgIT09IHVuZGVmaW5lZCA/IHRvdWNoZXNbMF0ucGFnZVggOiBldmVudC5jbGllbnRYO1xuICAgICAgICBfLnRvdWNoT2JqZWN0LmN1clkgPSB0b3VjaGVzICE9PSB1bmRlZmluZWQgPyB0b3VjaGVzWzBdLnBhZ2VZIDogZXZlbnQuY2xpZW50WTtcblxuICAgICAgICBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoXG4gICAgICAgICAgICBNYXRoLnBvdyhfLnRvdWNoT2JqZWN0LmN1clggLSBfLnRvdWNoT2JqZWN0LnN0YXJ0WCwgMikpKTtcblxuICAgICAgICB2ZXJ0aWNhbFN3aXBlTGVuZ3RoID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoXG4gICAgICAgICAgICBNYXRoLnBvdyhfLnRvdWNoT2JqZWN0LmN1clkgLSBfLnRvdWNoT2JqZWN0LnN0YXJ0WSwgMikpKTtcblxuICAgICAgICBpZiAoIV8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgJiYgIV8uc3dpcGluZyAmJiB2ZXJ0aWNhbFN3aXBlTGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgXy5zY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPSB2ZXJ0aWNhbFN3aXBlTGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpcGVEaXJlY3Rpb24gPSBfLnN3aXBlRGlyZWN0aW9uKCk7XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgXy5zd2lwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3NpdGlvbk9mZnNldCA9IChfLm9wdGlvbnMucnRsID09PSBmYWxzZSA/IDEgOiAtMSkgKiAoXy50b3VjaE9iamVjdC5jdXJYID4gXy50b3VjaE9iamVjdC5zdGFydFggPyAxIDogLTEpO1xuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQgPSBfLnRvdWNoT2JqZWN0LmN1clkgPiBfLnRvdWNoT2JqZWN0LnN0YXJ0WSA/IDEgOiAtMTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgc3dpcGVMZW5ndGggPSBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QuZWRnZUhpdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoKF8uY3VycmVudFNsaWRlID09PSAwICYmIHN3aXBlRGlyZWN0aW9uID09PSAncmlnaHQnKSB8fCAoXy5jdXJyZW50U2xpZGUgPj0gXy5nZXREb3RDb3VudCgpICYmIHN3aXBlRGlyZWN0aW9uID09PSAnbGVmdCcpKSB7XG4gICAgICAgICAgICAgICAgc3dpcGVMZW5ndGggPSBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoICogXy5vcHRpb25zLmVkZ2VGcmljdGlvbjtcbiAgICAgICAgICAgICAgICBfLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uc3dpcGVMZWZ0ID0gY3VyTGVmdCArIHN3aXBlTGVuZ3RoICogcG9zaXRpb25PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IGN1ckxlZnQgKyAoc3dpcGVMZW5ndGggKiAoXy4kbGlzdC5oZWlnaHQoKSAvIF8ubGlzdFdpZHRoKSkgKiBwb3NpdGlvbk9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBjdXJMZWZ0ICsgc3dpcGVMZW5ndGggKiBwb3NpdGlvbk9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSB8fCBfLm9wdGlvbnMudG91Y2hNb3ZlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uYW5pbWF0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfLnNldENTUyhfLnN3aXBlTGVmdCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlU3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRvdWNoZXM7XG5cbiAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKF8udG91Y2hPYmplY3QuZmluZ2VyQ291bnQgIT09IDEgfHwgXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8udG91Y2hPYmplY3QgPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIH1cblxuICAgICAgICBfLnRvdWNoT2JqZWN0LnN0YXJ0WCA9IF8udG91Y2hPYmplY3QuY3VyWCA9IHRvdWNoZXMgIT09IHVuZGVmaW5lZCA/IHRvdWNoZXMucGFnZVggOiBldmVudC5jbGllbnRYO1xuICAgICAgICBfLnRvdWNoT2JqZWN0LnN0YXJ0WSA9IF8udG91Y2hPYmplY3QuY3VyWSA9IHRvdWNoZXMgIT09IHVuZGVmaW5lZCA/IHRvdWNoZXMucGFnZVkgOiBldmVudC5jbGllbnRZO1xuXG4gICAgICAgIF8uZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51bmZpbHRlclNsaWRlcyA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1VuZmlsdGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLiRzbGlkZXNDYWNoZSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuXG4gICAgICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgICQoJy5zbGljay1jbG9uZWQnLCBfLiRzbGlkZXIpLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChfLiRkb3RzKSB7XG4gICAgICAgICAgICBfLiRkb3RzLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uJHByZXZBcnJvdyAmJiBfLmh0bWxFeHByLnRlc3QoXy5vcHRpb25zLnByZXZBcnJvdykpIHtcbiAgICAgICAgICAgIF8uJHByZXZBcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLiRuZXh0QXJyb3cgJiYgXy5odG1sRXhwci50ZXN0KF8ub3B0aW9ucy5uZXh0QXJyb3cpKSB7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICAgICAgICAuY3NzKCd3aWR0aCcsICcnKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudW5zbGljayA9IGZ1bmN0aW9uKGZyb21CcmVha3BvaW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcigndW5zbGljaycsIFtfLCBmcm9tQnJlYWtwb2ludF0pO1xuICAgICAgICBfLmRlc3Ryb3koKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudXBkYXRlQXJyb3dzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgY2VudGVyT2Zmc2V0O1xuXG4gICAgICAgIGNlbnRlck9mZnNldCA9IE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJlxuICAgICAgICAgICAgIV8ub3B0aW9ucy5pbmZpbml0ZSApIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIGlmIChfLmN1cnJlbnRTbGlkZSA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LmFkZENsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5jdXJyZW50U2xpZGUgPj0gXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5hZGRDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAtIDEgJiYgXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5hZGRDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51cGRhdGVEb3RzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLiRkb3RzICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIF8uJGRvdHNcbiAgICAgICAgICAgICAgICAuZmluZCgnbGknKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5lbmQoKTtcblxuICAgICAgICAgICAgXy4kZG90c1xuICAgICAgICAgICAgICAgIC5maW5kKCdsaScpXG4gICAgICAgICAgICAgICAgLmVxKE1hdGguZmxvb3IoXy5jdXJyZW50U2xpZGUgLyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJyk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS52aXNpYmlsaXR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuXG4gICAgICAgICAgICBpZiAoIGRvY3VtZW50W18uaGlkZGVuXSApIHtcblxuICAgICAgICAgICAgICAgIF8uaW50ZXJydXB0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgICQuZm4uc2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgb3B0ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgICAgICBsID0gXy5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgcmV0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdCA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb3B0ID09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIF9baV0uc2xpY2sgPSBuZXcgU2xpY2soX1tpXSwgb3B0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXQgPSBfW2ldLnNsaWNrW29wdF0uYXBwbHkoX1tpXS5zbGljaywgYXJncyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJldCAhPSAndW5kZWZpbmVkJykgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXztcbiAgICB9O1xuXG59KSk7XG4iLCIvKiEgdGFibGVzb3J0ZXIgKEZPUkspIC0gdXBkYXRlZCAyMDE4LTA4LTI3ICh2Mi4zMS4wKSovXG4vKiBJbmNsdWRlcyB3aWRnZXRzICggc3RvcmFnZSx1aXRoZW1lLGNvbHVtbnMsZmlsdGVyLHN0aWNreUhlYWRlcnMscmVzaXphYmxlLHNhdmVTb3J0ICkgKi9cbihmdW5jdGlvbihmYWN0b3J5KXtpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKXtkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKXttb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO30gZWxzZSB7ZmFjdG9yeShqUXVlcnkpO319KGZ1bmN0aW9uKGpRdWVyeSkge1xuLyohIFRhYmxlU29ydGVyIChGT1JLKSB2Mi4zMS4wICovLypcbiogQ2xpZW50LXNpZGUgdGFibGUgc29ydGluZyB3aXRoIGVhc2UhXG4qIEByZXF1aXJlcyBqUXVlcnkgdjEuMi42K1xuKlxuKiBDb3B5cmlnaHQgKGMpIDIwMDcgQ2hyaXN0aWFuIEJhY2hcbiogZm9yayBtYWludGFpbmVkIGJ5IFJvYiBHYXJyaXNvblxuKlxuKiBFeGFtcGxlcyBhbmQgb3JpZ2luYWwgZG9jcyBhdDogaHR0cDovL3RhYmxlc29ydGVyLmNvbVxuKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczpcbiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiogaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXG4qXG4qIEB0eXBlIGpRdWVyeVxuKiBAbmFtZSB0YWJsZXNvcnRlciAoRk9SSylcbiogQGNhdCBQbHVnaW5zL1RhYmxlc29ydGVyXG4qIEBhdXRob3IgQ2hyaXN0aWFuIEJhY2ggLSBjaHJpc3RpYW4uYmFjaEBwb2x5ZXN0ZXIuc2VcbiogQGNvbnRyaWJ1dG9yIFJvYiBHYXJyaXNvbiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb3R0aWUvdGFibGVzb3J0ZXJcbiogQGRvY3MgKGZvcmspIC0gaHR0cHM6Ly9tb3R0aWUuZ2l0aHViLmlvL3RhYmxlc29ydGVyL2RvY3MvXG4qL1xuLypqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6dHJ1ZSwgdW51c2VkOmZhbHNlLCBleHByOiB0cnVlICovXG47KCBmdW5jdGlvbiggJCApIHtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgdHMgPSAkLnRhYmxlc29ydGVyID0ge1xuXG5cdFx0dmVyc2lvbiA6ICcyLjMxLjAnLFxuXG5cdFx0cGFyc2VycyA6IFtdLFxuXHRcdHdpZGdldHMgOiBbXSxcblx0XHRkZWZhdWx0cyA6IHtcblxuXHRcdFx0Ly8gKioqIGFwcGVhcmFuY2Vcblx0XHRcdHRoZW1lICAgICAgICAgICAgOiAnZGVmYXVsdCcsICAvLyBhZGRzIHRhYmxlc29ydGVyLXt0aGVtZX0gdG8gdGhlIHRhYmxlIGZvciBzdHlsaW5nXG5cdFx0XHR3aWR0aEZpeGVkICAgICAgIDogZmFsc2UsICAgICAgLy8gYWRkcyBjb2xncm91cCB0byBmaXggd2lkdGhzIG9mIGNvbHVtbnNcblx0XHRcdHNob3dQcm9jZXNzaW5nICAgOiBmYWxzZSwgICAgICAvLyBzaG93IGFuIGluZGV0ZXJtaW5hdGUgdGltZXIgaWNvbiBpbiB0aGUgaGVhZGVyIHdoZW4gdGhlIHRhYmxlIGlzIHNvcnRlZCBvciBmaWx0ZXJlZC5cblxuXHRcdFx0aGVhZGVyVGVtcGxhdGUgICA6ICd7Y29udGVudH0nLC8vIGhlYWRlciBsYXlvdXQgdGVtcGxhdGUgKEhUTUwgb2spOyB7Y29udGVudH0gPSBpbm5lckhUTUwsIHtpY29ufSA9IDxpLz4gLy8gY2xhc3MgZnJvbSBjc3NJY29uXG5cdFx0XHRvblJlbmRlclRlbXBsYXRlIDogbnVsbCwgICAgICAgLy8gZnVuY3Rpb24oIGluZGV4LCB0ZW1wbGF0ZSApIHsgcmV0dXJuIHRlbXBsYXRlOyB9LCAvLyB0ZW1wbGF0ZSBpcyBhIHN0cmluZ1xuXHRcdFx0b25SZW5kZXJIZWFkZXIgICA6IG51bGwsICAgICAgIC8vIGZ1bmN0aW9uKCBpbmRleCApIHt9LCAvLyBub3RoaW5nIHRvIHJldHVyblxuXG5cdFx0XHQvLyAqKiogZnVuY3Rpb25hbGl0eVxuXHRcdFx0Y2FuY2VsU2VsZWN0aW9uICA6IHRydWUsICAgICAgIC8vIHByZXZlbnQgdGV4dCBzZWxlY3Rpb24gaW4gdGhlIGhlYWRlclxuXHRcdFx0dGFiSW5kZXggICAgICAgICA6IHRydWUsICAgICAgIC8vIGFkZCB0YWJpbmRleCB0byBoZWFkZXIgZm9yIGtleWJvYXJkIGFjY2Vzc2liaWxpdHlcblx0XHRcdGRhdGVGb3JtYXQgICAgICAgOiAnbW1kZHl5eXknLCAvLyBvdGhlciBvcHRpb25zOiAnZGRtbXl5eScgb3IgJ3l5eXltbWRkJ1xuXHRcdFx0c29ydE11bHRpU29ydEtleSA6ICdzaGlmdEtleScsIC8vIGtleSB1c2VkIHRvIHNlbGVjdCBhZGRpdGlvbmFsIGNvbHVtbnNcblx0XHRcdHNvcnRSZXNldEtleSAgICAgOiAnY3RybEtleScsICAvLyBrZXkgdXNlZCB0byByZW1vdmUgc29ydGluZyBvbiBhIGNvbHVtblxuXHRcdFx0dXNOdW1iZXJGb3JtYXQgICA6IHRydWUsICAgICAgIC8vIGZhbHNlIGZvciBHZXJtYW4gJzEuMjM0LjU2Nyw4OScgb3IgRnJlbmNoICcxIDIzNCA1NjcsODknXG5cdFx0XHRkZWxheUluaXQgICAgICAgIDogZmFsc2UsICAgICAgLy8gaWYgZmFsc2UsIHRoZSBwYXJzZWQgdGFibGUgY29udGVudHMgd2lsbCBub3QgdXBkYXRlIHVudGlsIHRoZSBmaXJzdCBzb3J0XG5cdFx0XHRzZXJ2ZXJTaWRlU29ydGluZzogZmFsc2UsICAgICAgLy8gaWYgdHJ1ZSwgc2VydmVyLXNpZGUgc29ydGluZyBzaG91bGQgYmUgcGVyZm9ybWVkIGJlY2F1c2UgY2xpZW50LXNpZGUgc29ydGluZyB3aWxsIGJlIGRpc2FibGVkLCBidXQgdGhlIHVpIGFuZCBldmVudHMgd2lsbCBzdGlsbCBiZSB1c2VkLlxuXHRcdFx0cmVzb3J0ICAgICAgICAgICA6IHRydWUsICAgICAgIC8vIGRlZmF1bHQgc2V0dGluZyB0byB0cmlnZ2VyIGEgcmVzb3J0IGFmdGVyIGFuICd1cGRhdGUnLCAnYWRkUm93cycsICd1cGRhdGVDZWxsJywgZXRjIGhhcyBjb21wbGV0ZWRcblxuXHRcdFx0Ly8gKioqIHNvcnQgb3B0aW9uc1xuXHRcdFx0aGVhZGVycyAgICAgICAgICA6IHt9LCAgICAgICAgIC8vIHNldCBzb3J0ZXIsIHN0cmluZywgZW1wdHksIGxvY2tlZCBvcmRlciwgc29ydEluaXRpYWxPcmRlciwgZmlsdGVyLCBldGMuXG5cdFx0XHRpZ25vcmVDYXNlICAgICAgIDogdHJ1ZSwgICAgICAgLy8gaWdub3JlIGNhc2Ugd2hpbGUgc29ydGluZ1xuXHRcdFx0c29ydEZvcmNlICAgICAgICA6IG51bGwsICAgICAgIC8vIGNvbHVtbihzKSBmaXJzdCBzb3J0ZWQ7IGFsd2F5cyBhcHBsaWVkXG5cdFx0XHRzb3J0TGlzdCAgICAgICAgIDogW10sICAgICAgICAgLy8gSW5pdGlhbCBzb3J0IG9yZGVyOyBhcHBsaWVkIGluaXRpYWxseTsgdXBkYXRlZCB3aGVuIG1hbnVhbGx5IHNvcnRlZFxuXHRcdFx0c29ydEFwcGVuZCAgICAgICA6IG51bGwsICAgICAgIC8vIGNvbHVtbihzKSBzb3J0ZWQgbGFzdDsgYWx3YXlzIGFwcGxpZWRcblx0XHRcdHNvcnRTdGFibGUgICAgICAgOiBmYWxzZSwgICAgICAvLyB3aGVuIHNvcnRpbmcgdHdvIHJvd3Mgd2l0aCBleGFjdGx5IHRoZSBzYW1lIGNvbnRlbnQsIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIGlzIG1haW50YWluZWRcblxuXHRcdFx0c29ydEluaXRpYWxPcmRlciA6ICdhc2MnLCAgICAgIC8vIHNvcnQgZGlyZWN0aW9uIG9uIGZpcnN0IGNsaWNrXG5cdFx0XHRzb3J0TG9jYWxlQ29tcGFyZTogZmFsc2UsICAgICAgLy8gcmVwbGFjZSBlcXVpdmFsZW50IGNoYXJhY3RlciAoYWNjZW50ZWQgY2hhcmFjdGVycylcblx0XHRcdHNvcnRSZXNldCAgICAgICAgOiBmYWxzZSwgICAgICAvLyB0aGlyZCBjbGljayBvbiB0aGUgaGVhZGVyIHdpbGwgcmVzZXQgY29sdW1uIHRvIGRlZmF1bHQgLSB1bnNvcnRlZFxuXHRcdFx0c29ydFJlc3RhcnQgICAgICA6IGZhbHNlLCAgICAgIC8vIHJlc3RhcnQgc29ydCB0byAnc29ydEluaXRpYWxPcmRlcicgd2hlbiBjbGlja2luZyBvbiBwcmV2aW91c2x5IHVuc29ydGVkIGNvbHVtbnNcblxuXHRcdFx0ZW1wdHlUbyAgICAgICAgICA6ICdib3R0b20nLCAgIC8vIHNvcnQgZW1wdHkgY2VsbCB0byBib3R0b20sIHRvcCwgbm9uZSwgemVybywgZW1wdHlNYXgsIGVtcHR5TWluXG5cdFx0XHRzdHJpbmdUbyAgICAgICAgIDogJ21heCcsICAgICAgLy8gc29ydCBzdHJpbmdzIGluIG51bWVyaWNhbCBjb2x1bW4gYXMgbWF4LCBtaW4sIHRvcCwgYm90dG9tLCB6ZXJvXG5cdFx0XHRkdXBsaWNhdGVTcGFuICAgIDogdHJ1ZSwgICAgICAgLy8gY29sc3BhbiBjZWxscyBpbiB0aGUgdGJvZHkgd2lsbCBoYXZlIGR1cGxpY2F0ZWQgY29udGVudCBpbiB0aGUgY2FjaGUgZm9yIGVhY2ggc3Bhbm5lZCBjb2x1bW5cblx0XHRcdHRleHRFeHRyYWN0aW9uICAgOiAnYmFzaWMnLCAgICAvLyB0ZXh0IGV4dHJhY3Rpb24gbWV0aG9kL2Z1bmN0aW9uIC0gZnVuY3Rpb24oIG5vZGUsIHRhYmxlLCBjZWxsSW5kZXggKSB7fVxuXHRcdFx0dGV4dEF0dHJpYnV0ZSAgICA6ICdkYXRhLXRleHQnLC8vIGRhdGEtYXR0cmlidXRlIHRoYXQgY29udGFpbnMgYWx0ZXJuYXRlIGNlbGwgdGV4dCAodXNlZCBpbiBkZWZhdWx0IHRleHRFeHRyYWN0aW9uIGZ1bmN0aW9uKVxuXHRcdFx0dGV4dFNvcnRlciAgICAgICA6IG51bGwsICAgICAgIC8vIGNob29zZSBvdmVyYWxsIG9yIHNwZWNpZmljIGNvbHVtbiBzb3J0ZXIgZnVuY3Rpb24oIGEsIGIsIGRpcmVjdGlvbiwgdGFibGUsIGNvbHVtbkluZGV4ICkgW2FsdDogdHMuc29ydFRleHRdXG5cdFx0XHRudW1iZXJTb3J0ZXIgICAgIDogbnVsbCwgICAgICAgLy8gY2hvb3NlIG92ZXJhbGwgbnVtZXJpYyBzb3J0ZXIgZnVuY3Rpb24oIGEsIGIsIGRpcmVjdGlvbiwgbWF4Q29sdW1uVmFsdWUgKVxuXG5cdFx0XHQvLyAqKiogd2lkZ2V0IG9wdGlvbnNcblx0XHRcdGluaXRXaWRnZXRzICAgICAgOiB0cnVlLCAgICAgICAvLyBhcHBseSB3aWRnZXRzIG9uIHRhYmxlc29ydGVyIGluaXRpYWxpemF0aW9uXG5cdFx0XHR3aWRnZXRDbGFzcyAgICAgIDogJ3dpZGdldC17bmFtZX0nLCAvLyB0YWJsZSBjbGFzcyBuYW1lIHRlbXBsYXRlIHRvIG1hdGNoIHRvIGluY2x1ZGUgYSB3aWRnZXRcblx0XHRcdHdpZGdldHMgICAgICAgICAgOiBbXSwgICAgICAgICAvLyBtZXRob2QgdG8gYWRkIHdpZGdldHMsIGUuZy4gd2lkZ2V0czogWyd6ZWJyYSddXG5cdFx0XHR3aWRnZXRPcHRpb25zICAgIDoge1xuXHRcdFx0XHR6ZWJyYSA6IFsgJ2V2ZW4nLCAnb2RkJyBdICAvLyB6ZWJyYSB3aWRnZXQgYWx0ZXJuYXRpbmcgcm93IGNsYXNzIG5hbWVzXG5cdFx0XHR9LFxuXG5cdFx0XHQvLyAqKiogY2FsbGJhY2tzXG5cdFx0XHRpbml0aWFsaXplZCAgICAgIDogbnVsbCwgICAgICAgLy8gZnVuY3Rpb24oIHRhYmxlICkge30sXG5cblx0XHRcdC8vICoqKiBleHRyYSBjc3MgY2xhc3MgbmFtZXNcblx0XHRcdHRhYmxlQ2xhc3MgICAgICAgOiAnJyxcblx0XHRcdGNzc0FzYyAgICAgICAgICAgOiAnJyxcblx0XHRcdGNzc0Rlc2MgICAgICAgICAgOiAnJyxcblx0XHRcdGNzc05vbmUgICAgICAgICAgOiAnJyxcblx0XHRcdGNzc0hlYWRlciAgICAgICAgOiAnJyxcblx0XHRcdGNzc0hlYWRlclJvdyAgICAgOiAnJyxcblx0XHRcdGNzc1Byb2Nlc3NpbmcgICAgOiAnJywgLy8gcHJvY2Vzc2luZyBpY29uIGFwcGxpZWQgdG8gaGVhZGVyIGR1cmluZyBzb3J0L2ZpbHRlclxuXG5cdFx0XHRjc3NDaGlsZFJvdyAgICAgIDogJ3RhYmxlc29ydGVyLWNoaWxkUm93JywgLy8gY2xhc3MgbmFtZSBpbmRpY2lhdGluZyB0aGF0IGEgcm93IGlzIHRvIGJlIGF0dGFjaGVkIHRvIGl0cyBwYXJlbnRcblx0XHRcdGNzc0luZm9CbG9jayAgICAgOiAndGFibGVzb3J0ZXItaW5mb09ubHknLCAvLyBkb24ndCBzb3J0IHRib2R5IHdpdGggdGhpcyBjbGFzcyBuYW1lIChvbmx5IG9uZSBjbGFzcyBuYW1lIGFsbG93ZWQgaGVyZSEpXG5cdFx0XHRjc3NOb1NvcnQgICAgICAgIDogJ3RhYmxlc29ydGVyLW5vU29ydCcsICAgLy8gY2xhc3MgbmFtZSBhZGRlZCB0byBlbGVtZW50IGluc2lkZSBoZWFkZXI7IGNsaWNraW5nIG9uIGl0IHdvbid0IGNhdXNlIGEgc29ydFxuXHRcdFx0Y3NzSWdub3JlUm93ICAgICA6ICd0YWJsZXNvcnRlci1pZ25vcmVSb3cnLC8vIGhlYWRlciByb3cgdG8gaWdub3JlOyBjZWxscyB3aXRoaW4gdGhpcyByb3cgd2lsbCBub3QgYmUgYWRkZWQgdG8gYy4kaGVhZGVyc1xuXG5cdFx0XHRjc3NJY29uICAgICAgICAgIDogJ3RhYmxlc29ydGVyLWljb24nLCAvLyBpZiB0aGlzIGNsYXNzIGRvZXMgbm90IGV4aXN0LCB0aGUge2ljb259IHdpbGwgbm90IGJlIGFkZGVkIGZyb20gdGhlIGhlYWRlclRlbXBsYXRlXG5cdFx0XHRjc3NJY29uTm9uZSAgICAgIDogJycsIC8vIGNsYXNzIG5hbWUgYWRkZWQgdG8gdGhlIGljb24gd2hlbiB0aGVyZSBpcyBubyBjb2x1bW4gc29ydFxuXHRcdFx0Y3NzSWNvbkFzYyAgICAgICA6ICcnLCAvLyBjbGFzcyBuYW1lIGFkZGVkIHRvIHRoZSBpY29uIHdoZW4gdGhlIGNvbHVtbiBoYXMgYW4gYXNjZW5kaW5nIHNvcnRcblx0XHRcdGNzc0ljb25EZXNjICAgICAgOiAnJywgLy8gY2xhc3MgbmFtZSBhZGRlZCB0byB0aGUgaWNvbiB3aGVuIHRoZSBjb2x1bW4gaGFzIGEgZGVzY2VuZGluZyBzb3J0XG5cdFx0XHRjc3NJY29uRGlzYWJsZWQgIDogJycsIC8vIGNsYXNzIG5hbWUgYWRkZWQgdG8gdGhlIGljb24gd2hlbiB0aGUgY29sdW1uIGhhcyBhIGRpc2FibGVkIHNvcnRcblxuXHRcdFx0Ly8gKioqIGV2ZW50c1xuXHRcdFx0cG9pbnRlckNsaWNrICAgICA6ICdjbGljaycsXG5cdFx0XHRwb2ludGVyRG93biAgICAgIDogJ21vdXNlZG93bicsXG5cdFx0XHRwb2ludGVyVXAgICAgICAgIDogJ21vdXNldXAnLFxuXG5cdFx0XHQvLyAqKiogc2VsZWN0b3JzXG5cdFx0XHRzZWxlY3RvckhlYWRlcnMgIDogJz4gdGhlYWQgdGgsID4gdGhlYWQgdGQnLFxuXHRcdFx0c2VsZWN0b3JTb3J0ICAgICA6ICd0aCwgdGQnLCAvLyBqUXVlcnkgc2VsZWN0b3Igb2YgY29udGVudCB3aXRoaW4gc2VsZWN0b3JIZWFkZXJzIHRoYXQgaXMgY2xpY2thYmxlIHRvIHRyaWdnZXIgYSBzb3J0XG5cdFx0XHRzZWxlY3RvclJlbW92ZSAgIDogJy5yZW1vdmUtbWUnLFxuXG5cdFx0XHQvLyAqKiogYWR2YW5jZWRcblx0XHRcdGRlYnVnICAgICAgICAgICAgOiBmYWxzZSxcblxuXHRcdFx0Ly8gKioqIEludGVybmFsIHZhcmlhYmxlc1xuXHRcdFx0aGVhZGVyTGlzdDogW10sXG5cdFx0XHRlbXB0aWVzOiB7fSxcblx0XHRcdHN0cmluZ3M6IHt9LFxuXHRcdFx0cGFyc2VyczogW10sXG5cblx0XHRcdC8vICoqKiBwYXJzZXIgb3B0aW9ucyBmb3IgdmFsaWRhdG9yOyB2YWx1ZXMgbXVzdCBiZSBmYWxzeSFcblx0XHRcdGdsb2JhbGl6ZTogMCxcblx0XHRcdGltZ0F0dHI6IDBcblxuXHRcdFx0Ly8gcmVtb3ZlZDogd2lkZ2V0WmVicmE6IHsgY3NzOiBbJ2V2ZW4nLCAnb2RkJ10gfVxuXG5cdFx0fSxcblxuXHRcdC8vIGludGVybmFsIGNzcyBjbGFzc2VzIC0gdGhlc2Ugd2lsbCBBTFdBWVMgYmUgYWRkZWQgdG9cblx0XHQvLyB0aGUgdGFibGUgYW5kIE1VU1Qgb25seSBjb250YWluIG9uZSBjbGFzcyBuYW1lIC0gZml4ZXMgIzM4MVxuXHRcdGNzcyA6IHtcblx0XHRcdHRhYmxlICAgICAgOiAndGFibGVzb3J0ZXInLFxuXHRcdFx0Y3NzSGFzQ2hpbGQ6ICd0YWJsZXNvcnRlci1oYXNDaGlsZFJvdycsXG5cdFx0XHRjaGlsZFJvdyAgIDogJ3RhYmxlc29ydGVyLWNoaWxkUm93Jyxcblx0XHRcdGNvbGdyb3VwICAgOiAndGFibGVzb3J0ZXItY29sZ3JvdXAnLFxuXHRcdFx0aGVhZGVyICAgICA6ICd0YWJsZXNvcnRlci1oZWFkZXInLFxuXHRcdFx0aGVhZGVyUm93ICA6ICd0YWJsZXNvcnRlci1oZWFkZXJSb3cnLFxuXHRcdFx0aGVhZGVySW4gICA6ICd0YWJsZXNvcnRlci1oZWFkZXItaW5uZXInLFxuXHRcdFx0aWNvbiAgICAgICA6ICd0YWJsZXNvcnRlci1pY29uJyxcblx0XHRcdHByb2Nlc3NpbmcgOiAndGFibGVzb3J0ZXItcHJvY2Vzc2luZycsXG5cdFx0XHRzb3J0QXNjICAgIDogJ3RhYmxlc29ydGVyLWhlYWRlckFzYycsXG5cdFx0XHRzb3J0RGVzYyAgIDogJ3RhYmxlc29ydGVyLWhlYWRlckRlc2MnLFxuXHRcdFx0c29ydE5vbmUgICA6ICd0YWJsZXNvcnRlci1oZWFkZXJVblNvcnRlZCdcblx0XHR9LFxuXG5cdFx0Ly8gbGFiZWxzIGFwcGxpZWQgdG8gc29ydGFibGUgaGVhZGVycyBmb3IgYWNjZXNzaWJpbGl0eSAoYXJpYSkgc3VwcG9ydFxuXHRcdGxhbmd1YWdlIDoge1xuXHRcdFx0c29ydEFzYyAgICAgIDogJ0FzY2VuZGluZyBzb3J0IGFwcGxpZWQsICcsXG5cdFx0XHRzb3J0RGVzYyAgICAgOiAnRGVzY2VuZGluZyBzb3J0IGFwcGxpZWQsICcsXG5cdFx0XHRzb3J0Tm9uZSAgICAgOiAnTm8gc29ydCBhcHBsaWVkLCAnLFxuXHRcdFx0c29ydERpc2FibGVkIDogJ3NvcnRpbmcgaXMgZGlzYWJsZWQnLFxuXHRcdFx0bmV4dEFzYyAgICAgIDogJ2FjdGl2YXRlIHRvIGFwcGx5IGFuIGFzY2VuZGluZyBzb3J0Jyxcblx0XHRcdG5leHREZXNjICAgICA6ICdhY3RpdmF0ZSB0byBhcHBseSBhIGRlc2NlbmRpbmcgc29ydCcsXG5cdFx0XHRuZXh0Tm9uZSAgICAgOiAnYWN0aXZhdGUgdG8gcmVtb3ZlIHRoZSBzb3J0J1xuXHRcdH0sXG5cblx0XHRyZWdleCA6IHtcblx0XHRcdHRlbXBsYXRlQ29udGVudCA6IC9cXHtjb250ZW50XFx9L2csXG5cdFx0XHR0ZW1wbGF0ZUljb24gICAgOiAvXFx7aWNvblxcfS9nLFxuXHRcdFx0dGVtcGxhdGVOYW1lICAgIDogL1xce25hbWVcXH0vaSxcblx0XHRcdHNwYWNlcyAgICAgICAgICA6IC9cXHMrL2csXG5cdFx0XHRub25Xb3JkICAgICAgICAgOiAvXFxXL2csXG5cdFx0XHRmb3JtRWxlbWVudHMgICAgOiAvKGlucHV0fHNlbGVjdHxidXR0b258dGV4dGFyZWEpL2ksXG5cblx0XHRcdC8vICoqKiBzb3J0IGZ1bmN0aW9ucyAqKipcblx0XHRcdC8vIHJlZ2V4IHVzZWQgaW4gbmF0dXJhbCBzb3J0XG5cdFx0XHQvLyBjaHVuay90b2tlbml6ZSBudW1iZXJzICYgbGV0dGVyc1xuXHRcdFx0Y2h1bmsgIDogLyheKFsrXFwtXT8oPzpcXGQqKSg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/KT8kfF4weFswLTlhLWZdKyR8XFxkKykvZ2ksXG5cdFx0XHQvLyByZXBsYWNlIGNodW5rcyBAIGVuZHNcblx0XHRcdGNodW5rcyA6IC8oXlxcXFwwfFxcXFwwJCkvLFxuXHRcdFx0aGV4ICAgIDogL14weFswLTlhLWZdKyQvaSxcblxuXHRcdFx0Ly8gKioqIGZvcm1hdEZsb2F0ICoqKlxuXHRcdFx0Y29tbWEgICAgICAgICAgICAgICAgOiAvLC9nLFxuXHRcdFx0ZGlnaXROb25VUyAgICAgICAgICAgOiAvW1xcc3xcXC5dL2csXG5cdFx0XHRkaWdpdE5lZ2F0aXZlVGVzdCAgICA6IC9eXFxzKlxcKFsuXFxkXStcXCkvLFxuXHRcdFx0ZGlnaXROZWdhdGl2ZVJlcGxhY2UgOiAvXlxccypcXCgoWy5cXGRdKylcXCkvLFxuXG5cdFx0XHQvLyAqKiogaXNEaWdpdCAqKipcblx0XHRcdGRpZ2l0VGVzdCAgICA6IC9eW1xcLSsoXT9cXGQrWyldPyQvLFxuXHRcdFx0ZGlnaXRSZXBsYWNlIDogL1ssLidcIlxcc10vZ1xuXG5cdFx0fSxcblxuXHRcdC8vIGRpZ2l0IHNvcnQsIHRleHQgbG9jYXRpb25cblx0XHRzdHJpbmcgOiB7XG5cdFx0XHRtYXggICAgICA6IDEsXG5cdFx0XHRtaW4gICAgICA6IC0xLFxuXHRcdFx0ZW1wdHltaW4gOiAxLFxuXHRcdFx0ZW1wdHltYXggOiAtMSxcblx0XHRcdHplcm8gICAgIDogMCxcblx0XHRcdG5vbmUgICAgIDogMCxcblx0XHRcdCdudWxsJyAgIDogMCxcblx0XHRcdHRvcCAgICAgIDogdHJ1ZSxcblx0XHRcdGJvdHRvbSAgIDogZmFsc2Vcblx0XHR9LFxuXG5cdFx0a2V5Q29kZXMgOiB7XG5cdFx0XHRlbnRlciA6IDEzXG5cdFx0fSxcblxuXHRcdC8vIHBsYWNlaG9sZGVyIGRhdGUgcGFyc2VyIGRhdGEgKGdsb2JhbGl6ZSlcblx0XHRkYXRlcyA6IHt9LFxuXG5cdFx0Ly8gVGhlc2UgbWV0aG9kcyBjYW4gYmUgYXBwbGllZCBvbiB0YWJsZS5jb25maWcgaW5zdGFuY2Vcblx0XHRpbnN0YW5jZU1ldGhvZHMgOiB7fSxcblxuXHRcdC8qXG5cdFx04paE4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiCDilojilojilojilojilojilogg4paI4paIICDilojilogg4paI4paI4paI4paI4paI4paEXG5cdFx04paA4paI4paEICAgIOKWiOKWiOKWhOKWhCAgICAg4paI4paIICAg4paI4paIICDilojilogg4paI4paI4paE4paE4paI4paIXG5cdFx0ICAg4paA4paI4paEIOKWiOKWiOKWgOKWgCAgICAg4paI4paIICAg4paI4paIICDilojilogg4paI4paI4paA4paA4paAXG5cdFx04paI4paI4paI4paI4paI4paAIOKWiOKWiOKWiOKWiOKWiOKWiCAgIOKWiOKWiCAgIOKWgOKWiOKWiOKWiOKWiOKWgCDilojilohcblx0XHQqL1xuXG5cdFx0c2V0dXAgOiBmdW5jdGlvbiggdGFibGUsIGMgKSB7XG5cdFx0XHQvLyBpZiBubyB0aGVhZCBvciB0Ym9keSwgb3IgdGFibGVzb3J0ZXIgaXMgYWxyZWFkeSBwcmVzZW50LCBxdWl0XG5cdFx0XHRpZiAoICF0YWJsZSB8fCAhdGFibGUudEhlYWQgfHwgdGFibGUudEJvZGllcy5sZW5ndGggPT09IDAgfHwgdGFibGUuaGFzSW5pdGlhbGl6ZWQgPT09IHRydWUgKSB7XG5cdFx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSApIHtcblx0XHRcdFx0XHRpZiAoIHRhYmxlLmhhc0luaXRpYWxpemVkICkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnU3RvcHBpbmcgaW5pdGlhbGl6YXRpb24uIFRhYmxlc29ydGVyIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQnICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoICdTdG9wcGluZyBpbml0aWFsaXphdGlvbiEgTm8gdGFibGUsIHRoZWFkIG9yIHRib2R5JywgdGFibGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdG1wID0gJycsXG5cdFx0XHRcdCR0YWJsZSA9ICQoIHRhYmxlICksXG5cdFx0XHRcdG1ldGEgPSAkLm1ldGFkYXRhO1xuXHRcdFx0Ly8gaW5pdGlhbGl6YXRpb24gZmxhZ1xuXHRcdFx0dGFibGUuaGFzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblx0XHRcdC8vIHRhYmxlIGlzIGJlaW5nIHByb2Nlc3NlZCBmbGFnXG5cdFx0XHR0YWJsZS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIHRvIHN0b3JlIHRoZSBjb25maWcgb2JqZWN0XG5cdFx0XHR0YWJsZS5jb25maWcgPSBjO1xuXHRcdFx0Ly8gc2F2ZSB0aGUgc2V0dGluZ3Mgd2hlcmUgdGhleSByZWFkXG5cdFx0XHQkLmRhdGEoIHRhYmxlLCAndGFibGVzb3J0ZXInLCBjICk7XG5cdFx0XHRpZiAoIHRzLmRlYnVnKGMsICdjb3JlJykgKSB7XG5cdFx0XHRcdGNvbnNvbGVbIGNvbnNvbGUuZ3JvdXAgPyAnZ3JvdXAnIDogJ2xvZycgXSggJ0luaXRpYWxpemluZyB0YWJsZXNvcnRlciB2JyArIHRzLnZlcnNpb24gKTtcblx0XHRcdFx0JC5kYXRhKCB0YWJsZSwgJ3N0YXJ0b3ZlcmFsbHRpbWVyJywgbmV3IERhdGUoKSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmluZyB0aGlzIGluIHZlcnNpb24gMyAob25seSBzdXBwb3J0cyBqUXVlcnkgMS43Kylcblx0XHRcdGMuc3VwcG9ydHNEYXRhT2JqZWN0ID0gKCBmdW5jdGlvbiggdmVyc2lvbiApIHtcblx0XHRcdFx0dmVyc2lvblsgMCBdID0gcGFyc2VJbnQoIHZlcnNpb25bIDAgXSwgMTAgKTtcblx0XHRcdFx0cmV0dXJuICggdmVyc2lvblsgMCBdID4gMSApIHx8ICggdmVyc2lvblsgMCBdID09PSAxICYmIHBhcnNlSW50KCB2ZXJzaW9uWyAxIF0sIDEwICkgPj0gNCApO1xuXHRcdFx0fSkoICQuZm4uanF1ZXJ5LnNwbGl0KCAnLicgKSApO1xuXHRcdFx0Ly8gZW5zdXJlIGNhc2UgaW5zZW5zaXRpdml0eVxuXHRcdFx0Yy5lbXB0eVRvID0gYy5lbXB0eVRvLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRjLnN0cmluZ1RvID0gYy5zdHJpbmdUby50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0Yy5sYXN0ID0geyBzb3J0TGlzdCA6IFtdLCBjbGlja2VkSW5kZXggOiAtMSB9O1xuXHRcdFx0Ly8gYWRkIHRhYmxlIHRoZW1lIGNsYXNzIG9ubHkgaWYgdGhlcmUgaXNuJ3QgYWxyZWFkeSBvbmUgdGhlcmVcblx0XHRcdGlmICggIS90YWJsZXNvcnRlclxcLS8udGVzdCggJHRhYmxlLmF0dHIoICdjbGFzcycgKSApICkge1xuXHRcdFx0XHR0bXAgPSAoIGMudGhlbWUgIT09ICcnID8gJyB0YWJsZXNvcnRlci0nICsgYy50aGVtZSA6ICcnICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGdpdmUgdGhlIHRhYmxlIGEgdW5pcXVlIGlkLCB3aGljaCB3aWxsIGJlIHVzZWQgaW4gbmFtZXNwYWNlIGJpbmRpbmdcblx0XHRcdGlmICggIWMubmFtZXNwYWNlICkge1xuXHRcdFx0XHRjLm5hbWVzcGFjZSA9ICcudGFibGVzb3J0ZXInICsgTWF0aC5yYW5kb20oKS50b1N0cmluZyggMTYgKS5zbGljZSggMiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gbWFrZSBzdXJlIG5hbWVzcGFjZSBzdGFydHMgd2l0aCBhIHBlcmlvZCAmIGRvZXNuJ3QgaGF2ZSB3ZWlyZCBjaGFyYWN0ZXJzXG5cdFx0XHRcdGMubmFtZXNwYWNlID0gJy4nICsgYy5uYW1lc3BhY2UucmVwbGFjZSggdHMucmVnZXgubm9uV29yZCwgJycgKTtcblx0XHRcdH1cblxuXHRcdFx0Yy50YWJsZSA9IHRhYmxlO1xuXHRcdFx0Yy4kdGFibGUgPSAkdGFibGVcblx0XHRcdFx0Ly8gYWRkIG5hbWVzcGFjZSB0byB0YWJsZSB0byBhbGxvdyBiaW5kaW5ncyBvbiBleHRyYSBlbGVtZW50cyB0byB0YXJnZXRcblx0XHRcdFx0Ly8gdGhlIHBhcmVudCB0YWJsZSAoZS5nLiBwYXJzZXItaW5wdXQtc2VsZWN0KVxuXHRcdFx0XHQuYWRkQ2xhc3MoIHRzLmNzcy50YWJsZSArICcgJyArIGMudGFibGVDbGFzcyArIHRtcCArICcgJyArIGMubmFtZXNwYWNlLnNsaWNlKDEpIClcblx0XHRcdFx0LmF0dHIoICdyb2xlJywgJ2dyaWQnICk7XG5cdFx0XHRjLiRoZWFkZXJzID0gJHRhYmxlLmZpbmQoIGMuc2VsZWN0b3JIZWFkZXJzICk7XG5cblx0XHRcdGMuJHRhYmxlLmNoaWxkcmVuKCkuY2hpbGRyZW4oICd0cicgKS5hdHRyKCAncm9sZScsICdyb3cnICk7XG5cdFx0XHRjLiR0Ym9kaWVzID0gJHRhYmxlLmNoaWxkcmVuKCAndGJvZHk6bm90KC4nICsgYy5jc3NJbmZvQmxvY2sgKyAnKScgKS5hdHRyKHtcblx0XHRcdFx0J2FyaWEtbGl2ZScgOiAncG9saXRlJyxcblx0XHRcdFx0J2FyaWEtcmVsZXZhbnQnIDogJ2FsbCdcblx0XHRcdH0pO1xuXHRcdFx0aWYgKCBjLiR0YWJsZS5jaGlsZHJlbiggJ2NhcHRpb24nICkubGVuZ3RoICkge1xuXHRcdFx0XHR0bXAgPSBjLiR0YWJsZS5jaGlsZHJlbiggJ2NhcHRpb24nIClbIDAgXTtcblx0XHRcdFx0aWYgKCAhdG1wLmlkICkgeyB0bXAuaWQgPSBjLm5hbWVzcGFjZS5zbGljZSggMSApICsgJ2NhcHRpb24nOyB9XG5cdFx0XHRcdGMuJHRhYmxlLmF0dHIoICdhcmlhLWxhYmVsbGVkYnknLCB0bXAuaWQgKTtcblx0XHRcdH1cblx0XHRcdGMud2lkZ2V0SW5pdCA9IHt9OyAvLyBrZWVwIGEgbGlzdCBvZiBpbml0aWFsaXplZCB3aWRnZXRzXG5cdFx0XHQvLyBjaGFuZ2UgdGV4dEV4dHJhY3Rpb24gdmlhIGRhdGEtYXR0cmlidXRlXG5cdFx0XHRjLnRleHRFeHRyYWN0aW9uID0gYy4kdGFibGUuYXR0ciggJ2RhdGEtdGV4dC1leHRyYWN0aW9uJyApIHx8IGMudGV4dEV4dHJhY3Rpb24gfHwgJ2Jhc2ljJztcblx0XHRcdC8vIGJ1aWxkIGhlYWRlcnNcblx0XHRcdHRzLmJ1aWxkSGVhZGVycyggYyApO1xuXHRcdFx0Ly8gZml4YXRlIGNvbHVtbnMgaWYgdGhlIHVzZXJzIHN1cHBsaWVzIHRoZSBmaXhlZFdpZHRoIG9wdGlvblxuXHRcdFx0Ly8gZG8gdGhpcyBhZnRlciB0aGVtZSBoYXMgYmVlbiBhcHBsaWVkXG5cdFx0XHR0cy5maXhDb2x1bW5XaWR0aCggdGFibGUgKTtcblx0XHRcdC8vIGFkZCB3aWRnZXRzIGZyb20gY2xhc3MgbmFtZVxuXHRcdFx0dHMuYWRkV2lkZ2V0RnJvbUNsYXNzKCB0YWJsZSApO1xuXHRcdFx0Ly8gYWRkIHdpZGdldCBvcHRpb25zIGJlZm9yZSBwYXJzaW5nIChlLmcuIGdyb3VwaW5nIHdpZGdldCBoYXMgcGFyc2VyIHNldHRpbmdzKVxuXHRcdFx0dHMuYXBwbHlXaWRnZXRPcHRpb25zKCB0YWJsZSApO1xuXHRcdFx0Ly8gdHJ5IHRvIGF1dG8gZGV0ZWN0IGNvbHVtbiB0eXBlLCBhbmQgc3RvcmUgaW4gdGFibGVzIGNvbmZpZ1xuXHRcdFx0dHMuc2V0dXBQYXJzZXJzKCBjICk7XG5cdFx0XHQvLyBzdGFydCB0b3RhbCByb3cgY291bnQgYXQgemVyb1xuXHRcdFx0Yy50b3RhbFJvd3MgPSAwO1xuXHRcdFx0Ly8gb25seSB2YWxpZGF0ZSBvcHRpb25zIHdoaWxlIGRlYnVnZ2luZy4gU2VlICMxNTI4XG5cdFx0XHRpZiAoYy5kZWJ1Zykge1xuXHRcdFx0XHR0cy52YWxpZGF0ZU9wdGlvbnMoIGMgKTtcblx0XHRcdH1cblx0XHRcdC8vIGJ1aWxkIHRoZSBjYWNoZSBmb3IgdGhlIHRib2R5IGNlbGxzXG5cdFx0XHQvLyBkZWxheUluaXQgd2lsbCBkZWxheSBidWlsZGluZyB0aGUgY2FjaGUgdW50aWwgdGhlIHVzZXIgc3RhcnRzIGEgc29ydFxuXHRcdFx0aWYgKCAhYy5kZWxheUluaXQgKSB7IHRzLmJ1aWxkQ2FjaGUoIGMgKTsgfVxuXHRcdFx0Ly8gYmluZCBhbGwgaGVhZGVyIGV2ZW50cyBhbmQgbWV0aG9kc1xuXHRcdFx0dHMuYmluZEV2ZW50cyggdGFibGUsIGMuJGhlYWRlcnMsIHRydWUgKTtcblx0XHRcdHRzLmJpbmRNZXRob2RzKCBjICk7XG5cdFx0XHQvLyBnZXQgc29ydCBsaXN0IGZyb20galF1ZXJ5IGRhdGEgb3IgbWV0YWRhdGFcblx0XHRcdC8vIGluIGpRdWVyeSA8IDEuNCwgYW4gZXJyb3Igb2NjdXJzIHdoZW4gY2FsbGluZyAkdGFibGUuZGF0YSgpXG5cdFx0XHRpZiAoIGMuc3VwcG9ydHNEYXRhT2JqZWN0ICYmIHR5cGVvZiAkdGFibGUuZGF0YSgpLnNvcnRsaXN0ICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0Yy5zb3J0TGlzdCA9ICR0YWJsZS5kYXRhKCkuc29ydGxpc3Q7XG5cdFx0XHR9IGVsc2UgaWYgKCBtZXRhICYmICggJHRhYmxlLm1ldGFkYXRhKCkgJiYgJHRhYmxlLm1ldGFkYXRhKCkuc29ydGxpc3QgKSApIHtcblx0XHRcdFx0Yy5zb3J0TGlzdCA9ICR0YWJsZS5tZXRhZGF0YSgpLnNvcnRsaXN0O1xuXHRcdFx0fVxuXHRcdFx0Ly8gYXBwbHkgd2lkZ2V0IGluaXQgY29kZVxuXHRcdFx0dHMuYXBwbHlXaWRnZXQoIHRhYmxlLCB0cnVlICk7XG5cdFx0XHQvLyBpZiB1c2VyIGhhcyBzdXBwbGllZCBhIHNvcnQgbGlzdCB0byBjb25zdHJ1Y3RvclxuXHRcdFx0aWYgKCBjLnNvcnRMaXN0Lmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdHRzLnNvcnRPbiggYywgYy5zb3J0TGlzdCwge30sICFjLmluaXRXaWRnZXRzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0cy5zZXRIZWFkZXJzQ3NzKCBjICk7XG5cdFx0XHRcdGlmICggYy5pbml0V2lkZ2V0cyApIHtcblx0XHRcdFx0XHQvLyBhcHBseSB3aWRnZXQgZm9ybWF0XG5cdFx0XHRcdFx0dHMuYXBwbHlXaWRnZXQoIHRhYmxlLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNob3cgcHJvY2Vzc2VzaW5nIGljb25cblx0XHRcdGlmICggYy5zaG93UHJvY2Vzc2luZyApIHtcblx0XHRcdFx0JHRhYmxlXG5cdFx0XHRcdC51bmJpbmQoICdzb3J0QmVnaW4nICsgYy5uYW1lc3BhY2UgKyAnIHNvcnRFbmQnICsgYy5uYW1lc3BhY2UgKVxuXHRcdFx0XHQuYmluZCggJ3NvcnRCZWdpbicgKyBjLm5hbWVzcGFjZSArICcgc29ydEVuZCcgKyBjLm5hbWVzcGFjZSwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBjLnRpbWVyUHJvY2Vzc2luZyApO1xuXHRcdFx0XHRcdHRzLmlzUHJvY2Vzc2luZyggdGFibGUgKTtcblx0XHRcdFx0XHRpZiAoIGUudHlwZSA9PT0gJ3NvcnRCZWdpbicgKSB7XG5cdFx0XHRcdFx0XHRjLnRpbWVyUHJvY2Vzc2luZyA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR0cy5pc1Byb2Nlc3NpbmcoIHRhYmxlLCB0cnVlICk7XG5cdFx0XHRcdFx0XHR9LCA1MDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpbml0aWFsaXplZFxuXHRcdFx0dGFibGUuaGFzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdFx0dGFibGUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdFx0XHRpZiAoIHRzLmRlYnVnKGMsICdjb3JlJykgKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCAnT3ZlcmFsbCBpbml0aWFsaXphdGlvbiB0aW1lOicgKyB0cy5iZW5jaG1hcmsoICQuZGF0YSggdGFibGUsICdzdGFydG92ZXJhbGx0aW1lcicgKSApICk7XG5cdFx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSAmJiBjb25zb2xlLmdyb3VwRW5kICkgeyBjb25zb2xlLmdyb3VwRW5kKCk7IH1cblx0XHRcdH1cblx0XHRcdCR0YWJsZS50cmlnZ2VySGFuZGxlciggJ3RhYmxlc29ydGVyLWluaXRpYWxpemVkJywgdGFibGUgKTtcblx0XHRcdGlmICggdHlwZW9mIGMuaW5pdGlhbGl6ZWQgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdGMuaW5pdGlhbGl6ZWQoIHRhYmxlICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJpbmRNZXRob2RzIDogZnVuY3Rpb24oIGMgKSB7XG5cdFx0XHR2YXIgJHRhYmxlID0gYy4kdGFibGUsXG5cdFx0XHRcdG5hbWVzcGFjZSA9IGMubmFtZXNwYWNlLFxuXHRcdFx0XHRldmVudHMgPSAoICdzb3J0UmVzZXQgdXBkYXRlIHVwZGF0ZVJvd3MgdXBkYXRlQWxsIHVwZGF0ZUhlYWRlcnMgYWRkUm93cyB1cGRhdGVDZWxsIHVwZGF0ZUNvbXBsZXRlICcgK1xuXHRcdFx0XHRcdCdzb3J0b24gYXBwZW5kQ2FjaGUgdXBkYXRlQ2FjaGUgYXBwbHlXaWRnZXRJZCBhcHBseVdpZGdldHMgcmVmcmVzaFdpZGdldHMgZGVzdHJveSBtb3VzZXVwICcgK1xuXHRcdFx0XHRcdCdtb3VzZWxlYXZlICcgKS5zcGxpdCggJyAnIClcblx0XHRcdFx0XHQuam9pbiggbmFtZXNwYWNlICsgJyAnICk7XG5cdFx0XHQvLyBhcHBseSBlYXN5IG1ldGhvZHMgdGhhdCB0cmlnZ2VyIGJvdW5kIGV2ZW50c1xuXHRcdFx0JHRhYmxlXG5cdFx0XHQudW5iaW5kKCBldmVudHMucmVwbGFjZSggdHMucmVnZXguc3BhY2VzLCAnICcgKSApXG5cdFx0XHQuYmluZCggJ3NvcnRSZXNldCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCBlLCBjYWxsYmFjayApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0Ly8gdXNpbmcgdGhpcy5jb25maWcgdG8gZW5zdXJlIGZ1bmN0aW9ucyBhcmUgZ2V0dGluZyBhIG5vbi1jYWNoZWQgdmVyc2lvbiBvZiB0aGUgY29uZmlnXG5cdFx0XHRcdHRzLnNvcnRSZXNldCggdGhpcy5jb25maWcsIGZ1bmN0aW9uKCB0YWJsZSApIHtcblx0XHRcdFx0XHRpZiAodGFibGUuaXNBcHBseWluZ1dpZGdldHMpIHtcblx0XHRcdFx0XHRcdC8vIG11bHRpcGxlIHRyaWdnZXJzIGluIGEgcm93Li4uIGZpbHRlclJlc2V0LCB0aGVuIHNvcnRSZXNldCAtIHNlZSAjMTM2MVxuXHRcdFx0XHRcdFx0Ly8gd2FpdCB0byB1cGRhdGUgd2lkZ2V0c1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHRzLmFwcGx5V2lkZ2V0KCB0YWJsZSwgJycsIGNhbGxiYWNrICk7XG5cdFx0XHRcdFx0XHR9LCAxMDAgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHMuYXBwbHlXaWRnZXQoIHRhYmxlLCAnJywgY2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCAndXBkYXRlQWxsJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGUsIHJlc29ydCwgY2FsbGJhY2sgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRzLnVwZGF0ZUFsbCggdGhpcy5jb25maWcsIHJlc29ydCwgY2FsbGJhY2sgKTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZCggJ3VwZGF0ZScgKyBuYW1lc3BhY2UgKyAnIHVwZGF0ZVJvd3MnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiggZSwgcmVzb3J0LCBjYWxsYmFjayApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dHMudXBkYXRlKCB0aGlzLmNvbmZpZywgcmVzb3J0LCBjYWxsYmFjayApO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCAndXBkYXRlSGVhZGVycycgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCBlLCBjYWxsYmFjayApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dHMudXBkYXRlSGVhZGVycyggdGhpcy5jb25maWcsIGNhbGxiYWNrICk7XG5cdFx0XHR9KVxuXHRcdFx0LmJpbmQoICd1cGRhdGVDZWxsJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGUsIGNlbGwsIHJlc29ydCwgY2FsbGJhY2sgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRzLnVwZGF0ZUNlbGwoIHRoaXMuY29uZmlnLCBjZWxsLCByZXNvcnQsIGNhbGxiYWNrICk7XG5cdFx0XHR9KVxuXHRcdFx0LmJpbmQoICdhZGRSb3dzJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGUsICRyb3csIHJlc29ydCwgY2FsbGJhY2sgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRzLmFkZFJvd3MoIHRoaXMuY29uZmlnLCAkcm93LCByZXNvcnQsIGNhbGxiYWNrICk7XG5cdFx0XHR9KVxuXHRcdFx0LmJpbmQoICd1cGRhdGVDb21wbGV0ZScgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZCggJ3NvcnRvbicgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCBlLCBsaXN0LCBjYWxsYmFjaywgaW5pdCApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dHMuc29ydE9uKCB0aGlzLmNvbmZpZywgbGlzdCwgY2FsbGJhY2ssIGluaXQgKTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZCggJ2FwcGVuZENhY2hlJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGUsIGNhbGxiYWNrLCBpbml0ICkge1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR0cy5hcHBlbmRDYWNoZSggdGhpcy5jb25maWcsIGluaXQgKTtcblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIGNhbGxiYWNrICkgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC8vICR0Ym9kaWVzIHZhcmlhYmxlIGlzIHVzZWQgYnkgdGhlIHRib2R5IHNvcnRpbmcgd2lkZ2V0XG5cdFx0XHQuYmluZCggJ3VwZGF0ZUNhY2hlJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGUsIGNhbGxiYWNrLCAkdGJvZGllcyApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dHMudXBkYXRlQ2FjaGUoIHRoaXMuY29uZmlnLCBjYWxsYmFjaywgJHRib2RpZXMgKTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZCggJ2FwcGx5V2lkZ2V0SWQnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiggZSwgaWQgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRzLmFwcGx5V2lkZ2V0SWQoIHRoaXMsIGlkICk7XG5cdFx0XHR9KVxuXHRcdFx0LmJpbmQoICdhcHBseVdpZGdldHMnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiggZSwgY2FsbGJhY2sgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdC8vIGFwcGx5IHdpZGdldHMgKGZhbHNlID0gbm90IGluaXRpYWxpemluZylcblx0XHRcdFx0dHMuYXBwbHlXaWRnZXQoIHRoaXMsIGZhbHNlLCBjYWxsYmFjayApO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCAncmVmcmVzaFdpZGdldHMnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiggZSwgYWxsLCBkb250YXBwbHkgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRzLnJlZnJlc2hXaWRnZXRzKCB0aGlzLCBhbGwsIGRvbnRhcHBseSApO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCAncmVtb3ZlV2lkZ2V0JyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGUsIG5hbWUsIHJlZnJlc2hpbmcgKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRzLnJlbW92ZVdpZGdldCggdGhpcywgbmFtZSwgcmVmcmVzaGluZyApO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCAnZGVzdHJveScgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCBlLCByZW1vdmVDbGFzc2VzLCBjYWxsYmFjayApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dHMuZGVzdHJveSggdGhpcywgcmVtb3ZlQ2xhc3NlcywgY2FsbGJhY2sgKTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZCggJ3Jlc2V0VG9Mb2FkU3RhdGUnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0Ly8gcmVtb3ZlIGFsbCB3aWRnZXRzXG5cdFx0XHRcdHRzLnJlbW92ZVdpZGdldCggdGhpcywgdHJ1ZSwgZmFsc2UgKTtcblx0XHRcdFx0dmFyIHRtcCA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgYy5vcmlnaW5hbFNldHRpbmdzICk7XG5cdFx0XHRcdC8vIHJlc3RvcmUgb3JpZ2luYWwgc2V0dGluZ3M7IHRoaXMgY2xlYXJzIG91dCBjdXJyZW50IHNldHRpbmdzLCBidXQgZG9lcyBub3QgY2xlYXJcblx0XHRcdFx0Ly8gdmFsdWVzIHNhdmVkIHRvIHN0b3JhZ2UuXG5cdFx0XHRcdGMgPSAkLmV4dGVuZCggdHJ1ZSwge30sIHRzLmRlZmF1bHRzLCB0bXAgKTtcblx0XHRcdFx0Yy5vcmlnaW5hbFNldHRpbmdzID0gdG1wO1xuXHRcdFx0XHR0aGlzLmhhc0luaXRpYWxpemVkID0gZmFsc2U7XG5cdFx0XHRcdC8vIHNldHVwIHRoZSBlbnRpcmUgdGFibGUgYWdhaW5cblx0XHRcdFx0dHMuc2V0dXAoIHRoaXMsIGMgKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRiaW5kRXZlbnRzIDogZnVuY3Rpb24oIHRhYmxlLCAkaGVhZGVycywgY29yZSApIHtcblx0XHRcdHRhYmxlID0gJCggdGFibGUgKVsgMCBdO1xuXHRcdFx0dmFyIHRtcCxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0bmFtZXNwYWNlID0gYy5uYW1lc3BhY2UsXG5cdFx0XHRcdGRvd25UYXJnZXQgPSBudWxsO1xuXHRcdFx0aWYgKCBjb3JlICE9PSB0cnVlICkge1xuXHRcdFx0XHQkaGVhZGVycy5hZGRDbGFzcyggbmFtZXNwYWNlLnNsaWNlKCAxICkgKyAnX2V4dHJhX2hlYWRlcnMnICk7XG5cdFx0XHRcdHRtcCA9IHRzLmdldENsb3Nlc3QoICRoZWFkZXJzLCAndGFibGUnICk7XG5cdFx0XHRcdGlmICggdG1wLmxlbmd0aCAmJiB0bXBbIDAgXS5ub2RlTmFtZSA9PT0gJ1RBQkxFJyAmJiB0bXBbIDAgXSAhPT0gdGFibGUgKSB7XG5cdFx0XHRcdFx0JCggdG1wWyAwIF0gKS5hZGRDbGFzcyggbmFtZXNwYWNlLnNsaWNlKCAxICkgKyAnX2V4dHJhX3RhYmxlJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0bXAgPSAoIGMucG9pbnRlckRvd24gKyAnICcgKyBjLnBvaW50ZXJVcCArICcgJyArIGMucG9pbnRlckNsaWNrICsgJyBzb3J0IGtleXVwICcgKVxuXHRcdFx0XHQucmVwbGFjZSggdHMucmVnZXguc3BhY2VzLCAnICcgKVxuXHRcdFx0XHQuc3BsaXQoICcgJyApXG5cdFx0XHRcdC5qb2luKCBuYW1lc3BhY2UgKyAnICcgKTtcblx0XHRcdC8vIGFwcGx5IGV2ZW50IGhhbmRsaW5nIHRvIGhlYWRlcnMgYW5kL29yIGFkZGl0aW9uYWwgaGVhZGVycyAoc3RpY2t5aGVhZGVycywgc2Nyb2xsZXIsIGV0Yylcblx0XHRcdCRoZWFkZXJzXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUzMTI4NDkvanF1ZXJ5LWZpbmQtc2VsZjtcblx0XHRcdC5maW5kKCBjLnNlbGVjdG9yU29ydCApXG5cdFx0XHQuYWRkKCAkaGVhZGVycy5maWx0ZXIoIGMuc2VsZWN0b3JTb3J0ICkgKVxuXHRcdFx0LnVuYmluZCggdG1wIClcblx0XHRcdC5iaW5kKCB0bXAsIGZ1bmN0aW9uKCBlLCBleHRlcm5hbCApIHtcblx0XHRcdFx0dmFyICRjZWxsLCBjZWxsLCB0ZW1wLFxuXHRcdFx0XHRcdCR0YXJnZXQgPSAkKCBlLnRhcmdldCApLFxuXHRcdFx0XHRcdC8vIHdyYXAgZXZlbnQgdHlwZSBpbiBzcGFjZXMsIHNvIHRoZSBtYXRjaCBkb2Vzbid0IHRyaWdnZXIgb24gaW5uZXIgd29yZHNcblx0XHRcdFx0XHR0eXBlID0gJyAnICsgZS50eXBlICsgJyAnO1xuXHRcdFx0XHQvLyBvbmx5IHJlY29nbml6ZSBsZWZ0IGNsaWNrc1xuXHRcdFx0XHRpZiAoICggKCBlLndoaWNoIHx8IGUuYnV0dG9uICkgIT09IDEgJiYgIXR5cGUubWF0Y2goICcgJyArIGMucG9pbnRlckNsaWNrICsgJyB8IHNvcnQgfCBrZXl1cCAnICkgKSB8fFxuXHRcdFx0XHRcdC8vIGFsbG93IHByZXNzaW5nIGVudGVyXG5cdFx0XHRcdFx0KCB0eXBlID09PSAnIGtleXVwICcgJiYgZS53aGljaCAhPT0gdHMua2V5Q29kZXMuZW50ZXIgKSB8fFxuXHRcdFx0XHRcdC8vIGFsbG93IHRyaWdnZXJpbmcgYSBjbGljayBldmVudCAoZS53aGljaCBpcyB1bmRlZmluZWQpICYgaWdub3JlIHBoeXNpY2FsIGNsaWNrc1xuXHRcdFx0XHRcdCggdHlwZS5tYXRjaCggJyAnICsgYy5wb2ludGVyQ2xpY2sgKyAnICcgKSAmJiB0eXBlb2YgZS53aGljaCAhPT0gJ3VuZGVmaW5lZCcgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gaWdub3JlIG1vdXNldXAgaWYgbW91c2Vkb3duIHdhc24ndCBvbiB0aGUgc2FtZSB0YXJnZXRcblx0XHRcdFx0aWYgKCB0eXBlLm1hdGNoKCAnICcgKyBjLnBvaW50ZXJVcCArICcgJyApICYmIGRvd25UYXJnZXQgIT09IGUudGFyZ2V0ICYmIGV4dGVybmFsICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBzZXQgdGFyZ2V0IG9uIG1vdXNlZG93blxuXHRcdFx0XHRpZiAoIHR5cGUubWF0Y2goICcgJyArIGMucG9pbnRlckRvd24gKyAnICcgKSApIHtcblx0XHRcdFx0XHRkb3duVGFyZ2V0ID0gZS50YXJnZXQ7XG5cdFx0XHRcdFx0Ly8gcHJldmVudERlZmF1bHQgbmVlZGVkIG9yIGpRdWVyeSB2MS4zLjIgYW5kIG9sZGVyIHRocm93cyBhblxuXHRcdFx0XHRcdC8vIFwiVW5jYXVnaHQgVHlwZUVycm9yOiBoYW5kbGVyLmFwcGx5IGlzIG5vdCBhIGZ1bmN0aW9uXCIgZXJyb3Jcblx0XHRcdFx0XHR0ZW1wID0gJHRhcmdldC5qcXVlcnkuc3BsaXQoICcuJyApO1xuXHRcdFx0XHRcdGlmICggdGVtcFsgMCBdID09PSAnMScgJiYgdGVtcFsgMSBdIDwgNCApIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRvd25UYXJnZXQgPSBudWxsO1xuXHRcdFx0XHQkY2VsbCA9IHRzLmdldENsb3Nlc3QoICQoIHRoaXMgKSwgJy4nICsgdHMuY3NzLmhlYWRlciApO1xuXHRcdFx0XHQvLyBwcmV2ZW50IHNvcnQgYmVpbmcgdHJpZ2dlcmVkIG9uIGZvcm0gZWxlbWVudHNcblx0XHRcdFx0aWYgKCB0cy5yZWdleC5mb3JtRWxlbWVudHMudGVzdCggZS50YXJnZXQubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdC8vIG5vc29ydCBjbGFzcyBuYW1lLCBvciBlbGVtZW50cyB3aXRoaW4gYSBub3NvcnQgY29udGFpbmVyXG5cdFx0XHRcdFx0JHRhcmdldC5oYXNDbGFzcyggYy5jc3NOb1NvcnQgKSB8fCAkdGFyZ2V0LnBhcmVudHMoICcuJyArIGMuY3NzTm9Tb3J0ICkubGVuZ3RoID4gMCB8fFxuXHRcdFx0XHRcdC8vIGRpc2FibGVkIGNlbGwgZGlyZWN0bHkgY2xpY2tlZFxuXHRcdFx0XHRcdCRjZWxsLmhhc0NsYXNzKCAnc29ydGVyLWZhbHNlJyApIHx8XG5cdFx0XHRcdFx0Ly8gZWxlbWVudHMgd2l0aGluIGEgYnV0dG9uXG5cdFx0XHRcdFx0JHRhcmdldC5wYXJlbnRzKCAnYnV0dG9uJyApLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICFjLmNhbmNlbFNlbGVjdGlvbjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGMuZGVsYXlJbml0ICYmIHRzLmlzRW1wdHlPYmplY3QoIGMuY2FjaGUgKSApIHtcblx0XHRcdFx0XHR0cy5idWlsZENhY2hlKCBjICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gdXNlIGNvbHVtbiBpbmRleCBmcm9tIGRhdGEtYXR0cmlidXRlIG9yIGluZGV4IG9mIGN1cnJlbnQgcm93OyBmaXhlcyAjMTExNlxuXHRcdFx0XHRjLmxhc3QuY2xpY2tlZEluZGV4ID0gJGNlbGwuYXR0ciggJ2RhdGEtY29sdW1uJyApIHx8ICRjZWxsLmluZGV4KCk7XG5cdFx0XHRcdGNlbGwgPSBjLiRoZWFkZXJJbmRleGVkWyBjLmxhc3QuY2xpY2tlZEluZGV4IF1bMF07XG5cdFx0XHRcdGlmICggY2VsbCAmJiAhY2VsbC5zb3J0RGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0dHMuaW5pdFNvcnQoIGMsIGNlbGwsIGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoIGMuY2FuY2VsU2VsZWN0aW9uICkge1xuXHRcdFx0XHQvLyBjYW5jZWwgc2VsZWN0aW9uXG5cdFx0XHRcdCRoZWFkZXJzXG5cdFx0XHRcdFx0LmF0dHIoICd1bnNlbGVjdGFibGUnLCAnb24nIClcblx0XHRcdFx0XHQuYmluZCggJ3NlbGVjdHN0YXJ0JywgZmFsc2UgKVxuXHRcdFx0XHRcdC5jc3Moe1xuXHRcdFx0XHRcdFx0J3VzZXItc2VsZWN0JyA6ICdub25lJyxcblx0XHRcdFx0XHRcdCdNb3pVc2VyU2VsZWN0JyA6ICdub25lJyAvLyBub3QgbmVlZGVkIGZvciBqUXVlcnkgMS44K1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRidWlsZEhlYWRlcnMgOiBmdW5jdGlvbiggYyApIHtcblx0XHRcdHZhciAkdGVtcCwgaWNvbiwgdGltZXIsIGluZHg7XG5cdFx0XHRjLmhlYWRlckxpc3QgPSBbXTtcblx0XHRcdGMuaGVhZGVyQ29udGVudCA9IFtdO1xuXHRcdFx0Yy5zb3J0VmFycyA9IFtdO1xuXHRcdFx0aWYgKCB0cy5kZWJ1ZyhjLCAnY29yZScpICkge1xuXHRcdFx0XHR0aW1lciA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBjaGlsZHJlbiB0ciBpbiB0Zm9vdCAtIHNlZSBpc3N1ZSAjMTk2ICYgIzU0N1xuXHRcdFx0Ly8gZG9uJ3QgcGFzcyB0YWJsZS5jb25maWcgdG8gY29tcHV0ZUNvbHVtbkluZGV4IGhlcmUgLSB3aWRnZXRzIChtYXRoKSBwYXNzIGl0IHRvIFwicXVpY2tseVwiIGluZGV4IHRib2R5IGNlbGxzXG5cdFx0XHRjLmNvbHVtbnMgPSB0cy5jb21wdXRlQ29sdW1uSW5kZXgoIGMuJHRhYmxlLmNoaWxkcmVuKCAndGhlYWQsIHRmb290JyApLmNoaWxkcmVuKCAndHInICkgKTtcblx0XHRcdC8vIGFkZCBpY29uIGlmIGNzc0ljb24gb3B0aW9uIGV4aXN0c1xuXHRcdFx0aWNvbiA9IGMuY3NzSWNvbiA/XG5cdFx0XHRcdCc8aSBjbGFzcz1cIicgKyAoIGMuY3NzSWNvbiA9PT0gdHMuY3NzLmljb24gPyB0cy5jc3MuaWNvbiA6IGMuY3NzSWNvbiArICcgJyArIHRzLmNzcy5pY29uICkgKyAnXCI+PC9pPicgOlxuXHRcdFx0XHQnJztcblx0XHRcdC8vIHJlZGVmaW5lIGMuJGhlYWRlcnMgaGVyZSBpbiBjYXNlIG9mIGFuIHVwZGF0ZUFsbCB0aGF0IHJlcGxhY2VzIG9yIGFkZHMgYW4gZW50aXJlIGhlYWRlciBjZWxsIC0gc2VlICM2ODNcblx0XHRcdGMuJGhlYWRlcnMgPSAkKCAkLm1hcCggYy4kdGFibGUuZmluZCggYy5zZWxlY3RvckhlYWRlcnMgKSwgZnVuY3Rpb24oIGVsZW0sIGluZGV4ICkge1xuXHRcdFx0XHR2YXIgY29uZmlnSGVhZGVycywgaGVhZGVyLCBjb2x1bW4sIHRlbXBsYXRlLCB0bXAsXG5cdFx0XHRcdFx0JGVsZW0gPSAkKCBlbGVtICk7XG5cdFx0XHRcdC8vIGlnbm9yZSBjZWxsIChkb24ndCBhZGQgaXQgdG8gYy4kaGVhZGVycykgaWYgcm93IGhhcyBpZ25vcmVSb3cgY2xhc3Ncblx0XHRcdFx0aWYgKCB0cy5nZXRDbG9zZXN0KCAkZWxlbSwgJ3RyJyApLmhhc0NsYXNzKCBjLmNzc0lnbm9yZVJvdyApICkgeyByZXR1cm47IH1cblx0XHRcdFx0Ly8gdHJhbnNmZXIgZGF0YS1jb2x1bW4gdG8gZWxlbWVudCBpZiBub3QgdGgvdGQgLSAjMTQ1OVxuXHRcdFx0XHRpZiAoICEvKHRofHRkKS9pLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSApIHtcblx0XHRcdFx0XHR0bXAgPSB0cy5nZXRDbG9zZXN0KCAkZWxlbSwgJ3RoLCB0ZCcgKTtcblx0XHRcdFx0XHQkZWxlbS5hdHRyKCAnZGF0YS1jb2x1bW4nLCB0bXAuYXR0ciggJ2RhdGEtY29sdW1uJyApICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRvIGdldCBoZWFkZXIgY2VsbCAmIG5vdCBjb2x1bW4gaW5kZXhlZCBjZWxsXG5cdFx0XHRcdGNvbmZpZ0hlYWRlcnMgPSB0cy5nZXRDb2x1bW5EYXRhKCBjLnRhYmxlLCBjLmhlYWRlcnMsIGluZGV4LCB0cnVlICk7XG5cdFx0XHRcdC8vIHNhdmUgb3JpZ2luYWwgaGVhZGVyIGNvbnRlbnRcblx0XHRcdFx0Yy5oZWFkZXJDb250ZW50WyBpbmRleCBdID0gJGVsZW0uaHRtbCgpO1xuXHRcdFx0XHQvLyBpZiBoZWFkZXJUZW1wbGF0ZSBpcyBlbXB0eSwgZG9uJ3QgcmVmb3JtYXQgdGhlIGhlYWRlciBjZWxsXG5cdFx0XHRcdGlmICggYy5oZWFkZXJUZW1wbGF0ZSAhPT0gJycgJiYgISRlbGVtLmZpbmQoICcuJyArIHRzLmNzcy5oZWFkZXJJbiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHQvLyBzZXQgdXAgaGVhZGVyIHRlbXBsYXRlXG5cdFx0XHRcdFx0dGVtcGxhdGUgPSBjLmhlYWRlclRlbXBsYXRlXG5cdFx0XHRcdFx0XHQucmVwbGFjZSggdHMucmVnZXgudGVtcGxhdGVDb250ZW50LCAkZWxlbS5odG1sKCkgKVxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoIHRzLnJlZ2V4LnRlbXBsYXRlSWNvbiwgJGVsZW0uZmluZCggJy4nICsgdHMuY3NzLmljb24gKS5sZW5ndGggPyAnJyA6IGljb24gKTtcblx0XHRcdFx0XHRpZiAoIGMub25SZW5kZXJUZW1wbGF0ZSApIHtcblx0XHRcdFx0XHRcdGhlYWRlciA9IGMub25SZW5kZXJUZW1wbGF0ZS5hcHBseSggJGVsZW0sIFsgaW5kZXgsIHRlbXBsYXRlIF0gKTtcblx0XHRcdFx0XHRcdC8vIG9ubHkgY2hhbmdlIHQgaWYgc29tZXRoaW5nIGlzIHJldHVybmVkXG5cdFx0XHRcdFx0XHRpZiAoIGhlYWRlciAmJiB0eXBlb2YgaGVhZGVyID09PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGUgPSBoZWFkZXI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCRlbGVtLmh0bWwoICc8ZGl2IGNsYXNzPVwiJyArIHRzLmNzcy5oZWFkZXJJbiArICdcIj4nICsgdGVtcGxhdGUgKyAnPC9kaXY+JyApOyAvLyBmYXN0ZXIgdGhhbiB3cmFwSW5uZXJcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGMub25SZW5kZXJIZWFkZXIgKSB7XG5cdFx0XHRcdFx0Yy5vblJlbmRlckhlYWRlci5hcHBseSggJGVsZW0sIFsgaW5kZXgsIGMsIGMuJHRhYmxlIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb2x1bW4gPSBwYXJzZUludCggJGVsZW0uYXR0ciggJ2RhdGEtY29sdW1uJyApLCAxMCApO1xuXHRcdFx0XHRlbGVtLmNvbHVtbiA9IGNvbHVtbjtcblx0XHRcdFx0dG1wID0gdHMuZ2V0T3JkZXIoIHRzLmdldERhdGEoICRlbGVtLCBjb25maWdIZWFkZXJzLCAnc29ydEluaXRpYWxPcmRlcicgKSB8fCBjLnNvcnRJbml0aWFsT3JkZXIgKTtcblx0XHRcdFx0Ly8gdGhpcyBtYXkgZ2V0IHVwZGF0ZWQgbnVtZXJvdXMgdGltZXMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHJvd3Ncblx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sdW1uIF0gPSB7XG5cdFx0XHRcdFx0Y291bnQgOiAtMSwgLy8gc2V0IHRvIC0xIGJlY2F1c2UgY2xpY2tpbmcgb24gdGhlIGhlYWRlciBhdXRvbWF0aWNhbGx5IGFkZHMgb25lXG5cdFx0XHRcdFx0b3JkZXIgOiB0bXAgP1xuXHRcdFx0XHRcdFx0KCBjLnNvcnRSZXNldCA/IFsgMSwgMCwgMiBdIDogWyAxLCAwIF0gKSA6IC8vIGRlc2MsIGFzYywgdW5zb3J0ZWRcblx0XHRcdFx0XHRcdCggYy5zb3J0UmVzZXQgPyBbIDAsIDEsIDIgXSA6IFsgMCwgMSBdICksICAvLyBhc2MsIGRlc2MsIHVuc29ydGVkXG5cdFx0XHRcdFx0bG9ja2VkT3JkZXIgOiBmYWxzZSxcblx0XHRcdFx0XHRzb3J0ZWRCeSA6ICcnXG5cdFx0XHRcdH07XG5cdFx0XHRcdHRtcCA9IHRzLmdldERhdGEoICRlbGVtLCBjb25maWdIZWFkZXJzLCAnbG9ja2VkT3JkZXInICkgfHwgZmFsc2U7XG5cdFx0XHRcdGlmICggdHlwZW9mIHRtcCAhPT0gJ3VuZGVmaW5lZCcgJiYgdG1wICE9PSBmYWxzZSApIHtcblx0XHRcdFx0XHRjLnNvcnRWYXJzWyBjb2x1bW4gXS5sb2NrZWRPcmRlciA9IHRydWU7XG5cdFx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sdW1uIF0ub3JkZXIgPSB0cy5nZXRPcmRlciggdG1wICkgPyBbIDEsIDEgXSA6IFsgMCwgMCBdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGFkZCBjZWxsIHRvIGhlYWRlckxpc3Rcblx0XHRcdFx0Yy5oZWFkZXJMaXN0WyBpbmRleCBdID0gZWxlbTtcblx0XHRcdFx0JGVsZW0uYWRkQ2xhc3MoIHRzLmNzcy5oZWFkZXIgKyAnICcgKyBjLmNzc0hlYWRlciApO1xuXHRcdFx0XHQvLyBhZGQgdG8gcGFyZW50IGluIGNhc2UgdGhlcmUgYXJlIG11bHRpcGxlIHJvd3Ncblx0XHRcdFx0dHMuZ2V0Q2xvc2VzdCggJGVsZW0sICd0cicgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggdHMuY3NzLmhlYWRlclJvdyArICcgJyArIGMuY3NzSGVhZGVyUm93IClcblx0XHRcdFx0XHQuYXR0ciggJ3JvbGUnLCAncm93JyApO1xuXHRcdFx0XHQvLyBhbGxvdyBrZXlib2FyZCBjdXJzb3IgdG8gZm9jdXMgb24gZWxlbWVudFxuXHRcdFx0XHRpZiAoIGMudGFiSW5kZXggKSB7XG5cdFx0XHRcdFx0JGVsZW0uYXR0ciggJ3RhYmluZGV4JywgMCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSkgKTtcblx0XHRcdC8vIGNhY2hlIGhlYWRlcnMgcGVyIGNvbHVtblxuXHRcdFx0Yy4kaGVhZGVySW5kZXhlZCA9IFtdO1xuXHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBjLmNvbHVtbnM7IGluZHgrKyApIHtcblx0XHRcdFx0Ly8gY29sc3BhbiBpbiBoZWFkZXIgbWFraW5nIGEgY29sdW1uIHVuZGVmaW5lZFxuXHRcdFx0XHRpZiAoIHRzLmlzRW1wdHlPYmplY3QoIGMuc29ydFZhcnNbIGluZHggXSApICkge1xuXHRcdFx0XHRcdGMuc29ydFZhcnNbIGluZHggXSA9IHt9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFVzZSBjLiRoZWFkZXJzLnBhcmVudCgpIGluIGNhc2Ugc2VsZWN0b3JIZWFkZXJzIGRvZXNuJ3QgcG9pbnQgdG8gdGhlIHRoL3RkXG5cdFx0XHRcdCR0ZW1wID0gYy4kaGVhZGVycy5maWx0ZXIoICdbZGF0YS1jb2x1bW49XCInICsgaW5keCArICdcIl0nICk7XG5cdFx0XHRcdC8vIHRhcmdldCBzb3J0YWJsZSBjb2x1bW4gY2VsbHMsIHVubGVzcyB0aGVyZSBhcmUgbm9uZSwgdGhlbiB1c2Ugbm9uLXNvcnRhYmxlIGNlbGxzXG5cdFx0XHRcdC8vIC5sYXN0KCkgYWRkZWQgaW4galF1ZXJ5IDEuNDsgdXNlIC5maWx0ZXIoJzpsYXN0JykgdG8gbWFpbnRhaW4gY29tcGF0aWJpbGl0eSB3aXRoIGpRdWVyeSB2MS4yLjZcblx0XHRcdFx0Yy4kaGVhZGVySW5kZXhlZFsgaW5keCBdID0gJHRlbXAubGVuZ3RoID9cblx0XHRcdFx0XHQkdGVtcC5ub3QoICcuc29ydGVyLWZhbHNlJyApLmxlbmd0aCA/XG5cdFx0XHRcdFx0XHQkdGVtcC5ub3QoICcuc29ydGVyLWZhbHNlJyApLmZpbHRlciggJzpsYXN0JyApIDpcblx0XHRcdFx0XHRcdCR0ZW1wLmZpbHRlciggJzpsYXN0JyApIDpcblx0XHRcdFx0XHQkKCk7XG5cdFx0XHR9XG5cdFx0XHRjLiR0YWJsZS5maW5kKCBjLnNlbGVjdG9ySGVhZGVycyApLmF0dHIoe1xuXHRcdFx0XHRzY29wZTogJ2NvbCcsXG5cdFx0XHRcdHJvbGUgOiAnY29sdW1uaGVhZGVyJ1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBlbmFibGUvZGlzYWJsZSBzb3J0aW5nXG5cdFx0XHR0cy51cGRhdGVIZWFkZXIoIGMgKTtcblx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coICdCdWlsdCBoZWFkZXJzOicgKyB0cy5iZW5jaG1hcmsoIHRpbWVyICkgKTtcblx0XHRcdFx0Y29uc29sZS5sb2coIGMuJGhlYWRlcnMgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gVXNlIGl0IHRvIGFkZCBhIHNldCBvZiBtZXRob2RzIHRvIHRhYmxlLmNvbmZpZyB3aGljaCB3aWxsIGJlIGF2YWlsYWJsZSBmb3IgYWxsIHRhYmxlcy5cblx0XHQvLyBUaGlzIHNob3VsZCBiZSBkb25lIGJlZm9yZSB0YWJsZSBpbml0aWFsaXphdGlvblxuXHRcdGFkZEluc3RhbmNlTWV0aG9kcyA6IGZ1bmN0aW9uKCBtZXRob2RzICkge1xuXHRcdFx0JC5leHRlbmQoIHRzLmluc3RhbmNlTWV0aG9kcywgbWV0aG9kcyApO1xuXHRcdH0sXG5cblx0XHQvKlxuXHRcdOKWiOKWiOKWiOKWiOKWiOKWhCDiloTilojilojilojilojiloQg4paI4paI4paI4paI4paI4paEIOKWhOKWiOKWiOKWiOKWiOKWiCDilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paEIOKWhOKWiOKWiOKWiOKWiOKWiFxuXHRcdOKWiOKWiOKWhOKWhOKWiOKWiCDilojilojiloTiloTilojilogg4paI4paI4paE4paE4paI4paIIOKWgOKWiOKWhCAgICDilojilojiloTiloQgICDilojilojiloTiloTilojilogg4paA4paI4paEXG5cdFx04paI4paI4paA4paA4paAICDilojilojiloDiloDilojilogg4paI4paI4paA4paI4paIICAgICDiloDilojiloQg4paI4paI4paA4paAICAg4paI4paI4paA4paI4paIICAgICDiloDilojiloRcblx0XHTilojiloggICAgIOKWiOKWiCAg4paI4paIIOKWiOKWiCAg4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWgCDilojilojilojilojilojilogg4paI4paIICDilojilogg4paI4paI4paI4paI4paI4paAXG5cdFx0Ki9cblx0XHRzZXR1cFBhcnNlcnMgOiBmdW5jdGlvbiggYywgJHRib2RpZXMgKSB7XG5cdFx0XHR2YXIgcm93cywgbGlzdCwgc3BhbiwgbWF4LCBjb2xJbmRleCwgaW5keCwgaGVhZGVyLCBjb25maWdIZWFkZXJzLFxuXHRcdFx0XHRub1BhcnNlciwgcGFyc2VyLCBleHRyYWN0b3IsIHRpbWUsIHRib2R5LCBsZW4sXG5cdFx0XHRcdHRhYmxlID0gYy50YWJsZSxcblx0XHRcdFx0dGJvZHlJbmRleCA9IDAsXG5cdFx0XHRcdGRlYnVnID0gdHMuZGVidWcoYywgJ2NvcmUnKSxcblx0XHRcdFx0ZGVidWdPdXRwdXQgPSB7fTtcblx0XHRcdC8vIHVwZGF0ZSB0YWJsZSBib2RpZXMgaW4gY2FzZSB3ZSBzdGFydCB3aXRoIGFuIGVtcHR5IHRhYmxlXG5cdFx0XHRjLiR0Ym9kaWVzID0gYy4kdGFibGUuY2hpbGRyZW4oICd0Ym9keTpub3QoLicgKyBjLmNzc0luZm9CbG9jayArICcpJyApO1xuXHRcdFx0dGJvZHkgPSB0eXBlb2YgJHRib2RpZXMgPT09ICd1bmRlZmluZWQnID8gYy4kdGJvZGllcyA6ICR0Ym9kaWVzO1xuXHRcdFx0bGVuID0gdGJvZHkubGVuZ3RoO1xuXHRcdFx0aWYgKCBsZW4gPT09IDAgKSB7XG5cdFx0XHRcdHJldHVybiBkZWJ1ZyA/IGNvbnNvbGUud2FybiggJ1dhcm5pbmc6ICpFbXB0eSB0YWJsZSEqIE5vdCBidWlsZGluZyBhIHBhcnNlciBjYWNoZScgKSA6ICcnO1xuXHRcdFx0fSBlbHNlIGlmICggZGVidWcgKSB7XG5cdFx0XHRcdHRpbWUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zb2xlWyBjb25zb2xlLmdyb3VwID8gJ2dyb3VwJyA6ICdsb2cnIF0oICdEZXRlY3RpbmcgcGFyc2VycyBmb3IgZWFjaCBjb2x1bW4nICk7XG5cdFx0XHR9XG5cdFx0XHRsaXN0ID0ge1xuXHRcdFx0XHRleHRyYWN0b3JzOiBbXSxcblx0XHRcdFx0cGFyc2VyczogW11cblx0XHRcdH07XG5cdFx0XHR3aGlsZSAoIHRib2R5SW5kZXggPCBsZW4gKSB7XG5cdFx0XHRcdHJvd3MgPSB0Ym9keVsgdGJvZHlJbmRleCBdLnJvd3M7XG5cdFx0XHRcdGlmICggcm93cy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0Y29sSW5kZXggPSAwO1xuXHRcdFx0XHRcdG1heCA9IGMuY29sdW1ucztcblx0XHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IG1heDsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0aGVhZGVyID0gYy4kaGVhZGVySW5kZXhlZFsgY29sSW5kZXggXTtcblx0XHRcdFx0XHRcdGlmICggaGVhZGVyICYmIGhlYWRlci5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGdldCBjb2x1bW4gaW5kZXhlZCB0YWJsZSBjZWxsOyBhZGRpbmcgdHJ1ZSBwYXJhbWV0ZXIgZml4ZXMgIzEzNjIgYnV0XG5cdFx0XHRcdFx0XHRcdC8vIGl0IHdvdWxkIGJyZWFrIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5Li4uXG5cdFx0XHRcdFx0XHRcdGNvbmZpZ0hlYWRlcnMgPSB0cy5nZXRDb2x1bW5EYXRhKCB0YWJsZSwgYy5oZWFkZXJzLCBjb2xJbmRleCApOyAvLyAsIHRydWUgKTtcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0IGNvbHVtbiBwYXJzZXIvZXh0cmFjdG9yXG5cdFx0XHRcdFx0XHRcdGV4dHJhY3RvciA9IHRzLmdldFBhcnNlckJ5SWQoIHRzLmdldERhdGEoIGhlYWRlciwgY29uZmlnSGVhZGVycywgJ2V4dHJhY3RvcicgKSApO1xuXHRcdFx0XHRcdFx0XHRwYXJzZXIgPSB0cy5nZXRQYXJzZXJCeUlkKCB0cy5nZXREYXRhKCBoZWFkZXIsIGNvbmZpZ0hlYWRlcnMsICdzb3J0ZXInICkgKTtcblx0XHRcdFx0XHRcdFx0bm9QYXJzZXIgPSB0cy5nZXREYXRhKCBoZWFkZXIsIGNvbmZpZ0hlYWRlcnMsICdwYXJzZXInICkgPT09ICdmYWxzZSc7XG5cdFx0XHRcdFx0XHRcdC8vIGVtcHR5IGNlbGxzIGJlaGF2aW91ciAtIGtlZXBpbmcgZW1wdHlUb0JvdHRvbSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblx0XHRcdFx0XHRcdFx0Yy5lbXB0aWVzW2NvbEluZGV4XSA9IChcblx0XHRcdFx0XHRcdFx0XHR0cy5nZXREYXRhKCBoZWFkZXIsIGNvbmZpZ0hlYWRlcnMsICdlbXB0eScgKSB8fFxuXHRcdFx0XHRcdFx0XHRcdGMuZW1wdHlUbyB8fCAoIGMuZW1wdHlUb0JvdHRvbSA/ICdib3R0b20nIDogJ3RvcCcgKSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRcdC8vIHRleHQgc3RyaW5ncyBiZWhhdmlvdXIgaW4gbnVtZXJpY2FsIHNvcnRzXG5cdFx0XHRcdFx0XHRcdGMuc3RyaW5nc1tjb2xJbmRleF0gPSAoXG5cdFx0XHRcdFx0XHRcdFx0dHMuZ2V0RGF0YSggaGVhZGVyLCBjb25maWdIZWFkZXJzLCAnc3RyaW5nJyApIHx8XG5cdFx0XHRcdFx0XHRcdFx0Yy5zdHJpbmdUbyB8fFxuXHRcdFx0XHRcdFx0XHRcdCdtYXgnICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBub1BhcnNlciApIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJzZXIgPSB0cy5nZXRQYXJzZXJCeUlkKCAnbm8tcGFyc2VyJyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICggIWV4dHJhY3RvciApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBGb3Igbm93LCBtYXliZSBkZXRlY3Qgc29tZWRheVxuXHRcdFx0XHRcdFx0XHRcdGV4dHJhY3RvciA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICggIXBhcnNlciApIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJzZXIgPSB0cy5kZXRlY3RQYXJzZXJGb3JDb2x1bW4oIGMsIHJvd3MsIC0xLCBjb2xJbmRleCApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICggZGVidWcgKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVidWdPdXRwdXRbICcoJyArIGNvbEluZGV4ICsgJykgJyArIGhlYWRlci50ZXh0KCkgXSA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlciA6IHBhcnNlci5pZCxcblx0XHRcdFx0XHRcdFx0XHRcdGV4dHJhY3RvciA6IGV4dHJhY3RvciA/IGV4dHJhY3Rvci5pZCA6ICdub25lJyxcblx0XHRcdFx0XHRcdFx0XHRcdHN0cmluZyA6IGMuc3RyaW5nc1sgY29sSW5kZXggXSxcblx0XHRcdFx0XHRcdFx0XHRcdGVtcHR5ICA6IGMuZW1wdGllc1sgY29sSW5kZXggXVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0bGlzdC5wYXJzZXJzWyBjb2xJbmRleCBdID0gcGFyc2VyO1xuXHRcdFx0XHRcdFx0XHRsaXN0LmV4dHJhY3RvcnNbIGNvbEluZGV4IF0gPSBleHRyYWN0b3I7XG5cdFx0XHRcdFx0XHRcdHNwYW4gPSBoZWFkZXJbIDAgXS5jb2xTcGFuIC0gMTtcblx0XHRcdFx0XHRcdFx0aWYgKCBzcGFuID4gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRjb2xJbmRleCArPSBzcGFuO1xuXHRcdFx0XHRcdFx0XHRcdG1heCArPSBzcGFuO1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggc3BhbiArIDEgPiAwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gc2V0IGNvbHNwYW4gY29sdW1ucyB0byB1c2UgdGhlIHNhbWUgcGFyc2VycyAmIGV4dHJhY3RvcnNcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucGFyc2Vyc1sgY29sSW5kZXggLSBzcGFuIF0gPSBwYXJzZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LmV4dHJhY3RvcnNbIGNvbEluZGV4IC0gc3BhbiBdID0gZXh0cmFjdG9yO1xuXHRcdFx0XHRcdFx0XHRcdFx0c3Bhbi0tO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29sSW5kZXgrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGJvZHlJbmRleCArPSAoIGxpc3QucGFyc2Vycy5sZW5ndGggKSA/IGxlbiA6IDE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGRlYnVnICkge1xuXHRcdFx0XHRpZiAoICF0cy5pc0VtcHR5T2JqZWN0KCBkZWJ1Z091dHB1dCApICkge1xuXHRcdFx0XHRcdGNvbnNvbGVbIGNvbnNvbGUudGFibGUgPyAndGFibGUnIDogJ2xvZycgXSggZGVidWdPdXRwdXQgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oICcgIE5vIHBhcnNlcnMgZGV0ZWN0ZWQhJyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnNvbGUubG9nKCAnQ29tcGxldGVkIGRldGVjdGluZyBwYXJzZXJzJyArIHRzLmJlbmNobWFyayggdGltZSApICk7XG5cdFx0XHRcdGlmICggY29uc29sZS5ncm91cEVuZCApIHsgY29uc29sZS5ncm91cEVuZCgpOyB9XG5cdFx0XHR9XG5cdFx0XHRjLnBhcnNlcnMgPSBsaXN0LnBhcnNlcnM7XG5cdFx0XHRjLmV4dHJhY3RvcnMgPSBsaXN0LmV4dHJhY3RvcnM7XG5cdFx0fSxcblxuXHRcdGFkZFBhcnNlciA6IGZ1bmN0aW9uKCBwYXJzZXIgKSB7XG5cdFx0XHR2YXIgaW5keCxcblx0XHRcdFx0bGVuID0gdHMucGFyc2Vycy5sZW5ndGgsXG5cdFx0XHRcdGFkZCA9IHRydWU7XG5cdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrICkge1xuXHRcdFx0XHRpZiAoIHRzLnBhcnNlcnNbIGluZHggXS5pZC50b0xvd2VyQ2FzZSgpID09PSBwYXJzZXIuaWQudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRhZGQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCBhZGQgKSB7XG5cdFx0XHRcdHRzLnBhcnNlcnNbIHRzLnBhcnNlcnMubGVuZ3RoIF0gPSBwYXJzZXI7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGdldFBhcnNlckJ5SWQgOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRcdC8qanNoaW50IGVxZXFlcTpmYWxzZSAqLyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRpZiAoIG5hbWUgPT0gJ2ZhbHNlJyApIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR2YXIgaW5keCxcblx0XHRcdFx0bGVuID0gdHMucGFyc2Vycy5sZW5ndGg7XG5cdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrICkge1xuXHRcdFx0XHRpZiAoIHRzLnBhcnNlcnNbIGluZHggXS5pZC50b0xvd2VyQ2FzZSgpID09PSAoIG5hbWUudG9TdHJpbmcoKSApLnRvTG93ZXJDYXNlKCkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRzLnBhcnNlcnNbIGluZHggXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkZXRlY3RQYXJzZXJGb3JDb2x1bW4gOiBmdW5jdGlvbiggYywgcm93cywgcm93SW5kZXgsIGNlbGxJbmRleCApIHtcblx0XHRcdHZhciBjdXIsICRub2RlLCByb3csXG5cdFx0XHRcdGluZHggPSB0cy5wYXJzZXJzLmxlbmd0aCxcblx0XHRcdFx0bm9kZSA9IGZhbHNlLFxuXHRcdFx0XHRub2RlVmFsdWUgPSAnJyxcblx0XHRcdFx0ZGVidWcgPSB0cy5kZWJ1ZyhjLCAnY29yZScpLFxuXHRcdFx0XHRrZWVwTG9va2luZyA9IHRydWU7XG5cdFx0XHR3aGlsZSAoIG5vZGVWYWx1ZSA9PT0gJycgJiYga2VlcExvb2tpbmcgKSB7XG5cdFx0XHRcdHJvd0luZGV4Kys7XG5cdFx0XHRcdHJvdyA9IHJvd3NbIHJvd0luZGV4IF07XG5cdFx0XHRcdC8vIHN0b3AgbG9va2luZyBhZnRlciA1MCBlbXB0eSByb3dzXG5cdFx0XHRcdGlmICggcm93ICYmIHJvd0luZGV4IDwgNTAgKSB7XG5cdFx0XHRcdFx0aWYgKCByb3cuY2xhc3NOYW1lLmluZGV4T2YoIHRzLmNzc0lnbm9yZVJvdyApIDwgMCApIHtcblx0XHRcdFx0XHRcdG5vZGUgPSByb3dzWyByb3dJbmRleCBdLmNlbGxzWyBjZWxsSW5kZXggXTtcblx0XHRcdFx0XHRcdG5vZGVWYWx1ZSA9IHRzLmdldEVsZW1lbnRUZXh0KCBjLCBub2RlLCBjZWxsSW5kZXggKTtcblx0XHRcdFx0XHRcdCRub2RlID0gJCggbm9kZSApO1xuXHRcdFx0XHRcdFx0aWYgKCBkZWJ1ZyApIHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coICdDaGVja2luZyBpZiB2YWx1ZSB3YXMgZW1wdHkgb24gcm93ICcgKyByb3dJbmRleCArICcsIGNvbHVtbjogJyArXG5cdFx0XHRcdFx0XHRcdFx0Y2VsbEluZGV4ICsgJzogXCInICsgbm9kZVZhbHVlICsgJ1wiJyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRrZWVwTG9va2luZyA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR3aGlsZSAoIC0taW5keCA+PSAwICkge1xuXHRcdFx0XHRjdXIgPSB0cy5wYXJzZXJzWyBpbmR4IF07XG5cdFx0XHRcdC8vIGlnbm9yZSB0aGUgZGVmYXVsdCB0ZXh0IHBhcnNlciBiZWNhdXNlIGl0IHdpbGwgYWx3YXlzIGJlIHRydWVcblx0XHRcdFx0aWYgKCBjdXIgJiYgY3VyLmlkICE9PSAndGV4dCcgJiYgY3VyLmlzICYmIGN1ci5pcyggbm9kZVZhbHVlLCBjLnRhYmxlLCBub2RlLCAkbm9kZSApICkge1xuXHRcdFx0XHRcdHJldHVybiBjdXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIG5vdGhpbmcgZm91bmQsIHJldHVybiB0aGUgZ2VuZXJpYyBwYXJzZXIgKHRleHQpXG5cdFx0XHRyZXR1cm4gdHMuZ2V0UGFyc2VyQnlJZCggJ3RleHQnICk7XG5cdFx0fSxcblxuXHRcdGdldEVsZW1lbnRUZXh0IDogZnVuY3Rpb24oIGMsIG5vZGUsIGNlbGxJbmRleCApIHtcblx0XHRcdGlmICggIW5vZGUgKSB7IHJldHVybiAnJzsgfVxuXHRcdFx0dmFyIHRtcCxcblx0XHRcdFx0ZXh0cmFjdCA9IGMudGV4dEV4dHJhY3Rpb24gfHwgJycsXG5cdFx0XHRcdC8vIG5vZGUgY291bGQgYmUgYSBqcXVlcnkgb2JqZWN0XG5cdFx0XHRcdC8vIGh0dHA6Ly9qc3BlcmYuY29tL2pxdWVyeS12cy1pbnN0YW5jZW9mLWpxdWVyeS8yXG5cdFx0XHRcdCRub2RlID0gbm9kZS5qcXVlcnkgPyBub2RlIDogJCggbm9kZSApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZXh0cmFjdCA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdC8vIGNoZWNrIGRhdGEtYXR0cmlidXRlIGZpcnN0IHdoZW4gc2V0IHRvICdiYXNpYyc7IGRvbid0IHVzZSBub2RlLmlubmVyVGV4dCAtIGl0J3MgcmVhbGx5IHNsb3chXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cua2VsbGVnb3VzLmNvbS9qLzIwMTMvMDIvMjcvaW5uZXJ0ZXh0LXZzLXRleHRjb250ZW50L1xuXHRcdFx0XHRpZiAoIGV4dHJhY3QgPT09ICdiYXNpYycgJiYgdHlwZW9mICggdG1wID0gJG5vZGUuYXR0ciggYy50ZXh0QXR0cmlidXRlICkgKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQudHJpbSggdG1wICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICQudHJpbSggbm9kZS50ZXh0Q29udGVudCB8fCAkbm9kZS50ZXh0KCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGV4dHJhY3QgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQudHJpbSggZXh0cmFjdCggJG5vZGVbIDAgXSwgYy50YWJsZSwgY2VsbEluZGV4ICkgKTtcblx0XHRcdFx0fSBlbHNlIGlmICggdHlwZW9mICggdG1wID0gdHMuZ2V0Q29sdW1uRGF0YSggYy50YWJsZSwgZXh0cmFjdCwgY2VsbEluZGV4ICkgKSA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0XHRyZXR1cm4gJC50cmltKCB0bXAoICRub2RlWyAwIF0sIGMudGFibGUsIGNlbGxJbmRleCApICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIGZhbGxiYWNrXG5cdFx0XHRyZXR1cm4gJC50cmltKCAkbm9kZVsgMCBdLnRleHRDb250ZW50IHx8ICRub2RlLnRleHQoKSApO1xuXHRcdH0sXG5cblx0XHQvLyBjZW50cmFsaXplZCBmdW5jdGlvbiB0byBleHRyYWN0L3BhcnNlIGNlbGwgY29udGVudHNcblx0XHRnZXRQYXJzZWRUZXh0IDogZnVuY3Rpb24oIGMsIGNlbGwsIGNvbEluZGV4LCB0eHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiB0eHQgPT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHR0eHQgPSB0cy5nZXRFbGVtZW50VGV4dCggYywgY2VsbCwgY29sSW5kZXggKTtcblx0XHRcdH1cblx0XHRcdC8vIGlmIG5vIHBhcnNlciwgbWFrZSBzdXJlIHRvIHJldHVybiB0aGUgdHh0XG5cdFx0XHR2YXIgdmFsID0gJycgKyB0eHQsXG5cdFx0XHRcdHBhcnNlciA9IGMucGFyc2Vyc1sgY29sSW5kZXggXSxcblx0XHRcdFx0ZXh0cmFjdG9yID0gYy5leHRyYWN0b3JzWyBjb2xJbmRleCBdO1xuXHRcdFx0aWYgKCBwYXJzZXIgKSB7XG5cdFx0XHRcdC8vIGRvIGV4dHJhY3QgYmVmb3JlIHBhcnNpbmcsIGlmIHRoZXJlIGlzIG9uZVxuXHRcdFx0XHRpZiAoIGV4dHJhY3RvciAmJiB0eXBlb2YgZXh0cmFjdG9yLmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0XHR0eHQgPSBleHRyYWN0b3IuZm9ybWF0KCB0eHQsIGMudGFibGUsIGNlbGwsIGNvbEluZGV4ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gYWxsb3cgcGFyc2luZyBpZiB0aGUgc3RyaW5nIGlzIGVtcHR5LCBwcmV2aW91c2x5IHBhcnNpbmcgd291bGQgY2hhbmdlIGl0IHRvIHplcm8sXG5cdFx0XHRcdC8vIGluIGNhc2UgdGhlIHBhcnNlciBuZWVkcyB0byBleHRyYWN0IGRhdGEgZnJvbSB0aGUgdGFibGUgY2VsbCBhdHRyaWJ1dGVzXG5cdFx0XHRcdHZhbCA9IHBhcnNlci5pZCA9PT0gJ25vLXBhcnNlcicgPyAnJyA6XG5cdFx0XHRcdFx0Ly8gbWFrZSBzdXJlIHR4dCBpcyBhIHN0cmluZyAoZXh0cmFjdG9yIG1heSBoYXZlIGNvbnZlcnRlZCBpdClcblx0XHRcdFx0XHRwYXJzZXIuZm9ybWF0KCAnJyArIHR4dCwgYy50YWJsZSwgY2VsbCwgY29sSW5kZXggKTtcblx0XHRcdFx0aWYgKCBjLmlnbm9yZUNhc2UgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdFx0dmFsID0gdmFsLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fSxcblxuXHRcdC8qXG5cdFx04paE4paI4paI4paI4paI4paEIOKWhOKWiOKWiOKWiOKWiOKWhCDiloTilojilojilojilojiloQg4paI4paIICDilojilogg4paI4paI4paI4paI4paI4paIXG5cdFx04paI4paIICDiloDiloAg4paI4paI4paE4paE4paI4paIIOKWiOKWiCAg4paA4paAIOKWiOKWiOKWhOKWhOKWiOKWiCDilojilojiloTiloRcblx0XHTilojiloggIOKWhOKWhCDilojilojiloDiloDilojilogg4paI4paIICDiloTiloQg4paI4paI4paA4paA4paI4paIIOKWiOKWiOKWgOKWgFxuXHRcdOKWgOKWiOKWiOKWiOKWiOKWgCDilojiloggIOKWiOKWiCDiloDilojilojilojilojiloAg4paI4paIICDilojilogg4paI4paI4paI4paI4paI4paIXG5cdFx0Ki9cblx0XHRidWlsZENhY2hlIDogZnVuY3Rpb24oIGMsIGNhbGxiYWNrLCAkdGJvZGllcyApIHtcblx0XHRcdHZhciBjYWNoZSwgdmFsLCB0eHQsIHJvd0luZGV4LCBjb2xJbmRleCwgdGJvZHlJbmRleCwgJHRib2R5LCAkcm93LFxuXHRcdFx0XHRjb2xzLCAkY2VsbHMsIGNlbGwsIGNhY2hlVGltZSwgdG90YWxSb3dzLCByb3dEYXRhLCBwcmV2Um93RGF0YSxcblx0XHRcdFx0Y29sTWF4LCBzcGFuLCBjYWNoZUluZGV4LCBoYXNQYXJzZXIsIG1heCwgbGVuLCBpbmRleCxcblx0XHRcdFx0dGFibGUgPSBjLnRhYmxlLFxuXHRcdFx0XHRwYXJzZXJzID0gYy5wYXJzZXJzLFxuXHRcdFx0XHRkZWJ1ZyA9IHRzLmRlYnVnKGMsICdjb3JlJyk7XG5cdFx0XHQvLyB1cGRhdGUgdGJvZHkgdmFyaWFibGVcblx0XHRcdGMuJHRib2RpZXMgPSBjLiR0YWJsZS5jaGlsZHJlbiggJ3Rib2R5Om5vdCguJyArIGMuY3NzSW5mb0Jsb2NrICsgJyknICk7XG5cdFx0XHQkdGJvZHkgPSB0eXBlb2YgJHRib2RpZXMgPT09ICd1bmRlZmluZWQnID8gYy4kdGJvZGllcyA6ICR0Ym9kaWVzLFxuXHRcdFx0Yy5jYWNoZSA9IHt9O1xuXHRcdFx0Yy50b3RhbFJvd3MgPSAwO1xuXHRcdFx0Ly8gaWYgbm8gcGFyc2VycyBmb3VuZCwgcmV0dXJuIC0gaXQncyBhbiBlbXB0eSB0YWJsZS5cblx0XHRcdGlmICggIXBhcnNlcnMgKSB7XG5cdFx0XHRcdHJldHVybiBkZWJ1ZyA/IGNvbnNvbGUud2FybiggJ1dhcm5pbmc6ICpFbXB0eSB0YWJsZSEqIE5vdCBidWlsZGluZyBhIGNhY2hlJyApIDogJyc7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGRlYnVnICkge1xuXHRcdFx0XHRjYWNoZVRpbWUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcHJvY2Vzc2luZyBpY29uXG5cdFx0XHRpZiAoIGMuc2hvd1Byb2Nlc3NpbmcgKSB7XG5cdFx0XHRcdHRzLmlzUHJvY2Vzc2luZyggdGFibGUsIHRydWUgKTtcblx0XHRcdH1cblx0XHRcdGZvciAoIHRib2R5SW5kZXggPSAwOyB0Ym9keUluZGV4IDwgJHRib2R5Lmxlbmd0aDsgdGJvZHlJbmRleCsrICkge1xuXHRcdFx0XHRjb2xNYXggPSBbXTsgLy8gY29sdW1uIG1heCB2YWx1ZSBwZXIgdGJvZHlcblx0XHRcdFx0Y2FjaGUgPSBjLmNhY2hlWyB0Ym9keUluZGV4IF0gPSB7XG5cdFx0XHRcdFx0bm9ybWFsaXplZDogW10gLy8gYXJyYXkgb2Ygbm9ybWFsaXplZCByb3cgZGF0YTsgbGFzdCBlbnRyeSBjb250YWlucyAncm93RGF0YScgYWJvdmVcblx0XHRcdFx0XHQvLyBjb2xNYXg6ICMgICAvLyBhZGRlZCBhdCB0aGUgZW5kXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dG90YWxSb3dzID0gKCAkdGJvZHlbIHRib2R5SW5kZXggXSAmJiAkdGJvZHlbIHRib2R5SW5kZXggXS5yb3dzLmxlbmd0aCApIHx8IDA7XG5cdFx0XHRcdGZvciAoIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCB0b3RhbFJvd3M7ICsrcm93SW5kZXggKSB7XG5cdFx0XHRcdFx0cm93RGF0YSA9IHtcblx0XHRcdFx0XHRcdC8vIG9yZGVyOiBvcmlnaW5hbCByb3cgb3JkZXIgI1xuXHRcdFx0XHRcdFx0Ly8gJHJvdyA6IGpRdWVyeSBPYmplY3RbXVxuXHRcdFx0XHRcdFx0Y2hpbGQ6IFtdLCAvLyBjaGlsZCByb3cgdGV4dCAoZmlsdGVyIHdpZGdldClcblx0XHRcdFx0XHRcdHJhdzogW10gICAgLy8gb3JpZ2luYWwgcm93IHRleHRcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdC8qKiBBZGQgdGhlIHRhYmxlIGRhdGEgdG8gbWFpbiBkYXRhIGFycmF5ICovXG5cdFx0XHRcdFx0JHJvdyA9ICQoICR0Ym9keVsgdGJvZHlJbmRleCBdLnJvd3NbIHJvd0luZGV4IF0gKTtcblx0XHRcdFx0XHRjb2xzID0gW107XG5cdFx0XHRcdFx0Ly8gaWdub3JlIFwicmVtb3ZlLW1lXCIgcm93c1xuXHRcdFx0XHRcdGlmICggJHJvdy5oYXNDbGFzcyggYy5zZWxlY3RvclJlbW92ZS5zbGljZSgxKSApICkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGlmIHRoaXMgaXMgYSBjaGlsZCByb3csIGFkZCBpdCB0byB0aGUgbGFzdCByb3cncyBjaGlsZHJlbiBhbmQgY29udGludWUgdG8gdGhlIG5leHQgcm93XG5cdFx0XHRcdFx0Ly8gaWdub3JlIGNoaWxkIHJvdyBjbGFzcywgaWYgaXQgaXMgdGhlIGZpcnN0IHJvd1xuXHRcdFx0XHRcdGlmICggJHJvdy5oYXNDbGFzcyggYy5jc3NDaGlsZFJvdyApICYmIHJvd0luZGV4ICE9PSAwICkge1xuXHRcdFx0XHRcdFx0bGVuID0gY2FjaGUubm9ybWFsaXplZC5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0cHJldlJvd0RhdGEgPSBjYWNoZS5ub3JtYWxpemVkWyBsZW4gXVsgYy5jb2x1bW5zIF07XG5cdFx0XHRcdFx0XHRwcmV2Um93RGF0YS4kcm93ID0gcHJldlJvd0RhdGEuJHJvdy5hZGQoICRyb3cgKTtcblx0XHRcdFx0XHRcdC8vIGFkZCAnaGFzQ2hpbGQnIGNsYXNzIG5hbWUgdG8gcGFyZW50IHJvd1xuXHRcdFx0XHRcdFx0aWYgKCAhJHJvdy5wcmV2KCkuaGFzQ2xhc3MoIGMuY3NzQ2hpbGRSb3cgKSApIHtcblx0XHRcdFx0XHRcdFx0JHJvdy5wcmV2KCkuYWRkQ2xhc3MoIHRzLmNzcy5jc3NIYXNDaGlsZCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gc2F2ZSBjaGlsZCByb3cgY29udGVudCAodW4tcGFyc2VkISlcblx0XHRcdFx0XHRcdCRjZWxscyA9ICRyb3cuY2hpbGRyZW4oICd0aCwgdGQnICk7XG5cdFx0XHRcdFx0XHRsZW4gPSBwcmV2Um93RGF0YS5jaGlsZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRwcmV2Um93RGF0YS5jaGlsZFsgbGVuIF0gPSBbXTtcblx0XHRcdFx0XHRcdC8vIGNoaWxkIHJvdyBjb250ZW50IGRvZXMgbm90IGFjY291bnQgZm9yIGNvbHNwYW5zL3Jvd3NwYW5zOyBzbyBpbmRleGluZyBtYXkgYmUgb2ZmXG5cdFx0XHRcdFx0XHRjYWNoZUluZGV4ID0gMDtcblx0XHRcdFx0XHRcdG1heCA9IGMuY29sdW1ucztcblx0XHRcdFx0XHRcdGZvciAoIGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBtYXg7IGNvbEluZGV4KysgKSB7XG5cdFx0XHRcdFx0XHRcdGNlbGwgPSAkY2VsbHNbIGNvbEluZGV4IF07XG5cdFx0XHRcdFx0XHRcdGlmICggY2VsbCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcmV2Um93RGF0YS5jaGlsZFsgbGVuIF1bIGNvbEluZGV4IF0gPSB0cy5nZXRQYXJzZWRUZXh0KCBjLCBjZWxsLCBjb2xJbmRleCApO1xuXHRcdFx0XHRcdFx0XHRcdHNwYW4gPSAkY2VsbHNbIGNvbEluZGV4IF0uY29sU3BhbiAtIDE7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGFuID4gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhY2hlSW5kZXggKz0gc3Bhbjtcblx0XHRcdFx0XHRcdFx0XHRcdG1heCArPSBzcGFuO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjYWNoZUluZGV4Kys7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBnbyB0byB0aGUgbmV4dCBmb3IgbG9vcFxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJvd0RhdGEuJHJvdyA9ICRyb3c7XG5cdFx0XHRcdFx0cm93RGF0YS5vcmRlciA9IHJvd0luZGV4OyAvLyBhZGQgb3JpZ2luYWwgcm93IHBvc2l0aW9uIHRvIHJvd0NhY2hlXG5cdFx0XHRcdFx0Y2FjaGVJbmRleCA9IDA7XG5cdFx0XHRcdFx0bWF4ID0gYy5jb2x1bW5zO1xuXHRcdFx0XHRcdGZvciAoIGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBtYXg7ICsrY29sSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRjZWxsID0gJHJvd1sgMCBdLmNlbGxzWyBjb2xJbmRleCBdO1xuXHRcdFx0XHRcdFx0aWYgKCBjZWxsICYmIGNhY2hlSW5kZXggPCBjLmNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0XHRcdGhhc1BhcnNlciA9IHR5cGVvZiBwYXJzZXJzWyBjYWNoZUluZGV4IF0gIT09ICd1bmRlZmluZWQnO1xuXHRcdFx0XHRcdFx0XHRpZiAoICFoYXNQYXJzZXIgJiYgZGVidWcgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnTm8gcGFyc2VyIGZvdW5kIGZvciByb3c6ICcgKyByb3dJbmRleCArICcsIGNvbHVtbjogJyArIGNvbEluZGV4ICtcblx0XHRcdFx0XHRcdFx0XHRcdCc7IGNlbGwgY29udGFpbmluZzogXCInICsgJChjZWxsKS50ZXh0KCkgKyAnXCI7IGRvZXMgaXQgaGF2ZSBhIGhlYWRlcj8nICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dmFsID0gdHMuZ2V0RWxlbWVudFRleHQoIGMsIGNlbGwsIGNhY2hlSW5kZXggKTtcblx0XHRcdFx0XHRcdFx0cm93RGF0YS5yYXdbIGNhY2hlSW5kZXggXSA9IHZhbDsgLy8gc2F2ZSBvcmlnaW5hbCByb3cgdGV4dFxuXHRcdFx0XHRcdFx0XHQvLyBzYXZlIHJhdyBjb2x1bW4gdGV4dCBldmVuIGlmIHRoZXJlIGlzIG5vIHBhcnNlciBzZXRcblx0XHRcdFx0XHRcdFx0dHh0ID0gdHMuZ2V0UGFyc2VkVGV4dCggYywgY2VsbCwgY2FjaGVJbmRleCwgdmFsICk7XG5cdFx0XHRcdFx0XHRcdGNvbHNbIGNhY2hlSW5kZXggXSA9IHR4dDtcblx0XHRcdFx0XHRcdFx0aWYgKCBoYXNQYXJzZXIgJiYgKCBwYXJzZXJzWyBjYWNoZUluZGV4IF0udHlwZSB8fCAnJyApLnRvTG93ZXJDYXNlKCkgPT09ICdudW1lcmljJyApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBkZXRlcm1pbmUgY29sdW1uIG1heCB2YWx1ZSAoaWdub3JlIHNpZ24pXG5cdFx0XHRcdFx0XHRcdFx0Y29sTWF4WyBjYWNoZUluZGV4IF0gPSBNYXRoLm1heCggTWF0aC5hYnMoIHR4dCApIHx8IDAsIGNvbE1heFsgY2FjaGVJbmRleCBdIHx8IDAgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQvLyBhbGxvdyBjb2xTcGFuIGluIHRib2R5XG5cdFx0XHRcdFx0XHRcdHNwYW4gPSBjZWxsLmNvbFNwYW4gLSAxO1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwYW4gPiAwICkge1xuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIGluZGV4IDw9IHNwYW4gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBkdXBsaWNhdGUgdGV4dCAob3Igbm90KSB0byBzcGFubmVkIGNvbHVtbnNcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGluc3RlYWQgb2Ygc2V0dGluZyBkdXBsaWNhdGUgc3BhbiB0byBlbXB0eSBzdHJpbmcsIHVzZSB0ZXh0RXh0cmFjdGlvbiB0byB0cnkgdG8gZ2V0IGEgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zNjQ0OTcxMS8xNDUzNDZcblx0XHRcdFx0XHRcdFx0XHRcdHR4dCA9IGMuZHVwbGljYXRlU3BhbiB8fCBpbmRleCA9PT0gMCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBjLnRleHRFeHRyYWN0aW9uICE9PSAnc3RyaW5nJyA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHMuZ2V0RWxlbWVudFRleHQoIGMsIGNlbGwsIGNhY2hlSW5kZXggKyBpbmRleCApIHx8ICcnIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnJztcblx0XHRcdFx0XHRcdFx0XHRcdHJvd0RhdGEucmF3WyBjYWNoZUluZGV4ICsgaW5kZXggXSA9IHR4dDtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbHNbIGNhY2hlSW5kZXggKyBpbmRleCBdID0gdHh0O1xuXHRcdFx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y2FjaGVJbmRleCArPSBzcGFuO1xuXHRcdFx0XHRcdFx0XHRcdG1heCArPSBzcGFuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjYWNoZUluZGV4Kys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGVuc3VyZSByb3dEYXRhIGlzIGFsd2F5cyBpbiB0aGUgc2FtZSBsb2NhdGlvbiAoYWZ0ZXIgdGhlIGxhc3QgY29sdW1uKVxuXHRcdFx0XHRcdGNvbHNbIGMuY29sdW1ucyBdID0gcm93RGF0YTtcblx0XHRcdFx0XHRjYWNoZS5ub3JtYWxpemVkWyBjYWNoZS5ub3JtYWxpemVkLmxlbmd0aCBdID0gY29scztcblx0XHRcdFx0fVxuXHRcdFx0XHRjYWNoZS5jb2xNYXggPSBjb2xNYXg7XG5cdFx0XHRcdC8vIHRvdGFsIHVwIHJvd3MsIG5vdCBpbmNsdWRpbmcgY2hpbGQgcm93c1xuXHRcdFx0XHRjLnRvdGFsUm93cyArPSBjYWNoZS5ub3JtYWxpemVkLmxlbmd0aDtcblxuXHRcdFx0fVxuXHRcdFx0aWYgKCBjLnNob3dQcm9jZXNzaW5nICkge1xuXHRcdFx0XHR0cy5pc1Byb2Nlc3NpbmcoIHRhYmxlICk7IC8vIHJlbW92ZSBwcm9jZXNzaW5nIGljb25cblx0XHRcdH1cblx0XHRcdGlmICggZGVidWcgKSB7XG5cdFx0XHRcdGxlbiA9IE1hdGgubWluKCA1LCBjLmNhY2hlWyAwIF0ubm9ybWFsaXplZC5sZW5ndGggKTtcblx0XHRcdFx0Y29uc29sZVsgY29uc29sZS5ncm91cCA/ICdncm91cCcgOiAnbG9nJyBdKCAnQnVpbGRpbmcgY2FjaGUgZm9yICcgKyBjLnRvdGFsUm93cyArXG5cdFx0XHRcdFx0JyByb3dzIChzaG93aW5nICcgKyBsZW4gKyAnIHJvd3MgaW4gbG9nKSBhbmQgJyArIGMuY29sdW1ucyArICcgY29sdW1ucycgK1xuXHRcdFx0XHRcdHRzLmJlbmNobWFyayggY2FjaGVUaW1lICkgKTtcblx0XHRcdFx0dmFsID0ge307XG5cdFx0XHRcdGZvciAoIGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBjLmNvbHVtbnM7IGNvbEluZGV4KysgKSB7XG5cdFx0XHRcdFx0Zm9yICggY2FjaGVJbmRleCA9IDA7IGNhY2hlSW5kZXggPCBsZW47IGNhY2hlSW5kZXgrKyApIHtcblx0XHRcdFx0XHRcdGlmICggIXZhbFsgJ3JvdzogJyArIGNhY2hlSW5kZXggXSApIHtcblx0XHRcdFx0XHRcdFx0dmFsWyAncm93OiAnICsgY2FjaGVJbmRleCBdID0ge307XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YWxbICdyb3c6ICcgKyBjYWNoZUluZGV4IF1bIGMuJGhlYWRlckluZGV4ZWRbIGNvbEluZGV4IF0udGV4dCgpIF0gPVxuXHRcdFx0XHRcdFx0XHRjLmNhY2hlWyAwIF0ubm9ybWFsaXplZFsgY2FjaGVJbmRleCBdWyBjb2xJbmRleCBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zb2xlWyBjb25zb2xlLnRhYmxlID8gJ3RhYmxlJyA6ICdsb2cnIF0oIHZhbCApO1xuXHRcdFx0XHRpZiAoIGNvbnNvbGUuZ3JvdXBFbmQgKSB7IGNvbnNvbGUuZ3JvdXBFbmQoKTsgfVxuXHRcdFx0fVxuXHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIGNhbGxiYWNrICkgKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCB0YWJsZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRnZXRDb2x1bW5UZXh0IDogZnVuY3Rpb24oIHRhYmxlLCBjb2x1bW4sIGNhbGxiYWNrLCByb3dGaWx0ZXIgKSB7XG5cdFx0XHR0YWJsZSA9ICQoIHRhYmxlIClbMF07XG5cdFx0XHR2YXIgdGJvZHlJbmRleCwgcm93SW5kZXgsIGNhY2hlLCByb3csIHRib2R5TGVuLCByb3dMZW4sIHJhdywgcGFyc2VkLCAkY2VsbCwgcmVzdWx0LFxuXHRcdFx0XHRoYXNDYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyxcblx0XHRcdFx0YWxsQ29sdW1ucyA9IGNvbHVtbiA9PT0gJ2FsbCcsXG5cdFx0XHRcdGRhdGEgPSB7IHJhdyA6IFtdLCBwYXJzZWQ6IFtdLCAkY2VsbDogW10gfSxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZztcblx0XHRcdGlmICggdHMuaXNFbXB0eU9iamVjdCggYyApICkge1xuXHRcdFx0XHRpZiAoIHRzLmRlYnVnKGMsICdjb3JlJykgKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnTm8gY2FjaGUgZm91bmQgLSBhYm9ydGluZyBnZXRDb2x1bW5UZXh0IGZ1bmN0aW9uIScgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGJvZHlMZW4gPSBjLiR0Ym9kaWVzLmxlbmd0aDtcblx0XHRcdFx0Zm9yICggdGJvZHlJbmRleCA9IDA7IHRib2R5SW5kZXggPCB0Ym9keUxlbjsgdGJvZHlJbmRleCsrICkge1xuXHRcdFx0XHRcdGNhY2hlID0gYy5jYWNoZVsgdGJvZHlJbmRleCBdLm5vcm1hbGl6ZWQ7XG5cdFx0XHRcdFx0cm93TGVuID0gY2FjaGUubGVuZ3RoO1xuXHRcdFx0XHRcdGZvciAoIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCByb3dMZW47IHJvd0luZGV4KysgKSB7XG5cdFx0XHRcdFx0XHRyb3cgPSBjYWNoZVsgcm93SW5kZXggXTtcblx0XHRcdFx0XHRcdGlmICggcm93RmlsdGVyICYmICFyb3dbIGMuY29sdW1ucyBdLiRyb3cuaXMoIHJvd0ZpbHRlciApICkge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJlc3VsdCA9IHRydWU7XG5cdFx0XHRcdFx0XHRwYXJzZWQgPSAoIGFsbENvbHVtbnMgKSA/IHJvdy5zbGljZSggMCwgYy5jb2x1bW5zICkgOiByb3dbIGNvbHVtbiBdO1xuXHRcdFx0XHRcdFx0cm93ID0gcm93WyBjLmNvbHVtbnMgXTtcblx0XHRcdFx0XHRcdHJhdyA9ICggYWxsQ29sdW1ucyApID8gcm93LnJhdyA6IHJvdy5yYXdbIGNvbHVtbiBdO1xuXHRcdFx0XHRcdFx0JGNlbGwgPSAoIGFsbENvbHVtbnMgKSA/IHJvdy4kcm93LmNoaWxkcmVuKCkgOiByb3cuJHJvdy5jaGlsZHJlbigpLmVxKCBjb2x1bW4gKTtcblx0XHRcdFx0XHRcdGlmICggaGFzQ2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGNhbGxiYWNrKHtcblx0XHRcdFx0XHRcdFx0XHR0Ym9keUluZGV4IDogdGJvZHlJbmRleCxcblx0XHRcdFx0XHRcdFx0XHRyb3dJbmRleCA6IHJvd0luZGV4LFxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlZCA6IHBhcnNlZCxcblx0XHRcdFx0XHRcdFx0XHRyYXcgOiByYXcsXG5cdFx0XHRcdFx0XHRcdFx0JHJvdyA6IHJvdy4kcm93LFxuXHRcdFx0XHRcdFx0XHRcdCRjZWxsIDogJGNlbGxcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIHJlc3VsdCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGRhdGEucGFyc2VkWyBkYXRhLnBhcnNlZC5sZW5ndGggXSA9IHBhcnNlZDtcblx0XHRcdFx0XHRcdFx0ZGF0YS5yYXdbIGRhdGEucmF3Lmxlbmd0aCBdID0gcmF3O1xuXHRcdFx0XHRcdFx0XHRkYXRhLiRjZWxsWyBkYXRhLiRjZWxsLmxlbmd0aCBdID0gJGNlbGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHJldHVybiBldmVyeXRoaW5nXG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKlxuXHRcdOKWiOKWiCAg4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWhCDilojilojilojilojilojiloQg4paE4paI4paI4paI4paI4paEIOKWiOKWiOKWiOKWiOKWiOKWiCDilojilojilojilojilojilohcblx0XHTilojiloggIOKWiOKWiCDilojilojiloTiloTilojilogg4paI4paIICDilojilogg4paI4paI4paE4paE4paI4paIICAg4paI4paIICAg4paI4paI4paE4paEXG5cdFx04paI4paIICDilojilogg4paI4paI4paA4paA4paAICDilojiloggIOKWiOKWiCDilojilojiloDiloDilojiloggICDilojiloggICDilojilojiloDiloBcblx0XHTiloDilojilojilojilojiloAg4paI4paIICAgICDilojilojilojilojilojiloAg4paI4paIICDilojiloggICDilojiloggICDilojilojilojilojilojilohcblx0XHQqL1xuXHRcdHNldEhlYWRlcnNDc3MgOiBmdW5jdGlvbiggYyApIHtcblx0XHRcdHZhciBpbmR4LCBjb2x1bW4sXG5cdFx0XHRcdGxpc3QgPSBjLnNvcnRMaXN0LFxuXHRcdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aCxcblx0XHRcdFx0bm9uZSA9IHRzLmNzcy5zb3J0Tm9uZSArICcgJyArIGMuY3NzTm9uZSxcblx0XHRcdFx0Y3NzID0gWyB0cy5jc3Muc29ydEFzYyArICcgJyArIGMuY3NzQXNjLCB0cy5jc3Muc29ydERlc2MgKyAnICcgKyBjLmNzc0Rlc2MgXSxcblx0XHRcdFx0Y3NzSWNvbiA9IFsgYy5jc3NJY29uQXNjLCBjLmNzc0ljb25EZXNjLCBjLmNzc0ljb25Ob25lIF0sXG5cdFx0XHRcdGFyaWEgPSBbICdhc2NlbmRpbmcnLCAnZGVzY2VuZGluZycgXSxcblx0XHRcdFx0dXBkYXRlQ29sdW1uU29ydCA9IGZ1bmN0aW9uKCRlbCwgaW5kZXgpIHtcblx0XHRcdFx0XHQkZWxcblx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggbm9uZSApXG5cdFx0XHRcdFx0XHQuYWRkQ2xhc3MoIGNzc1sgaW5kZXggXSApXG5cdFx0XHRcdFx0XHQuYXR0ciggJ2FyaWEtc29ydCcsIGFyaWFbIGluZGV4IF0gKVxuXHRcdFx0XHRcdFx0LmZpbmQoICcuJyArIHRzLmNzcy5pY29uIClcblx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggY3NzSWNvblsgMiBdIClcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyggY3NzSWNvblsgaW5kZXggXSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvLyBmaW5kIHRoZSBmb290ZXJcblx0XHRcdFx0JGV4dHJhcyA9IGMuJHRhYmxlXG5cdFx0XHRcdFx0LmZpbmQoICd0Zm9vdCB0cicgKVxuXHRcdFx0XHRcdC5jaGlsZHJlbiggJ3RkLCB0aCcgKVxuXHRcdFx0XHRcdC5hZGQoICQoIGMubmFtZXNwYWNlICsgJ19leHRyYV9oZWFkZXJzJyApIClcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIGNzcy5qb2luKCAnICcgKSApLFxuXHRcdFx0XHQvLyByZW1vdmUgYWxsIGhlYWRlciBpbmZvcm1hdGlvblxuXHRcdFx0XHQkc29ydGVkID0gYy4kaGVhZGVyc1xuXHRcdFx0XHRcdC5hZGQoICQoICd0aGVhZCAnICsgYy5uYW1lc3BhY2UgKyAnX2V4dHJhX2hlYWRlcnMnICkgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggY3NzLmpvaW4oICcgJyApIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIG5vbmUgKVxuXHRcdFx0XHRcdC5hdHRyKCAnYXJpYS1zb3J0JywgJ25vbmUnIClcblx0XHRcdFx0XHQuZmluZCggJy4nICsgdHMuY3NzLmljb24gKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggY3NzSWNvbi5qb2luKCAnICcgKSApXG5cdFx0XHRcdFx0LmVuZCgpO1xuXHRcdFx0Ly8gYWRkIGNzcyBub25lIHRvIGFsbCBzb3J0YWJsZSBoZWFkZXJzXG5cdFx0XHQkc29ydGVkXG5cdFx0XHRcdC5ub3QoICcuc29ydGVyLWZhbHNlJyApXG5cdFx0XHRcdC5maW5kKCAnLicgKyB0cy5jc3MuaWNvbiApXG5cdFx0XHRcdC5hZGRDbGFzcyggY3NzSWNvblsgMiBdICk7XG5cdFx0XHQvLyBhZGQgZGlzYWJsZWQgY3NzIGljb24gY2xhc3Ncblx0XHRcdGlmICggYy5jc3NJY29uRGlzYWJsZWQgKSB7XG5cdFx0XHRcdCRzb3J0ZWRcblx0XHRcdFx0XHQuZmlsdGVyKCAnLnNvcnRlci1mYWxzZScgKVxuXHRcdFx0XHRcdC5maW5kKCAnLicgKyB0cy5jc3MuaWNvbiApXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBjLmNzc0ljb25EaXNhYmxlZCApO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0Ly8gZGlyZWN0aW9uID0gMiBtZWFucyByZXNldCFcblx0XHRcdFx0aWYgKCBsaXN0WyBpbmR4IF1bIDEgXSAhPT0gMiApIHtcblx0XHRcdFx0XHQvLyBtdWx0aWNvbHVtbiBzb3J0aW5nIHVwZGF0aW5nIC0gc2VlICMxMDA1XG5cdFx0XHRcdFx0Ly8gLm5vdChmdW5jdGlvbigpIHt9KSBuZWVkcyBqUXVlcnkgMS40XG5cdFx0XHRcdFx0Ly8gZmlsdGVyKGZ1bmN0aW9uKGksIGVsKSB7fSkgPC0gZWwgaXMgdW5kZWZpbmVkIGluIGpRdWVyeSB2MS4yLjZcblx0XHRcdFx0XHQkc29ydGVkID0gYy4kaGVhZGVycy5maWx0ZXIoIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdFx0Ly8gb25seSBpbmNsdWRlIGhlYWRlcnMgdGhhdCBhcmUgaW4gdGhlIHNvcnRMaXN0ICh0aGlzIGluY2x1ZGVzIGNvbHNwYW5zKVxuXHRcdFx0XHRcdFx0dmFyIGluY2x1ZGUgPSB0cnVlLFxuXHRcdFx0XHRcdFx0XHQkZWwgPSBjLiRoZWFkZXJzLmVxKCBpICksXG5cdFx0XHRcdFx0XHRcdGNvbCA9IHBhcnNlSW50KCAkZWwuYXR0ciggJ2RhdGEtY29sdW1uJyApLCAxMCApLFxuXHRcdFx0XHRcdFx0XHRlbmQgPSBjb2wgKyB0cy5nZXRDbG9zZXN0KCAkZWwsICd0aCwgdGQnIClbMF0uY29sU3Bhbjtcblx0XHRcdFx0XHRcdGZvciAoIDsgY29sIDwgZW5kOyBjb2wrKyApIHtcblx0XHRcdFx0XHRcdFx0aW5jbHVkZSA9IGluY2x1ZGUgPyBpbmNsdWRlIHx8IHRzLmlzVmFsdWVJbkFycmF5KCBjb2wsIGMuc29ydExpc3QgKSA+IC0xIDogZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gaW5jbHVkZTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIGNob29zZSB0aGUgOmxhc3QgaW4gY2FzZSB0aGVyZSBhcmUgbmVzdGVkIGNvbHVtbnNcblx0XHRcdFx0XHQkc29ydGVkID0gJHNvcnRlZFxuXHRcdFx0XHRcdFx0Lm5vdCggJy5zb3J0ZXItZmFsc2UnIClcblx0XHRcdFx0XHRcdC5maWx0ZXIoICdbZGF0YS1jb2x1bW49XCInICsgbGlzdFsgaW5keCBdWyAwIF0gKyAnXCJdJyArICggbGVuID09PSAxID8gJzpsYXN0JyA6ICcnICkgKTtcblx0XHRcdFx0XHRpZiAoICRzb3J0ZWQubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0Zm9yICggY29sdW1uID0gMDsgY29sdW1uIDwgJHNvcnRlZC5sZW5ndGg7IGNvbHVtbisrICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEkc29ydGVkWyBjb2x1bW4gXS5zb3J0RGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlQ29sdW1uU29ydCggJHNvcnRlZC5lcSggY29sdW1uICksIGxpc3RbIGluZHggXVsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gYWRkIHNvcnRlZCBjbGFzcyB0byBmb290ZXIgJiBleHRyYSBoZWFkZXJzLCBpZiB0aGV5IGV4aXN0XG5cdFx0XHRcdFx0aWYgKCAkZXh0cmFzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdHVwZGF0ZUNvbHVtblNvcnQoICRleHRyYXMuZmlsdGVyKCAnW2RhdGEtY29sdW1uPVwiJyArIGxpc3RbIGluZHggXVsgMCBdICsgJ1wiXScgKSwgbGlzdFsgaW5keCBdWyAxIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIGFkZCB2ZXJib3NlIGFyaWEgbGFiZWxzXG5cdFx0XHRsZW4gPSBjLiRoZWFkZXJzLmxlbmd0aDtcblx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdHRzLnNldENvbHVtbkFyaWFMYWJlbCggYywgYy4kaGVhZGVycy5lcSggaW5keCApICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGdldENsb3Nlc3QgOiBmdW5jdGlvbiggJGVsLCBzZWxlY3RvciApIHtcblx0XHRcdC8vIGpRdWVyeSB2MS4yLjYgZG9lc24ndCBoYXZlIGNsb3Nlc3QoKVxuXHRcdFx0aWYgKCAkLmZuLmNsb3Nlc3QgKSB7XG5cdFx0XHRcdHJldHVybiAkZWwuY2xvc2VzdCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAkZWwuaXMoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHQkZWwgOlxuXHRcdFx0XHQkZWwucGFyZW50cyggc2VsZWN0b3IgKS5maWx0ZXIoICc6Zmlyc3QnICk7XG5cdFx0fSxcblxuXHRcdC8vIG5leHRTb3J0IChvcHRpb25hbCksIGxldHMgeW91IGRpc2FibGUgbmV4dCBzb3J0IHRleHRcblx0XHRzZXRDb2x1bW5BcmlhTGFiZWwgOiBmdW5jdGlvbiggYywgJGhlYWRlciwgbmV4dFNvcnQgKSB7XG5cdFx0XHRpZiAoICRoZWFkZXIubGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgY29sdW1uID0gcGFyc2VJbnQoICRoZWFkZXIuYXR0ciggJ2RhdGEtY29sdW1uJyApLCAxMCApLFxuXHRcdFx0XHRcdHZhcnMgPSBjLnNvcnRWYXJzWyBjb2x1bW4gXSxcblx0XHRcdFx0XHR0bXAgPSAkaGVhZGVyLmhhc0NsYXNzKCB0cy5jc3Muc29ydEFzYyApID9cblx0XHRcdFx0XHRcdCdzb3J0QXNjJyA6XG5cdFx0XHRcdFx0XHQkaGVhZGVyLmhhc0NsYXNzKCB0cy5jc3Muc29ydERlc2MgKSA/ICdzb3J0RGVzYycgOiAnc29ydE5vbmUnLFxuXHRcdFx0XHRcdHR4dCA9ICQudHJpbSggJGhlYWRlci50ZXh0KCkgKSArICc6ICcgKyB0cy5sYW5ndWFnZVsgdG1wIF07XG5cdFx0XHRcdGlmICggJGhlYWRlci5oYXNDbGFzcyggJ3NvcnRlci1mYWxzZScgKSB8fCBuZXh0U29ydCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0dHh0ICs9IHRzLmxhbmd1YWdlLnNvcnREaXNhYmxlZDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0bXAgPSAoIHZhcnMuY291bnQgKyAxICkgJSB2YXJzLm9yZGVyLmxlbmd0aDtcblx0XHRcdFx0XHRuZXh0U29ydCA9IHZhcnMub3JkZXJbIHRtcCBdO1xuXHRcdFx0XHRcdC8vIGlmIG5leHRTb3J0XG5cdFx0XHRcdFx0dHh0ICs9IHRzLmxhbmd1YWdlWyBuZXh0U29ydCA9PT0gMCA/ICduZXh0QXNjJyA6IG5leHRTb3J0ID09PSAxID8gJ25leHREZXNjJyA6ICduZXh0Tm9uZScgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkaGVhZGVyLmF0dHIoICdhcmlhLWxhYmVsJywgdHh0ICk7XG5cdFx0XHRcdGlmICh2YXJzLnNvcnRlZEJ5KSB7XG5cdFx0XHRcdFx0JGhlYWRlci5hdHRyKCAnZGF0YS1zb3J0ZWRCeScsIHZhcnMuc29ydGVkQnkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkaGVhZGVyLnJlbW92ZUF0dHIoJ2RhdGEtc29ydGVkQnknKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHR1cGRhdGVIZWFkZXIgOiBmdW5jdGlvbiggYyApIHtcblx0XHRcdHZhciBpbmRleCwgaXNEaXNhYmxlZCwgJGhlYWRlciwgY29sLFxuXHRcdFx0XHR0YWJsZSA9IGMudGFibGUsXG5cdFx0XHRcdGxlbiA9IGMuJGhlYWRlcnMubGVuZ3RoO1xuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbjsgaW5kZXgrKyApIHtcblx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlcnMuZXEoIGluZGV4ICk7XG5cdFx0XHRcdGNvbCA9IHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCBjLmhlYWRlcnMsIGluZGV4LCB0cnVlICk7XG5cdFx0XHRcdC8vIGFkZCAnc29ydGVyLWZhbHNlJyBjbGFzcyBpZiAncGFyc2VyLWZhbHNlJyBpcyBzZXRcblx0XHRcdFx0aXNEaXNhYmxlZCA9IHRzLmdldERhdGEoICRoZWFkZXIsIGNvbCwgJ3NvcnRlcicgKSA9PT0gJ2ZhbHNlJyB8fCB0cy5nZXREYXRhKCAkaGVhZGVyLCBjb2wsICdwYXJzZXInICkgPT09ICdmYWxzZSc7XG5cdFx0XHRcdHRzLnNldENvbHVtblNvcnQoIGMsICRoZWFkZXIsIGlzRGlzYWJsZWQgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0Q29sdW1uU29ydCA6IGZ1bmN0aW9uKCBjLCAkaGVhZGVyLCBpc0Rpc2FibGVkICkge1xuXHRcdFx0dmFyIGlkID0gYy50YWJsZS5pZDtcblx0XHRcdCRoZWFkZXJbIDAgXS5zb3J0RGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuXHRcdFx0JGhlYWRlclsgaXNEaXNhYmxlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnIF0oICdzb3J0ZXItZmFsc2UnIClcblx0XHRcdFx0LmF0dHIoICdhcmlhLWRpc2FibGVkJywgJycgKyBpc0Rpc2FibGVkICk7XG5cdFx0XHQvLyBkaXNhYmxlIHRhYiBpbmRleCBvbiBkaXNhYmxlZCBjZWxsc1xuXHRcdFx0aWYgKCBjLnRhYkluZGV4ICkge1xuXHRcdFx0XHRpZiAoIGlzRGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0JGhlYWRlci5yZW1vdmVBdHRyKCAndGFiaW5kZXgnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGhlYWRlci5hdHRyKCAndGFiaW5kZXgnLCAnMCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gYXJpYS1jb250cm9scyAtIHJlcXVpcmVzIHRhYmxlIElEXG5cdFx0XHRpZiAoIGlkICkge1xuXHRcdFx0XHRpZiAoIGlzRGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0JGhlYWRlci5yZW1vdmVBdHRyKCAnYXJpYS1jb250cm9scycgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkaGVhZGVyLmF0dHIoICdhcmlhLWNvbnRyb2xzJywgaWQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHR1cGRhdGVIZWFkZXJTb3J0Q291bnQgOiBmdW5jdGlvbiggYywgbGlzdCApIHtcblx0XHRcdHZhciBjb2wsIGRpciwgZ3JvdXAsIGluZHgsIHByaW1hcnksIHRlbXAsIHZhbCwgb3JkZXIsXG5cdFx0XHRcdHNvcnRMaXN0ID0gbGlzdCB8fCBjLnNvcnRMaXN0LFxuXHRcdFx0XHRsZW4gPSBzb3J0TGlzdC5sZW5ndGg7XG5cdFx0XHRjLnNvcnRMaXN0ID0gW107XG5cdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrICkge1xuXHRcdFx0XHR2YWwgPSBzb3J0TGlzdFsgaW5keCBdO1xuXHRcdFx0XHQvLyBlbnN1cmUgYWxsIHNvcnRMaXN0IHZhbHVlcyBhcmUgbnVtZXJpYyAtIGZpeGVzICMxMjdcblx0XHRcdFx0Y29sID0gcGFyc2VJbnQoIHZhbFsgMCBdLCAxMCApO1xuXHRcdFx0XHQvLyBwcmV2ZW50cyBlcnJvciBpZiBzb3J0b24gYXJyYXkgaXMgd3Jvbmdcblx0XHRcdFx0aWYgKCBjb2wgPCBjLmNvbHVtbnMgKSB7XG5cblx0XHRcdFx0XHQvLyBzZXQgb3JkZXIgaWYgbm90IGFscmVhZHkgZGVmaW5lZCAtIGR1ZSB0byBjb2xzcGFuIGhlYWRlciB3aXRob3V0IGFzc29jaWF0ZWQgaGVhZGVyIGNlbGxcblx0XHRcdFx0XHQvLyBhZGRpbmcgdGhpcyBjaGVjayBwcmV2ZW50cyBhIGphdmFzY3JpcHQgZXJyb3Jcblx0XHRcdFx0XHRpZiAoICFjLnNvcnRWYXJzWyBjb2wgXS5vcmRlciApIHtcblx0XHRcdFx0XHRcdGlmICggdHMuZ2V0T3JkZXIoIGMuc29ydEluaXRpYWxPcmRlciApICkge1xuXHRcdFx0XHRcdFx0XHRvcmRlciA9IGMuc29ydFJlc2V0ID8gWyAxLCAwLCAyIF0gOiBbIDEsIDAgXTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG9yZGVyID0gYy5zb3J0UmVzZXQgPyBbIDAsIDEsIDIgXSA6IFsgMCwgMSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sIF0ub3JkZXIgPSBvcmRlcjtcblx0XHRcdFx0XHRcdGMuc29ydFZhcnNbIGNvbCBdLmNvdW50ID0gMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvcmRlciA9IGMuc29ydFZhcnNbIGNvbCBdLm9yZGVyO1xuXHRcdFx0XHRcdGRpciA9ICggJycgKyB2YWxbIDEgXSApLm1hdGNoKCAvXigxfGR8c3xvfG4pLyApO1xuXHRcdFx0XHRcdGRpciA9IGRpciA/IGRpclsgMCBdIDogJyc7XG5cdFx0XHRcdFx0Ly8gMC8oYSlzYyAoZGVmYXVsdCksIDEvKGQpZXNjLCAocylhbWUsIChvKXBwb3NpdGUsIChuKWV4dFxuXHRcdFx0XHRcdHN3aXRjaCAoIGRpciApIHtcblx0XHRcdFx0XHRcdGNhc2UgJzEnIDogY2FzZSAnZCcgOiAvLyBkZXNjZW5kaW5nXG5cdFx0XHRcdFx0XHRcdGRpciA9IDE7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAncycgOiAvLyBzYW1lIGRpcmVjdGlvbiAoYXMgcHJpbWFyeSBjb2x1bW4pXG5cdFx0XHRcdFx0XHRcdC8vIGlmIHByaW1hcnkgc29ydCBpcyBzZXQgdG8gJ3MnLCBtYWtlIGl0IGFzY2VuZGluZ1xuXHRcdFx0XHRcdFx0XHRkaXIgPSBwcmltYXJ5IHx8IDA7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAnbycgOlxuXHRcdFx0XHRcdFx0XHR0ZW1wID0gb3JkZXJbICggcHJpbWFyeSB8fCAwICkgJSBvcmRlci5sZW5ndGggXTtcblx0XHRcdFx0XHRcdFx0Ly8gb3Bwb3NpdGUgb2YgcHJpbWFyeSBjb2x1bW47IGJ1dCByZXNldHMgaWYgcHJpbWFyeSByZXNldHNcblx0XHRcdFx0XHRcdFx0ZGlyID0gdGVtcCA9PT0gMCA/IDEgOiB0ZW1wID09PSAxID8gMCA6IDI7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAnbicgOlxuXHRcdFx0XHRcdFx0XHRkaXIgPSBvcmRlclsgKCArK2Muc29ydFZhcnNbIGNvbCBdLmNvdW50ICkgJSBvcmRlci5sZW5ndGggXTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRkZWZhdWx0IDogLy8gYXNjZW5kaW5nXG5cdFx0XHRcdFx0XHRcdGRpciA9IDA7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwcmltYXJ5ID0gaW5keCA9PT0gMCA/IGRpciA6IHByaW1hcnk7XG5cdFx0XHRcdFx0Z3JvdXAgPSBbIGNvbCwgcGFyc2VJbnQoIGRpciwgMTAgKSB8fCAwIF07XG5cdFx0XHRcdFx0Yy5zb3J0TGlzdFsgYy5zb3J0TGlzdC5sZW5ndGggXSA9IGdyb3VwO1xuXHRcdFx0XHRcdGRpciA9ICQuaW5BcnJheSggZ3JvdXBbIDEgXSwgb3JkZXIgKTsgLy8gZml4ZXMgaXNzdWUgIzE2N1xuXHRcdFx0XHRcdGMuc29ydFZhcnNbIGNvbCBdLmNvdW50ID0gZGlyID49IDAgPyBkaXIgOiBncm91cFsgMSBdICUgb3JkZXIubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUFsbCA6IGZ1bmN0aW9uKCBjLCByZXNvcnQsIGNhbGxiYWNrICkge1xuXHRcdFx0dmFyIHRhYmxlID0gYy50YWJsZTtcblx0XHRcdHRhYmxlLmlzVXBkYXRpbmcgPSB0cnVlO1xuXHRcdFx0dHMucmVmcmVzaFdpZGdldHMoIHRhYmxlLCB0cnVlLCB0cnVlICk7XG5cdFx0XHR0cy5idWlsZEhlYWRlcnMoIGMgKTtcblx0XHRcdHRzLmJpbmRFdmVudHMoIHRhYmxlLCBjLiRoZWFkZXJzLCB0cnVlICk7XG5cdFx0XHR0cy5iaW5kTWV0aG9kcyggYyApO1xuXHRcdFx0dHMuY29tbW9uVXBkYXRlKCBjLCByZXNvcnQsIGNhbGxiYWNrICk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZSA6IGZ1bmN0aW9uKCBjLCByZXNvcnQsIGNhbGxiYWNrICkge1xuXHRcdFx0dmFyIHRhYmxlID0gYy50YWJsZTtcblx0XHRcdHRhYmxlLmlzVXBkYXRpbmcgPSB0cnVlO1xuXHRcdFx0Ly8gdXBkYXRlIHNvcnRpbmcgKGlmIGVuYWJsZWQvZGlzYWJsZWQpXG5cdFx0XHR0cy51cGRhdGVIZWFkZXIoIGMgKTtcblx0XHRcdHRzLmNvbW1vblVwZGF0ZSggYywgcmVzb3J0LCBjYWxsYmFjayApO1xuXHRcdH0sXG5cblx0XHQvLyBzaW1wbGUgaGVhZGVyIHVwZGF0ZSAtIHNlZSAjOTg5XG5cdFx0dXBkYXRlSGVhZGVycyA6IGZ1bmN0aW9uKCBjLCBjYWxsYmFjayApIHtcblx0XHRcdGMudGFibGUuaXNVcGRhdGluZyA9IHRydWU7XG5cdFx0XHR0cy5idWlsZEhlYWRlcnMoIGMgKTtcblx0XHRcdHRzLmJpbmRFdmVudHMoIGMudGFibGUsIGMuJGhlYWRlcnMsIHRydWUgKTtcblx0XHRcdHRzLnJlc29ydENvbXBsZXRlKCBjLCBjYWxsYmFjayApO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVDZWxsIDogZnVuY3Rpb24oIGMsIGNlbGwsIHJlc29ydCwgY2FsbGJhY2sgKSB7XG5cdFx0XHQvLyB1cGRhdGVDZWxsIGZvciBjaGlsZCByb3dzIGlzIGEgbWVzcyAtIHdlJ2xsIGlnbm9yZSB0aGVtIGZvciBub3dcblx0XHRcdC8vIGV2ZW50dWFsbHkgSSdsbCBicmVhayBvdXQgdGhlIFwidXBkYXRlXCIgcm93IGNhY2hlIGNvZGUgdG8gbWFrZSBldmVyeXRoaW5nIGNvbnNpc3RlbnRcblx0XHRcdGlmICggJCggY2VsbCApLmNsb3Nlc3QoICd0cicgKS5oYXNDbGFzcyggYy5jc3NDaGlsZFJvdyApICkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1RhYmxlc29ydGVyIFdhcm5pbmchIFwidXBkYXRlQ2VsbFwiIGZvciBjaGlsZCByb3cgY29udGVudCBoYXMgYmVlbiBkaXNhYmxlZCwgdXNlIFwidXBkYXRlXCIgaW5zdGVhZCcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRzLmlzRW1wdHlPYmplY3QoIGMuY2FjaGUgKSApIHtcblx0XHRcdFx0Ly8gZW1wdHkgdGFibGUsIGRvIGFuIHVwZGF0ZSBpbnN0ZWFkIC0gZml4ZXMgIzEwOTlcblx0XHRcdFx0dHMudXBkYXRlSGVhZGVyKCBjICk7XG5cdFx0XHRcdHRzLmNvbW1vblVwZGF0ZSggYywgcmVzb3J0LCBjYWxsYmFjayApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjLnRhYmxlLmlzVXBkYXRpbmcgPSB0cnVlO1xuXHRcdFx0Yy4kdGFibGUuZmluZCggYy5zZWxlY3RvclJlbW92ZSApLnJlbW92ZSgpO1xuXHRcdFx0Ly8gZ2V0IHBvc2l0aW9uIGZyb20gdGhlIGRvbVxuXHRcdFx0dmFyIHRtcCwgaW5keCwgcm93LCBpY2VsbCwgY2FjaGUsIGxlbixcblx0XHRcdFx0JHRib2RpZXMgPSBjLiR0Ym9kaWVzLFxuXHRcdFx0XHQkY2VsbCA9ICQoIGNlbGwgKSxcblx0XHRcdFx0Ly8gdXBkYXRlIGNhY2hlIC0gZm9ybWF0OiBmdW5jdGlvbiggcywgdGFibGUsIGNlbGwsIGNlbGxJbmRleCApXG5cdFx0XHRcdC8vIG5vIGNsb3Nlc3QgaW4galF1ZXJ5IHYxLjIuNlxuXHRcdFx0XHR0Ym9keUluZGV4ID0gJHRib2RpZXMuaW5kZXgoIHRzLmdldENsb3Nlc3QoICRjZWxsLCAndGJvZHknICkgKSxcblx0XHRcdFx0dGJjYWNoZSA9IGMuY2FjaGVbIHRib2R5SW5kZXggXSxcblx0XHRcdFx0JHJvdyA9IHRzLmdldENsb3Nlc3QoICRjZWxsLCAndHInICk7XG5cdFx0XHRjZWxsID0gJGNlbGxbIDAgXTsgLy8gaW4gY2FzZSBjZWxsIGlzIGEgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gdGJvZHkgbWF5IG5vdCBleGlzdCBpZiB1cGRhdGUgaXMgaW5pdGlhbGl6ZWQgd2hpbGUgdGJvZHkgaXMgcmVtb3ZlZCBmb3IgcHJvY2Vzc2luZ1xuXHRcdFx0aWYgKCAkdGJvZGllcy5sZW5ndGggJiYgdGJvZHlJbmRleCA+PSAwICkge1xuXHRcdFx0XHRyb3cgPSAkdGJvZGllcy5lcSggdGJvZHlJbmRleCApLmZpbmQoICd0cicgKS5ub3QoICcuJyArIGMuY3NzQ2hpbGRSb3cgKS5pbmRleCggJHJvdyApO1xuXHRcdFx0XHRjYWNoZSA9IHRiY2FjaGUubm9ybWFsaXplZFsgcm93IF07XG5cdFx0XHRcdGxlbiA9ICRyb3dbIDAgXS5jZWxscy5sZW5ndGg7XG5cdFx0XHRcdGlmICggbGVuICE9PSBjLmNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0Ly8gY29sc3BhbiBpbiBoZXJlIHNvbWV3aGVyZSFcblx0XHRcdFx0XHRpY2VsbCA9IDA7XG5cdFx0XHRcdFx0dG1wID0gZmFsc2U7XG5cdFx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0XHRcdGlmICggIXRtcCAmJiAkcm93WyAwIF0uY2VsbHNbIGluZHggXSAhPT0gY2VsbCApIHtcblx0XHRcdFx0XHRcdFx0aWNlbGwgKz0gJHJvd1sgMCBdLmNlbGxzWyBpbmR4IF0uY29sU3Bhbjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRtcCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGljZWxsID0gJGNlbGwuaW5kZXgoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0bXAgPSB0cy5nZXRFbGVtZW50VGV4dCggYywgY2VsbCwgaWNlbGwgKTsgLy8gcmF3XG5cdFx0XHRcdGNhY2hlWyBjLmNvbHVtbnMgXS5yYXdbIGljZWxsIF0gPSB0bXA7XG5cdFx0XHRcdHRtcCA9IHRzLmdldFBhcnNlZFRleHQoIGMsIGNlbGwsIGljZWxsLCB0bXAgKTtcblx0XHRcdFx0Y2FjaGVbIGljZWxsIF0gPSB0bXA7IC8vIHBhcnNlZFxuXHRcdFx0XHRpZiAoICggYy5wYXJzZXJzWyBpY2VsbCBdLnR5cGUgfHwgJycgKS50b0xvd2VyQ2FzZSgpID09PSAnbnVtZXJpYycgKSB7XG5cdFx0XHRcdFx0Ly8gdXBkYXRlIGNvbHVtbiBtYXggdmFsdWUgKGlnbm9yZSBzaWduKVxuXHRcdFx0XHRcdHRiY2FjaGUuY29sTWF4WyBpY2VsbCBdID0gTWF0aC5tYXgoIE1hdGguYWJzKCB0bXAgKSB8fCAwLCB0YmNhY2hlLmNvbE1heFsgaWNlbGwgXSB8fCAwICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dG1wID0gcmVzb3J0ICE9PSAndW5kZWZpbmVkJyA/IHJlc29ydCA6IGMucmVzb3J0O1xuXHRcdFx0XHRpZiAoIHRtcCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0Ly8gd2lkZ2V0cyB3aWxsIGJlIHJlYXBwbGllZFxuXHRcdFx0XHRcdHRzLmNoZWNrUmVzb3J0KCBjLCB0bXAsIGNhbGxiYWNrICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gZG9uJ3QgcmVhcHBseSB3aWRnZXRzIGlzIHJlc29ydCBpcyBmYWxzZSwganVzdCBpbiBjYXNlIGl0IGNhdXNlc1xuXHRcdFx0XHRcdC8vIHByb2JsZW1zIHdpdGggZWxlbWVudCBmb2N1c1xuXHRcdFx0XHRcdHRzLnJlc29ydENvbXBsZXRlKCBjLCBjYWxsYmFjayApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIHRzLmRlYnVnKGMsICdjb3JlJykgKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciggJ3VwZGF0ZUNlbGwgYWJvcnRlZCwgdGJvZHkgbWlzc2luZyBvciBub3Qgd2l0aGluIHRoZSBpbmRpY2F0ZWQgdGFibGUnICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Yy50YWJsZS5pc1VwZGF0aW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGFkZFJvd3MgOiBmdW5jdGlvbiggYywgJHJvdywgcmVzb3J0LCBjYWxsYmFjayApIHtcblx0XHRcdHZhciB0eHQsIHZhbCwgdGJvZHlJbmRleCwgcm93SW5kZXgsIHJvd3MsIGNlbGxJbmRleCwgbGVuLCBvcmRlcixcblx0XHRcdFx0Y2FjaGVJbmRleCwgcm93RGF0YSwgY2VsbHMsIGNlbGwsIHNwYW4sXG5cdFx0XHRcdC8vIGFsbG93IHBhc3NpbmcgYSByb3cgc3RyaW5nIGlmIG9ubHkgb25lIG5vbi1pbmZvIHRib2R5IGV4aXN0cyBpbiB0aGUgdGFibGVcblx0XHRcdFx0dmFsaWQgPSB0eXBlb2YgJHJvdyA9PT0gJ3N0cmluZycgJiYgYy4kdGJvZGllcy5sZW5ndGggPT09IDEgJiYgLzx0ci8udGVzdCggJHJvdyB8fCAnJyApLFxuXHRcdFx0XHR0YWJsZSA9IGMudGFibGU7XG5cdFx0XHRpZiAoIHZhbGlkICkge1xuXHRcdFx0XHQkcm93ID0gJCggJHJvdyApO1xuXHRcdFx0XHRjLiR0Ym9kaWVzLmFwcGVuZCggJHJvdyApO1xuXHRcdFx0fSBlbHNlIGlmIChcblx0XHRcdFx0ISRyb3cgfHxcblx0XHRcdFx0Ly8gcm93IGlzIGEgalF1ZXJ5IG9iamVjdD9cblx0XHRcdFx0ISggJHJvdyBpbnN0YW5jZW9mICQgKSB8fFxuXHRcdFx0XHQvLyByb3cgY29udGFpbmVkIGluIHRoZSB0YWJsZT9cblx0XHRcdFx0KCB0cy5nZXRDbG9zZXN0KCAkcm93LCAndGFibGUnIClbIDAgXSAhPT0gYy50YWJsZSApXG5cdFx0XHQpIHtcblx0XHRcdFx0aWYgKCB0cy5kZWJ1ZyhjLCAnY29yZScpICkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoICdhZGRSb3dzIG1ldGhvZCByZXF1aXJlcyAoMSkgYSBqUXVlcnkgc2VsZWN0b3IgcmVmZXJlbmNlIHRvIHJvd3MgdGhhdCBoYXZlIGFscmVhZHkgJyArXG5cdFx0XHRcdFx0XHQnYmVlbiBhZGRlZCB0byB0aGUgdGFibGUsIG9yICgyKSByb3cgSFRNTCBzdHJpbmcgdG8gYmUgYWRkZWQgdG8gYSB0YWJsZSB3aXRoIG9ubHkgb25lIHRib2R5JyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHRhYmxlLmlzVXBkYXRpbmcgPSB0cnVlO1xuXHRcdFx0aWYgKCB0cy5pc0VtcHR5T2JqZWN0KCBjLmNhY2hlICkgKSB7XG5cdFx0XHRcdC8vIGVtcHR5IHRhYmxlLCBkbyBhbiB1cGRhdGUgaW5zdGVhZCAtIGZpeGVzICM0NTBcblx0XHRcdFx0dHMudXBkYXRlSGVhZGVyKCBjICk7XG5cdFx0XHRcdHRzLmNvbW1vblVwZGF0ZSggYywgcmVzb3J0LCBjYWxsYmFjayApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cm93cyA9ICRyb3cuZmlsdGVyKCAndHInICkuYXR0ciggJ3JvbGUnLCAncm93JyApLmxlbmd0aDtcblx0XHRcdFx0dGJvZHlJbmRleCA9IGMuJHRib2RpZXMuaW5kZXgoICRyb3cucGFyZW50cyggJ3Rib2R5JyApLmZpbHRlciggJzpmaXJzdCcgKSApO1xuXHRcdFx0XHQvLyBmaXhlcyBhZGRpbmcgcm93cyB0byBhbiBlbXB0eSB0YWJsZSAtIHNlZSBpc3N1ZSAjMTc5XG5cdFx0XHRcdGlmICggISggYy5wYXJzZXJzICYmIGMucGFyc2Vycy5sZW5ndGggKSApIHtcblx0XHRcdFx0XHR0cy5zZXR1cFBhcnNlcnMoIGMgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBhZGQgZWFjaCByb3dcblx0XHRcdFx0Zm9yICggcm93SW5kZXggPSAwOyByb3dJbmRleCA8IHJvd3M7IHJvd0luZGV4KysgKSB7XG5cdFx0XHRcdFx0Y2FjaGVJbmRleCA9IDA7XG5cdFx0XHRcdFx0bGVuID0gJHJvd1sgcm93SW5kZXggXS5jZWxscy5sZW5ndGg7XG5cdFx0XHRcdFx0b3JkZXIgPSBjLmNhY2hlWyB0Ym9keUluZGV4IF0ubm9ybWFsaXplZC5sZW5ndGg7XG5cdFx0XHRcdFx0Y2VsbHMgPSBbXTtcblx0XHRcdFx0XHRyb3dEYXRhID0ge1xuXHRcdFx0XHRcdFx0Y2hpbGQgOiBbXSxcblx0XHRcdFx0XHRcdHJhdyA6IFtdLFxuXHRcdFx0XHRcdFx0JHJvdyA6ICRyb3cuZXEoIHJvd0luZGV4ICksXG5cdFx0XHRcdFx0XHRvcmRlciA6IG9yZGVyXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHQvLyBhZGQgZWFjaCBjZWxsXG5cdFx0XHRcdFx0Zm9yICggY2VsbEluZGV4ID0gMDsgY2VsbEluZGV4IDwgbGVuOyBjZWxsSW5kZXgrKyApIHtcblx0XHRcdFx0XHRcdGNlbGwgPSAkcm93WyByb3dJbmRleCBdLmNlbGxzWyBjZWxsSW5kZXggXTtcblx0XHRcdFx0XHRcdHR4dCA9IHRzLmdldEVsZW1lbnRUZXh0KCBjLCBjZWxsLCBjYWNoZUluZGV4ICk7XG5cdFx0XHRcdFx0XHRyb3dEYXRhLnJhd1sgY2FjaGVJbmRleCBdID0gdHh0O1xuXHRcdFx0XHRcdFx0dmFsID0gdHMuZ2V0UGFyc2VkVGV4dCggYywgY2VsbCwgY2FjaGVJbmRleCwgdHh0ICk7XG5cdFx0XHRcdFx0XHRjZWxsc1sgY2FjaGVJbmRleCBdID0gdmFsO1xuXHRcdFx0XHRcdFx0aWYgKCAoIGMucGFyc2Vyc1sgY2FjaGVJbmRleCBdLnR5cGUgfHwgJycgKS50b0xvd2VyQ2FzZSgpID09PSAnbnVtZXJpYycgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHVwZGF0ZSBjb2x1bW4gbWF4IHZhbHVlIChpZ25vcmUgc2lnbilcblx0XHRcdFx0XHRcdFx0Yy5jYWNoZVsgdGJvZHlJbmRleCBdLmNvbE1heFsgY2FjaGVJbmRleCBdID1cblx0XHRcdFx0XHRcdFx0XHRNYXRoLm1heCggTWF0aC5hYnMoIHZhbCApIHx8IDAsIGMuY2FjaGVbIHRib2R5SW5kZXggXS5jb2xNYXhbIGNhY2hlSW5kZXggXSB8fCAwICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzcGFuID0gY2VsbC5jb2xTcGFuIC0gMTtcblx0XHRcdFx0XHRcdGlmICggc3BhbiA+IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGNhY2hlSW5kZXggKz0gc3Bhbjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNhY2hlSW5kZXgrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gYWRkIHRoZSByb3cgZGF0YSB0byB0aGUgZW5kXG5cdFx0XHRcdFx0Y2VsbHNbIGMuY29sdW1ucyBdID0gcm93RGF0YTtcblx0XHRcdFx0XHQvLyB1cGRhdGUgY2FjaGVcblx0XHRcdFx0XHRjLmNhY2hlWyB0Ym9keUluZGV4IF0ubm9ybWFsaXplZFsgb3JkZXIgXSA9IGNlbGxzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHJlc29ydCB1c2luZyBjdXJyZW50IHNldHRpbmdzXG5cdFx0XHRcdHRzLmNoZWNrUmVzb3J0KCBjLCByZXNvcnQsIGNhbGxiYWNrICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUNhY2hlIDogZnVuY3Rpb24oIGMsIGNhbGxiYWNrLCAkdGJvZGllcyApIHtcblx0XHRcdC8vIHJlYnVpbGQgcGFyc2Vyc1xuXHRcdFx0aWYgKCAhKCBjLnBhcnNlcnMgJiYgYy5wYXJzZXJzLmxlbmd0aCApICkge1xuXHRcdFx0XHR0cy5zZXR1cFBhcnNlcnMoIGMsICR0Ym9kaWVzICk7XG5cdFx0XHR9XG5cdFx0XHQvLyByZWJ1aWxkIHRoZSBjYWNoZSBtYXBcblx0XHRcdHRzLmJ1aWxkQ2FjaGUoIGMsIGNhbGxiYWNrLCAkdGJvZGllcyApO1xuXHRcdH0sXG5cblx0XHQvLyBpbml0IGZsYWcgKHRydWUpIHVzZWQgYnkgcGFnZXIgcGx1Z2luIHRvIHByZXZlbnQgd2lkZ2V0IGFwcGxpY2F0aW9uXG5cdFx0Ly8gcmVuYW1lZCBmcm9tIGFwcGVuZFRvVGFibGVcblx0XHRhcHBlbmRDYWNoZSA6IGZ1bmN0aW9uKCBjLCBpbml0ICkge1xuXHRcdFx0dmFyIHBhcnNlZCwgdG90YWxSb3dzLCAkdGJvZHksICRjdXJUYm9keSwgcm93SW5kZXgsIHRib2R5SW5kZXgsIGFwcGVuZFRpbWUsXG5cdFx0XHRcdHRhYmxlID0gYy50YWJsZSxcblx0XHRcdFx0JHRib2RpZXMgPSBjLiR0Ym9kaWVzLFxuXHRcdFx0XHRyb3dzID0gW10sXG5cdFx0XHRcdGNhY2hlID0gYy5jYWNoZTtcblx0XHRcdC8vIGVtcHR5IHRhYmxlIC0gZml4ZXMgIzIwNi8jMzQ2XG5cdFx0XHRpZiAoIHRzLmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7XG5cdFx0XHRcdC8vIHJ1biBwYWdlciBhcHBlbmRlciBpbiBjYXNlIHRoZSB0YWJsZSB3YXMganVzdCBlbXB0aWVkXG5cdFx0XHRcdHJldHVybiBjLmFwcGVuZGVyID8gYy5hcHBlbmRlciggdGFibGUsIHJvd3MgKSA6XG5cdFx0XHRcdFx0dGFibGUuaXNVcGRhdGluZyA/IGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAndXBkYXRlQ29tcGxldGUnLCB0YWJsZSApIDogJyc7IC8vIEZpeGVzICM1MzJcblx0XHRcdH1cblx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSApIHtcblx0XHRcdFx0YXBwZW5kVGltZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCB0Ym9keUluZGV4ID0gMDsgdGJvZHlJbmRleCA8ICR0Ym9kaWVzLmxlbmd0aDsgdGJvZHlJbmRleCsrICkge1xuXHRcdFx0XHQkdGJvZHkgPSAkdGJvZGllcy5lcSggdGJvZHlJbmRleCApO1xuXHRcdFx0XHRpZiAoICR0Ym9keS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0Ly8gZGV0YWNoIHRib2R5IGZvciBtYW5pcHVsYXRpb25cblx0XHRcdFx0XHQkY3VyVGJvZHkgPSB0cy5wcm9jZXNzVGJvZHkoIHRhYmxlLCAkdGJvZHksIHRydWUgKTtcblx0XHRcdFx0XHRwYXJzZWQgPSBjYWNoZVsgdGJvZHlJbmRleCBdLm5vcm1hbGl6ZWQ7XG5cdFx0XHRcdFx0dG90YWxSb3dzID0gcGFyc2VkLmxlbmd0aDtcblx0XHRcdFx0XHRmb3IgKCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgdG90YWxSb3dzOyByb3dJbmRleCsrICkge1xuXHRcdFx0XHRcdFx0cm93c1tyb3dzLmxlbmd0aF0gPSBwYXJzZWRbIHJvd0luZGV4IF1bIGMuY29sdW1ucyBdLiRyb3c7XG5cdFx0XHRcdFx0XHQvLyByZW1vdmVSb3dzIHVzZWQgYnkgdGhlIHBhZ2VyIHBsdWdpbjsgZG9uJ3QgcmVuZGVyIGlmIHVzaW5nIGFqYXggLSBmaXhlcyAjNDExXG5cdFx0XHRcdFx0XHRpZiAoICFjLmFwcGVuZGVyIHx8ICggYy5wYWdlciAmJiAhYy5wYWdlci5yZW1vdmVSb3dzICYmICFjLnBhZ2VyLmFqYXggKSApIHtcblx0XHRcdFx0XHRcdFx0JGN1clRib2R5LmFwcGVuZCggcGFyc2VkWyByb3dJbmRleCBdWyBjLmNvbHVtbnMgXS4kcm93ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIHJlc3RvcmUgdGJvZHlcblx0XHRcdFx0XHR0cy5wcm9jZXNzVGJvZHkoIHRhYmxlLCAkY3VyVGJvZHksIGZhbHNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggYy5hcHBlbmRlciApIHtcblx0XHRcdFx0Yy5hcHBlbmRlciggdGFibGUsIHJvd3MgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coICdSZWJ1aWx0IHRhYmxlJyArIHRzLmJlbmNobWFyayggYXBwZW5kVGltZSApICk7XG5cdFx0XHR9XG5cdFx0XHQvLyBhcHBseSB0YWJsZSB3aWRnZXRzOyBidXQgbm90IGJlZm9yZSBhamF4IGNvbXBsZXRlc1xuXHRcdFx0aWYgKCAhaW5pdCAmJiAhYy5hcHBlbmRlciApIHtcblx0XHRcdFx0dHMuYXBwbHlXaWRnZXQoIHRhYmxlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRhYmxlLmlzVXBkYXRpbmcgKSB7XG5cdFx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAndXBkYXRlQ29tcGxldGUnLCB0YWJsZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRjb21tb25VcGRhdGUgOiBmdW5jdGlvbiggYywgcmVzb3J0LCBjYWxsYmFjayApIHtcblx0XHRcdC8vIHJlbW92ZSByb3dzL2VsZW1lbnRzIGJlZm9yZSB1cGRhdGVcblx0XHRcdGMuJHRhYmxlLmZpbmQoIGMuc2VsZWN0b3JSZW1vdmUgKS5yZW1vdmUoKTtcblx0XHRcdC8vIHJlYnVpbGQgcGFyc2Vyc1xuXHRcdFx0dHMuc2V0dXBQYXJzZXJzKCBjICk7XG5cdFx0XHQvLyByZWJ1aWxkIHRoZSBjYWNoZSBtYXBcblx0XHRcdHRzLmJ1aWxkQ2FjaGUoIGMgKTtcblx0XHRcdHRzLmNoZWNrUmVzb3J0KCBjLCByZXNvcnQsIGNhbGxiYWNrICk7XG5cdFx0fSxcblxuXHRcdC8qXG5cdFx04paE4paI4paI4paI4paI4paIIOKWhOKWiOKWiOKWiOKWiOKWhCDilojilojilojilojilojiloQg4paI4paI4paI4paI4paI4paIIOKWiOKWiCDilojilojilojilojilojiloQg4paE4paI4paI4paI4paI4paEXG5cdFx04paA4paI4paEICAgIOKWiOKWiCAg4paI4paIIOKWiOKWiOKWhOKWhOKWiOKWiCAgIOKWiOKWiCAgIOKWiOKWiCDilojiloggIOKWiOKWiCDilojilogg4paE4paE4paEXG5cdFx0ICAg4paA4paI4paEIOKWiOKWiCAg4paI4paIIOKWiOKWiOKWgOKWiOKWiCAgICDilojiloggICDilojilogg4paI4paIICDilojilogg4paI4paIIOKWgOKWiOKWiFxuXHRcdOKWiOKWiOKWiOKWiOKWiOKWgCDiloDilojilojilojilojiloAg4paI4paIICDilojiloggICDilojiloggICDilojilogg4paI4paIICDilojilogg4paA4paI4paI4paI4paI4paAXG5cdFx0Ki9cblx0XHRpbml0U29ydCA6IGZ1bmN0aW9uKCBjLCBjZWxsLCBldmVudCApIHtcblx0XHRcdGlmICggYy50YWJsZS5pc1VwZGF0aW5nICkge1xuXHRcdFx0XHQvLyBsZXQgYW55IHVwZGF0ZXMgY29tcGxldGUgYmVmb3JlIGluaXRpYWxpemluZyBhIHNvcnRcblx0XHRcdFx0cmV0dXJuIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRzLmluaXRTb3J0KCBjLCBjZWxsLCBldmVudCApO1xuXHRcdFx0XHR9LCA1MCApO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgYXJyeSwgaW5keCwgaGVhZGVySW5keCwgZGlyLCB0ZW1wLCB0bXAsICRoZWFkZXIsXG5cdFx0XHRcdG5vdE11bHRpU29ydCA9ICFldmVudFsgYy5zb3J0TXVsdGlTb3J0S2V5IF0sXG5cdFx0XHRcdHRhYmxlID0gYy50YWJsZSxcblx0XHRcdFx0bGVuID0gYy4kaGVhZGVycy5sZW5ndGgsXG5cdFx0XHRcdHRoID0gdHMuZ2V0Q2xvc2VzdCggJCggY2VsbCApLCAndGgsIHRkJyApLFxuXHRcdFx0XHRjb2wgPSBwYXJzZUludCggdGguYXR0ciggJ2RhdGEtY29sdW1uJyApLCAxMCApLFxuXHRcdFx0XHRzb3J0ZWRCeSA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJyA/ICd1c2VyJyA6IGV2ZW50LnR5cGUsXG5cdFx0XHRcdG9yZGVyID0gYy5zb3J0VmFyc1sgY29sIF0ub3JkZXI7XG5cdFx0XHR0aCA9IHRoWzBdO1xuXHRcdFx0Ly8gT25seSBjYWxsIHNvcnRTdGFydCBpZiBzb3J0aW5nIGlzIGVuYWJsZWRcblx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAnc29ydFN0YXJ0JywgdGFibGUgKTtcblx0XHRcdC8vIGdldCBjdXJyZW50IGNvbHVtbiBzb3J0IG9yZGVyXG5cdFx0XHR0bXAgPSAoIGMuc29ydFZhcnNbIGNvbCBdLmNvdW50ICsgMSApICUgb3JkZXIubGVuZ3RoO1xuXHRcdFx0Yy5zb3J0VmFyc1sgY29sIF0uY291bnQgPSBldmVudFsgYy5zb3J0UmVzZXRLZXkgXSA/IDIgOiB0bXA7XG5cdFx0XHQvLyByZXNldCBhbGwgc29ydHMgb24gbm9uLWN1cnJlbnQgY29sdW1uIC0gaXNzdWUgIzMwXG5cdFx0XHRpZiAoIGMuc29ydFJlc3RhcnQgKSB7XG5cdFx0XHRcdGZvciAoIGhlYWRlckluZHggPSAwOyBoZWFkZXJJbmR4IDwgbGVuOyBoZWFkZXJJbmR4KysgKSB7XG5cdFx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlcnMuZXEoIGhlYWRlckluZHggKTtcblx0XHRcdFx0XHR0bXAgPSBwYXJzZUludCggJGhlYWRlci5hdHRyKCAnZGF0YS1jb2x1bW4nICksIDEwICk7XG5cdFx0XHRcdFx0Ly8gb25seSByZXNldCBjb3VudHMgb24gY29sdW1ucyB0aGF0IHdlcmVuJ3QganVzdCBjbGlja2VkIG9uIGFuZCBpZiBub3QgaW5jbHVkZWQgaW4gYSBtdWx0aXNvcnRcblx0XHRcdFx0XHRpZiAoIGNvbCAhPT0gdG1wICYmICggbm90TXVsdGlTb3J0IHx8ICRoZWFkZXIuaGFzQ2xhc3MoIHRzLmNzcy5zb3J0Tm9uZSApICkgKSB7XG5cdFx0XHRcdFx0XHRjLnNvcnRWYXJzWyB0bXAgXS5jb3VudCA9IC0xO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gdXNlciBvbmx5IHdhbnRzIHRvIHNvcnQgb24gb25lIGNvbHVtblxuXHRcdFx0aWYgKCBub3RNdWx0aVNvcnQgKSB7XG5cdFx0XHRcdCQuZWFjaCggYy5zb3J0VmFycywgZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0Yy5zb3J0VmFyc1sgaSBdLnNvcnRlZEJ5ID0gJyc7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBmbHVzaCB0aGUgc29ydCBsaXN0XG5cdFx0XHRcdGMuc29ydExpc3QgPSBbXTtcblx0XHRcdFx0Yy5sYXN0LnNvcnRMaXN0ID0gW107XG5cdFx0XHRcdGlmICggYy5zb3J0Rm9yY2UgIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0YXJyeSA9IGMuc29ydEZvcmNlO1xuXHRcdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgYXJyeS5sZW5ndGg7IGluZHgrKyApIHtcblx0XHRcdFx0XHRcdGlmICggYXJyeVsgaW5keCBdWyAwIF0gIT09IGNvbCApIHtcblx0XHRcdFx0XHRcdFx0Yy5zb3J0TGlzdFsgYy5zb3J0TGlzdC5sZW5ndGggXSA9IGFycnlbIGluZHggXTtcblx0XHRcdFx0XHRcdFx0Yy5zb3J0VmFyc1sgYXJyeVsgaW5keCBdWyAwIF0gXS5zb3J0ZWRCeSA9ICdzb3J0Rm9yY2UnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBhZGQgY29sdW1uIHRvIHNvcnQgbGlzdFxuXHRcdFx0XHRkaXIgPSBvcmRlclsgYy5zb3J0VmFyc1sgY29sIF0uY291bnQgXTtcblx0XHRcdFx0aWYgKCBkaXIgPCAyICkge1xuXHRcdFx0XHRcdGMuc29ydExpc3RbIGMuc29ydExpc3QubGVuZ3RoIF0gPSBbIGNvbCwgZGlyIF07XG5cdFx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sIF0uc29ydGVkQnkgPSBzb3J0ZWRCeTtcblx0XHRcdFx0XHQvLyBhZGQgb3RoZXIgY29sdW1ucyBpZiBoZWFkZXIgc3BhbnMgYWNyb3NzIG11bHRpcGxlXG5cdFx0XHRcdFx0aWYgKCB0aC5jb2xTcGFuID4gMSApIHtcblx0XHRcdFx0XHRcdGZvciAoIGluZHggPSAxOyBpbmR4IDwgdGguY29sU3BhbjsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0XHRjLnNvcnRMaXN0WyBjLnNvcnRMaXN0Lmxlbmd0aCBdID0gWyBjb2wgKyBpbmR4LCBkaXIgXTtcblx0XHRcdFx0XHRcdFx0Ly8gdXBkYXRlIGNvdW50IG9uIGNvbHVtbnMgaW4gY29sU3BhblxuXHRcdFx0XHRcdFx0XHRjLnNvcnRWYXJzWyBjb2wgKyBpbmR4IF0uY291bnQgPSAkLmluQXJyYXkoIGRpciwgb3JkZXIgKTtcblx0XHRcdFx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sICsgaW5keCBdLnNvcnRlZEJ5ID0gc29ydGVkQnk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIG11bHRpIGNvbHVtbiBzb3J0aW5nXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBnZXQgcmlkIG9mIHRoZSBzb3J0QXBwZW5kIGJlZm9yZSBhZGRpbmcgbW9yZSAtIGZpeGVzIGlzc3VlICMxMTUgJiAjNTIzXG5cdFx0XHRcdGMuc29ydExpc3QgPSAkLmV4dGVuZCggW10sIGMubGFzdC5zb3J0TGlzdCApO1xuXG5cdFx0XHRcdC8vIHRoZSB1c2VyIGhhcyBjbGlja2VkIG9uIGFuIGFscmVhZHkgc29ydGVkIGNvbHVtblxuXHRcdFx0XHRpZiAoIHRzLmlzVmFsdWVJbkFycmF5KCBjb2wsIGMuc29ydExpc3QgKSA+PSAwICkge1xuXHRcdFx0XHRcdC8vIHJldmVyc2UgdGhlIHNvcnRpbmcgZGlyZWN0aW9uXG5cdFx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sIF0uc29ydGVkQnkgPSBzb3J0ZWRCeTtcblx0XHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGMuc29ydExpc3QubGVuZ3RoOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0XHR0bXAgPSBjLnNvcnRMaXN0WyBpbmR4IF07XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMCBdID09PSBjb2wgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIG9yZGVyLmNvdW50IHNlZW1zIHRvIGJlIGluY29ycmVjdCB3aGVuIGNvbXBhcmVkIHRvIGNlbGwuY291bnRcblx0XHRcdFx0XHRcdFx0dG1wWyAxIF0gPSBvcmRlclsgYy5zb3J0VmFyc1sgY29sIF0uY291bnQgXTtcblx0XHRcdFx0XHRcdFx0aWYgKCB0bXBbMV0gPT09IDIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Yy5zb3J0TGlzdC5zcGxpY2UoIGluZHgsIDEgKTtcblx0XHRcdFx0XHRcdFx0XHRjLnNvcnRWYXJzWyBjb2wgXS5jb3VudCA9IC0xO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGFkZCBjb2x1bW4gdG8gc29ydCBsaXN0IGFycmF5XG5cdFx0XHRcdFx0ZGlyID0gb3JkZXJbIGMuc29ydFZhcnNbIGNvbCBdLmNvdW50IF07XG5cdFx0XHRcdFx0Yy5zb3J0VmFyc1sgY29sIF0uc29ydGVkQnkgPSBzb3J0ZWRCeTtcblx0XHRcdFx0XHRpZiAoIGRpciA8IDIgKSB7XG5cdFx0XHRcdFx0XHRjLnNvcnRMaXN0WyBjLnNvcnRMaXN0Lmxlbmd0aCBdID0gWyBjb2wsIGRpciBdO1xuXHRcdFx0XHRcdFx0Ly8gYWRkIG90aGVyIGNvbHVtbnMgaWYgaGVhZGVyIHNwYW5zIGFjcm9zcyBtdWx0aXBsZVxuXHRcdFx0XHRcdFx0aWYgKCB0aC5jb2xTcGFuID4gMSApIHtcblx0XHRcdFx0XHRcdFx0Zm9yICggaW5keCA9IDE7IGluZHggPCB0aC5jb2xTcGFuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Yy5zb3J0TGlzdFsgYy5zb3J0TGlzdC5sZW5ndGggXSA9IFsgY29sICsgaW5keCwgZGlyIF07XG5cdFx0XHRcdFx0XHRcdFx0Ly8gdXBkYXRlIGNvdW50IG9uIGNvbHVtbnMgaW4gY29sU3BhblxuXHRcdFx0XHRcdFx0XHRcdGMuc29ydFZhcnNbIGNvbCArIGluZHggXS5jb3VudCA9ICQuaW5BcnJheSggZGlyLCBvcmRlciApO1xuXHRcdFx0XHRcdFx0XHRcdGMuc29ydFZhcnNbIGNvbCArIGluZHggXS5zb3J0ZWRCeSA9IHNvcnRlZEJ5O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBzYXZlIHNvcnQgYmVmb3JlIGFwcGx5aW5nIHNvcnRBcHBlbmRcblx0XHRcdGMubGFzdC5zb3J0TGlzdCA9ICQuZXh0ZW5kKCBbXSwgYy5zb3J0TGlzdCApO1xuXHRcdFx0aWYgKCBjLnNvcnRMaXN0Lmxlbmd0aCAmJiBjLnNvcnRBcHBlbmQgKSB7XG5cdFx0XHRcdGFycnkgPSAkLmlzQXJyYXkoIGMuc29ydEFwcGVuZCApID8gYy5zb3J0QXBwZW5kIDogYy5zb3J0QXBwZW5kWyBjLnNvcnRMaXN0WyAwIF1bIDAgXSBdO1xuXHRcdFx0XHRpZiAoICF0cy5pc0VtcHR5T2JqZWN0KCBhcnJ5ICkgKSB7XG5cdFx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBhcnJ5Lmxlbmd0aDsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0aWYgKCBhcnJ5WyBpbmR4IF1bIDAgXSAhPT0gY29sICYmIHRzLmlzVmFsdWVJbkFycmF5KCBhcnJ5WyBpbmR4IF1bIDAgXSwgYy5zb3J0TGlzdCApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0ZGlyID0gYXJyeVsgaW5keCBdWyAxIF07XG5cdFx0XHRcdFx0XHRcdHRlbXAgPSAoICcnICsgZGlyICkubWF0Y2goIC9eKGF8ZHxzfG98bikvICk7XG5cdFx0XHRcdFx0XHRcdGlmICggdGVtcCApIHtcblx0XHRcdFx0XHRcdFx0XHR0bXAgPSBjLnNvcnRMaXN0WyAwIF1bIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRzd2l0Y2ggKCB0ZW1wWyAwIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlICdkJyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpciA9IDE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAncycgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXIgPSB0bXA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAnbycgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXIgPSB0bXAgPT09IDAgPyAxIDogMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlICduJyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpciA9ICggdG1wICsgMSApICUgb3JkZXIubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpciA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjLnNvcnRMaXN0WyBjLnNvcnRMaXN0Lmxlbmd0aCBdID0gWyBhcnJ5WyBpbmR4IF1bIDAgXSwgZGlyIF07XG5cdFx0XHRcdFx0XHRcdGMuc29ydFZhcnNbIGFycnlbIGluZHggXVsgMCBdIF0uc29ydGVkQnkgPSAnc29ydEFwcGVuZCc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBzb3J0QmVnaW4gZXZlbnQgdHJpZ2dlcmVkIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgc29ydFxuXHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdzb3J0QmVnaW4nLCB0YWJsZSApO1xuXHRcdFx0Ly8gc2V0VGltZW91dCBuZWVkZWQgc28gdGhlIHByb2Nlc3NpbmcgaWNvbiBzaG93cyB1cFxuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIHNldCBjc3MgZm9yIGhlYWRlcnNcblx0XHRcdFx0dHMuc2V0SGVhZGVyc0NzcyggYyApO1xuXHRcdFx0XHR0cy5tdWx0aXNvcnQoIGMgKTtcblx0XHRcdFx0dHMuYXBwZW5kQ2FjaGUoIGMgKTtcblx0XHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdzb3J0QmVmb3JlRW5kJywgdGFibGUgKTtcblx0XHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdzb3J0RW5kJywgdGFibGUgKTtcblx0XHRcdH0sIDEgKTtcblx0XHR9LFxuXG5cdFx0Ly8gc29ydCBtdWx0aXBsZSBjb2x1bW5zXG5cdFx0bXVsdGlzb3J0IDogZnVuY3Rpb24oIGMgKSB7IC8qanNoaW50IGxvb3BmdW5jOnRydWUgKi9cblx0XHRcdHZhciB0Ym9keUluZGV4LCBzb3J0VGltZSwgY29sTWF4LCByb3dzLCB0bXAsXG5cdFx0XHRcdHRhYmxlID0gYy50YWJsZSxcblx0XHRcdFx0c29ydGVyID0gW10sXG5cdFx0XHRcdGRpciA9IDAsXG5cdFx0XHRcdHRleHRTb3J0ZXIgPSBjLnRleHRTb3J0ZXIgfHwgJycsXG5cdFx0XHRcdHNvcnRMaXN0ID0gYy5zb3J0TGlzdCxcblx0XHRcdFx0c29ydExlbiA9IHNvcnRMaXN0Lmxlbmd0aCxcblx0XHRcdFx0bGVuID0gYy4kdGJvZGllcy5sZW5ndGg7XG5cdFx0XHRpZiAoIGMuc2VydmVyU2lkZVNvcnRpbmcgfHwgdHMuaXNFbXB0eU9iamVjdCggYy5jYWNoZSApICkge1xuXHRcdFx0XHQvLyBlbXB0eSB0YWJsZSAtIGZpeGVzICMyMDYvIzM0NlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRzLmRlYnVnKGMsICdjb3JlJykgKSB7IHNvcnRUaW1lID0gbmV3IERhdGUoKTsgfVxuXHRcdFx0Ly8gY2FjaGUgdGV4dFNvcnRlciB0byBvcHRpbWl6ZSBzcGVlZFxuXHRcdFx0aWYgKCB0eXBlb2YgdGV4dFNvcnRlciA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdGNvbE1heCA9IGMuY29sdW1ucztcblx0XHRcdFx0d2hpbGUgKCBjb2xNYXgtLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0cy5nZXRDb2x1bW5EYXRhKCB0YWJsZSwgdGV4dFNvcnRlciwgY29sTWF4ICk7XG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgdG1wID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRcdFx0c29ydGVyWyBjb2xNYXggXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoIHRib2R5SW5kZXggPSAwOyB0Ym9keUluZGV4IDwgbGVuOyB0Ym9keUluZGV4KysgKSB7XG5cdFx0XHRcdGNvbE1heCA9IGMuY2FjaGVbIHRib2R5SW5kZXggXS5jb2xNYXg7XG5cdFx0XHRcdHJvd3MgPSBjLmNhY2hlWyB0Ym9keUluZGV4IF0ubm9ybWFsaXplZDtcblxuXHRcdFx0XHRyb3dzLnNvcnQoIGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0XHRcdHZhciBzb3J0SW5kZXgsIG51bSwgY29sLCBvcmRlciwgc29ydCwgeCwgeTtcblx0XHRcdFx0XHQvLyByb3dzIGlzIHVuZGVmaW5lZCBoZXJlIGluIElFLCBzbyBkb24ndCB1c2UgaXQhXG5cdFx0XHRcdFx0Zm9yICggc29ydEluZGV4ID0gMDsgc29ydEluZGV4IDwgc29ydExlbjsgc29ydEluZGV4KysgKSB7XG5cdFx0XHRcdFx0XHRjb2wgPSBzb3J0TGlzdFsgc29ydEluZGV4IF1bIDAgXTtcblx0XHRcdFx0XHRcdG9yZGVyID0gc29ydExpc3RbIHNvcnRJbmRleCBdWyAxIF07XG5cdFx0XHRcdFx0XHQvLyBzb3J0IGRpcmVjdGlvbiwgdHJ1ZSA9IGFzYywgZmFsc2UgPSBkZXNjXG5cdFx0XHRcdFx0XHRkaXIgPSBvcmRlciA9PT0gMDtcblxuXHRcdFx0XHRcdFx0aWYgKCBjLnNvcnRTdGFibGUgJiYgYVsgY29sIF0gPT09IGJbIGNvbCBdICYmIHNvcnRMZW4gPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhWyBjLmNvbHVtbnMgXS5vcmRlciAtIGJbIGMuY29sdW1ucyBdLm9yZGVyO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBmYWxsYmFjayB0byBuYXR1cmFsIHNvcnQgc2luY2UgaXQgaXMgbW9yZSByb2J1c3Rcblx0XHRcdFx0XHRcdG51bSA9IC9uL2kudGVzdCggdHMuZ2V0U29ydFR5cGUoIGMucGFyc2VycywgY29sICkgKTtcblx0XHRcdFx0XHRcdGlmICggbnVtICYmIGMuc3RyaW5nc1sgY29sIF0gKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHNvcnQgc3RyaW5ncyBpbiBudW1lcmljYWwgY29sdW1uc1xuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiAoIHRzLnN0cmluZ1sgYy5zdHJpbmdzWyBjb2wgXSBdICkgPT09ICdib29sZWFuJyApIHtcblx0XHRcdFx0XHRcdFx0XHRudW0gPSAoIGRpciA/IDEgOiAtMSApICogKCB0cy5zdHJpbmdbIGMuc3RyaW5nc1sgY29sIF0gXSA/IC0xIDogMSApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdG51bSA9ICggYy5zdHJpbmdzWyBjb2wgXSApID8gdHMuc3RyaW5nWyBjLnN0cmluZ3NbIGNvbCBdIF0gfHwgMCA6IDA7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Ly8gZmFsbCBiYWNrIHRvIGJ1aWx0LWluIG51bWVyaWMgc29ydFxuXHRcdFx0XHRcdFx0XHQvLyB2YXIgc29ydCA9ICQudGFibGVzb3J0ZXJbJ3NvcnQnICsgc10oIGFbY29sXSwgYltjb2xdLCBkaXIsIGNvbE1heFtjb2xdLCB0YWJsZSApO1xuXHRcdFx0XHRcdFx0XHRzb3J0ID0gYy5udW1iZXJTb3J0ZXIgPyBjLm51bWJlclNvcnRlciggYVsgY29sIF0sIGJbIGNvbCBdLCBkaXIsIGNvbE1heFsgY29sIF0sIHRhYmxlICkgOlxuXHRcdFx0XHRcdFx0XHRcdHRzWyAnc29ydE51bWVyaWMnICsgKCBkaXIgPyAnQXNjJyA6ICdEZXNjJyApIF0oIGFbIGNvbCBdLCBiWyBjb2wgXSwgbnVtLCBjb2xNYXhbIGNvbCBdLCBjb2wsIGMgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIHNldCBhICYgYiBkZXBlbmRpbmcgb24gc29ydCBkaXJlY3Rpb25cblx0XHRcdFx0XHRcdFx0eCA9IGRpciA/IGEgOiBiO1xuXHRcdFx0XHRcdFx0XHR5ID0gZGlyID8gYiA6IGE7XG5cdFx0XHRcdFx0XHRcdC8vIHRleHQgc29ydCBmdW5jdGlvblxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB0ZXh0U29ydGVyID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGN1c3RvbSBPVkVSQUxMIHRleHQgc29ydGVyXG5cdFx0XHRcdFx0XHRcdFx0c29ydCA9IHRleHRTb3J0ZXIoIHhbIGNvbCBdLCB5WyBjb2wgXSwgZGlyLCBjb2wsIHRhYmxlICk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiBzb3J0ZXJbIGNvbCBdID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGN1c3RvbSB0ZXh0IHNvcnRlciBmb3IgYSBTUEVDSUZJQyBDT0xVTU5cblx0XHRcdFx0XHRcdFx0XHRzb3J0ID0gc29ydGVyWyBjb2wgXSggeFsgY29sIF0sIHlbIGNvbCBdLCBkaXIsIGNvbCwgdGFibGUgKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBmYWxsIGJhY2sgdG8gbmF0dXJhbCBzb3J0XG5cdFx0XHRcdFx0XHRcdFx0c29ydCA9IHRzWyAnc29ydE5hdHVyYWwnICsgKCBkaXIgPyAnQXNjJyA6ICdEZXNjJyApIF0oIGFbIGNvbCBdIHx8ICcnLCBiWyBjb2wgXSB8fCAnJywgY29sLCBjICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggc29ydCApIHsgcmV0dXJuIHNvcnQ7IH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGFbIGMuY29sdW1ucyBdLm9yZGVyIC0gYlsgYy5jb2x1bW5zIF0ub3JkZXI7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0cy5kZWJ1ZyhjLCAnY29yZScpICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggJ0FwcGx5aW5nIHNvcnQgJyArIHNvcnRMaXN0LnRvU3RyaW5nKCkgKyB0cy5iZW5jaG1hcmsoIHNvcnRUaW1lICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0cmVzb3J0Q29tcGxldGUgOiBmdW5jdGlvbiggYywgY2FsbGJhY2sgKSB7XG5cdFx0XHRpZiAoIGMudGFibGUuaXNVcGRhdGluZyApIHtcblx0XHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICd1cGRhdGVDb21wbGV0ZScsIGMudGFibGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICkge1xuXHRcdFx0XHRjYWxsYmFjayggYy50YWJsZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRjaGVja1Jlc29ydCA6IGZ1bmN0aW9uKCBjLCByZXNvcnQsIGNhbGxiYWNrICkge1xuXHRcdFx0dmFyIHNvcnRMaXN0ID0gJC5pc0FycmF5KCByZXNvcnQgKSA/IHJlc29ydCA6IGMuc29ydExpc3QsXG5cdFx0XHRcdC8vIGlmIG5vIHJlc29ydCBwYXJhbWV0ZXIgaXMgcGFzc2VkLCBmYWxsYmFjayB0byBjb25maWcucmVzb3J0ICh0cnVlIGJ5IGRlZmF1bHQpXG5cdFx0XHRcdHJlc3J0ID0gdHlwZW9mIHJlc29ydCA9PT0gJ3VuZGVmaW5lZCcgPyBjLnJlc29ydCA6IHJlc29ydDtcblx0XHRcdC8vIGRvbid0IHRyeSB0byByZXNvcnQgaWYgdGhlIHRhYmxlIGlzIHN0aWxsIHByb2Nlc3Npbmdcblx0XHRcdC8vIHRoaXMgd2lsbCBjYXRjaCBzcGFtbWluZyBvZiB0aGUgdXBkYXRlQ2VsbCBtZXRob2Rcblx0XHRcdGlmICggcmVzcnQgIT09IGZhbHNlICYmICFjLnNlcnZlclNpZGVTb3J0aW5nICYmICFjLnRhYmxlLmlzUHJvY2Vzc2luZyApIHtcblx0XHRcdFx0aWYgKCBzb3J0TGlzdC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dHMuc29ydE9uKCBjLCBzb3J0TGlzdCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0cy5yZXNvcnRDb21wbGV0ZSggYywgY2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9LCB0cnVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dHMuc29ydFJlc2V0KCBjLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHRzLnJlc29ydENvbXBsZXRlKCBjLCBjYWxsYmFjayApO1xuXHRcdFx0XHRcdFx0dHMuYXBwbHlXaWRnZXQoIGMudGFibGUsIGZhbHNlICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0cy5yZXNvcnRDb21wbGV0ZSggYywgY2FsbGJhY2sgKTtcblx0XHRcdFx0dHMuYXBwbHlXaWRnZXQoIGMudGFibGUsIGZhbHNlICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNvcnRPbiA6IGZ1bmN0aW9uKCBjLCBsaXN0LCBjYWxsYmFjaywgaW5pdCApIHtcblx0XHRcdHZhciBpbmR4LFxuXHRcdFx0XHR0YWJsZSA9IGMudGFibGU7XG5cdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ3NvcnRTdGFydCcsIHRhYmxlICk7XG5cdFx0XHRmb3IgKGluZHggPSAwOyBpbmR4IDwgYy5jb2x1bW5zOyBpbmR4KyspIHtcblx0XHRcdFx0Yy5zb3J0VmFyc1sgaW5keCBdLnNvcnRlZEJ5ID0gdHMuaXNWYWx1ZUluQXJyYXkoIGluZHgsIGxpc3QgKSA+IC0xID8gJ3NvcnRvbicgOiAnJztcblx0XHRcdH1cblx0XHRcdC8vIHVwZGF0ZSBoZWFkZXIgY291bnQgaW5kZXhcblx0XHRcdHRzLnVwZGF0ZUhlYWRlclNvcnRDb3VudCggYywgbGlzdCApO1xuXHRcdFx0Ly8gc2V0IGNzcyBmb3IgaGVhZGVyc1xuXHRcdFx0dHMuc2V0SGVhZGVyc0NzcyggYyApO1xuXHRcdFx0Ly8gZml4ZXMgIzM0NlxuXHRcdFx0aWYgKCBjLmRlbGF5SW5pdCAmJiB0cy5pc0VtcHR5T2JqZWN0KCBjLmNhY2hlICkgKSB7XG5cdFx0XHRcdHRzLmJ1aWxkQ2FjaGUoIGMgKTtcblx0XHRcdH1cblx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAnc29ydEJlZ2luJywgdGFibGUgKTtcblx0XHRcdC8vIHNvcnQgdGhlIHRhYmxlIGFuZCBhcHBlbmQgaXQgdG8gdGhlIGRvbVxuXHRcdFx0dHMubXVsdGlzb3J0KCBjICk7XG5cdFx0XHR0cy5hcHBlbmRDYWNoZSggYywgaW5pdCApO1xuXHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdzb3J0QmVmb3JlRW5kJywgdGFibGUgKTtcblx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAnc29ydEVuZCcsIHRhYmxlICk7XG5cdFx0XHR0cy5hcHBseVdpZGdldCggdGFibGUgKTtcblx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICkge1xuXHRcdFx0XHRjYWxsYmFjayggdGFibGUgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c29ydFJlc2V0IDogZnVuY3Rpb24oIGMsIGNhbGxiYWNrICkge1xuXHRcdFx0Yy5zb3J0TGlzdCA9IFtdO1xuXHRcdFx0dmFyIGluZHg7XG5cdFx0XHRmb3IgKGluZHggPSAwOyBpbmR4IDwgYy5jb2x1bW5zOyBpbmR4KyspIHtcblx0XHRcdFx0Yy5zb3J0VmFyc1sgaW5keCBdLmNvdW50ID0gLTE7XG5cdFx0XHRcdGMuc29ydFZhcnNbIGluZHggXS5zb3J0ZWRCeSA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0dHMuc2V0SGVhZGVyc0NzcyggYyApO1xuXHRcdFx0dHMubXVsdGlzb3J0KCBjICk7XG5cdFx0XHR0cy5hcHBlbmRDYWNoZSggYyApO1xuXHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIGNhbGxiYWNrICkgKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCBjLnRhYmxlICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGdldFNvcnRUeXBlIDogZnVuY3Rpb24oIHBhcnNlcnMsIGNvbHVtbiApIHtcblx0XHRcdHJldHVybiAoIHBhcnNlcnMgJiYgcGFyc2Vyc1sgY29sdW1uIF0gKSA/IHBhcnNlcnNbIGNvbHVtbiBdLnR5cGUgfHwgJycgOiAnJztcblx0XHR9LFxuXG5cdFx0Z2V0T3JkZXIgOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0Ly8gbG9vayBmb3IgJ2QnIGluICdkZXNjJyBvcmRlcjsgcmV0dXJuIHRydWVcblx0XHRcdHJldHVybiAoIC9eZC9pLnRlc3QoIHZhbCApIHx8IHZhbCA9PT0gMSApO1xuXHRcdH0sXG5cblx0XHQvLyBOYXR1cmFsIHNvcnQgLSBodHRwczovL2dpdGh1Yi5jb20vb3ZlcnNldC9qYXZhc2NyaXB0LW5hdHVyYWwtc29ydCAoZGF0ZSBzb3J0aW5nIHJlbW92ZWQpXG5cdFx0c29ydE5hdHVyYWwgOiBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYSA9PT0gYiApIHsgcmV0dXJuIDA7IH1cblx0XHRcdGEgPSAoIGEgfHwgJycgKS50b1N0cmluZygpO1xuXHRcdFx0YiA9ICggYiB8fCAnJyApLnRvU3RyaW5nKCk7XG5cdFx0XHR2YXIgYU51bSwgYk51bSwgYUZsb2F0LCBiRmxvYXQsIGluZHgsIG1heCxcblx0XHRcdFx0cmVnZXggPSB0cy5yZWdleDtcblx0XHRcdC8vIGZpcnN0IHRyeSBhbmQgc29ydCBIZXggY29kZXNcblx0XHRcdGlmICggcmVnZXguaGV4LnRlc3QoIGIgKSApIHtcblx0XHRcdFx0YU51bSA9IHBhcnNlSW50KCBhLm1hdGNoKCByZWdleC5oZXggKSwgMTYgKTtcblx0XHRcdFx0Yk51bSA9IHBhcnNlSW50KCBiLm1hdGNoKCByZWdleC5oZXggKSwgMTYgKTtcblx0XHRcdFx0aWYgKCBhTnVtIDwgYk51bSApIHsgcmV0dXJuIC0xOyB9XG5cdFx0XHRcdGlmICggYU51bSA+IGJOdW0gKSB7IHJldHVybiAxOyB9XG5cdFx0XHR9XG5cdFx0XHQvLyBjaHVuay90b2tlbml6ZVxuXHRcdFx0YU51bSA9IGEucmVwbGFjZSggcmVnZXguY2h1bmssICdcXFxcMCQxXFxcXDAnICkucmVwbGFjZSggcmVnZXguY2h1bmtzLCAnJyApLnNwbGl0KCAnXFxcXDAnICk7XG5cdFx0XHRiTnVtID0gYi5yZXBsYWNlKCByZWdleC5jaHVuaywgJ1xcXFwwJDFcXFxcMCcgKS5yZXBsYWNlKCByZWdleC5jaHVua3MsICcnICkuc3BsaXQoICdcXFxcMCcgKTtcblx0XHRcdG1heCA9IE1hdGgubWF4KCBhTnVtLmxlbmd0aCwgYk51bS5sZW5ndGggKTtcblx0XHRcdC8vIG5hdHVyYWwgc29ydGluZyB0aHJvdWdoIHNwbGl0IG51bWVyaWMgc3RyaW5ncyBhbmQgZGVmYXVsdCBzdHJpbmdzXG5cdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IG1heDsgaW5keCsrICkge1xuXHRcdFx0XHQvLyBmaW5kIGZsb2F0cyBub3Qgc3RhcnRpbmcgd2l0aCAnMCcsIHN0cmluZyBvciAwIGlmIG5vdCBkZWZpbmVkXG5cdFx0XHRcdGFGbG9hdCA9IGlzTmFOKCBhTnVtWyBpbmR4IF0gKSA/IGFOdW1bIGluZHggXSB8fCAwIDogcGFyc2VGbG9hdCggYU51bVsgaW5keCBdICkgfHwgMDtcblx0XHRcdFx0YkZsb2F0ID0gaXNOYU4oIGJOdW1bIGluZHggXSApID8gYk51bVsgaW5keCBdIHx8IDAgOiBwYXJzZUZsb2F0KCBiTnVtWyBpbmR4IF0gKSB8fCAwO1xuXHRcdFx0XHQvLyBoYW5kbGUgbnVtZXJpYyB2cyBzdHJpbmcgY29tcGFyaXNvbiAtIG51bWJlciA8IHN0cmluZyAtIChLeWxlIEFkYW1zKVxuXHRcdFx0XHRpZiAoIGlzTmFOKCBhRmxvYXQgKSAhPT0gaXNOYU4oIGJGbG9hdCApICkgeyByZXR1cm4gaXNOYU4oIGFGbG9hdCApID8gMSA6IC0xOyB9XG5cdFx0XHRcdC8vIHJlbHkgb24gc3RyaW5nIGNvbXBhcmlzb24gaWYgZGlmZmVyZW50IHR5cGVzIC0gaS5lLiAnMDInIDwgMiAhPSAnMDInIDwgJzInXG5cdFx0XHRcdGlmICggdHlwZW9mIGFGbG9hdCAhPT0gdHlwZW9mIGJGbG9hdCApIHtcblx0XHRcdFx0XHRhRmxvYXQgKz0gJyc7XG5cdFx0XHRcdFx0YkZsb2F0ICs9ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggYUZsb2F0IDwgYkZsb2F0ICkgeyByZXR1cm4gLTE7IH1cblx0XHRcdFx0aWYgKCBhRmxvYXQgPiBiRmxvYXQgKSB7IHJldHVybiAxOyB9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9LFxuXG5cdFx0c29ydE5hdHVyYWxBc2MgOiBmdW5jdGlvbiggYSwgYiwgY29sLCBjICkge1xuXHRcdFx0aWYgKCBhID09PSBiICkgeyByZXR1cm4gMDsgfVxuXHRcdFx0dmFyIGVtcHR5ID0gdHMuc3RyaW5nWyAoIGMuZW1wdGllc1sgY29sIF0gfHwgYy5lbXB0eVRvICkgXTtcblx0XHRcdGlmICggYSA9PT0gJycgJiYgZW1wdHkgIT09IDAgKSB7IHJldHVybiB0eXBlb2YgZW1wdHkgPT09ICdib29sZWFuJyA/ICggZW1wdHkgPyAtMSA6IDEgKSA6IC1lbXB0eSB8fCAtMTsgfVxuXHRcdFx0aWYgKCBiID09PSAnJyAmJiBlbXB0eSAhPT0gMCApIHsgcmV0dXJuIHR5cGVvZiBlbXB0eSA9PT0gJ2Jvb2xlYW4nID8gKCBlbXB0eSA/IDEgOiAtMSApIDogZW1wdHkgfHwgMTsgfVxuXHRcdFx0cmV0dXJuIHRzLnNvcnROYXR1cmFsKCBhLCBiICk7XG5cdFx0fSxcblxuXHRcdHNvcnROYXR1cmFsRGVzYyA6IGZ1bmN0aW9uKCBhLCBiLCBjb2wsIGMgKSB7XG5cdFx0XHRpZiAoIGEgPT09IGIgKSB7IHJldHVybiAwOyB9XG5cdFx0XHR2YXIgZW1wdHkgPSB0cy5zdHJpbmdbICggYy5lbXB0aWVzWyBjb2wgXSB8fCBjLmVtcHR5VG8gKSBdO1xuXHRcdFx0aWYgKCBhID09PSAnJyAmJiBlbXB0eSAhPT0gMCApIHsgcmV0dXJuIHR5cGVvZiBlbXB0eSA9PT0gJ2Jvb2xlYW4nID8gKCBlbXB0eSA/IC0xIDogMSApIDogZW1wdHkgfHwgMTsgfVxuXHRcdFx0aWYgKCBiID09PSAnJyAmJiBlbXB0eSAhPT0gMCApIHsgcmV0dXJuIHR5cGVvZiBlbXB0eSA9PT0gJ2Jvb2xlYW4nID8gKCBlbXB0eSA/IDEgOiAtMSApIDogLWVtcHR5IHx8IC0xOyB9XG5cdFx0XHRyZXR1cm4gdHMuc29ydE5hdHVyYWwoIGIsIGEgKTtcblx0XHR9LFxuXG5cdFx0Ly8gYmFzaWMgYWxwaGFiZXRpY2FsIHNvcnRcblx0XHRzb3J0VGV4dCA6IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0cmV0dXJuIGEgPiBiID8gMSA6ICggYSA8IGIgPyAtMSA6IDAgKTtcblx0XHR9LFxuXG5cdFx0Ly8gcmV0dXJuIHRleHQgc3RyaW5nIHZhbHVlIGJ5IGFkZGluZyB1cCBhc2NpaSB2YWx1ZVxuXHRcdC8vIHNvIHRoZSB0ZXh0IGlzIHNvbWV3aGF0IHNvcnRlZCB3aGVuIHVzaW5nIGEgZGlnaXRhbCBzb3J0XG5cdFx0Ly8gdGhpcyBpcyBOT1QgYW4gYWxwaGFudW1lcmljIHNvcnRcblx0XHRnZXRUZXh0VmFsdWUgOiBmdW5jdGlvbiggdmFsLCBudW0sIG1heCApIHtcblx0XHRcdGlmICggbWF4ICkge1xuXHRcdFx0XHQvLyBtYWtlIHN1cmUgdGhlIHRleHQgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXggbnVtZXJpY2FsIHZhbHVlIChtYXgpXG5cdFx0XHRcdHZhciBpbmR4LFxuXHRcdFx0XHRcdGxlbiA9IHZhbCA/IHZhbC5sZW5ndGggOiAwLFxuXHRcdFx0XHRcdG4gPSBtYXggKyBudW07XG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0biArPSB2YWwuY2hhckNvZGVBdCggaW5keCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBudW0gKiBuO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fSxcblxuXHRcdHNvcnROdW1lcmljQXNjIDogZnVuY3Rpb24oIGEsIGIsIG51bSwgbWF4LCBjb2wsIGMgKSB7XG5cdFx0XHRpZiAoIGEgPT09IGIgKSB7IHJldHVybiAwOyB9XG5cdFx0XHR2YXIgZW1wdHkgPSB0cy5zdHJpbmdbICggYy5lbXB0aWVzWyBjb2wgXSB8fCBjLmVtcHR5VG8gKSBdO1xuXHRcdFx0aWYgKCBhID09PSAnJyAmJiBlbXB0eSAhPT0gMCApIHsgcmV0dXJuIHR5cGVvZiBlbXB0eSA9PT0gJ2Jvb2xlYW4nID8gKCBlbXB0eSA/IC0xIDogMSApIDogLWVtcHR5IHx8IC0xOyB9XG5cdFx0XHRpZiAoIGIgPT09ICcnICYmIGVtcHR5ICE9PSAwICkgeyByZXR1cm4gdHlwZW9mIGVtcHR5ID09PSAnYm9vbGVhbicgPyAoIGVtcHR5ID8gMSA6IC0xICkgOiBlbXB0eSB8fCAxOyB9XG5cdFx0XHRpZiAoIGlzTmFOKCBhICkgKSB7IGEgPSB0cy5nZXRUZXh0VmFsdWUoIGEsIG51bSwgbWF4ICk7IH1cblx0XHRcdGlmICggaXNOYU4oIGIgKSApIHsgYiA9IHRzLmdldFRleHRWYWx1ZSggYiwgbnVtLCBtYXggKTsgfVxuXHRcdFx0cmV0dXJuIGEgLSBiO1xuXHRcdH0sXG5cblx0XHRzb3J0TnVtZXJpY0Rlc2MgOiBmdW5jdGlvbiggYSwgYiwgbnVtLCBtYXgsIGNvbCwgYyApIHtcblx0XHRcdGlmICggYSA9PT0gYiApIHsgcmV0dXJuIDA7IH1cblx0XHRcdHZhciBlbXB0eSA9IHRzLnN0cmluZ1sgKCBjLmVtcHRpZXNbIGNvbCBdIHx8IGMuZW1wdHlUbyApIF07XG5cdFx0XHRpZiAoIGEgPT09ICcnICYmIGVtcHR5ICE9PSAwICkgeyByZXR1cm4gdHlwZW9mIGVtcHR5ID09PSAnYm9vbGVhbicgPyAoIGVtcHR5ID8gLTEgOiAxICkgOiBlbXB0eSB8fCAxOyB9XG5cdFx0XHRpZiAoIGIgPT09ICcnICYmIGVtcHR5ICE9PSAwICkgeyByZXR1cm4gdHlwZW9mIGVtcHR5ID09PSAnYm9vbGVhbicgPyAoIGVtcHR5ID8gMSA6IC0xICkgOiAtZW1wdHkgfHwgLTE7IH1cblx0XHRcdGlmICggaXNOYU4oIGEgKSApIHsgYSA9IHRzLmdldFRleHRWYWx1ZSggYSwgbnVtLCBtYXggKTsgfVxuXHRcdFx0aWYgKCBpc05hTiggYiApICkgeyBiID0gdHMuZ2V0VGV4dFZhbHVlKCBiLCBudW0sIG1heCApOyB9XG5cdFx0XHRyZXR1cm4gYiAtIGE7XG5cdFx0fSxcblxuXHRcdHNvcnROdW1lcmljIDogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRyZXR1cm4gYSAtIGI7XG5cdFx0fSxcblxuXHRcdC8qXG5cdFx04paI4paIIOKWiOKWiCDilojilogg4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWhCDiloTilojilojilojilojiloQg4paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiCDiloTilojilojilojilojilohcblx0XHTilojilogg4paI4paIIOKWiOKWiCDilojilogg4paI4paIICDilojilogg4paI4paIIOKWhOKWhOKWhCDilojilojiloTiloQgICAgIOKWiOKWiCAgIOKWgOKWiOKWhFxuXHRcdOKWiOKWiCDilojilogg4paI4paIIOKWiOKWiCDilojiloggIOKWiOKWiCDilojilogg4paA4paI4paIIOKWiOKWiOKWgOKWgCAgICAg4paI4paIICAgICAg4paA4paI4paEXG5cdFx04paI4paI4paI4paI4paI4paI4paI4paAIOKWiOKWiCDilojilojilojilojilojiloAg4paA4paI4paI4paI4paI4paAIOKWiOKWiOKWiOKWiOKWiOKWiCAgIOKWiOKWiCAgIOKWiOKWiOKWiOKWiOKWiOKWgFxuXHRcdCovXG5cdFx0YWRkV2lkZ2V0IDogZnVuY3Rpb24oIHdpZGdldCApIHtcblx0XHRcdGlmICggd2lkZ2V0LmlkICYmICF0cy5pc0VtcHR5T2JqZWN0KCB0cy5nZXRXaWRnZXRCeUlkKCB3aWRnZXQuaWQgKSApICkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyB3aWRnZXQuaWQgKyAnXCIgd2lkZ2V0IHdhcyBsb2FkZWQgbW9yZSB0aGFuIG9uY2UhJyApO1xuXHRcdFx0fVxuXHRcdFx0dHMud2lkZ2V0c1sgdHMud2lkZ2V0cy5sZW5ndGggXSA9IHdpZGdldDtcblx0XHR9LFxuXG5cdFx0aGFzV2lkZ2V0IDogZnVuY3Rpb24oICR0YWJsZSwgbmFtZSApIHtcblx0XHRcdCR0YWJsZSA9ICQoICR0YWJsZSApO1xuXHRcdFx0cmV0dXJuICR0YWJsZS5sZW5ndGggJiYgJHRhYmxlWyAwIF0uY29uZmlnICYmICR0YWJsZVsgMCBdLmNvbmZpZy53aWRnZXRJbml0WyBuYW1lIF0gfHwgZmFsc2U7XG5cdFx0fSxcblxuXHRcdGdldFdpZGdldEJ5SWQgOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRcdHZhciBpbmR4LCB3aWRnZXQsXG5cdFx0XHRcdGxlbiA9IHRzLndpZGdldHMubGVuZ3RoO1xuXHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0d2lkZ2V0ID0gdHMud2lkZ2V0c1sgaW5keCBdO1xuXHRcdFx0XHRpZiAoIHdpZGdldCAmJiB3aWRnZXQuaWQgJiYgd2lkZ2V0LmlkLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gd2lkZ2V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGFwcGx5V2lkZ2V0T3B0aW9ucyA6IGZ1bmN0aW9uKCB0YWJsZSApIHtcblx0XHRcdHZhciBpbmR4LCB3aWRnZXQsIHdvLFxuXHRcdFx0XHRjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHRsZW4gPSBjLndpZGdldHMubGVuZ3RoO1xuXHRcdFx0aWYgKCBsZW4gKSB7XG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0d2lkZ2V0ID0gdHMuZ2V0V2lkZ2V0QnlJZCggYy53aWRnZXRzWyBpbmR4IF0gKTtcblx0XHRcdFx0XHRpZiAoIHdpZGdldCAmJiB3aWRnZXQub3B0aW9ucyApIHtcblx0XHRcdFx0XHRcdHdvID0gJC5leHRlbmQoIHRydWUsIHt9LCB3aWRnZXQub3B0aW9ucyApO1xuXHRcdFx0XHRcdFx0Yy53aWRnZXRPcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHdvLCBjLndpZGdldE9wdGlvbnMgKTtcblx0XHRcdFx0XHRcdC8vIGFkZCB3aWRnZXRPcHRpb25zIHRvIGRlZmF1bHRzIGZvciBvcHRpb24gdmFsaWRhdG9yXG5cdFx0XHRcdFx0XHQkLmV4dGVuZCggdHJ1ZSwgdHMuZGVmYXVsdHMud2lkZ2V0T3B0aW9ucywgd2lkZ2V0Lm9wdGlvbnMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YWRkV2lkZ2V0RnJvbUNsYXNzIDogZnVuY3Rpb24oIHRhYmxlICkge1xuXHRcdFx0dmFyIGxlbiwgaW5keCxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0Ly8gbG9vayBmb3Igd2lkZ2V0cyB0byBhcHBseSBmcm9tIHRhYmxlIGNsYXNzXG5cdFx0XHRcdC8vIGRvbid0IG1hdGNoIGZyb20gJ3VpLXdpZGdldC1jb250ZW50JzsgdXNlIFxcUyBpbnN0ZWFkIG9mIFxcdyB0byBpbmNsdWRlIHdpZGdldHNcblx0XHRcdFx0Ly8gd2l0aCBkYXNoZXMgaW4gdGhlIG5hbWUsIGUuZy4gXCJ3aWRnZXQtdGVzdC0yXCIgZXh0cmFjdHMgb3V0IFwidGVzdC0yXCJcblx0XHRcdFx0cmVnZXggPSAnXicgKyBjLndpZGdldENsYXNzLnJlcGxhY2UoIHRzLnJlZ2V4LnRlbXBsYXRlTmFtZSwgJyhcXFxcUyspKycgKSArICckJyxcblx0XHRcdFx0d2lkZ2V0Q2xhc3MgPSBuZXcgUmVnRXhwKCByZWdleCwgJ2cnICksXG5cdFx0XHRcdC8vIHNwbGl0IHVwIHRhYmxlIGNsYXNzICh3aWRnZXQgaWQncyBjYW4gaW5jbHVkZSBkYXNoZXMpIC0gc3RvcCB1c2luZyBtYXRjaFxuXHRcdFx0XHQvLyBvdGhlcndpc2Ugb25seSBvbmUgd2lkZ2V0IGdldHMgZXh0cmFjdGVkLCBzZWUgIzExMDlcblx0XHRcdFx0d2lkZ2V0cyA9ICggdGFibGUuY2xhc3NOYW1lIHx8ICcnICkuc3BsaXQoIHRzLnJlZ2V4LnNwYWNlcyApO1xuXHRcdFx0aWYgKCB3aWRnZXRzLmxlbmd0aCApIHtcblx0XHRcdFx0bGVuID0gd2lkZ2V0cy5sZW5ndGg7XG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0aWYgKCB3aWRnZXRzWyBpbmR4IF0ubWF0Y2goIHdpZGdldENsYXNzICkgKSB7XG5cdFx0XHRcdFx0XHRjLndpZGdldHNbIGMud2lkZ2V0cy5sZW5ndGggXSA9IHdpZGdldHNbIGluZHggXS5yZXBsYWNlKCB3aWRnZXRDbGFzcywgJyQxJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRhcHBseVdpZGdldElkIDogZnVuY3Rpb24oIHRhYmxlLCBpZCwgaW5pdCApIHtcblx0XHRcdHRhYmxlID0gJCh0YWJsZSlbMF07XG5cdFx0XHR2YXIgYXBwbGllZCwgdGltZSwgbmFtZSxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRcdGRlYnVnID0gdHMuZGVidWcoYywgJ2NvcmUnKSxcblx0XHRcdFx0d2lkZ2V0ID0gdHMuZ2V0V2lkZ2V0QnlJZCggaWQgKTtcblx0XHRcdGlmICggd2lkZ2V0ICkge1xuXHRcdFx0XHRuYW1lID0gd2lkZ2V0LmlkO1xuXHRcdFx0XHRhcHBsaWVkID0gZmFsc2U7XG5cdFx0XHRcdC8vIGFkZCB3aWRnZXQgbmFtZSB0byBvcHRpb24gbGlzdCBzbyBpdCBnZXRzIHJlYXBwbGllZCBhZnRlciBzb3J0aW5nLCBmaWx0ZXJpbmcsIGV0Y1xuXHRcdFx0XHRpZiAoICQuaW5BcnJheSggbmFtZSwgYy53aWRnZXRzICkgPCAwICkge1xuXHRcdFx0XHRcdGMud2lkZ2V0c1sgYy53aWRnZXRzLmxlbmd0aCBdID0gbmFtZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGRlYnVnICkgeyB0aW1lID0gbmV3IERhdGUoKTsgfVxuXG5cdFx0XHRcdGlmICggaW5pdCB8fCAhKCBjLndpZGdldEluaXRbIG5hbWUgXSApICkge1xuXHRcdFx0XHRcdC8vIHNldCBpbml0IGZsYWcgZmlyc3QgdG8gcHJldmVudCBjYWxsaW5nIGluaXQgbW9yZSB0aGFuIG9uY2UgKGUuZy4gcGFnZXIpXG5cdFx0XHRcdFx0Yy53aWRnZXRJbml0WyBuYW1lIF0gPSB0cnVlO1xuXHRcdFx0XHRcdGlmICggdGFibGUuaGFzSW5pdGlhbGl6ZWQgKSB7XG5cdFx0XHRcdFx0XHQvLyBkb24ndCByZWFwcGx5IHdpZGdldCBvcHRpb25zIG9uIHRhYmxlc29ydGVyIGluaXRcblx0XHRcdFx0XHRcdHRzLmFwcGx5V2lkZ2V0T3B0aW9ucyggdGFibGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCB0eXBlb2Ygd2lkZ2V0LmluaXQgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0XHRhcHBsaWVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGlmICggZGVidWcgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGVbIGNvbnNvbGUuZ3JvdXAgPyAnZ3JvdXAnIDogJ2xvZycgXSggJ0luaXRpYWxpemluZyAnICsgbmFtZSArICcgd2lkZ2V0JyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0d2lkZ2V0LmluaXQoIHRhYmxlLCB3aWRnZXQsIGMsIHdvICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIWluaXQgJiYgdHlwZW9mIHdpZGdldC5mb3JtYXQgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0YXBwbGllZCA9IHRydWU7XG5cdFx0XHRcdFx0aWYgKCBkZWJ1ZyApIHtcblx0XHRcdFx0XHRcdGNvbnNvbGVbIGNvbnNvbGUuZ3JvdXAgPyAnZ3JvdXAnIDogJ2xvZycgXSggJ1VwZGF0aW5nICcgKyBuYW1lICsgJyB3aWRnZXQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdpZGdldC5mb3JtYXQoIHRhYmxlLCBjLCB3bywgZmFsc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGRlYnVnICkge1xuXHRcdFx0XHRcdGlmICggYXBwbGllZCApIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnQ29tcGxldGVkICcgKyAoIGluaXQgPyAnaW5pdGlhbGl6aW5nICcgOiAnYXBwbHlpbmcgJyApICsgbmFtZSArICcgd2lkZ2V0JyArIHRzLmJlbmNobWFyayggdGltZSApICk7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbnNvbGUuZ3JvdXBFbmQgKSB7IGNvbnNvbGUuZ3JvdXBFbmQoKTsgfVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRhcHBseVdpZGdldCA6IGZ1bmN0aW9uKCB0YWJsZSwgaW5pdCwgY2FsbGJhY2sgKSB7XG5cdFx0XHR0YWJsZSA9ICQoIHRhYmxlIClbIDAgXTsgLy8gaW4gY2FzZSB0aGlzIGlzIGNhbGxlZCBleHRlcm5hbGx5XG5cdFx0XHR2YXIgaW5keCwgbGVuLCBuYW1lcywgd2lkZ2V0LCB0aW1lLFxuXHRcdFx0XHRjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHRkZWJ1ZyA9IHRzLmRlYnVnKGMsICdjb3JlJyksXG5cdFx0XHRcdHdpZGdldHMgPSBbXTtcblx0XHRcdC8vIHByZXZlbnQgbnVtZXJvdXMgY29uc2VjdXRpdmUgd2lkZ2V0IGFwcGxpY2F0aW9uc1xuXHRcdFx0aWYgKCBpbml0ICE9PSBmYWxzZSAmJiB0YWJsZS5oYXNJbml0aWFsaXplZCAmJiAoIHRhYmxlLmlzQXBwbHlpbmdXaWRnZXRzIHx8IHRhYmxlLmlzVXBkYXRpbmcgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBkZWJ1ZyApIHsgdGltZSA9IG5ldyBEYXRlKCk7IH1cblx0XHRcdHRzLmFkZFdpZGdldEZyb21DbGFzcyggdGFibGUgKTtcblx0XHRcdC8vIHByZXZlbnQgXCJ0YWJsZXNvcnRlci1yZWFkeVwiIGZyb20gZmlyaW5nIG11bHRpcGxlIHRpbWVzIGluIGEgcm93XG5cdFx0XHRjbGVhclRpbWVvdXQoIGMudGltZXJSZWFkeSApO1xuXHRcdFx0aWYgKCBjLndpZGdldHMubGVuZ3RoICkge1xuXHRcdFx0XHR0YWJsZS5pc0FwcGx5aW5nV2lkZ2V0cyA9IHRydWU7XG5cdFx0XHRcdC8vIGVuc3VyZSB1bmlxdWUgd2lkZ2V0IGlkc1xuXHRcdFx0XHRjLndpZGdldHMgPSAkLmdyZXAoIGMud2lkZ2V0cywgZnVuY3Rpb24oIHZhbCwgaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQuaW5BcnJheSggdmFsLCBjLndpZGdldHMgKSA9PT0gaW5kZXg7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRuYW1lcyA9IGMud2lkZ2V0cyB8fCBbXTtcblx0XHRcdFx0bGVuID0gbmFtZXMubGVuZ3RoO1xuXHRcdFx0XHQvLyBidWlsZCB3aWRnZXQgYXJyYXkgJiBhZGQgcHJpb3JpdHkgYXMgbmVlZGVkXG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0d2lkZ2V0ID0gdHMuZ2V0V2lkZ2V0QnlJZCggbmFtZXNbIGluZHggXSApO1xuXHRcdFx0XHRcdGlmICggd2lkZ2V0ICYmIHdpZGdldC5pZCApIHtcblx0XHRcdFx0XHRcdC8vIHNldCBwcmlvcml0eSB0byAxMCBpZiBub3QgZGVmaW5lZFxuXHRcdFx0XHRcdFx0aWYgKCAhd2lkZ2V0LnByaW9yaXR5ICkgeyB3aWRnZXQucHJpb3JpdHkgPSAxMDsgfVxuXHRcdFx0XHRcdFx0d2lkZ2V0c1sgaW5keCBdID0gd2lkZ2V0O1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIGRlYnVnICkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnXCInICsgbmFtZXNbIGluZHggXSArICdcIiB3YXMgZW5hYmxlZCwgYnV0IHRoZSB3aWRnZXQgY29kZSBoYXMgbm90IGJlZW4gbG9hZGVkIScgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gc29ydCB3aWRnZXRzIGJ5IHByaW9yaXR5XG5cdFx0XHRcdHdpZGdldHMuc29ydCggZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGEucHJpb3JpdHkgPCBiLnByaW9yaXR5ID8gLTEgOiBhLnByaW9yaXR5ID09PSBiLnByaW9yaXR5ID8gMCA6IDE7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBhZGQvdXBkYXRlIHNlbGVjdGVkIHdpZGdldHNcblx0XHRcdFx0bGVuID0gd2lkZ2V0cy5sZW5ndGg7XG5cdFx0XHRcdGlmICggZGVidWcgKSB7XG5cdFx0XHRcdFx0Y29uc29sZVsgY29uc29sZS5ncm91cCA/ICdncm91cCcgOiAnbG9nJyBdKCAnU3RhcnQgJyArICggaW5pdCA/ICdpbml0aWFsaXppbmcnIDogJ2FwcGx5aW5nJyApICsgJyB3aWRnZXRzJyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0d2lkZ2V0ID0gd2lkZ2V0c1sgaW5keCBdO1xuXHRcdFx0XHRcdGlmICggd2lkZ2V0ICYmIHdpZGdldC5pZCApIHtcblx0XHRcdFx0XHRcdHRzLmFwcGx5V2lkZ2V0SWQoIHRhYmxlLCB3aWRnZXQuaWQsIGluaXQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBkZWJ1ZyAmJiBjb25zb2xlLmdyb3VwRW5kICkgeyBjb25zb2xlLmdyb3VwRW5kKCk7IH1cblx0XHRcdH1cblx0XHRcdGMudGltZXJSZWFkeSA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0YWJsZS5pc0FwcGx5aW5nV2lkZ2V0cyA9IGZhbHNlO1xuXHRcdFx0XHQkLmRhdGEoIHRhYmxlLCAnbGFzdFdpZGdldEFwcGxpY2F0aW9uJywgbmV3IERhdGUoKSApO1xuXHRcdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ3RhYmxlc29ydGVyLXJlYWR5JyApO1xuXHRcdFx0XHQvLyBjYWxsYmFjayBleGVjdXRlZCBvbiBpbml0IG9ubHlcblx0XHRcdFx0aWYgKCAhaW5pdCAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soIHRhYmxlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBkZWJ1ZyApIHtcblx0XHRcdFx0XHR3aWRnZXQgPSBjLndpZGdldHMubGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnQ29tcGxldGVkICcgK1xuXHRcdFx0XHRcdFx0KCBpbml0ID09PSB0cnVlID8gJ2luaXRpYWxpemluZyAnIDogJ2FwcGx5aW5nICcgKSArIHdpZGdldCArXG5cdFx0XHRcdFx0XHQnIHdpZGdldCcgKyAoIHdpZGdldCAhPT0gMSA/ICdzJyA6ICcnICkgKyB0cy5iZW5jaG1hcmsoIHRpbWUgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAxMCApO1xuXHRcdH0sXG5cblx0XHRyZW1vdmVXaWRnZXQgOiBmdW5jdGlvbiggdGFibGUsIG5hbWUsIHJlZnJlc2hpbmcgKSB7XG5cdFx0XHR0YWJsZSA9ICQoIHRhYmxlIClbIDAgXTtcblx0XHRcdHZhciBpbmRleCwgd2lkZ2V0LCBpbmR4LCBsZW4sXG5cdFx0XHRcdGMgPSB0YWJsZS5jb25maWc7XG5cdFx0XHQvLyBpZiBuYW1lID09PSB0cnVlLCBhZGQgYWxsIHdpZGdldHMgZnJvbSAkLnRhYmxlc29ydGVyLndpZGdldHNcblx0XHRcdGlmICggbmFtZSA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0bmFtZSA9IFtdO1xuXHRcdFx0XHRsZW4gPSB0cy53aWRnZXRzLmxlbmd0aDtcblx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0XHR3aWRnZXQgPSB0cy53aWRnZXRzWyBpbmR4IF07XG5cdFx0XHRcdFx0aWYgKCB3aWRnZXQgJiYgd2lkZ2V0LmlkICkge1xuXHRcdFx0XHRcdFx0bmFtZVsgbmFtZS5sZW5ndGggXSA9IHdpZGdldC5pZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIG5hbWUgY2FuIGJlIGVpdGhlciBhbiBhcnJheSBvZiB3aWRnZXRzIG5hbWVzLFxuXHRcdFx0XHQvLyBvciBhIHNwYWNlL2NvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHdpZGdldCBuYW1lc1xuXHRcdFx0XHRuYW1lID0gKCAkLmlzQXJyYXkoIG5hbWUgKSA/IG5hbWUuam9pbiggJywnICkgOiBuYW1lIHx8ICcnICkudG9Mb3dlckNhc2UoKS5zcGxpdCggL1tcXHMsXSsvICk7XG5cdFx0XHR9XG5cdFx0XHRsZW4gPSBuYW1lLmxlbmd0aDtcblx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW47IGluZGV4KysgKSB7XG5cdFx0XHRcdHdpZGdldCA9IHRzLmdldFdpZGdldEJ5SWQoIG5hbWVbIGluZGV4IF0gKTtcblx0XHRcdFx0aW5keCA9ICQuaW5BcnJheSggbmFtZVsgaW5kZXggXSwgYy53aWRnZXRzICk7XG5cdFx0XHRcdC8vIGRvbid0IHJlbW92ZSB0aGUgd2lkZ2V0IGZyb20gY29uZmlnLndpZGdldCBpZiByZWZyZXNoaW5nXG5cdFx0XHRcdGlmICggaW5keCA+PSAwICYmIHJlZnJlc2hpbmcgIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0Yy53aWRnZXRzLnNwbGljZSggaW5keCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggd2lkZ2V0ICYmIHdpZGdldC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0aWYgKCB0cy5kZWJ1ZyhjLCAnY29yZScpICkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coICggcmVmcmVzaGluZyA/ICdSZWZyZXNoaW5nJyA6ICdSZW1vdmluZycgKSArICcgXCInICsgbmFtZVsgaW5kZXggXSArICdcIiB3aWRnZXQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdpZGdldC5yZW1vdmUoIHRhYmxlLCBjLCBjLndpZGdldE9wdGlvbnMsIHJlZnJlc2hpbmcgKTtcblx0XHRcdFx0XHRjLndpZGdldEluaXRbIG5hbWVbIGluZGV4IF0gXSA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ3dpZGdldFJlbW92ZUVuZCcsIHRhYmxlICk7XG5cdFx0fSxcblxuXHRcdHJlZnJlc2hXaWRnZXRzIDogZnVuY3Rpb24oIHRhYmxlLCBkb0FsbCwgZG9udGFwcGx5ICkge1xuXHRcdFx0dGFibGUgPSAkKCB0YWJsZSApWyAwIF07IC8vIHNlZSBpc3N1ZSAjMjQzXG5cdFx0XHR2YXIgaW5keCwgd2lkZ2V0LFxuXHRcdFx0XHRjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHRjdXJXaWRnZXRzID0gYy53aWRnZXRzLFxuXHRcdFx0XHR3aWRnZXRzID0gdHMud2lkZ2V0cyxcblx0XHRcdFx0bGVuID0gd2lkZ2V0cy5sZW5ndGgsXG5cdFx0XHRcdGxpc3QgPSBbXSxcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdGFibGUgKSB7XG5cdFx0XHRcdFx0JCggdGFibGUgKS50cmlnZ2VySGFuZGxlciggJ3JlZnJlc2hDb21wbGV0ZScgKTtcblx0XHRcdFx0fTtcblx0XHRcdC8vIHJlbW92ZSB3aWRnZXRzIG5vdCBkZWZpbmVkIGluIGNvbmZpZy53aWRnZXRzLCB1bmxlc3MgZG9BbGwgaXMgdHJ1ZVxuXHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0d2lkZ2V0ID0gd2lkZ2V0c1sgaW5keCBdO1xuXHRcdFx0XHRpZiAoIHdpZGdldCAmJiB3aWRnZXQuaWQgJiYgKCBkb0FsbCB8fCAkLmluQXJyYXkoIHdpZGdldC5pZCwgY3VyV2lkZ2V0cyApIDwgMCApICkge1xuXHRcdFx0XHRcdGxpc3RbIGxpc3QubGVuZ3RoIF0gPSB3aWRnZXQuaWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRzLnJlbW92ZVdpZGdldCggdGFibGUsIGxpc3Quam9pbiggJywnICksIHRydWUgKTtcblx0XHRcdGlmICggZG9udGFwcGx5ICE9PSB0cnVlICkge1xuXHRcdFx0XHQvLyBjYWxsIHdpZGdldCBpbml0IGlmXG5cdFx0XHRcdHRzLmFwcGx5V2lkZ2V0KCB0YWJsZSwgZG9BbGwgfHwgZmFsc2UsIGNhbGxiYWNrICk7XG5cdFx0XHRcdGlmICggZG9BbGwgKSB7XG5cdFx0XHRcdFx0Ly8gYXBwbHkgd2lkZ2V0IGZvcm1hdFxuXHRcdFx0XHRcdHRzLmFwcGx5V2lkZ2V0KCB0YWJsZSwgZmFsc2UsIGNhbGxiYWNrICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrKCB0YWJsZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKlxuXHRcdOKWiOKWiCAg4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiCDilojilogg4paI4paIICAgICDilojilogg4paI4paI4paI4paI4paI4paIIOKWiOKWiCDilojilojilojilojilojilogg4paE4paI4paI4paI4paI4paIXG5cdFx04paI4paIICDilojiloggICDilojiloggICDilojilogg4paI4paIICAgICDilojiloggICDilojiloggICDilojilogg4paI4paI4paE4paEICAg4paA4paI4paEXG5cdFx04paI4paIICDilojiloggICDilojiloggICDilojilogg4paI4paIICAgICDilojiloggICDilojiloggICDilojilogg4paI4paI4paA4paAICAgICAg4paA4paI4paEXG5cdFx04paA4paI4paI4paI4paI4paAICAg4paI4paIICAg4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiCDilojiloggICDilojiloggICDilojilogg4paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWgFxuXHRcdCovXG5cdFx0YmVuY2htYXJrIDogZnVuY3Rpb24oIGRpZmYgKSB7XG5cdFx0XHRyZXR1cm4gKCAnICgnICsgKCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGRpZmYuZ2V0VGltZSgpICkgKyAnIG1zKScgKTtcblx0XHR9LFxuXHRcdC8vIGRlcHJlY2F0ZWQgdHMubG9nXG5cdFx0bG9nIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb25zb2xlLmxvZyggYXJndW1lbnRzICk7XG5cdFx0fSxcblx0XHRkZWJ1ZyA6IGZ1bmN0aW9uKGMsIG5hbWUpIHtcblx0XHRcdHJldHVybiBjICYmIChcblx0XHRcdFx0Yy5kZWJ1ZyA9PT0gdHJ1ZSB8fFxuXHRcdFx0XHR0eXBlb2YgYy5kZWJ1ZyA9PT0gJ3N0cmluZycgJiYgYy5kZWJ1Zy5pbmRleE9mKG5hbWUpID4gLTFcblx0XHRcdCk7XG5cdFx0fSxcblxuXHRcdC8vICQuaXNFbXB0eU9iamVjdCBmcm9tIGpRdWVyeSB2MS40XG5cdFx0aXNFbXB0eU9iamVjdCA6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHQvKmpzaGludCBmb3JpbjogZmFsc2UgKi9cblx0XHRcdGZvciAoIHZhciBuYW1lIGluIG9iaiApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGlzVmFsdWVJbkFycmF5IDogZnVuY3Rpb24oIGNvbHVtbiwgYXJyeSApIHtcblx0XHRcdHZhciBpbmR4LFxuXHRcdFx0XHRsZW4gPSBhcnJ5ICYmIGFycnkubGVuZ3RoIHx8IDA7XG5cdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrICkge1xuXHRcdFx0XHRpZiAoIGFycnlbIGluZHggXVsgMCBdID09PSBjb2x1bW4gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGluZHg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiAtMTtcblx0XHR9LFxuXG5cdFx0Zm9ybWF0RmxvYXQgOiBmdW5jdGlvbiggc3RyLCB0YWJsZSApIHtcblx0XHRcdGlmICggdHlwZW9mIHN0ciAhPT0gJ3N0cmluZycgfHwgc3RyID09PSAnJyApIHsgcmV0dXJuIHN0cjsgfVxuXHRcdFx0Ly8gYWxsb3cgdXNpbmcgZm9ybWF0RmxvYXQgd2l0aG91dCBhIHRhYmxlOyBkZWZhdWx0cyB0byBVUyBudW1iZXIgZm9ybWF0XG5cdFx0XHR2YXIgbnVtLFxuXHRcdFx0XHR1c0Zvcm1hdCA9IHRhYmxlICYmIHRhYmxlLmNvbmZpZyA/IHRhYmxlLmNvbmZpZy51c051bWJlckZvcm1hdCAhPT0gZmFsc2UgOlxuXHRcdFx0XHRcdHR5cGVvZiB0YWJsZSAhPT0gJ3VuZGVmaW5lZCcgPyB0YWJsZSA6IHRydWU7XG5cdFx0XHRpZiAoIHVzRm9ybWF0ICkge1xuXHRcdFx0XHQvLyBVUyBGb3JtYXQgLSAxLDIzNCw1NjcuODkgLT4gMTIzNDU2Ny44OVxuXHRcdFx0XHRzdHIgPSBzdHIucmVwbGFjZSggdHMucmVnZXguY29tbWEsICcnICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBHZXJtYW4gRm9ybWF0ID0gMS4yMzQuNTY3LDg5IC0+IDEyMzQ1NjcuODlcblx0XHRcdFx0Ly8gRnJlbmNoIEZvcm1hdCA9IDEgMjM0IDU2Nyw4OSAtPiAxMjM0NTY3Ljg5XG5cdFx0XHRcdHN0ciA9IHN0ci5yZXBsYWNlKCB0cy5yZWdleC5kaWdpdE5vblVTLCAnJyApLnJlcGxhY2UoIHRzLnJlZ2V4LmNvbW1hLCAnLicgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdHMucmVnZXguZGlnaXROZWdhdGl2ZVRlc3QudGVzdCggc3RyICkgKSB7XG5cdFx0XHRcdC8vIG1ha2UgKCMpIGludG8gYSBuZWdhdGl2ZSBudW1iZXIgLT4gKDEwKSA9IC0xMFxuXHRcdFx0XHRzdHIgPSBzdHIucmVwbGFjZSggdHMucmVnZXguZGlnaXROZWdhdGl2ZVJlcGxhY2UsICctJDEnICk7XG5cdFx0XHR9XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCBzdHIgKTtcblx0XHRcdC8vIHJldHVybiB0aGUgdGV4dCBpbnN0ZWFkIG9mIHplcm9cblx0XHRcdHJldHVybiBpc05hTiggbnVtICkgPyAkLnRyaW0oIHN0ciApIDogbnVtO1xuXHRcdH0sXG5cblx0XHRpc0RpZ2l0IDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdC8vIHJlcGxhY2UgYWxsIHVud2FudGVkIGNoYXJzIGFuZCBtYXRjaFxuXHRcdFx0cmV0dXJuIGlzTmFOKCBzdHIgKSA/XG5cdFx0XHRcdHRzLnJlZ2V4LmRpZ2l0VGVzdC50ZXN0KCBzdHIudG9TdHJpbmcoKS5yZXBsYWNlKCB0cy5yZWdleC5kaWdpdFJlcGxhY2UsICcnICkgKSA6XG5cdFx0XHRcdHN0ciAhPT0gJyc7XG5cdFx0fSxcblxuXHRcdC8vIGNvbXB1dGVUYWJsZUhlYWRlckNlbGxJbmRleGVzIGZyb206XG5cdFx0Ly8gaHR0cDovL3d3dy5qYXZhc2NyaXB0dG9vbGJveC5jb20vbGliL3RhYmxlL2V4YW1wbGVzLnBocFxuXHRcdC8vIGh0dHA6Ly93d3cuamF2YXNjcmlwdHRvb2xib3guY29tL3RlbXAvdGFibGVfY2VsbGluZGV4Lmh0bWxcblx0XHRjb21wdXRlQ29sdW1uSW5kZXggOiBmdW5jdGlvbiggJHJvd3MsIGMgKSB7XG5cdFx0XHR2YXIgaSwgaiwgaywgbCwgY2VsbCwgY2VsbHMsIHJvd0luZGV4LCByb3dTcGFuLCBjb2xTcGFuLCBmaXJzdEF2YWlsQ29sLFxuXHRcdFx0XHQvLyB0b3RhbCBjb2x1bW5zIGhhcyBiZWVuIGNhbGN1bGF0ZWQsIHVzZSBpdCB0byBzZXQgdGhlIG1hdHJpeHJvd1xuXHRcdFx0XHRjb2x1bW5zID0gYyAmJiBjLmNvbHVtbnMgfHwgMCxcblx0XHRcdFx0bWF0cml4ID0gW10sXG5cdFx0XHRcdG1hdHJpeHJvdyA9IG5ldyBBcnJheSggY29sdW1ucyApO1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCAkcm93cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y2VsbHMgPSAkcm93c1sgaSBdLmNlbGxzO1xuXHRcdFx0XHRmb3IgKCBqID0gMDsgaiA8IGNlbGxzLmxlbmd0aDsgaisrICkge1xuXHRcdFx0XHRcdGNlbGwgPSBjZWxsc1sgaiBdO1xuXHRcdFx0XHRcdHJvd0luZGV4ID0gaTtcblx0XHRcdFx0XHRyb3dTcGFuID0gY2VsbC5yb3dTcGFuIHx8IDE7XG5cdFx0XHRcdFx0Y29sU3BhbiA9IGNlbGwuY29sU3BhbiB8fCAxO1xuXHRcdFx0XHRcdGlmICggdHlwZW9mIG1hdHJpeFsgcm93SW5kZXggXSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0XHRtYXRyaXhbIHJvd0luZGV4IF0gPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gRmluZCBmaXJzdCBhdmFpbGFibGUgY29sdW1uIGluIHRoZSBmaXJzdCByb3dcblx0XHRcdFx0XHRmb3IgKCBrID0gMDsgayA8IG1hdHJpeFsgcm93SW5kZXggXS5sZW5ndGggKyAxOyBrKysgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiBtYXRyaXhbIHJvd0luZGV4IF1bIGsgXSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0XHRcdGZpcnN0QXZhaWxDb2wgPSBrO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8ganNjczpkaXNhYmxlIGRpc2FsbG93RW1wdHlCbG9ja3Ncblx0XHRcdFx0XHRpZiAoIGNvbHVtbnMgJiYgY2VsbC5jZWxsSW5kZXggPT09IGZpcnN0QXZhaWxDb2wgKSB7XG5cdFx0XHRcdFx0XHQvLyBkb24ndCB0byBhbnl0aGluZ1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNlbGwuc2V0QXR0cmlidXRlICkge1xuXHRcdFx0XHRcdFx0Ly8ganNjczplbmFibGUgZGlzYWxsb3dFbXB0eUJsb2Nrc1xuXHRcdFx0XHRcdFx0Ly8gYWRkIGRhdGEtY29sdW1uIChzZXRBdHRyaWJ1dGUgPSBJRTgrKVxuXHRcdFx0XHRcdFx0Y2VsbC5zZXRBdHRyaWJ1dGUoICdkYXRhLWNvbHVtbicsIGZpcnN0QXZhaWxDb2wgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIG9uY2Ugd2UgZHJvcCBzdXBwb3J0IGZvciBJRTcgLSAxLzEyLzIwMTZcblx0XHRcdFx0XHRcdCQoIGNlbGwgKS5hdHRyKCAnZGF0YS1jb2x1bW4nLCBmaXJzdEF2YWlsQ29sICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvciAoIGsgPSByb3dJbmRleDsgayA8IHJvd0luZGV4ICsgcm93U3BhbjsgaysrICkge1xuXHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgbWF0cml4WyBrIF0gPT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRcdFx0XHRtYXRyaXhbIGsgXSA9IFtdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0cml4cm93ID0gbWF0cml4WyBrIF07XG5cdFx0XHRcdFx0XHRmb3IgKCBsID0gZmlyc3RBdmFpbENvbDsgbCA8IGZpcnN0QXZhaWxDb2wgKyBjb2xTcGFuOyBsKysgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdHJpeHJvd1sgbCBdID0gJ3gnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dHMuY2hlY2tDb2x1bW5Db3VudCgkcm93cywgbWF0cml4LCBtYXRyaXhyb3cubGVuZ3RoKTtcblx0XHRcdHJldHVybiBtYXRyaXhyb3cubGVuZ3RoO1xuXHRcdH0sXG5cblx0XHRjaGVja0NvbHVtbkNvdW50IDogZnVuY3Rpb24oJHJvd3MsIG1hdHJpeCwgY29sdW1ucykge1xuXHRcdFx0Ly8gdGhpcyBET0VTIE5PVCByZXBvcnQgYW55IHRib2R5IGNvbHVtbiBpc3N1ZXMsIGV4Y2VwdCBmb3IgdGhlIG1hdGggYW5kXG5cdFx0XHQvLyBhbmQgY29sdW1uIHNlbGVjdG9yIHdpZGdldHNcblx0XHRcdHZhciBpLCBsZW4sXG5cdFx0XHRcdHZhbGlkID0gdHJ1ZSxcblx0XHRcdFx0Y2VsbHMgPSBbXTtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHQvLyBzb21lIG1hdHJpeCBlbnRyaWVzIGFyZSB1bmRlZmluZWQgd2hlbiB0ZXN0aW5nIHRoZSBmb290ZXIgYmVjYXVzZVxuXHRcdFx0XHQvLyBpdCBpcyB1c2luZyB0aGUgcm93SW5kZXggcHJvcGVydHlcblx0XHRcdFx0aWYgKCBtYXRyaXhbaV0gKSB7XG5cdFx0XHRcdFx0bGVuID0gbWF0cml4W2ldLmxlbmd0aDtcblx0XHRcdFx0XHRpZiAoIG1hdHJpeFtpXS5sZW5ndGggIT09IGNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0XHR2YWxpZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoICF2YWxpZCApIHtcblx0XHRcdFx0JHJvd3MuZWFjaCggZnVuY3Rpb24oIGluZHgsIGVsICkge1xuXHRcdFx0XHRcdHZhciBjZWxsID0gZWwucGFyZW50RWxlbWVudC5ub2RlTmFtZTtcblx0XHRcdFx0XHRpZiAoIGNlbGxzLmluZGV4T2YoIGNlbGwgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRjZWxscy5wdXNoKCBjZWxsICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHQnSW52YWxpZCBvciBpbmNvcnJlY3QgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlICcgK1xuXHRcdFx0XHRcdGNlbGxzLmpvaW4oICcgb3IgJyApICsgJzsgZXhwZWN0ZWQgJyArIGNvbHVtbnMgK1xuXHRcdFx0XHRcdCcsIGJ1dCBmb3VuZCAnICsgbGVuICsgJyBjb2x1bW5zJ1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBhdXRvbWF0aWNhbGx5IGFkZCBhIGNvbGdyb3VwIHdpdGggY29sIGVsZW1lbnRzIHNldCB0byBhIHBlcmNlbnRhZ2Ugd2lkdGhcblx0XHRmaXhDb2x1bW5XaWR0aCA6IGZ1bmN0aW9uKCB0YWJsZSApIHtcblx0XHRcdHRhYmxlID0gJCggdGFibGUgKVsgMCBdO1xuXHRcdFx0dmFyIG92ZXJhbGxXaWR0aCwgcGVyY2VudCwgJHRib2RpZXMsIGxlbiwgaW5kZXgsXG5cdFx0XHRcdGMgPSB0YWJsZS5jb25maWcsXG5cdFx0XHRcdCRjb2xncm91cCA9IGMuJHRhYmxlLmNoaWxkcmVuKCAnY29sZ3JvdXAnICk7XG5cdFx0XHQvLyByZW1vdmUgcGx1Z2luLWFkZGVkIGNvbGdyb3VwLCBpbiBjYXNlIHdlIG5lZWQgdG8gcmVmcmVzaCB0aGUgd2lkdGhzXG5cdFx0XHRpZiAoICRjb2xncm91cC5sZW5ndGggJiYgJGNvbGdyb3VwLmhhc0NsYXNzKCB0cy5jc3MuY29sZ3JvdXAgKSApIHtcblx0XHRcdFx0JGNvbGdyb3VwLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBjLndpZHRoRml4ZWQgJiYgYy4kdGFibGUuY2hpbGRyZW4oICdjb2xncm91cCcgKS5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRcdCRjb2xncm91cCA9ICQoICc8Y29sZ3JvdXAgY2xhc3M9XCInICsgdHMuY3NzLmNvbGdyb3VwICsgJ1wiPicgKTtcblx0XHRcdFx0b3ZlcmFsbFdpZHRoID0gYy4kdGFibGUud2lkdGgoKTtcblx0XHRcdFx0Ly8gb25seSBhZGQgY29sIGZvciB2aXNpYmxlIGNvbHVtbnMgLSBmaXhlcyAjMzcxXG5cdFx0XHRcdCR0Ym9kaWVzID0gYy4kdGJvZGllcy5maW5kKCAndHI6Zmlyc3QnICkuY2hpbGRyZW4oICc6dmlzaWJsZScgKTtcblx0XHRcdFx0bGVuID0gJHRib2RpZXMubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdHBlcmNlbnQgPSBwYXJzZUludCggKCAkdGJvZGllcy5lcSggaW5kZXggKS53aWR0aCgpIC8gb3ZlcmFsbFdpZHRoICkgKiAxMDAwLCAxMCApIC8gMTAgKyAnJSc7XG5cdFx0XHRcdFx0JGNvbGdyb3VwLmFwcGVuZCggJCggJzxjb2w+JyApLmNzcyggJ3dpZHRoJywgcGVyY2VudCApICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Yy4kdGFibGUucHJlcGVuZCggJGNvbGdyb3VwICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIGdldCBzb3J0ZXIsIHN0cmluZywgZW1wdHksIGV0YyBvcHRpb25zIGZvciBlYWNoIGNvbHVtbiBmcm9tXG5cdFx0Ly8galF1ZXJ5IGRhdGEsIG1ldGFkYXRhLCBoZWFkZXIgb3B0aW9uIG9yIGhlYWRlciBjbGFzcyBuYW1lICgnc29ydGVyLWZhbHNlJylcblx0XHQvLyBwcmlvcml0eSA9IGpRdWVyeSBkYXRhID4gbWV0YSA+IGhlYWRlcnMgb3B0aW9uID4gaGVhZGVyIGNsYXNzIG5hbWVcblx0XHRnZXREYXRhIDogZnVuY3Rpb24oIGhlYWRlciwgY29uZmlnSGVhZGVyLCBrZXkgKSB7XG5cdFx0XHR2YXIgbWV0YSwgY2w0c3MsXG5cdFx0XHRcdHZhbCA9ICcnLFxuXHRcdFx0XHQkaGVhZGVyID0gJCggaGVhZGVyICk7XG5cdFx0XHRpZiAoICEkaGVhZGVyLmxlbmd0aCApIHsgcmV0dXJuICcnOyB9XG5cdFx0XHRtZXRhID0gJC5tZXRhZGF0YSA/ICRoZWFkZXIubWV0YWRhdGEoKSA6IGZhbHNlO1xuXHRcdFx0Y2w0c3MgPSAnICcgKyAoICRoZWFkZXIuYXR0ciggJ2NsYXNzJyApIHx8ICcnICk7XG5cdFx0XHRpZiAoIHR5cGVvZiAkaGVhZGVyLmRhdGEoIGtleSApICE9PSAndW5kZWZpbmVkJyB8fFxuXHRcdFx0XHR0eXBlb2YgJGhlYWRlci5kYXRhKCBrZXkudG9Mb3dlckNhc2UoKSApICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0Ly8gJ2RhdGEtbG9ja2VkT3JkZXInIGlzIGFzc2lnbmVkIHRvICdsb2NrZWRvcmRlcic7IGJ1dCAnZGF0YS1sb2NrZWQtb3JkZXInIGlzIGFzc2lnbmVkIHRvICdsb2NrZWRPcmRlcidcblx0XHRcdFx0Ly8gJ2RhdGEtc29ydC1pbml0aWFsLW9yZGVyJyBpcyBhc3NpZ25lZCB0byAnc29ydEluaXRpYWxPcmRlcidcblx0XHRcdFx0dmFsICs9ICRoZWFkZXIuZGF0YSgga2V5ICkgfHwgJGhlYWRlci5kYXRhKCBrZXkudG9Mb3dlckNhc2UoKSApO1xuXHRcdFx0fSBlbHNlIGlmICggbWV0YSAmJiB0eXBlb2YgbWV0YVsga2V5IF0gIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHR2YWwgKz0gbWV0YVsga2V5IF07XG5cdFx0XHR9IGVsc2UgaWYgKCBjb25maWdIZWFkZXIgJiYgdHlwZW9mIGNvbmZpZ0hlYWRlclsga2V5IF0gIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHR2YWwgKz0gY29uZmlnSGVhZGVyWyBrZXkgXTtcblx0XHRcdH0gZWxzZSBpZiAoIGNsNHNzICE9PSAnICcgJiYgY2w0c3MubWF0Y2goICcgJyArIGtleSArICctJyApICkge1xuXHRcdFx0XHQvLyBpbmNsdWRlIHNvcnRlciBjbGFzcyBuYW1lICdzb3J0ZXItdGV4dCcsIGV0Yzsgbm93IHdvcmtzIHdpdGggJ3NvcnRlci1teS1jdXN0b20tcGFyc2VyJ1xuXHRcdFx0XHR2YWwgPSBjbDRzcy5tYXRjaCggbmV3IFJlZ0V4cCggJ1xcXFxzJyArIGtleSArICctKFtcXFxcdy1dKyknICkgKVsgMSBdIHx8ICcnO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICQudHJpbSggdmFsICk7XG5cdFx0fSxcblxuXHRcdGdldENvbHVtbkRhdGEgOiBmdW5jdGlvbiggdGFibGUsIG9iaiwgaW5keCwgZ2V0Q2VsbCwgJGhlYWRlcnMgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdH1cblx0XHRcdHRhYmxlID0gJCggdGFibGUgKVsgMCBdO1xuXHRcdFx0dmFyICRoZWFkZXIsIGtleSxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0JGNlbGxzID0gKCAkaGVhZGVycyB8fCBjLiRoZWFkZXJzICksXG5cdFx0XHRcdC8vIGMuJGhlYWRlckluZGV4ZWQgaXMgbm90IGRlZmluZWQgaW5pdGlhbGx5XG5cdFx0XHRcdCRjZWxsID0gYy4kaGVhZGVySW5kZXhlZCAmJiBjLiRoZWFkZXJJbmRleGVkWyBpbmR4IF0gfHxcblx0XHRcdFx0XHQkY2VsbHMuZmluZCggJ1tkYXRhLWNvbHVtbj1cIicgKyBpbmR4ICsgJ1wiXTpsYXN0JyApO1xuXHRcdFx0aWYgKCB0eXBlb2Ygb2JqWyBpbmR4IF0gIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRyZXR1cm4gZ2V0Q2VsbCA/IG9ialsgaW5keCBdIDogb2JqWyAkY2VsbHMuaW5kZXgoICRjZWxsICkgXTtcblx0XHRcdH1cblx0XHRcdGZvciAoIGtleSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdFx0JGhlYWRlciA9ICRjZWxsXG5cdFx0XHRcdFx0XHQvLyBoZWFkZXIgY2VsbCB3aXRoIGNsYXNzL2lkXG5cdFx0XHRcdFx0XHQuZmlsdGVyKCBrZXkgKVxuXHRcdFx0XHRcdFx0Ly8gZmluZCBlbGVtZW50cyB3aXRoaW4gdGhlIGhlYWRlciBjZWxsIHdpdGggY2VsbC9pZFxuXHRcdFx0XHRcdFx0LmFkZCggJGNlbGwuZmluZCgga2V5ICkgKTtcblx0XHRcdFx0XHRpZiAoICRoZWFkZXIubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9ialsga2V5IF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fSxcblxuXHRcdC8vICoqKiBQcm9jZXNzIHRhYmxlICoqKlxuXHRcdC8vIGFkZCBwcm9jZXNzaW5nIGluZGljYXRvclxuXHRcdGlzUHJvY2Vzc2luZyA6IGZ1bmN0aW9uKCAkdGFibGUsIHRvZ2dsZSwgJGhlYWRlcnMgKSB7XG5cdFx0XHQkdGFibGUgPSAkKCAkdGFibGUgKTtcblx0XHRcdHZhciBjID0gJHRhYmxlWyAwIF0uY29uZmlnLFxuXHRcdFx0XHQvLyBkZWZhdWx0IHRvIGFsbCBoZWFkZXJzXG5cdFx0XHRcdCRoZWFkZXIgPSAkaGVhZGVycyB8fCAkdGFibGUuZmluZCggJy4nICsgdHMuY3NzLmhlYWRlciApO1xuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdC8vIGRvbid0IHVzZSBzb3J0TGlzdCBpZiBjdXN0b20gJGhlYWRlcnMgdXNlZFxuXHRcdFx0XHRpZiAoIHR5cGVvZiAkaGVhZGVycyAhPT0gJ3VuZGVmaW5lZCcgJiYgYy5zb3J0TGlzdC5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRcdC8vIGdldCBoZWFkZXJzIGZyb20gdGhlIHNvcnRMaXN0XG5cdFx0XHRcdFx0JGhlYWRlciA9ICRoZWFkZXIuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIGdldCBkYXRhLWNvbHVtbiBmcm9tIGF0dHIgdG8ga2VlcCBjb21wYXRpYmlsaXR5IHdpdGggalF1ZXJ5IDEuMi42XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5zb3J0RGlzYWJsZWQgP1xuXHRcdFx0XHRcdFx0XHRmYWxzZSA6XG5cdFx0XHRcdFx0XHRcdHRzLmlzVmFsdWVJbkFycmF5KCBwYXJzZUZsb2F0KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtY29sdW1uJyApICksIGMuc29ydExpc3QgKSA+PSAwO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCR0YWJsZS5hZGQoICRoZWFkZXIgKS5hZGRDbGFzcyggdHMuY3NzLnByb2Nlc3NpbmcgKyAnICcgKyBjLmNzc1Byb2Nlc3NpbmcgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCR0YWJsZS5hZGQoICRoZWFkZXIgKS5yZW1vdmVDbGFzcyggdHMuY3NzLnByb2Nlc3NpbmcgKyAnICcgKyBjLmNzc1Byb2Nlc3NpbmcgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gZGV0YWNoIHRib2R5IGJ1dCBzYXZlIHRoZSBwb3NpdGlvblxuXHRcdC8vIGRvbid0IHVzZSB0Ym9keSBiZWNhdXNlIHRoZXJlIGFyZSBwb3J0aW9ucyB0aGF0IGxvb2sgZm9yIGEgdGJvZHkgaW5kZXggKHVwZGF0ZUNlbGwpXG5cdFx0cHJvY2Vzc1Rib2R5IDogZnVuY3Rpb24oIHRhYmxlLCAkdGIsIGdldEl0ICkge1xuXHRcdFx0dGFibGUgPSAkKCB0YWJsZSApWyAwIF07XG5cdFx0XHRpZiAoIGdldEl0ICkge1xuXHRcdFx0XHR0YWJsZS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXHRcdFx0XHQkdGIuYmVmb3JlKCAnPGNvbGdyb3VwIGNsYXNzPVwidGFibGVzb3J0ZXItc2F2ZW15cGxhY2VcIi8+JyApO1xuXHRcdFx0XHRyZXR1cm4gJC5mbi5kZXRhY2ggPyAkdGIuZGV0YWNoKCkgOiAkdGIucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgaG9sZHIgPSAkKCB0YWJsZSApLmZpbmQoICdjb2xncm91cC50YWJsZXNvcnRlci1zYXZlbXlwbGFjZScgKTtcblx0XHRcdCR0Yi5pbnNlcnRBZnRlciggaG9sZHIgKTtcblx0XHRcdGhvbGRyLnJlbW92ZSgpO1xuXHRcdFx0dGFibGUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGNsZWFyVGFibGVCb2R5IDogZnVuY3Rpb24oIHRhYmxlICkge1xuXHRcdFx0JCggdGFibGUgKVsgMCBdLmNvbmZpZy4kdGJvZGllcy5jaGlsZHJlbigpLmRldGFjaCgpO1xuXHRcdH0sXG5cblx0XHQvLyB1c2VkIHdoZW4gcmVwbGFjaW5nIGFjY2VudGVkIGNoYXJhY3RlcnMgZHVyaW5nIHNvcnRpbmdcblx0XHRjaGFyYWN0ZXJFcXVpdmFsZW50cyA6IHtcblx0XHRcdCdhJyA6ICdcXHUwMGUxXFx1MDBlMFxcdTAwZTJcXHUwMGUzXFx1MDBlNFxcdTAxMDVcXHUwMGU1JywgLy8gw6HDoMOiw6PDpMSFw6Vcblx0XHRcdCdBJyA6ICdcXHUwMGMxXFx1MDBjMFxcdTAwYzJcXHUwMGMzXFx1MDBjNFxcdTAxMDRcXHUwMGM1JywgLy8gw4HDgMOCw4PDhMSEw4Vcblx0XHRcdCdjJyA6ICdcXHUwMGU3XFx1MDEwN1xcdTAxMGQnLCAvLyDDp8SHxI1cblx0XHRcdCdDJyA6ICdcXHUwMGM3XFx1MDEwNlxcdTAxMGMnLCAvLyDDh8SGxIxcblx0XHRcdCdlJyA6ICdcXHUwMGU5XFx1MDBlOFxcdTAwZWFcXHUwMGViXFx1MDExYlxcdTAxMTknLCAvLyDDqcOow6rDq8SbxJlcblx0XHRcdCdFJyA6ICdcXHUwMGM5XFx1MDBjOFxcdTAwY2FcXHUwMGNiXFx1MDExYVxcdTAxMTgnLCAvLyDDicOIw4rDi8SaxJhcblx0XHRcdCdpJyA6ICdcXHUwMGVkXFx1MDBlY1xcdTAxMzBcXHUwMGVlXFx1MDBlZlxcdTAxMzEnLCAvLyDDrcOsxLDDrsOvxLFcblx0XHRcdCdJJyA6ICdcXHUwMGNkXFx1MDBjY1xcdTAxMzBcXHUwMGNlXFx1MDBjZicsIC8vIMONw4zEsMOOw49cblx0XHRcdCdvJyA6ICdcXHUwMGYzXFx1MDBmMlxcdTAwZjRcXHUwMGY1XFx1MDBmNlxcdTAxNGQnLCAvLyDDs8Oyw7TDtcO2xY1cblx0XHRcdCdPJyA6ICdcXHUwMGQzXFx1MDBkMlxcdTAwZDRcXHUwMGQ1XFx1MDBkNlxcdTAxNGMnLCAvLyDDk8OSw5TDlcOWxYxcblx0XHRcdCdzcyc6ICdcXHUwMGRmJywgLy8gw58gKHMgc2hhcnApXG5cdFx0XHQnU1MnOiAnXFx1MWU5ZScsIC8vIOG6niAoQ2FwaXRhbCBzaGFycCBzKVxuXHRcdFx0J3UnIDogJ1xcdTAwZmFcXHUwMGY5XFx1MDBmYlxcdTAwZmNcXHUwMTZmJywgLy8gw7rDucO7w7zFr1xuXHRcdFx0J1UnIDogJ1xcdTAwZGFcXHUwMGQ5XFx1MDBkYlxcdTAwZGNcXHUwMTZlJyAvLyDDmsOZw5vDnMWuXG5cdFx0fSxcblxuXHRcdHJlcGxhY2VBY2NlbnRzIDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdHZhciBjaHIsXG5cdFx0XHRcdGFjYyA9ICdbJyxcblx0XHRcdFx0ZXEgPSB0cy5jaGFyYWN0ZXJFcXVpdmFsZW50cztcblx0XHRcdGlmICggIXRzLmNoYXJhY3RlclJlZ2V4ICkge1xuXHRcdFx0XHR0cy5jaGFyYWN0ZXJSZWdleEFycmF5ID0ge307XG5cdFx0XHRcdGZvciAoIGNociBpbiBlcSApIHtcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBjaHIgPT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRcdFx0YWNjICs9IGVxWyBjaHIgXTtcblx0XHRcdFx0XHRcdHRzLmNoYXJhY3RlclJlZ2V4QXJyYXlbIGNociBdID0gbmV3IFJlZ0V4cCggJ1snICsgZXFbIGNociBdICsgJ10nLCAnZycgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dHMuY2hhcmFjdGVyUmVnZXggPSBuZXcgUmVnRXhwKCBhY2MgKyAnXScgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdHMuY2hhcmFjdGVyUmVnZXgudGVzdCggc3RyICkgKSB7XG5cdFx0XHRcdGZvciAoIGNociBpbiBlcSApIHtcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBjaHIgPT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRcdFx0c3RyID0gc3RyLnJlcGxhY2UoIHRzLmNoYXJhY3RlclJlZ2V4QXJyYXlbIGNociBdLCBjaHIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBzdHI7XG5cdFx0fSxcblxuXHRcdHZhbGlkYXRlT3B0aW9ucyA6IGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0dmFyIHNldHRpbmcsIHNldHRpbmcyLCB0eXAsIHRpbWVyLFxuXHRcdFx0XHQvLyBpZ25vcmUgb3B0aW9ucyBjb250YWluaW5nIGFuIGFycmF5XG5cdFx0XHRcdGlnbm9yZSA9ICdoZWFkZXJzIHNvcnRGb3JjZSBzb3J0TGlzdCBzb3J0QXBwZW5kIHdpZGdldHMnLnNwbGl0KCAnICcgKSxcblx0XHRcdFx0b3JpZyA9IGMub3JpZ2luYWxTZXR0aW5ncztcblx0XHRcdGlmICggb3JpZyApIHtcblx0XHRcdFx0aWYgKCB0cy5kZWJ1ZyhjLCAnY29yZScpICkge1xuXHRcdFx0XHRcdHRpbWVyID0gbmV3IERhdGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKCBzZXR0aW5nIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0dHlwID0gdHlwZW9mIHRzLmRlZmF1bHRzW3NldHRpbmddO1xuXHRcdFx0XHRcdGlmICggdHlwID09PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1RhYmxlc29ydGVyIFdhcm5pbmchIFwidGFibGUuY29uZmlnLicgKyBzZXR0aW5nICsgJ1wiIG9wdGlvbiBub3QgcmVjb2duaXplZCcgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXAgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRcdFx0Zm9yICggc2V0dGluZzIgaW4gb3JpZ1tzZXR0aW5nXSApIHtcblx0XHRcdFx0XHRcdFx0dHlwID0gdHMuZGVmYXVsdHNbc2V0dGluZ10gJiYgdHlwZW9mIHRzLmRlZmF1bHRzW3NldHRpbmddW3NldHRpbmcyXTtcblx0XHRcdFx0XHRcdFx0aWYgKCAkLmluQXJyYXkoIHNldHRpbmcsIGlnbm9yZSApIDwgMCAmJiB0eXAgPT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1RhYmxlc29ydGVyIFdhcm5pbmchIFwidGFibGUuY29uZmlnLicgKyBzZXR0aW5nICsgJy4nICsgc2V0dGluZzIgKyAnXCIgb3B0aW9uIG5vdCByZWNvZ25pemVkJyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSApIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ3ZhbGlkYXRlIG9wdGlvbnMgdGltZTonICsgdHMuYmVuY2htYXJrKCB0aW1lciApICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gcmVzdG9yZSBoZWFkZXJzXG5cdFx0cmVzdG9yZUhlYWRlcnMgOiBmdW5jdGlvbiggdGFibGUgKSB7XG5cdFx0XHR2YXIgaW5kZXgsICRjZWxsLFxuXHRcdFx0XHRjID0gJCggdGFibGUgKVsgMCBdLmNvbmZpZyxcblx0XHRcdFx0JGhlYWRlcnMgPSBjLiR0YWJsZS5maW5kKCBjLnNlbGVjdG9ySGVhZGVycyApLFxuXHRcdFx0XHRsZW4gPSAkaGVhZGVycy5sZW5ndGg7XG5cdFx0XHQvLyBkb24ndCB1c2UgYy4kaGVhZGVycyBoZXJlIGluIGNhc2UgaGVhZGVyIGNlbGxzIHdlcmUgc3dhcHBlZFxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbjsgaW5kZXgrKyApIHtcblx0XHRcdFx0JGNlbGwgPSAkaGVhZGVycy5lcSggaW5kZXggKTtcblx0XHRcdFx0Ly8gb25seSByZXN0b3JlIGhlYWRlciBjZWxscyBpZiBpdCBpcyB3cmFwcGVkXG5cdFx0XHRcdC8vIGJlY2F1c2UgdGhpcyBpcyBhbHNvIHVzZWQgYnkgdGhlIHVwZGF0ZUFsbCBtZXRob2Rcblx0XHRcdFx0aWYgKCAkY2VsbC5maW5kKCAnLicgKyB0cy5jc3MuaGVhZGVySW4gKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0JGNlbGwuaHRtbCggYy5oZWFkZXJDb250ZW50WyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZGVzdHJveSA6IGZ1bmN0aW9uKCB0YWJsZSwgcmVtb3ZlQ2xhc3NlcywgY2FsbGJhY2sgKSB7XG5cdFx0XHR0YWJsZSA9ICQoIHRhYmxlIClbIDAgXTtcblx0XHRcdGlmICggIXRhYmxlLmhhc0luaXRpYWxpemVkICkgeyByZXR1cm47IH1cblx0XHRcdC8vIHJlbW92ZSBhbGwgd2lkZ2V0c1xuXHRcdFx0dHMucmVtb3ZlV2lkZ2V0KCB0YWJsZSwgdHJ1ZSwgZmFsc2UgKTtcblx0XHRcdHZhciBldmVudHMsXG5cdFx0XHRcdCR0ID0gJCggdGFibGUgKSxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0JGggPSAkdC5maW5kKCAndGhlYWQ6Zmlyc3QnICksXG5cdFx0XHRcdCRyID0gJGguZmluZCggJ3RyLicgKyB0cy5jc3MuaGVhZGVyUm93ICkucmVtb3ZlQ2xhc3MoIHRzLmNzcy5oZWFkZXJSb3cgKyAnICcgKyBjLmNzc0hlYWRlclJvdyApLFxuXHRcdFx0XHQkZiA9ICR0LmZpbmQoICd0Zm9vdDpmaXJzdCA+IHRyJyApLmNoaWxkcmVuKCAndGgsIHRkJyApO1xuXHRcdFx0aWYgKCByZW1vdmVDbGFzc2VzID09PSBmYWxzZSAmJiAkLmluQXJyYXkoICd1aXRoZW1lJywgYy53aWRnZXRzICkgPj0gMCApIHtcblx0XHRcdFx0Ly8gcmVhcHBseSB1aXRoZW1lIGNsYXNzZXMsIGluIGNhc2Ugd2Ugd2FudCB0byBtYWludGFpbiBhcHBlYXJhbmNlXG5cdFx0XHRcdCR0LnRyaWdnZXJIYW5kbGVyKCAnYXBwbHlXaWRnZXRJZCcsIFsgJ3VpdGhlbWUnIF0gKTtcblx0XHRcdFx0JHQudHJpZ2dlckhhbmRsZXIoICdhcHBseVdpZGdldElkJywgWyAnemVicmEnIF0gKTtcblx0XHRcdH1cblx0XHRcdC8vIHJlbW92ZSB3aWRnZXQgYWRkZWQgcm93cywganVzdCBpbiBjYXNlXG5cdFx0XHQkaC5maW5kKCAndHInICkubm90KCAkciApLnJlbW92ZSgpO1xuXHRcdFx0Ly8gZGlzYWJsZSB0YWJsZXNvcnRlciAtIG5vdCB1c2luZyAudW5iaW5kKCBuYW1lc3BhY2UgKSBiZWNhdXNlIG5hbWVzcGFjaW5nIHdhc1xuXHRcdFx0Ly8gYWRkZWQgaW4galF1ZXJ5IHYxLjQuMyAtIHNlZSBodHRwOi8vYXBpLmpxdWVyeS5jb20vZXZlbnQubmFtZXNwYWNlL1xuXHRcdFx0ZXZlbnRzID0gJ3NvcnRSZXNldCB1cGRhdGUgdXBkYXRlUm93cyB1cGRhdGVBbGwgdXBkYXRlSGVhZGVycyB1cGRhdGVDZWxsIGFkZFJvd3MgdXBkYXRlQ29tcGxldGUgc29ydG9uICcgK1xuXHRcdFx0XHQnYXBwZW5kQ2FjaGUgdXBkYXRlQ2FjaGUgYXBwbHlXaWRnZXRJZCBhcHBseVdpZGdldHMgcmVmcmVzaFdpZGdldHMgcmVtb3ZlV2lkZ2V0IGRlc3Ryb3kgbW91c2V1cCBtb3VzZWxlYXZlICcgK1xuXHRcdFx0XHQna2V5cHJlc3Mgc29ydEJlZ2luIHNvcnRFbmQgcmVzZXRUb0xvYWRTdGF0ZSAnLnNwbGl0KCAnICcgKVxuXHRcdFx0XHQuam9pbiggYy5uYW1lc3BhY2UgKyAnICcgKTtcblx0XHRcdCR0XG5cdFx0XHRcdC5yZW1vdmVEYXRhKCAndGFibGVzb3J0ZXInIClcblx0XHRcdFx0LnVuYmluZCggZXZlbnRzLnJlcGxhY2UoIHRzLnJlZ2V4LnNwYWNlcywgJyAnICkgKTtcblx0XHRcdGMuJGhlYWRlcnNcblx0XHRcdFx0LmFkZCggJGYgKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFsgdHMuY3NzLmhlYWRlciwgYy5jc3NIZWFkZXIsIGMuY3NzQXNjLCBjLmNzc0Rlc2MsIHRzLmNzcy5zb3J0QXNjLCB0cy5jc3Muc29ydERlc2MsIHRzLmNzcy5zb3J0Tm9uZSBdLmpvaW4oICcgJyApIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoICdkYXRhLWNvbHVtbicgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggJ2FyaWEtbGFiZWwnIClcblx0XHRcdFx0LmF0dHIoICdhcmlhLWRpc2FibGVkJywgJ3RydWUnICk7XG5cdFx0XHQkclxuXHRcdFx0XHQuZmluZCggYy5zZWxlY3RvclNvcnQgKVxuXHRcdFx0XHQudW5iaW5kKCAoICdtb3VzZWRvd24gbW91c2V1cCBrZXlwcmVzcyAnLnNwbGl0KCAnICcgKS5qb2luKCBjLm5hbWVzcGFjZSArICcgJyApICkucmVwbGFjZSggdHMucmVnZXguc3BhY2VzLCAnICcgKSApO1xuXHRcdFx0dHMucmVzdG9yZUhlYWRlcnMoIHRhYmxlICk7XG5cdFx0XHQkdC50b2dnbGVDbGFzcyggdHMuY3NzLnRhYmxlICsgJyAnICsgYy50YWJsZUNsYXNzICsgJyB0YWJsZXNvcnRlci0nICsgYy50aGVtZSwgcmVtb3ZlQ2xhc3NlcyA9PT0gZmFsc2UgKTtcblx0XHRcdCR0LnJlbW92ZUNsYXNzKGMubmFtZXNwYWNlLnNsaWNlKDEpKTtcblx0XHRcdC8vIGNsZWFyIGZsYWcgaW4gY2FzZSB0aGUgcGx1Z2luIGlzIGluaXRpYWxpemVkIGFnYWluXG5cdFx0XHR0YWJsZS5oYXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXHRcdFx0ZGVsZXRlIHRhYmxlLmNvbmZpZy5jYWNoZTtcblx0XHRcdGlmICggdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRjYWxsYmFjayggdGFibGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdHMuZGVidWcoYywgJ2NvcmUnKSApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coICd0YWJsZXNvcnRlciBoYXMgYmVlbiByZW1vdmVkJyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9O1xuXG5cdCQuZm4udGFibGVzb3J0ZXIgPSBmdW5jdGlvbiggc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdGFibGUgPSB0aGlzLFxuXHRcdFx0Ly8gbWVyZ2UgJiBleHRlbmQgY29uZmlnIG9wdGlvbnNcblx0XHRcdGMgPSAkLmV4dGVuZCggdHJ1ZSwge30sIHRzLmRlZmF1bHRzLCBzZXR0aW5ncywgdHMuaW5zdGFuY2VNZXRob2RzICk7XG5cdFx0XHQvLyBzYXZlIGluaXRpYWwgc2V0dGluZ3Ncblx0XHRcdGMub3JpZ2luYWxTZXR0aW5ncyA9IHNldHRpbmdzO1xuXHRcdFx0Ly8gY3JlYXRlIGEgdGFibGUgZnJvbSBkYXRhIChidWlsZCB0YWJsZSB3aWRnZXQpXG5cdFx0XHRpZiAoICF0YWJsZS5oYXNJbml0aWFsaXplZCAmJiB0cy5idWlsZFRhYmxlICYmIHRoaXMubm9kZU5hbWUgIT09ICdUQUJMRScgKSB7XG5cdFx0XHRcdC8vIHJldHVybiB0aGUgdGFibGUgKGluIGNhc2UgdGhlIG9yaWdpbmFsIHRhcmdldCBpcyB0aGUgdGFibGUncyBjb250YWluZXIpXG5cdFx0XHRcdHRzLmJ1aWxkVGFibGUoIHRhYmxlLCBjICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0cy5zZXR1cCggdGFibGUsIGMgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcblxuXHQvLyBzZXQgdXAgZGVidWcgbG9nc1xuXHRpZiAoICEoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyApICkge1xuXHRcdC8vIGFjY2VzcyAkLnRhYmxlc29ydGVyLmxvZ3MgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgaGF2ZSBhIGNvbnNvbGUuLi5cblx0XHR0cy5sb2dzID0gW107XG5cdFx0Lypqc2hpbnQgLVcwMjAgKi9cblx0XHRjb25zb2xlID0ge307XG5cdFx0Y29uc29sZS5sb2cgPSBjb25zb2xlLndhcm4gPSBjb25zb2xlLmVycm9yID0gY29uc29sZS50YWJsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzIDogYXJndW1lbnRzWzBdO1xuXHRcdFx0dHMubG9nc1sgdHMubG9ncy5sZW5ndGggXSA9IHsgZGF0ZTogRGF0ZS5ub3coKSwgbG9nOiBhcmcgfTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gYWRkIGRlZmF1bHQgcGFyc2Vyc1xuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ25vLXBhcnNlcicsXG5cdFx0aXMgOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdGZvcm1hdCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH0sXG5cdFx0dHlwZSA6ICd0ZXh0J1xuXHR9KTtcblxuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ3RleHQnLFxuXHRcdGlzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXHRcdGZvcm1hdCA6IGZ1bmN0aW9uKCBzdHIsIHRhYmxlICkge1xuXHRcdFx0dmFyIGMgPSB0YWJsZS5jb25maWc7XG5cdFx0XHRpZiAoIHN0ciApIHtcblx0XHRcdFx0c3RyID0gJC50cmltKCBjLmlnbm9yZUNhc2UgPyBzdHIudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHN0ciApO1xuXHRcdFx0XHRzdHIgPSBjLnNvcnRMb2NhbGVDb21wYXJlID8gdHMucmVwbGFjZUFjY2VudHMoIHN0ciApIDogc3RyO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHN0cjtcblx0XHR9LFxuXHRcdHR5cGUgOiAndGV4dCdcblx0fSk7XG5cblx0dHMucmVnZXgubm9uZGlnaXQgPSAvW15cXHcsLiBcXC0oKV0vZztcblx0dHMuYWRkUGFyc2VyKHtcblx0XHRpZCA6ICdkaWdpdCcsXG5cdFx0aXMgOiBmdW5jdGlvbiggc3RyICkge1xuXHRcdFx0cmV0dXJuIHRzLmlzRGlnaXQoIHN0ciApO1xuXHRcdH0sXG5cdFx0Zm9ybWF0IDogZnVuY3Rpb24oIHN0ciwgdGFibGUgKSB7XG5cdFx0XHR2YXIgbnVtID0gdHMuZm9ybWF0RmxvYXQoICggc3RyIHx8ICcnICkucmVwbGFjZSggdHMucmVnZXgubm9uZGlnaXQsICcnICksIHRhYmxlICk7XG5cdFx0XHRyZXR1cm4gc3RyICYmIHR5cGVvZiBudW0gPT09ICdudW1iZXInID8gbnVtIDpcblx0XHRcdFx0c3RyID8gJC50cmltKCBzdHIgJiYgdGFibGUuY29uZmlnLmlnbm9yZUNhc2UgPyBzdHIudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHN0ciApIDogc3RyO1xuXHRcdH0sXG5cdFx0dHlwZSA6ICdudW1lcmljJ1xuXHR9KTtcblxuXHR0cy5yZWdleC5jdXJyZW5jeVJlcGxhY2UgPSAvWytcXC0sLiBdL2c7XG5cdHRzLnJlZ2V4LmN1cnJlbmN5VGVzdCA9IC9eXFwoP1xcZCtbXFx1MDBhMyRcXHUyMGFjXFx1MDBhNFxcdTAwYTVcXHUwMGEyPy5dfFtcXHUwMGEzJFxcdTIwYWNcXHUwMGE0XFx1MDBhNVxcdTAwYTI/Ll1cXGQrXFwpPyQvO1xuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ2N1cnJlbmN5Jyxcblx0XHRpcyA6IGZ1bmN0aW9uKCBzdHIgKSB7XG5cdFx0XHRzdHIgPSAoIHN0ciB8fCAnJyApLnJlcGxhY2UoIHRzLnJlZ2V4LmN1cnJlbmN5UmVwbGFjZSwgJycgKTtcblx0XHRcdC8vIHRlc3QgZm9yIMKjJOKCrMKkwqXColxuXHRcdFx0cmV0dXJuIHRzLnJlZ2V4LmN1cnJlbmN5VGVzdC50ZXN0KCBzdHIgKTtcblx0XHR9LFxuXHRcdGZvcm1hdCA6IGZ1bmN0aW9uKCBzdHIsIHRhYmxlICkge1xuXHRcdFx0dmFyIG51bSA9IHRzLmZvcm1hdEZsb2F0KCAoIHN0ciB8fCAnJyApLnJlcGxhY2UoIHRzLnJlZ2V4Lm5vbmRpZ2l0LCAnJyApLCB0YWJsZSApO1xuXHRcdFx0cmV0dXJuIHN0ciAmJiB0eXBlb2YgbnVtID09PSAnbnVtYmVyJyA/IG51bSA6XG5cdFx0XHRcdHN0ciA/ICQudHJpbSggc3RyICYmIHRhYmxlLmNvbmZpZy5pZ25vcmVDYXNlID8gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiBzdHIgKSA6IHN0cjtcblx0XHR9LFxuXHRcdHR5cGUgOiAnbnVtZXJpYydcblx0fSk7XG5cblx0Ly8gdG9vIG1hbnkgcHJvdG9jb2xzIHRvIGFkZCB0aGVtIGFsbCBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VUklfc2NoZW1lXG5cdC8vIG5vdywgdGhpcyByZWdleCBjYW4gYmUgdXBkYXRlZCBiZWZvcmUgaW5pdGlhbGl6YXRpb25cblx0dHMucmVnZXgudXJsUHJvdG9jb2xUZXN0ID0gL14oaHR0cHM/fGZ0cHxmaWxlKTpcXC9cXC8vO1xuXHR0cy5yZWdleC51cmxQcm90b2NvbFJlcGxhY2UgPSAvKGh0dHBzP3xmdHB8ZmlsZSk6XFwvXFwvKHd3d1xcLik/Lztcblx0dHMuYWRkUGFyc2VyKHtcblx0XHRpZCA6ICd1cmwnLFxuXHRcdGlzIDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdHJldHVybiB0cy5yZWdleC51cmxQcm90b2NvbFRlc3QudGVzdCggc3RyICk7XG5cdFx0fSxcblx0XHRmb3JtYXQgOiBmdW5jdGlvbiggc3RyICkge1xuXHRcdFx0cmV0dXJuIHN0ciA/ICQudHJpbSggc3RyLnJlcGxhY2UoIHRzLnJlZ2V4LnVybFByb3RvY29sUmVwbGFjZSwgJycgKSApIDogc3RyO1xuXHRcdH0sXG5cdFx0dHlwZSA6ICd0ZXh0J1xuXHR9KTtcblxuXHR0cy5yZWdleC5kYXNoID0gLy0vZztcblx0dHMucmVnZXguaXNvRGF0ZSA9IC9eXFxkezR9W1xcL1xcLV1cXGR7MSwyfVtcXC9cXC1dXFxkezEsMn0vO1xuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ2lzb0RhdGUnLFxuXHRcdGlzIDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdHJldHVybiB0cy5yZWdleC5pc29EYXRlLnRlc3QoIHN0ciApO1xuXHRcdH0sXG5cdFx0Zm9ybWF0IDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdHZhciBkYXRlID0gc3RyID8gbmV3IERhdGUoIHN0ci5yZXBsYWNlKCB0cy5yZWdleC5kYXNoLCAnLycgKSApIDogc3RyO1xuXHRcdFx0cmV0dXJuIGRhdGUgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKCBkYXRlICkgPyBkYXRlLmdldFRpbWUoKSA6IHN0cjtcblx0XHR9LFxuXHRcdHR5cGUgOiAnbnVtZXJpYydcblx0fSk7XG5cblx0dHMucmVnZXgucGVyY2VudCA9IC8lL2c7XG5cdHRzLnJlZ2V4LnBlcmNlbnRUZXN0ID0gLyhcXGRcXHMqPyV8JVxccyo/XFxkKS87XG5cdHRzLmFkZFBhcnNlcih7XG5cdFx0aWQgOiAncGVyY2VudCcsXG5cdFx0aXMgOiBmdW5jdGlvbiggc3RyICkge1xuXHRcdFx0cmV0dXJuIHRzLnJlZ2V4LnBlcmNlbnRUZXN0LnRlc3QoIHN0ciApICYmIHN0ci5sZW5ndGggPCAxNTtcblx0XHR9LFxuXHRcdGZvcm1hdCA6IGZ1bmN0aW9uKCBzdHIsIHRhYmxlICkge1xuXHRcdFx0cmV0dXJuIHN0ciA/IHRzLmZvcm1hdEZsb2F0KCBzdHIucmVwbGFjZSggdHMucmVnZXgucGVyY2VudCwgJycgKSwgdGFibGUgKSA6IHN0cjtcblx0XHR9LFxuXHRcdHR5cGUgOiAnbnVtZXJpYydcblx0fSk7XG5cblx0Ly8gYWRkZWQgaW1hZ2UgcGFyc2VyIHRvIGNvcmUgdjIuMTcuOVxuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ2ltYWdlJyxcblx0XHRpcyA6IGZ1bmN0aW9uKCBzdHIsIHRhYmxlLCBub2RlLCAkbm9kZSApIHtcblx0XHRcdHJldHVybiAkbm9kZS5maW5kKCAnaW1nJyApLmxlbmd0aCA+IDA7XG5cdFx0fSxcblx0XHRmb3JtYXQgOiBmdW5jdGlvbiggc3RyLCB0YWJsZSwgY2VsbCApIHtcblx0XHRcdHJldHVybiAkKCBjZWxsICkuZmluZCggJ2ltZycgKS5hdHRyKCB0YWJsZS5jb25maWcuaW1nQXR0ciB8fCAnYWx0JyApIHx8IHN0cjtcblx0XHR9LFxuXHRcdHBhcnNlZCA6IHRydWUsIC8vIGZpbHRlciB3aWRnZXQgZmxhZ1xuXHRcdHR5cGUgOiAndGV4dCdcblx0fSk7XG5cblx0dHMucmVnZXguZGF0ZVJlcGxhY2UgPSAvKFxcUykoW0FQXU0pJC9pOyAvLyB1c2VkIGJ5IHVzTG9uZ0RhdGUgJiB0aW1lIHBhcnNlclxuXHR0cy5yZWdleC51c0xvbmdEYXRlVGVzdDEgPSAvXltBLVpdezMsMTB9XFwuP1xccytcXGR7MSwyfSw/XFxzKyhcXGR7NH0pKFxccytcXGR7MSwyfTpcXGR7Mn0oOlxcZHsyfSk/KFxccytbQVBdTSk/KT8kL2k7XG5cdHRzLnJlZ2V4LnVzTG9uZ0RhdGVUZXN0MiA9IC9eXFxkezEsMn1cXHMrW0EtWl17MywxMH1cXHMrXFxkezR9L2k7XG5cdHRzLmFkZFBhcnNlcih7XG5cdFx0aWQgOiAndXNMb25nRGF0ZScsXG5cdFx0aXMgOiBmdW5jdGlvbiggc3RyICkge1xuXHRcdFx0Ly8gdHdvIGRpZ2l0IHllYXJzIGFyZSBub3QgYWxsb3dlZCBjcm9zcy1icm93c2VyXG5cdFx0XHQvLyBKYW4gMDEsIDIwMTMgMTI6MzQ6NTYgUE0gb3IgMDEgSmFuIDIwMTNcblx0XHRcdHJldHVybiB0cy5yZWdleC51c0xvbmdEYXRlVGVzdDEudGVzdCggc3RyICkgfHwgdHMucmVnZXgudXNMb25nRGF0ZVRlc3QyLnRlc3QoIHN0ciApO1xuXHRcdH0sXG5cdFx0Zm9ybWF0IDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdHZhciBkYXRlID0gc3RyID8gbmV3IERhdGUoIHN0ci5yZXBsYWNlKCB0cy5yZWdleC5kYXRlUmVwbGFjZSwgJyQxICQyJyApICkgOiBzdHI7XG5cdFx0XHRyZXR1cm4gZGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgaXNGaW5pdGUoIGRhdGUgKSA/IGRhdGUuZ2V0VGltZSgpIDogc3RyO1xuXHRcdH0sXG5cdFx0dHlwZSA6ICdudW1lcmljJ1xuXHR9KTtcblxuXHQvLyB0ZXN0aW5nIGZvciAjIy0jIy0jIyMjIG9yICMjIyMtIyMtIyMsIHNvIGl0J3Mgbm90IHBlcmZlY3Q7IHRpbWUgY2FuIGJlIGluY2x1ZGVkXG5cdHRzLnJlZ2V4LnNob3J0RGF0ZVRlc3QgPSAvKF5cXGR7MSwyfVtcXC9cXHNdXFxkezEsMn1bXFwvXFxzXVxcZHs0fSl8KF5cXGR7NH1bXFwvXFxzXVxcZHsxLDJ9W1xcL1xcc11cXGR7MSwyfSkvO1xuXHQvLyBlc2NhcGVkIFwiLVwiIGJlY2F1c2UgSlNIaW50IGluIEZpcmVmb3ggd2FzIHNob3dpbmcgaXQgYXMgYW4gZXJyb3Jcblx0dHMucmVnZXguc2hvcnREYXRlUmVwbGFjZSA9IC9bXFwtLixdL2c7XG5cdC8vIFhYWSBjb3ZlcnMgTURZICYgRE1ZIGZvcm1hdHNcblx0dHMucmVnZXguc2hvcnREYXRlWFhZID0gLyhcXGR7MSwyfSlbXFwvXFxzXShcXGR7MSwyfSlbXFwvXFxzXShcXGR7NH0pLztcblx0dHMucmVnZXguc2hvcnREYXRlWU1EID0gLyhcXGR7NH0pW1xcL1xcc10oXFxkezEsMn0pW1xcL1xcc10oXFxkezEsMn0pLztcblx0dHMuY29udmVydEZvcm1hdCA9IGZ1bmN0aW9uKCBkYXRlU3RyaW5nLCBmb3JtYXQgKSB7XG5cdFx0ZGF0ZVN0cmluZyA9ICggZGF0ZVN0cmluZyB8fCAnJyApXG5cdFx0XHQucmVwbGFjZSggdHMucmVnZXguc3BhY2VzLCAnICcgKVxuXHRcdFx0LnJlcGxhY2UoIHRzLnJlZ2V4LnNob3J0RGF0ZVJlcGxhY2UsICcvJyApO1xuXHRcdGlmICggZm9ybWF0ID09PSAnbW1kZHl5eXknICkge1xuXHRcdFx0ZGF0ZVN0cmluZyA9IGRhdGVTdHJpbmcucmVwbGFjZSggdHMucmVnZXguc2hvcnREYXRlWFhZLCAnJDMvJDEvJDInICk7XG5cdFx0fSBlbHNlIGlmICggZm9ybWF0ID09PSAnZGRtbXl5eXknICkge1xuXHRcdFx0ZGF0ZVN0cmluZyA9IGRhdGVTdHJpbmcucmVwbGFjZSggdHMucmVnZXguc2hvcnREYXRlWFhZLCAnJDMvJDIvJDEnICk7XG5cdFx0fSBlbHNlIGlmICggZm9ybWF0ID09PSAneXl5eW1tZGQnICkge1xuXHRcdFx0ZGF0ZVN0cmluZyA9IGRhdGVTdHJpbmcucmVwbGFjZSggdHMucmVnZXguc2hvcnREYXRlWU1ELCAnJDEvJDIvJDMnICk7XG5cdFx0fVxuXHRcdHZhciBkYXRlID0gbmV3IERhdGUoIGRhdGVTdHJpbmcgKTtcblx0XHRyZXR1cm4gZGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgaXNGaW5pdGUoIGRhdGUgKSA/IGRhdGUuZ2V0VGltZSgpIDogJyc7XG5cdH07XG5cblx0dHMuYWRkUGFyc2VyKHtcblx0XHRpZCA6ICdzaG9ydERhdGUnLCAvLyAnbW1kZHl5eXknLCAnZGRtbXl5eXknIG9yICd5eXl5bW1kZCdcblx0XHRpcyA6IGZ1bmN0aW9uKCBzdHIgKSB7XG5cdFx0XHRzdHIgPSAoIHN0ciB8fCAnJyApLnJlcGxhY2UoIHRzLnJlZ2V4LnNwYWNlcywgJyAnICkucmVwbGFjZSggdHMucmVnZXguc2hvcnREYXRlUmVwbGFjZSwgJy8nICk7XG5cdFx0XHRyZXR1cm4gdHMucmVnZXguc2hvcnREYXRlVGVzdC50ZXN0KCBzdHIgKTtcblx0XHR9LFxuXHRcdGZvcm1hdCA6IGZ1bmN0aW9uKCBzdHIsIHRhYmxlLCBjZWxsLCBjZWxsSW5kZXggKSB7XG5cdFx0XHRpZiAoIHN0ciApIHtcblx0XHRcdFx0dmFyIGMgPSB0YWJsZS5jb25maWcsXG5cdFx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlckluZGV4ZWRbIGNlbGxJbmRleCBdLFxuXHRcdFx0XHRcdGZvcm1hdCA9ICRoZWFkZXIubGVuZ3RoICYmICRoZWFkZXIuZGF0YSggJ2RhdGVGb3JtYXQnICkgfHxcblx0XHRcdFx0XHRcdHRzLmdldERhdGEoICRoZWFkZXIsIHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCBjLmhlYWRlcnMsIGNlbGxJbmRleCApLCAnZGF0ZUZvcm1hdCcgKSB8fFxuXHRcdFx0XHRcdFx0Yy5kYXRlRm9ybWF0O1xuXHRcdFx0XHQvLyBzYXZlIGZvcm1hdCBiZWNhdXNlIGdldERhdGEgY2FuIGJlIHNsb3cuLi5cblx0XHRcdFx0aWYgKCAkaGVhZGVyLmxlbmd0aCApIHtcblx0XHRcdFx0XHQkaGVhZGVyLmRhdGEoICdkYXRlRm9ybWF0JywgZm9ybWF0ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRzLmNvbnZlcnRGb3JtYXQoIHN0ciwgZm9ybWF0ICkgfHwgc3RyO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHN0cjtcblx0XHR9LFxuXHRcdHR5cGUgOiAnbnVtZXJpYydcblx0fSk7XG5cblx0Ly8gbWF0Y2ggMjQgaG91ciB0aW1lICYgMTIgaG91cnMgdGltZSArIGFtL3BtIC0gc2VlIGh0dHA6Ly9yZWdleHIuY29tLzNjM3RrXG5cdHRzLnJlZ2V4LnRpbWVUZXN0ID0gL14oMD9bMS05XXwxWzAtMl0pOihbMC01XVxcZCkoXFxzW0FQXU0pJHxeKCg/OlswMV1cXGR8WzJdWzAtNF0pOlswLTVdXFxkKSQvaTtcblx0dHMucmVnZXgudGltZU1hdGNoID0gLygwP1sxLTldfDFbMC0yXSk6KFswLTVdXFxkKShcXHNbQVBdTSl8KCg/OlswMV1cXGR8WzJdWzAtNF0pOlswLTVdXFxkKS9pO1xuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ3RpbWUnLFxuXHRcdGlzIDogZnVuY3Rpb24oIHN0ciApIHtcblx0XHRcdHJldHVybiB0cy5yZWdleC50aW1lVGVzdC50ZXN0KCBzdHIgKTtcblx0XHR9LFxuXHRcdGZvcm1hdCA6IGZ1bmN0aW9uKCBzdHIgKSB7XG5cdFx0XHQvLyBpc29sYXRlIHRpbWUuLi4gaWdub3JlIG1vbnRoLCBkYXkgYW5kIHllYXJcblx0XHRcdHZhciB0ZW1wLFxuXHRcdFx0XHR0aW1lUGFydCA9ICggc3RyIHx8ICcnICkubWF0Y2goIHRzLnJlZ2V4LnRpbWVNYXRjaCApLFxuXHRcdFx0XHRvcmlnID0gbmV3IERhdGUoIHN0ciApLFxuXHRcdFx0XHQvLyBubyB0aW1lIGNvbXBvbmVudD8gZGVmYXVsdCB0byAwMDowMCBieSBsZWF2aW5nIGl0IG91dCwgYnV0IG9ubHkgaWYgc3RyIGlzIGRlZmluZWRcblx0XHRcdFx0dGltZSA9IHN0ciAmJiAoIHRpbWVQYXJ0ICE9PSBudWxsID8gdGltZVBhcnRbIDAgXSA6ICcwMDowMCBBTScgKSxcblx0XHRcdFx0ZGF0ZSA9IHRpbWUgPyBuZXcgRGF0ZSggJzIwMDAvMDEvMDEgJyArIHRpbWUucmVwbGFjZSggdHMucmVnZXguZGF0ZVJlcGxhY2UsICckMSAkMicgKSApIDogdGltZTtcblx0XHRcdGlmICggZGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgaXNGaW5pdGUoIGRhdGUgKSApIHtcblx0XHRcdFx0dGVtcCA9IG9yaWcgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKCBvcmlnICkgPyBvcmlnLmdldFRpbWUoKSA6IDA7XG5cdFx0XHRcdC8vIGlmIG9yaWdpbmFsIHN0cmluZyB3YXMgYSB2YWxpZCBkYXRlLCBhZGQgaXQgdG8gdGhlIGRlY2ltYWwgc28gdGhlIGNvbHVtbiBzb3J0cyBpbiBzb21lIGtpbmQgb2Ygb3JkZXJcblx0XHRcdFx0Ly8gbHVja2lseSBuZXcgRGF0ZSgpIGlnbm9yZXMgdGhlIGRlY2ltYWxzXG5cdFx0XHRcdHJldHVybiB0ZW1wID8gcGFyc2VGbG9hdCggZGF0ZS5nZXRUaW1lKCkgKyAnLicgKyBvcmlnLmdldFRpbWUoKSApIDogZGF0ZS5nZXRUaW1lKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc3RyO1xuXHRcdH0sXG5cdFx0dHlwZSA6ICdudW1lcmljJ1xuXHR9KTtcblxuXHR0cy5hZGRQYXJzZXIoe1xuXHRcdGlkIDogJ21ldGFkYXRhJyxcblx0XHRpcyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0Zm9ybWF0IDogZnVuY3Rpb24oIHN0ciwgdGFibGUsIGNlbGwgKSB7XG5cdFx0XHR2YXIgYyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdHAgPSAoICFjLnBhcnNlck1ldGFkYXRhTmFtZSApID8gJ3NvcnRWYWx1ZScgOiBjLnBhcnNlck1ldGFkYXRhTmFtZTtcblx0XHRcdHJldHVybiAkKCBjZWxsICkubWV0YWRhdGEoKVsgcCBdO1xuXHRcdH0sXG5cdFx0dHlwZSA6ICdudW1lcmljJ1xuXHR9KTtcblxuXHQvKlxuXHRcdOKWiOKWiOKWiOKWiOKWiOKWiCDilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paEIOKWiOKWiOKWiOKWiOKWiOKWhCDiloTilojilojilojilojiloRcblx0XHQgIOKWhOKWiOKWgCAg4paI4paI4paE4paEICAg4paI4paI4paE4paE4paI4paIIOKWiOKWiOKWhOKWhOKWiOKWiCDilojilojiloTiloTilojilohcblx0XHTiloTilojiloAgICAg4paI4paI4paA4paAICAg4paI4paI4paA4paA4paI4paIIOKWiOKWiOKWgOKWgOKWiCAg4paI4paI4paA4paA4paI4paIXG5cdFx04paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiCDilojilojilojilojilojiloAg4paI4paIICDilojilogg4paI4paIICDilojilohcblx0XHQqL1xuXHQvLyBhZGQgZGVmYXVsdCB3aWRnZXRzXG5cdHRzLmFkZFdpZGdldCh7XG5cdFx0aWQgOiAnemVicmEnLFxuXHRcdHByaW9yaXR5IDogOTAsXG5cdFx0Zm9ybWF0IDogZnVuY3Rpb24oIHRhYmxlLCBjLCB3byApIHtcblx0XHRcdHZhciAkdmlzaWJsZVJvd3MsICRyb3csIGNvdW50LCBpc0V2ZW4sIHRib2R5SW5kZXgsIHJvd0luZGV4LCBsZW4sXG5cdFx0XHRcdGNoaWxkID0gbmV3IFJlZ0V4cCggYy5jc3NDaGlsZFJvdywgJ2knICksXG5cdFx0XHRcdCR0Ym9kaWVzID0gYy4kdGJvZGllcy5hZGQoICQoIGMubmFtZXNwYWNlICsgJ19leHRyYV90YWJsZScgKS5jaGlsZHJlbiggJ3Rib2R5Om5vdCguJyArIGMuY3NzSW5mb0Jsb2NrICsgJyknICkgKTtcblx0XHRcdGZvciAoIHRib2R5SW5kZXggPSAwOyB0Ym9keUluZGV4IDwgJHRib2RpZXMubGVuZ3RoOyB0Ym9keUluZGV4KysgKSB7XG5cdFx0XHRcdC8vIGxvb3AgdGhyb3VnaCB0aGUgdmlzaWJsZSByb3dzXG5cdFx0XHRcdGNvdW50ID0gMDtcblx0XHRcdFx0JHZpc2libGVSb3dzID0gJHRib2RpZXMuZXEoIHRib2R5SW5kZXggKS5jaGlsZHJlbiggJ3RyOnZpc2libGUnICkubm90KCBjLnNlbGVjdG9yUmVtb3ZlICk7XG5cdFx0XHRcdGxlbiA9ICR2aXNpYmxlUm93cy5sZW5ndGg7XG5cdFx0XHRcdGZvciAoIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBsZW47IHJvd0luZGV4KysgKSB7XG5cdFx0XHRcdFx0JHJvdyA9ICR2aXNpYmxlUm93cy5lcSggcm93SW5kZXggKTtcblx0XHRcdFx0XHQvLyBzdHlsZSBjaGlsZCByb3dzIHRoZSBzYW1lIHdheSB0aGUgcGFyZW50IHJvdyB3YXMgc3R5bGVkXG5cdFx0XHRcdFx0aWYgKCAhY2hpbGQudGVzdCggJHJvd1sgMCBdLmNsYXNzTmFtZSApICkgeyBjb3VudCsrOyB9XG5cdFx0XHRcdFx0aXNFdmVuID0gKCBjb3VudCAlIDIgPT09IDAgKTtcblx0XHRcdFx0XHQkcm93XG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHdvLnplYnJhWyBpc0V2ZW4gPyAxIDogMCBdIClcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyggd28uemVicmFbIGlzRXZlbiA/IDAgOiAxIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVtb3ZlIDogZnVuY3Rpb24oIHRhYmxlLCBjLCB3bywgcmVmcmVzaGluZyApIHtcblx0XHRcdGlmICggcmVmcmVzaGluZyApIHsgcmV0dXJuOyB9XG5cdFx0XHR2YXIgdGJvZHlJbmRleCwgJHRib2R5LFxuXHRcdFx0XHQkdGJvZGllcyA9IGMuJHRib2RpZXMsXG5cdFx0XHRcdHRvUmVtb3ZlID0gKCB3by56ZWJyYSB8fCBbICdldmVuJywgJ29kZCcgXSApLmpvaW4oICcgJyApO1xuXHRcdFx0Zm9yICggdGJvZHlJbmRleCA9IDA7IHRib2R5SW5kZXggPCAkdGJvZGllcy5sZW5ndGg7IHRib2R5SW5kZXgrKyApIHtcblx0XHRcdFx0JHRib2R5ID0gdHMucHJvY2Vzc1Rib2R5KCB0YWJsZSwgJHRib2RpZXMuZXEoIHRib2R5SW5kZXggKSwgdHJ1ZSApOyAvLyByZW1vdmUgdGJvZHlcblx0XHRcdFx0JHRib2R5LmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoIHRvUmVtb3ZlICk7XG5cdFx0XHRcdHRzLnByb2Nlc3NUYm9keSggdGFibGUsICR0Ym9keSwgZmFsc2UgKTsgLy8gcmVzdG9yZSB0Ym9keVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cbn0pKCBqUXVlcnkgKTtcblxuLyohIFdpZGdldDogc3RvcmFnZSAtIHVwZGF0ZWQgMjAxOC0wMy0xOCAodjIuMzAuMCkgKi9cbi8qZ2xvYmFsIEpTT046ZmFsc2UgKi9cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0cyA9ICQudGFibGVzb3J0ZXIgfHwge307XG5cblx0Ly8gdXBkYXRlIGRlZmF1bHRzIGZvciB2YWxpZGF0b3I7IHRoZXNlIHZhbHVlcyBtdXN0IGJlIGZhbHN5IVxuXHQkLmV4dGVuZCh0cnVlLCB0cy5kZWZhdWx0cywge1xuXHRcdGZpeGVkVXJsOiAnJyxcblx0XHR3aWRnZXRPcHRpb25zOiB7XG5cdFx0XHRzdG9yYWdlX2ZpeGVkVXJsOiAnJyxcblx0XHRcdHN0b3JhZ2VfZ3JvdXA6ICcnLFxuXHRcdFx0c3RvcmFnZV9wYWdlOiAnJyxcblx0XHRcdHN0b3JhZ2Vfc3RvcmFnZVR5cGU6ICcnLFxuXHRcdFx0c3RvcmFnZV90YWJsZUlkOiAnJyxcblx0XHRcdHN0b3JhZ2VfdXNlU2Vzc2lvblN0b3JhZ2U6ICcnXG5cdFx0fVxuXHR9KTtcblxuXHQvLyAqKiogU3RvcmUgZGF0YSBpbiBsb2NhbCBzdG9yYWdlLCB3aXRoIGEgY29va2llIGZhbGxiYWNrICoqKlxuXHQvKiBJRTcgbmVlZHMgSlNPTiBsaWJyYXJ5IGZvciBKU09OLnN0cmluZ2lmeSAtIChodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1qc29uKVxuXHQgICBpZiB5b3UgbmVlZCBpdCwgdGhlbiBpbmNsdWRlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3VnbGFzY3JvY2tmb3JkL0pTT04tanNcblxuXHQgICAkLnBhcnNlSlNPTiBpcyBub3QgYXZhaWxhYmxlIGlzIGpRdWVyeSB2ZXJzaW9ucyBvbGRlciB0aGFuIDEuNC4xLCB1c2luZyBvbGRlclxuXHQgICB2ZXJzaW9ucyB3aWxsIG9ubHkgYWxsb3cgc3RvcmluZyBpbmZvcm1hdGlvbiBmb3Igb25lIHBhZ2UgYXQgYSB0aW1lXG5cblx0ICAgLy8gKioqIFNhdmUgZGF0YSAoSlNPTiBmb3JtYXQgb25seSkgKioqXG5cdCAgIC8vIHZhbCBtdXN0IGJlIHZhbGlkIEpTT04uLi4gdXNlIGh0dHA6Ly9qc29ubGludC5jb20vIHRvIGVuc3VyZSBpdCBpcyB2YWxpZFxuXHQgICB2YXIgdmFsID0geyBcIm15d2lkZ2V0XCIgOiBcImRhdGExXCIgfTsgLy8gdmFsaWQgSlNPTiB1c2VzIGRvdWJsZSBxdW90ZXNcblx0ICAgLy8gJC50YWJsZXNvcnRlci5zdG9yYWdlKHRhYmxlLCBrZXksIHZhbCk7XG5cdCAgICQudGFibGVzb3J0ZXIuc3RvcmFnZSh0YWJsZSwgJ3RhYmxlc29ydGVyLW15d2lkZ2V0JywgdmFsKTtcblxuXHQgICAvLyAqKiogR2V0IGRhdGE6ICQudGFibGVzb3J0ZXIuc3RvcmFnZSh0YWJsZSwga2V5KTsgKioqXG5cdCAgIHYgPSAkLnRhYmxlc29ydGVyLnN0b3JhZ2UodGFibGUsICd0YWJsZXNvcnRlci1teXdpZGdldCcpO1xuXHQgICAvLyB2YWwgbWF5IGJlIGVtcHR5LCBzbyBhbHNvIGNoZWNrIGZvciB5b3VyIGRhdGFcblx0ICAgdmFsID0gKHYgJiYgdi5oYXNPd25Qcm9wZXJ0eSgnbXl3aWRnZXQnKSkgPyB2Lm15d2lkZ2V0IDogJyc7XG5cdCAgIGFsZXJ0KHZhbCk7IC8vICdkYXRhMScgaWYgc2F2ZWQsIG9yICcnIGlmIG5vdFxuXHQqL1xuXHR0cy5zdG9yYWdlID0gZnVuY3Rpb24odGFibGUsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcblx0XHR0YWJsZSA9ICQodGFibGUpWzBdO1xuXHRcdHZhciBjb29raWVJbmRleCwgY29va2llcywgZGF0ZSxcblx0XHRcdGhhc1N0b3JhZ2UgPSBmYWxzZSxcblx0XHRcdHZhbHVlcyA9IHt9LFxuXHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdHdvID0gYyAmJiBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRkZWJ1ZyA9IHRzLmRlYnVnKGMsICdzdG9yYWdlJyksXG5cdFx0XHRzdG9yYWdlVHlwZSA9IChcblx0XHRcdFx0KCBvcHRpb25zICYmIG9wdGlvbnMuc3RvcmFnZVR5cGUgKSB8fCAoIHdvICYmIHdvLnN0b3JhZ2Vfc3RvcmFnZVR5cGUgKVxuXHRcdFx0KS50b1N0cmluZygpLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0Ly8gZGVwcmVjYXRpbmcgXCJ1c2VTZXNzaW9uU3RvcmFnZVwiOyBhbnkgc3RvcmFnZVR5cGUgc2V0dGluZyBvdmVycmlkZXMgaXRcblx0XHRcdHNlc3Npb24gPSBzdG9yYWdlVHlwZSA/ICcnIDpcblx0XHRcdFx0KCBvcHRpb25zICYmIG9wdGlvbnMudXNlU2Vzc2lvblN0b3JhZ2UgKSB8fCAoIHdvICYmIHdvLnN0b3JhZ2VfdXNlU2Vzc2lvblN0b3JhZ2UgKSxcblx0XHRcdCR0YWJsZSA9ICQodGFibGUpLFxuXHRcdFx0Ly8gaWQgZnJvbSAoMSkgb3B0aW9ucyBJRCwgKDIpIHRhYmxlICdkYXRhLXRhYmxlLWdyb3VwJyBhdHRyaWJ1dGUsICgzKSB3aWRnZXRPcHRpb25zLnN0b3JhZ2VfdGFibGVJZCxcblx0XHRcdC8vICg0KSB0YWJsZSBJRCwgdGhlbiAoNSkgdGFibGUgaW5kZXhcblx0XHRcdGlkID0gb3B0aW9ucyAmJiBvcHRpb25zLmlkIHx8XG5cdFx0XHRcdCR0YWJsZS5hdHRyKCBvcHRpb25zICYmIG9wdGlvbnMuZ3JvdXAgfHwgd28gJiYgd28uc3RvcmFnZV9ncm91cCB8fCAnZGF0YS10YWJsZS1ncm91cCcpIHx8XG5cdFx0XHRcdHdvICYmIHdvLnN0b3JhZ2VfdGFibGVJZCB8fCB0YWJsZS5pZCB8fCAkKCcudGFibGVzb3J0ZXInKS5pbmRleCggJHRhYmxlICksXG5cdFx0XHQvLyB1cmwgZnJvbSAoMSkgb3B0aW9ucyB1cmwsICgyKSB0YWJsZSAnZGF0YS10YWJsZS1wYWdlJyBhdHRyaWJ1dGUsICgzKSB3aWRnZXRPcHRpb25zLnN0b3JhZ2VfZml4ZWRVcmwsXG5cdFx0XHQvLyAoNCkgdGFibGUuY29uZmlnLmZpeGVkVXJsIChkZXByZWNhdGVkKSwgdGhlbiAoNSkgd2luZG93IGxvY2F0aW9uIHBhdGhcblx0XHRcdHVybCA9IG9wdGlvbnMgJiYgb3B0aW9ucy51cmwgfHxcblx0XHRcdFx0JHRhYmxlLmF0dHIob3B0aW9ucyAmJiBvcHRpb25zLnBhZ2UgfHwgd28gJiYgd28uc3RvcmFnZV9wYWdlIHx8ICdkYXRhLXRhYmxlLXBhZ2UnKSB8fFxuXHRcdFx0XHR3byAmJiB3by5zdG9yYWdlX2ZpeGVkVXJsIHx8IGMgJiYgYy5maXhlZFVybCB8fCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cblx0XHQvLyBza2lwIGlmIHVzaW5nIGNvb2tpZXNcblx0XHRpZiAoc3RvcmFnZVR5cGUgIT09ICdjJykge1xuXHRcdFx0c3RvcmFnZVR5cGUgPSAoc3RvcmFnZVR5cGUgPT09ICdzJyB8fCBzZXNzaW9uKSA/ICdzZXNzaW9uU3RvcmFnZScgOiAnbG9jYWxTdG9yYWdlJztcblx0XHRcdC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC81NTU4NTU3XG5cdFx0XHRpZiAoc3RvcmFnZVR5cGUgaW4gd2luZG93KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0d2luZG93W3N0b3JhZ2VUeXBlXS5zZXRJdGVtKCdfdG1wdGVzdCcsICd0ZW1wJyk7XG5cdFx0XHRcdFx0aGFzU3RvcmFnZSA9IHRydWU7XG5cdFx0XHRcdFx0d2luZG93W3N0b3JhZ2VUeXBlXS5yZW1vdmVJdGVtKCdfdG1wdGVzdCcpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdGNvbnNvbGUud2Fybiggc3RvcmFnZVR5cGUgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChkZWJ1Zykge1xuXHRcdFx0Y29uc29sZS5sb2coJ1N0b3JhZ2UgPj4gVXNpbmcnLCBoYXNTdG9yYWdlID8gc3RvcmFnZVR5cGUgOiAnY29va2llcycpO1xuXHRcdH1cblx0XHQvLyAqKiogZ2V0IHZhbHVlICoqKlxuXHRcdGlmICgkLnBhcnNlSlNPTikge1xuXHRcdFx0aWYgKGhhc1N0b3JhZ2UpIHtcblx0XHRcdFx0dmFsdWVzID0gJC5wYXJzZUpTT04oIHdpbmRvd1tzdG9yYWdlVHlwZV1ba2V5XSB8fCAnbnVsbCcgKSB8fCB7fTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIG9sZCBicm93c2VyLCB1c2luZyBjb29raWVzXG5cdFx0XHRcdGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoL1s7XFxzfD1dLyk7XG5cdFx0XHRcdC8vIGFkZCBvbmUgdG8gZ2V0IGZyb20gdGhlIGtleSB0byB0aGUgdmFsdWVcblx0XHRcdFx0Y29va2llSW5kZXggPSAkLmluQXJyYXkoa2V5LCBjb29raWVzKSArIDE7XG5cdFx0XHRcdHZhbHVlcyA9IChjb29raWVJbmRleCAhPT0gMCkgPyAkLnBhcnNlSlNPTihjb29raWVzW2Nvb2tpZUluZGV4XSB8fCAnbnVsbCcpIHx8IHt9IDoge307XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIGFsbG93IHZhbHVlIHRvIGJlIGFuIGVtcHR5IHN0cmluZyB0b29cblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuSlNPTiAmJiBKU09OLmhhc093blByb3BlcnR5KCdzdHJpbmdpZnknKSkge1xuXHRcdFx0Ly8gYWRkIHVuaXF1ZSBpZGVudGlmaWVycyA9IHVybCBwYXRobmFtZSA+IHRhYmxlIElEL2luZGV4IG9uIHBhZ2UgPiBkYXRhXG5cdFx0XHRpZiAoIXZhbHVlc1t1cmxdKSB7XG5cdFx0XHRcdHZhbHVlc1t1cmxdID0ge307XG5cdFx0XHR9XG5cdFx0XHR2YWx1ZXNbdXJsXVtpZF0gPSB2YWx1ZTtcblx0XHRcdC8vICoqKiBzZXQgdmFsdWUgKioqXG5cdFx0XHRpZiAoaGFzU3RvcmFnZSkge1xuXHRcdFx0XHR3aW5kb3dbc3RvcmFnZVR5cGVdW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArICgzMTUzNmUrNikpOyAvLyAzNjUgZGF5c1xuXHRcdFx0XHRkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyAoSlNPTi5zdHJpbmdpZnkodmFsdWVzKSkucmVwbGFjZSgvXFxcIi9nLCAnXFxcIicpICsgJzsgZXhwaXJlcz0nICsgZGF0ZS50b0dNVFN0cmluZygpICsgJzsgcGF0aD0vJztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZhbHVlcyAmJiB2YWx1ZXNbdXJsXSA/IHZhbHVlc1t1cmxdW2lkXSA6ICcnO1xuXHRcdH1cblx0fTtcblxufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyohIFdpZGdldDogdWl0aGVtZSAtIHVwZGF0ZWQgMjAxOC0wMy0xOCAodjIuMzAuMCkgKi9cbjsoZnVuY3Rpb24gKCQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgdHMgPSAkLnRhYmxlc29ydGVyIHx8IHt9O1xuXG5cdHRzLnRoZW1lcyA9IHtcblx0XHQnYm9vdHN0cmFwJyA6IHtcblx0XHRcdHRhYmxlICAgICAgICA6ICd0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1zdHJpcGVkJyxcblx0XHRcdGNhcHRpb24gICAgICA6ICdjYXB0aW9uJyxcblx0XHRcdC8vIGhlYWRlciBjbGFzcyBuYW1lc1xuXHRcdFx0aGVhZGVyICAgICAgIDogJ2Jvb3RzdHJhcC1oZWFkZXInLCAvLyBnaXZlIHRoZSBoZWFkZXIgYSBncmFkaWVudCBiYWNrZ3JvdW5kICh0aGVtZS5ib290c3RyYXBfMi5jc3MpXG5cdFx0XHRzb3J0Tm9uZSAgICAgOiAnJyxcblx0XHRcdHNvcnRBc2MgICAgICA6ICcnLFxuXHRcdFx0c29ydERlc2MgICAgIDogJycsXG5cdFx0XHRhY3RpdmUgICAgICAgOiAnJywgLy8gYXBwbGllZCB3aGVuIGNvbHVtbiBpcyBzb3J0ZWRcblx0XHRcdGhvdmVyICAgICAgICA6ICcnLCAvLyBjdXN0b20gY3NzIHJlcXVpcmVkIC0gYSBkZWZpbmVkIGJvb3RzdHJhcCBzdHlsZSBtYXkgbm90IG92ZXJyaWRlIG90aGVyIGNsYXNzZXNcblx0XHRcdC8vIGljb24gY2xhc3MgbmFtZXNcblx0XHRcdGljb25zICAgICAgICA6ICcnLCAvLyBhZGQgJ2Jvb3RzdHJhcC1pY29uLXdoaXRlJyB0byBtYWtlIHRoZW0gd2hpdGU7IHRoaXMgaWNvbiBjbGFzcyBpcyBhZGRlZCB0byB0aGUgPGk+IGluIHRoZSBoZWFkZXJcblx0XHRcdGljb25Tb3J0Tm9uZSA6ICdib290c3RyYXAtaWNvbi11bnNvcnRlZCcsIC8vIGNsYXNzIG5hbWUgYWRkZWQgdG8gaWNvbiB3aGVuIGNvbHVtbiBpcyBub3Qgc29ydGVkXG5cdFx0XHRpY29uU29ydEFzYyAgOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwJywgLy8gY2xhc3MgbmFtZSBhZGRlZCB0byBpY29uIHdoZW4gY29sdW1uIGhhcyBhc2NlbmRpbmcgc29ydFxuXHRcdFx0aWNvblNvcnREZXNjIDogJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duJywgLy8gY2xhc3MgbmFtZSBhZGRlZCB0byBpY29uIHdoZW4gY29sdW1uIGhhcyBkZXNjZW5kaW5nIHNvcnRcblx0XHRcdGZpbHRlclJvdyAgICA6ICcnLCAvLyBmaWx0ZXIgcm93IGNsYXNzXG5cdFx0XHRmb290ZXJSb3cgICAgOiAnJyxcblx0XHRcdGZvb3RlckNlbGxzICA6ICcnLFxuXHRcdFx0ZXZlbiAgICAgICAgIDogJycsIC8vIGV2ZW4gcm93IHplYnJhIHN0cmlwaW5nXG5cdFx0XHRvZGQgICAgICAgICAgOiAnJyAgLy8gb2RkIHJvdyB6ZWJyYSBzdHJpcGluZ1xuXHRcdH0sXG5cdFx0J2p1aScgOiB7XG5cdFx0XHR0YWJsZSAgICAgICAgOiAndWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwnLCAvLyB0YWJsZSBjbGFzc2VzXG5cdFx0XHRjYXB0aW9uICAgICAgOiAndWktd2lkZ2V0LWNvbnRlbnQnLFxuXHRcdFx0Ly8gaGVhZGVyIGNsYXNzIG5hbWVzXG5cdFx0XHRoZWFkZXIgICAgICAgOiAndWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRlZmF1bHQnLCAvLyBoZWFkZXIgY2xhc3Nlc1xuXHRcdFx0c29ydE5vbmUgICAgIDogJycsXG5cdFx0XHRzb3J0QXNjICAgICAgOiAnJyxcblx0XHRcdHNvcnREZXNjICAgICA6ICcnLFxuXHRcdFx0YWN0aXZlICAgICAgIDogJ3VpLXN0YXRlLWFjdGl2ZScsIC8vIGFwcGxpZWQgd2hlbiBjb2x1bW4gaXMgc29ydGVkXG5cdFx0XHRob3ZlciAgICAgICAgOiAndWktc3RhdGUtaG92ZXInLCAgLy8gaG92ZXIgY2xhc3Ncblx0XHRcdC8vIGljb24gY2xhc3MgbmFtZXNcblx0XHRcdGljb25zICAgICAgICA6ICd1aS1pY29uJywgLy8gaWNvbiBjbGFzcyBhZGRlZCB0byB0aGUgPGk+IGluIHRoZSBoZWFkZXJcblx0XHRcdGljb25Tb3J0Tm9uZSA6ICd1aS1pY29uLWNhcmF0LTItbi1zIHVpLWljb24tY2FyZXQtMi1uLXMnLCAvLyBjbGFzcyBuYW1lIGFkZGVkIHRvIGljb24gd2hlbiBjb2x1bW4gaXMgbm90IHNvcnRlZFxuXHRcdFx0aWNvblNvcnRBc2MgIDogJ3VpLWljb24tY2FyYXQtMS1uIHVpLWljb24tY2FyZXQtMS1uJywgLy8gY2xhc3MgbmFtZSBhZGRlZCB0byBpY29uIHdoZW4gY29sdW1uIGhhcyBhc2NlbmRpbmcgc29ydFxuXHRcdFx0aWNvblNvcnREZXNjIDogJ3VpLWljb24tY2FyYXQtMS1zIHVpLWljb24tY2FyZXQtMS1zJywgLy8gY2xhc3MgbmFtZSBhZGRlZCB0byBpY29uIHdoZW4gY29sdW1uIGhhcyBkZXNjZW5kaW5nIHNvcnRcblx0XHRcdGZpbHRlclJvdyAgICA6ICcnLFxuXHRcdFx0Zm9vdGVyUm93ICAgIDogJycsXG5cdFx0XHRmb290ZXJDZWxscyAgOiAnJyxcblx0XHRcdGV2ZW4gICAgICAgICA6ICd1aS13aWRnZXQtY29udGVudCcsIC8vIGV2ZW4gcm93IHplYnJhIHN0cmlwaW5nXG5cdFx0XHRvZGQgICAgICAgICAgOiAndWktc3RhdGUtZGVmYXVsdCcgICAvLyBvZGQgcm93IHplYnJhIHN0cmlwaW5nXG5cdFx0fVxuXHR9O1xuXG5cdCQuZXh0ZW5kKHRzLmNzcywge1xuXHRcdHdyYXBwZXIgOiAndGFibGVzb3J0ZXItd3JhcHBlcicgLy8gdWkgdGhlbWUgJiByZXNpemFibGVcblx0fSk7XG5cblx0dHMuYWRkV2lkZ2V0KHtcblx0XHRpZDogJ3VpdGhlbWUnLFxuXHRcdHByaW9yaXR5OiAxMCxcblx0XHRmb3JtYXQ6IGZ1bmN0aW9uKHRhYmxlLCBjLCB3bykge1xuXHRcdFx0dmFyIGksIHRtcCwgaGRyLCBpY29uLCB0aW1lLCAkaGVhZGVyLCAkaWNvbiwgJHRmb290LCAkaCwgb2xkdGhlbWUsIG9sZHJlbW92ZSwgb2xkSWNvblJtdiwgaGFzT2xkVGhlbWUsXG5cdFx0XHRcdHRoZW1lc0FsbCA9IHRzLnRoZW1lcyxcblx0XHRcdFx0JHRhYmxlID0gYy4kdGFibGUuYWRkKCAkKCBjLm5hbWVzcGFjZSArICdfZXh0cmFfdGFibGUnICkgKSxcblx0XHRcdFx0JGhlYWRlcnMgPSBjLiRoZWFkZXJzLmFkZCggJCggYy5uYW1lc3BhY2UgKyAnX2V4dHJhX2hlYWRlcnMnICkgKSxcblx0XHRcdFx0dGhlbWUgPSBjLnRoZW1lIHx8ICdqdWknLFxuXHRcdFx0XHR0aGVtZXMgPSB0aGVtZXNBbGxbdGhlbWVdIHx8IHt9LFxuXHRcdFx0XHRyZW1vdmUgPSAkLnRyaW0oIFsgdGhlbWVzLnNvcnROb25lLCB0aGVtZXMuc29ydERlc2MsIHRoZW1lcy5zb3J0QXNjLCB0aGVtZXMuYWN0aXZlIF0uam9pbiggJyAnICkgKSxcblx0XHRcdFx0aWNvblJtdiA9ICQudHJpbSggWyB0aGVtZXMuaWNvblNvcnROb25lLCB0aGVtZXMuaWNvblNvcnREZXNjLCB0aGVtZXMuaWNvblNvcnRBc2MgXS5qb2luKCAnICcgKSApLFxuXHRcdFx0XHRkZWJ1ZyA9IHRzLmRlYnVnKGMsICd1aXRoZW1lJyk7XG5cdFx0XHRpZiAoZGVidWcpIHsgdGltZSA9IG5ldyBEYXRlKCk7IH1cblx0XHRcdC8vIGluaXRpYWxpemF0aW9uIGNvZGUgLSBydW4gb25jZVxuXHRcdFx0aWYgKCEkdGFibGUuaGFzQ2xhc3MoJ3RhYmxlc29ydGVyLScgKyB0aGVtZSkgfHwgYy50aGVtZSAhPT0gYy5hcHBsaWVkVGhlbWUgfHwgIXdvLnVpdGhlbWVfYXBwbGllZCkge1xuXHRcdFx0XHR3by51aXRoZW1lX2FwcGxpZWQgPSB0cnVlO1xuXHRcdFx0XHRvbGR0aGVtZSA9IHRoZW1lc0FsbFtjLmFwcGxpZWRUaGVtZV0gfHwge307XG5cdFx0XHRcdGhhc09sZFRoZW1lID0gISQuaXNFbXB0eU9iamVjdChvbGR0aGVtZSk7XG5cdFx0XHRcdG9sZHJlbW92ZSA9ICBoYXNPbGRUaGVtZSA/IFsgb2xkdGhlbWUuc29ydE5vbmUsIG9sZHRoZW1lLnNvcnREZXNjLCBvbGR0aGVtZS5zb3J0QXNjLCBvbGR0aGVtZS5hY3RpdmUgXS5qb2luKCAnICcgKSA6ICcnO1xuXHRcdFx0XHRvbGRJY29uUm12ID0gaGFzT2xkVGhlbWUgPyBbIG9sZHRoZW1lLmljb25Tb3J0Tm9uZSwgb2xkdGhlbWUuaWNvblNvcnREZXNjLCBvbGR0aGVtZS5pY29uU29ydEFzYyBdLmpvaW4oICcgJyApIDogJyc7XG5cdFx0XHRcdGlmIChoYXNPbGRUaGVtZSkge1xuXHRcdFx0XHRcdHdvLnplYnJhWzBdID0gJC50cmltKCAnICcgKyB3by56ZWJyYVswXS5yZXBsYWNlKCcgJyArIG9sZHRoZW1lLmV2ZW4sICcnKSApO1xuXHRcdFx0XHRcdHdvLnplYnJhWzFdID0gJC50cmltKCAnICcgKyB3by56ZWJyYVsxXS5yZXBsYWNlKCcgJyArIG9sZHRoZW1lLm9kZCwgJycpICk7XG5cdFx0XHRcdFx0Yy4kdGJvZGllcy5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCBbIG9sZHRoZW1lLmV2ZW4sIG9sZHRoZW1lLm9kZCBdLmpvaW4oJyAnKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHVwZGF0ZSB6ZWJyYSBzdHJpcGVzXG5cdFx0XHRcdGlmICh0aGVtZXMuZXZlbikgeyB3by56ZWJyYVswXSArPSAnICcgKyB0aGVtZXMuZXZlbjsgfVxuXHRcdFx0XHRpZiAodGhlbWVzLm9kZCkgeyB3by56ZWJyYVsxXSArPSAnICcgKyB0aGVtZXMub2RkOyB9XG5cdFx0XHRcdC8vIGFkZCBjYXB0aW9uIHN0eWxlXG5cdFx0XHRcdCR0YWJsZS5jaGlsZHJlbignY2FwdGlvbicpXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKG9sZHRoZW1lLmNhcHRpb24gfHwgJycpXG5cdFx0XHRcdFx0LmFkZENsYXNzKHRoZW1lcy5jYXB0aW9uKTtcblx0XHRcdFx0Ly8gYWRkIHRhYmxlL2Zvb3RlciBjbGFzcyBuYW1lc1xuXHRcdFx0XHQkdGZvb3QgPSAkdGFibGVcblx0XHRcdFx0XHQvLyByZW1vdmUgb3RoZXIgc2VsZWN0ZWQgdGhlbWVzXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCAoYy5hcHBsaWVkVGhlbWUgPyAndGFibGVzb3J0ZXItJyArIChjLmFwcGxpZWRUaGVtZSB8fCAnJykgOiAnJykgKyAnICcgKyAob2xkdGhlbWUudGFibGUgfHwgJycpIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoJ3RhYmxlc29ydGVyLScgKyB0aGVtZSArICcgJyArICh0aGVtZXMudGFibGUgfHwgJycpKSAvLyBhZGQgdGhlbWUgd2lkZ2V0IGNsYXNzIG5hbWVcblx0XHRcdFx0XHQuY2hpbGRyZW4oJ3Rmb290Jyk7XG5cdFx0XHRcdGMuYXBwbGllZFRoZW1lID0gYy50aGVtZTtcblxuXHRcdFx0XHRpZiAoJHRmb290Lmxlbmd0aCkge1xuXHRcdFx0XHRcdCR0Zm9vdFxuXHRcdFx0XHRcdFx0Ly8gaWYgb2xkdGhlbWUuZm9vdGVyUm93IG9yIG9sZHRoZW1lLmZvb3RlckNlbGxzIGFyZSB1bmRlZmluZWQsIGFsbCBjbGFzcyBuYW1lcyBhcmUgcmVtb3ZlZFxuXHRcdFx0XHRcdFx0LmNoaWxkcmVuKCd0cicpLnJlbW92ZUNsYXNzKG9sZHRoZW1lLmZvb3RlclJvdyB8fCAnJykuYWRkQ2xhc3ModGhlbWVzLmZvb3RlclJvdylcblx0XHRcdFx0XHRcdC5jaGlsZHJlbigndGgsIHRkJykucmVtb3ZlQ2xhc3Mob2xkdGhlbWUuZm9vdGVyQ2VsbHMgfHwgJycpLmFkZENsYXNzKHRoZW1lcy5mb290ZXJDZWxscyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gdXBkYXRlIGhlYWRlciBjbGFzc2VzXG5cdFx0XHRcdCRoZWFkZXJzXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCAoaGFzT2xkVGhlbWUgPyBbIG9sZHRoZW1lLmhlYWRlciwgb2xkdGhlbWUuaG92ZXIsIG9sZHJlbW92ZSBdLmpvaW4oJyAnKSA6ICcnKSB8fCAnJyApXG5cdFx0XHRcdFx0LmFkZENsYXNzKHRoZW1lcy5oZWFkZXIpXG5cdFx0XHRcdFx0Lm5vdCgnLnNvcnRlci1mYWxzZScpXG5cdFx0XHRcdFx0LnVuYmluZCgnbW91c2VlbnRlci50c3VpdGhlbWUgbW91c2VsZWF2ZS50c3VpdGhlbWUnKVxuXHRcdFx0XHRcdC5iaW5kKCdtb3VzZWVudGVyLnRzdWl0aGVtZSBtb3VzZWxlYXZlLnRzdWl0aGVtZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHQvLyB0b2dnbGVDbGFzcyB3aXRoIHN3aXRjaCBhZGRlZCBpbiBqUXVlcnkgMS4zXG5cdFx0XHRcdFx0XHQkKHRoaXMpWyBldmVudC50eXBlID09PSAnbW91c2VlbnRlcicgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJyBdKHRoZW1lcy5ob3ZlciB8fCAnJyk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JGhlYWRlcnMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXHRcdFx0XHRcdGlmICghJHRoaXMuZmluZCgnLicgKyB0cy5jc3Mud3JhcHBlcikubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQvLyBGaXJlZm94IG5lZWRzIHRoaXMgaW5uZXIgZGl2IHRvIHBvc2l0aW9uIHRoZSBpY29uICYgcmVzaXplciBjb3JyZWN0bHlcblx0XHRcdFx0XHRcdCR0aGlzLndyYXBJbm5lcignPGRpdiBjbGFzcz1cIicgKyB0cy5jc3Mud3JhcHBlciArICdcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoxMDAlO3dpZHRoOjEwMCVcIj48L2Rpdj4nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoYy5jc3NJY29uKSB7XG5cdFx0XHRcdFx0Ly8gaWYgYy5jc3NJY29uIGlzICcnLCB0aGVuIG5vIDxpPiBpcyBhZGRlZCB0byB0aGUgaGVhZGVyXG5cdFx0XHRcdFx0JGhlYWRlcnNcblx0XHRcdFx0XHRcdC5maW5kKCcuJyArIHRzLmNzcy5pY29uKVxuXHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKGhhc09sZFRoZW1lID8gWyBvbGR0aGVtZS5pY29ucywgb2xkSWNvblJtdiBdLmpvaW4oJyAnKSA6ICcnKVxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKHRoZW1lcy5pY29ucyB8fCAnJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZmlsdGVyIHdpZGdldCBpbml0aWFsaXplcyBhZnRlciB1aXRoZW1lXG5cdFx0XHRcdGlmICh0cy5oYXNXaWRnZXQoIGMudGFibGUsICdmaWx0ZXInICkpIHtcblx0XHRcdFx0XHR0bXAgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCR0YWJsZS5jaGlsZHJlbigndGhlYWQnKS5jaGlsZHJlbignLicgKyB0cy5jc3MuZmlsdGVyUm93KVxuXHRcdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoaGFzT2xkVGhlbWUgPyBvbGR0aGVtZS5maWx0ZXJSb3cgfHwgJycgOiAnJylcblx0XHRcdFx0XHRcdFx0LmFkZENsYXNzKHRoZW1lcy5maWx0ZXJSb3cgfHwgJycpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0aWYgKHdvLmZpbHRlcl9pbml0aWFsaXplZCkge1xuXHRcdFx0XHRcdFx0dG1wKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCR0YWJsZS5vbmUoJ2ZpbHRlckluaXQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dG1wKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBjLmNvbHVtbnM7IGkrKykge1xuXHRcdFx0XHQkaGVhZGVyID0gYy4kaGVhZGVyc1xuXHRcdFx0XHRcdC5hZGQoJChjLm5hbWVzcGFjZSArICdfZXh0cmFfaGVhZGVycycpKVxuXHRcdFx0XHRcdC5ub3QoJy5zb3J0ZXItZmFsc2UnKVxuXHRcdFx0XHRcdC5maWx0ZXIoJ1tkYXRhLWNvbHVtbj1cIicgKyBpICsgJ1wiXScpO1xuXHRcdFx0XHQkaWNvbiA9ICh0cy5jc3MuaWNvbikgPyAkaGVhZGVyLmZpbmQoJy4nICsgdHMuY3NzLmljb24pIDogJCgpO1xuXHRcdFx0XHQkaCA9ICRoZWFkZXJzLm5vdCgnLnNvcnRlci1mYWxzZScpLmZpbHRlcignW2RhdGEtY29sdW1uPVwiJyArIGkgKyAnXCJdOmxhc3QnKTtcblx0XHRcdFx0aWYgKCRoLmxlbmd0aCkge1xuXHRcdFx0XHRcdCRoZWFkZXIucmVtb3ZlQ2xhc3MocmVtb3ZlKTtcblx0XHRcdFx0XHQkaWNvbi5yZW1vdmVDbGFzcyhpY29uUm12KTtcblx0XHRcdFx0XHRpZiAoJGhbMF0uc29ydERpc2FibGVkKSB7XG5cdFx0XHRcdFx0XHQvLyBubyBzb3J0IGFycm93cyBmb3IgZGlzYWJsZWQgY29sdW1ucyFcblx0XHRcdFx0XHRcdCRpY29uLnJlbW92ZUNsYXNzKHRoZW1lcy5pY29ucyB8fCAnJyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGhkciA9IHRoZW1lcy5zb3J0Tm9uZTtcblx0XHRcdFx0XHRcdGljb24gPSB0aGVtZXMuaWNvblNvcnROb25lO1xuXHRcdFx0XHRcdFx0aWYgKCRoLmhhc0NsYXNzKHRzLmNzcy5zb3J0QXNjKSkge1xuXHRcdFx0XHRcdFx0XHRoZHIgPSBbIHRoZW1lcy5zb3J0QXNjLCB0aGVtZXMuYWN0aXZlIF0uam9pbignICcpO1xuXHRcdFx0XHRcdFx0XHRpY29uID0gdGhlbWVzLmljb25Tb3J0QXNjO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICgkaC5oYXNDbGFzcyh0cy5jc3Muc29ydERlc2MpKSB7XG5cdFx0XHRcdFx0XHRcdGhkciA9IFsgdGhlbWVzLnNvcnREZXNjLCB0aGVtZXMuYWN0aXZlIF0uam9pbignICcpO1xuXHRcdFx0XHRcdFx0XHRpY29uID0gdGhlbWVzLmljb25Tb3J0RGVzYztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCRoZWFkZXIuYWRkQ2xhc3MoaGRyKTtcblx0XHRcdFx0XHRcdCRpY29uLmFkZENsYXNzKGljb24gfHwgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRlYnVnKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCd1aXRoZW1lID4+IEFwcGxpZWQgJyArIHRoZW1lICsgJyB0aGVtZScgKyB0cy5iZW5jaG1hcmsodGltZSkpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbih0YWJsZSwgYywgd28sIHJlZnJlc2hpbmcpIHtcblx0XHRcdGlmICghd28udWl0aGVtZV9hcHBsaWVkKSB7IHJldHVybjsgfVxuXHRcdFx0dmFyICR0YWJsZSA9IGMuJHRhYmxlLFxuXHRcdFx0XHR0aGVtZSA9IGMuYXBwbGllZFRoZW1lIHx8ICdqdWknLFxuXHRcdFx0XHR0aGVtZXMgPSB0cy50aGVtZXNbIHRoZW1lIF0gfHwgdHMudGhlbWVzLmp1aSxcblx0XHRcdFx0JGhlYWRlcnMgPSAkdGFibGUuY2hpbGRyZW4oJ3RoZWFkJykuY2hpbGRyZW4oKSxcblx0XHRcdFx0cmVtb3ZlID0gdGhlbWVzLnNvcnROb25lICsgJyAnICsgdGhlbWVzLnNvcnREZXNjICsgJyAnICsgdGhlbWVzLnNvcnRBc2MsXG5cdFx0XHRcdGljb25SbXYgPSB0aGVtZXMuaWNvblNvcnROb25lICsgJyAnICsgdGhlbWVzLmljb25Tb3J0RGVzYyArICcgJyArIHRoZW1lcy5pY29uU29ydEFzYztcblx0XHRcdCR0YWJsZS5yZW1vdmVDbGFzcygndGFibGVzb3J0ZXItJyArIHRoZW1lICsgJyAnICsgdGhlbWVzLnRhYmxlKTtcblx0XHRcdHdvLnVpdGhlbWVfYXBwbGllZCA9IGZhbHNlO1xuXHRcdFx0aWYgKHJlZnJlc2hpbmcpIHsgcmV0dXJuOyB9XG5cdFx0XHQkdGFibGUuZmluZCh0cy5jc3MuaGVhZGVyKS5yZW1vdmVDbGFzcyh0aGVtZXMuaGVhZGVyKTtcblx0XHRcdCRoZWFkZXJzXG5cdFx0XHRcdC51bmJpbmQoJ21vdXNlZW50ZXIudHN1aXRoZW1lIG1vdXNlbGVhdmUudHN1aXRoZW1lJykgLy8gcmVtb3ZlIGhvdmVyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyh0aGVtZXMuaG92ZXIgKyAnICcgKyByZW1vdmUgKyAnICcgKyB0aGVtZXMuYWN0aXZlKVxuXHRcdFx0XHQuZmlsdGVyKCcuJyArIHRzLmNzcy5maWx0ZXJSb3cpXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyh0aGVtZXMuZmlsdGVyUm93KTtcblx0XHRcdCRoZWFkZXJzLmZpbmQoJy4nICsgdHMuY3NzLmljb24pLnJlbW92ZUNsYXNzKHRoZW1lcy5pY29ucyArICcgJyArIGljb25SbXYpO1xuXHRcdH1cblx0fSk7XG5cbn0pKGpRdWVyeSk7XG5cbi8qISBXaWRnZXQ6IGNvbHVtbnMgLSB1cGRhdGVkIDUvMjQvMjAxNyAodjIuMjguMTEpICovXG47KGZ1bmN0aW9uICgkKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHRzID0gJC50YWJsZXNvcnRlciB8fCB7fTtcblxuXHR0cy5hZGRXaWRnZXQoe1xuXHRcdGlkOiAnY29sdW1ucycsXG5cdFx0cHJpb3JpdHk6IDY1LFxuXHRcdG9wdGlvbnMgOiB7XG5cdFx0XHRjb2x1bW5zIDogWyAncHJpbWFyeScsICdzZWNvbmRhcnknLCAndGVydGlhcnknIF1cblx0XHR9LFxuXHRcdGZvcm1hdDogZnVuY3Rpb24odGFibGUsIGMsIHdvKSB7XG5cdFx0XHR2YXIgJHRib2R5LCB0Ym9keUluZGV4LCAkcm93cywgcm93cywgJHJvdywgJGNlbGxzLCByZW1vdmUsIGluZHgsXG5cdFx0XHQkdGFibGUgPSBjLiR0YWJsZSxcblx0XHRcdCR0Ym9kaWVzID0gYy4kdGJvZGllcyxcblx0XHRcdHNvcnRMaXN0ID0gYy5zb3J0TGlzdCxcblx0XHRcdGxlbiA9IHNvcnRMaXN0Lmxlbmd0aCxcblx0XHRcdC8vIHJlbW92ZWQgYy53aWRnZXRDb2x1bW5zIHN1cHBvcnRcblx0XHRcdGNzcyA9IHdvICYmIHdvLmNvbHVtbnMgfHwgWyAncHJpbWFyeScsICdzZWNvbmRhcnknLCAndGVydGlhcnknIF0sXG5cdFx0XHRsYXN0ID0gY3NzLmxlbmd0aCAtIDE7XG5cdFx0XHRyZW1vdmUgPSBjc3Muam9pbignICcpO1xuXHRcdFx0Ly8gY2hlY2sgaWYgdGhlcmUgaXMgYSBzb3J0IChvbiBpbml0aWFsaXphdGlvbiB0aGVyZSBtYXkgbm90IGJlIG9uZSlcblx0XHRcdGZvciAodGJvZHlJbmRleCA9IDA7IHRib2R5SW5kZXggPCAkdGJvZGllcy5sZW5ndGg7IHRib2R5SW5kZXgrKyApIHtcblx0XHRcdFx0JHRib2R5ID0gdHMucHJvY2Vzc1Rib2R5KHRhYmxlLCAkdGJvZGllcy5lcSh0Ym9keUluZGV4KSwgdHJ1ZSk7IC8vIGRldGFjaCB0Ym9keVxuXHRcdFx0XHQkcm93cyA9ICR0Ym9keS5jaGlsZHJlbigndHInKTtcblx0XHRcdFx0Ly8gbG9vcCB0aHJvdWdoIHRoZSB2aXNpYmxlIHJvd3Ncblx0XHRcdFx0JHJvd3MuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkcm93ID0gJCh0aGlzKTtcblx0XHRcdFx0XHRpZiAodGhpcy5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcblx0XHRcdFx0XHRcdC8vIHJlbW92ZSBhbGwgY29sdW1ucyBjbGFzcyBuYW1lc1xuXHRcdFx0XHRcdFx0JGNlbGxzID0gJHJvdy5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKHJlbW92ZSk7XG5cdFx0XHRcdFx0XHQvLyBhZGQgYXBwcm9wcmlhdGUgY29sdW1uIGNsYXNzIG5hbWVzXG5cdFx0XHRcdFx0XHRpZiAoc29ydExpc3QgJiYgc29ydExpc3RbMF0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gcHJpbWFyeSBzb3J0IGNvbHVtbiBjbGFzc1xuXHRcdFx0XHRcdFx0XHQkY2VsbHMuZXEoc29ydExpc3RbMF1bMF0pLmFkZENsYXNzKGNzc1swXSk7XG5cdFx0XHRcdFx0XHRcdGlmIChsZW4gPiAxKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChpbmR4ID0gMTsgaW5keCA8IGxlbjsgaW5keCsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBzZWNvbmRhcnksIHRlcnRpYXJ5LCBldGMgc29ydCBjb2x1bW4gY2xhc3Nlc1xuXHRcdFx0XHRcdFx0XHRcdFx0JGNlbGxzLmVxKHNvcnRMaXN0W2luZHhdWzBdKS5hZGRDbGFzcyggY3NzW2luZHhdIHx8IGNzc1tsYXN0XSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRzLnByb2Nlc3NUYm9keSh0YWJsZSwgJHRib2R5LCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBhZGQgY2xhc3NlcyB0byB0aGVhZCBhbmQgdGZvb3Rcblx0XHRcdHJvd3MgPSB3by5jb2x1bW5zX3RoZWFkICE9PSBmYWxzZSA/IFsgJ3RoZWFkIHRyJyBdIDogW107XG5cdFx0XHRpZiAod28uY29sdW1uc190Zm9vdCAhPT0gZmFsc2UpIHtcblx0XHRcdFx0cm93cy5wdXNoKCd0Zm9vdCB0cicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJvd3MubGVuZ3RoKSB7XG5cdFx0XHRcdCRyb3dzID0gJHRhYmxlLmZpbmQoIHJvd3Muam9pbignLCcpICkuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhyZW1vdmUpO1xuXHRcdFx0XHRpZiAobGVuKSB7XG5cdFx0XHRcdFx0Zm9yIChpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrKSB7XG5cdFx0XHRcdFx0XHQvLyBhZGQgcHJpbWFyeS4gc2Vjb25kYXJ5LCB0ZXJ0aWFyeSwgZXRjIHNvcnQgY29sdW1uIGNsYXNzZXNcblx0XHRcdFx0XHRcdCRyb3dzLmZpbHRlcignW2RhdGEtY29sdW1uPVwiJyArIHNvcnRMaXN0W2luZHhdWzBdICsgJ1wiXScpLmFkZENsYXNzKGNzc1tpbmR4XSB8fCBjc3NbbGFzdF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbih0YWJsZSwgYywgd28pIHtcblx0XHRcdHZhciB0Ym9keUluZGV4LCAkdGJvZHksXG5cdFx0XHRcdCR0Ym9kaWVzID0gYy4kdGJvZGllcyxcblx0XHRcdFx0cmVtb3ZlID0gKHdvLmNvbHVtbnMgfHwgWyAncHJpbWFyeScsICdzZWNvbmRhcnknLCAndGVydGlhcnknIF0pLmpvaW4oJyAnKTtcblx0XHRcdGMuJGhlYWRlcnMucmVtb3ZlQ2xhc3MocmVtb3ZlKTtcblx0XHRcdGMuJHRhYmxlLmNoaWxkcmVuKCd0Zm9vdCcpLmNoaWxkcmVuKCd0cicpLmNoaWxkcmVuKCd0aCwgdGQnKS5yZW1vdmVDbGFzcyhyZW1vdmUpO1xuXHRcdFx0Zm9yICh0Ym9keUluZGV4ID0gMDsgdGJvZHlJbmRleCA8ICR0Ym9kaWVzLmxlbmd0aDsgdGJvZHlJbmRleCsrICkge1xuXHRcdFx0XHQkdGJvZHkgPSB0cy5wcm9jZXNzVGJvZHkodGFibGUsICR0Ym9kaWVzLmVxKHRib2R5SW5kZXgpLCB0cnVlKTsgLy8gcmVtb3ZlIHRib2R5XG5cdFx0XHRcdCR0Ym9keS5jaGlsZHJlbigndHInKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQodGhpcykuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhyZW1vdmUpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0dHMucHJvY2Vzc1Rib2R5KHRhYmxlLCAkdGJvZHksIGZhbHNlKTsgLy8gcmVzdG9yZSB0Ym9keVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cbn0pKGpRdWVyeSk7XG5cbi8qISBXaWRnZXQ6IGZpbHRlciAtIHVwZGF0ZWQgMjAxOC0wMy0xOCAodjIuMzAuMCkgKi8vKlxuICogUmVxdWlyZXMgdGFibGVzb3J0ZXIgdjIuOCsgYW5kIGpRdWVyeSAxLjcrXG4gKiBieSBSb2IgR2Fycmlzb25cbiAqL1xuOyggZnVuY3Rpb24gKCAkICkge1xuXHQndXNlIHN0cmljdCc7XG5cdHZhciB0c2YsIHRzZlJlZ2V4LFxuXHRcdHRzID0gJC50YWJsZXNvcnRlciB8fCB7fSxcblx0XHR0c2NzcyA9IHRzLmNzcyxcblx0XHR0c2tleUNvZGVzID0gdHMua2V5Q29kZXM7XG5cblx0JC5leHRlbmQoIHRzY3NzLCB7XG5cdFx0ZmlsdGVyUm93ICAgICAgOiAndGFibGVzb3J0ZXItZmlsdGVyLXJvdycsXG5cdFx0ZmlsdGVyICAgICAgICAgOiAndGFibGVzb3J0ZXItZmlsdGVyJyxcblx0XHRmaWx0ZXJEaXNhYmxlZCA6ICdkaXNhYmxlZCcsXG5cdFx0ZmlsdGVyUm93SGlkZSAgOiAnaGlkZW1lJ1xuXHR9KTtcblxuXHQkLmV4dGVuZCggdHNrZXlDb2Rlcywge1xuXHRcdGJhY2tTcGFjZSA6IDgsXG5cdFx0ZXNjYXBlIDogMjcsXG5cdFx0c3BhY2UgOiAzMixcblx0XHRsZWZ0IDogMzcsXG5cdFx0ZG93biA6IDQwXG5cdH0pO1xuXG5cdHRzLmFkZFdpZGdldCh7XG5cdFx0aWQ6ICdmaWx0ZXInLFxuXHRcdHByaW9yaXR5OiA1MCxcblx0XHRvcHRpb25zIDoge1xuXHRcdFx0ZmlsdGVyX2NlbGxGaWx0ZXIgICAgOiAnJywgICAgLy8gY3NzIGNsYXNzIG5hbWUgYWRkZWQgdG8gdGhlIGZpbHRlciBjZWxsICggc3RyaW5nIG9yIGFycmF5IClcblx0XHRcdGZpbHRlcl9jaGlsZFJvd3MgICAgIDogZmFsc2UsIC8vIGlmIHRydWUsIGZpbHRlciBpbmNsdWRlcyBjaGlsZCByb3cgY29udGVudCBpbiB0aGUgc2VhcmNoXG5cdFx0XHRmaWx0ZXJfY2hpbGRCeUNvbHVtbiA6IGZhbHNlLCAvLyAoIGZpbHRlcl9jaGlsZFJvd3MgbXVzdCBiZSB0cnVlICkgaWYgdHJ1ZSA9IHNlYXJjaCBjaGlsZCByb3dzIGJ5IGNvbHVtbjsgZmFsc2UgPSBzZWFyY2ggYWxsIGNoaWxkIHJvdyB0ZXh0IGdyb3VwZWRcblx0XHRcdGZpbHRlcl9jaGlsZFdpdGhTaWJzIDogdHJ1ZSwgIC8vIGlmIHRydWUsIGluY2x1ZGUgbWF0Y2hpbmcgY2hpbGQgcm93IHNpYmxpbmdzXG5cdFx0XHRmaWx0ZXJfY29sdW1uQW55TWF0Y2g6IHRydWUsICAvLyBpZiB0cnVlLCBhbGxvd3MgdXNpbmcgJyM6e3F1ZXJ5fScgaW4gQW55TWF0Y2ggc2VhcmNoZXMgKCBjb2x1bW46cXVlcnkgKVxuXHRcdFx0ZmlsdGVyX2NvbHVtbkZpbHRlcnMgOiB0cnVlLCAgLy8gaWYgdHJ1ZSwgYSBmaWx0ZXIgd2lsbCBiZSBhZGRlZCB0byB0aGUgdG9wIG9mIGVhY2ggdGFibGUgY29sdW1uXG5cdFx0XHRmaWx0ZXJfY3NzRmlsdGVyICAgICA6ICcnLCAgICAvLyBjc3MgY2xhc3MgbmFtZSBhZGRlZCB0byB0aGUgZmlsdGVyIHJvdyAmIGVhY2ggaW5wdXQgaW4gdGhlIHJvdyAoIHRhYmxlc29ydGVyLWZpbHRlciBpcyBBTFdBWVMgYWRkZWQgKVxuXHRcdFx0ZmlsdGVyX2RlZmF1bHRBdHRyaWIgOiAnZGF0YS12YWx1ZScsIC8vIGRhdGEgYXR0cmlidXRlIGluIHRoZSBoZWFkZXIgY2VsbCB0aGF0IGNvbnRhaW5zIHRoZSBkZWZhdWx0IGZpbHRlciB2YWx1ZVxuXHRcdFx0ZmlsdGVyX2RlZmF1bHRGaWx0ZXIgOiB7fSwgICAgLy8gYWRkIGEgZGVmYXVsdCBjb2x1bW4gZmlsdGVyIHR5cGUgJ357cXVlcnl9JyB0byBtYWtlIGZ1enp5IHNlYXJjaGVzIGRlZmF1bHQ7ICd7cTF9IEFORCB7cTJ9JyB0byBtYWtlIGFsbCBzZWFyY2hlcyB1c2UgYSBsb2dpY2FsIEFORC5cblx0XHRcdGZpbHRlcl9leGNsdWRlRmlsdGVyIDoge30sICAgIC8vIGZpbHRlcnMgdG8gZXhjbHVkZSwgcGVyIGNvbHVtblxuXHRcdFx0ZmlsdGVyX2V4dGVybmFsICAgICAgOiAnJywgICAgLy8galF1ZXJ5IHNlbGVjdG9yIHN0cmluZyAoIG9yIGpRdWVyeSBvYmplY3QgKSBvZiBleHRlcm5hbCBmaWx0ZXJzXG5cdFx0XHRmaWx0ZXJfZmlsdGVyZWRSb3cgICA6ICdmaWx0ZXJlZCcsIC8vIGNsYXNzIGFkZGVkIHRvIGZpbHRlcmVkIHJvd3M7IGRlZmluZSBpbiBjc3Mgd2l0aCBcImRpc3BsYXk6bm9uZVwiIHRvIGhpZGUgdGhlIGZpbHRlcmVkLW91dCByb3dzXG5cdFx0XHRmaWx0ZXJfZmlsdGVyTGFiZWwgICA6ICdGaWx0ZXIgXCJ7e2xhYmVsfX1cIiBjb2x1bW4gYnkuLi4nLCAvLyBBcmlhLWxhYmVsIGFkZGVkIHRvIGZpbHRlciBpbnB1dC9zZWxlY3Q7IHNlZSAjMTQ5NVxuXHRcdFx0ZmlsdGVyX2Zvcm1hdHRlciAgICAgOiBudWxsLCAgLy8gYWRkIGN1c3RvbSBmaWx0ZXIgZWxlbWVudHMgdG8gdGhlIGZpbHRlciByb3dcblx0XHRcdGZpbHRlcl9mdW5jdGlvbnMgICAgIDogbnVsbCwgIC8vIGFkZCBjdXN0b20gZmlsdGVyIGZ1bmN0aW9ucyB1c2luZyB0aGlzIG9wdGlvblxuXHRcdFx0ZmlsdGVyX2hpZGVFbXB0eSAgICAgOiB0cnVlLCAgLy8gaGlkZSBmaWx0ZXIgcm93IHdoZW4gdGFibGUgaXMgZW1wdHlcblx0XHRcdGZpbHRlcl9oaWRlRmlsdGVycyAgIDogZmFsc2UsIC8vIGNvbGxhcHNlIGZpbHRlciByb3cgd2hlbiBtb3VzZSBsZWF2ZXMgdGhlIGFyZWFcblx0XHRcdGZpbHRlcl9pZ25vcmVDYXNlICAgIDogdHJ1ZSwgIC8vIGlmIHRydWUsIG1ha2UgYWxsIHNlYXJjaGVzIGNhc2UtaW5zZW5zaXRpdmVcblx0XHRcdGZpbHRlcl9saXZlU2VhcmNoICAgIDogdHJ1ZSwgIC8vIGlmIHRydWUsIHNlYXJjaCBjb2x1bW4gY29udGVudCB3aGlsZSB0aGUgdXNlciB0eXBlcyAoIHdpdGggYSBkZWxheSApXG5cdFx0XHRmaWx0ZXJfbWF0Y2hUeXBlICAgICA6IHsgJ2lucHV0JzogJ2V4YWN0JywgJ3NlbGVjdCc6ICdleGFjdCcgfSwgLy8gZ2xvYmFsIHF1ZXJ5IHNldHRpbmdzICgnZXhhY3QnIG9yICdtYXRjaCcpOyBvdmVycmlkZGVuIGJ5IFwiZmlsdGVyLW1hdGNoXCIgb3IgXCJmaWx0ZXItZXhhY3RcIiBjbGFzc1xuXHRcdFx0ZmlsdGVyX29ubHlBdmFpbCAgICAgOiAnZmlsdGVyLW9ubHlBdmFpbCcsIC8vIGEgaGVhZGVyIHdpdGggYSBzZWxlY3QgZHJvcGRvd24gJiB0aGlzIGNsYXNzIG5hbWUgd2lsbCBvbmx5IHNob3cgYXZhaWxhYmxlICggdmlzaWJsZSApIG9wdGlvbnMgd2l0aGluIHRoZSBkcm9wIGRvd25cblx0XHRcdGZpbHRlcl9wbGFjZWhvbGRlciAgIDogeyBzZWFyY2ggOiAnJywgc2VsZWN0IDogJycgfSwgLy8gZGVmYXVsdCBwbGFjZWhvbGRlciB0ZXh0ICggb3ZlcnJpZGRlbiBieSBhbnkgaGVhZGVyICdkYXRhLXBsYWNlaG9sZGVyJyBzZXR0aW5nIClcblx0XHRcdGZpbHRlcl9yZXNldCAgICAgICAgIDogbnVsbCwgIC8vIGpRdWVyeSBzZWxlY3RvciBzdHJpbmcgb2YgYW4gZWxlbWVudCB1c2VkIHRvIHJlc2V0IHRoZSBmaWx0ZXJzXG5cdFx0XHRmaWx0ZXJfcmVzZXRPbkVzYyAgICA6IHRydWUsICAvLyBSZXNldCBmaWx0ZXIgaW5wdXQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGVzY2FwZSAtIG5vcm1hbGl6ZWQgYWNyb3NzIGJyb3dzZXJzXG5cdFx0XHRmaWx0ZXJfc2F2ZUZpbHRlcnMgICA6IGZhbHNlLCAvLyBVc2UgdGhlICQudGFibGVzb3J0ZXIuc3RvcmFnZSB1dGlsaXR5IHRvIHNhdmUgdGhlIG1vc3QgcmVjZW50IGZpbHRlcnNcblx0XHRcdGZpbHRlcl9zZWFyY2hEZWxheSAgIDogMzAwLCAgIC8vIHR5cGluZyBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHN0YXJ0aW5nIGEgc2VhcmNoXG5cdFx0XHRmaWx0ZXJfc2VhcmNoRmlsdGVyZWQ6IHRydWUsICAvLyBhbGxvdyBzZWFyY2hpbmcgdGhyb3VnaCBhbHJlYWR5IGZpbHRlcmVkIHJvd3MgaW4gc3BlY2lhbCBjaXJjdW1zdGFuY2VzOyB3aWxsIHNwZWVkIHVwIHNlYXJjaGluZyBpbiBsYXJnZSB0YWJsZXMgaWYgdHJ1ZVxuXHRcdFx0ZmlsdGVyX3NlbGVjdFNvdXJjZSAgOiBudWxsLCAgLy8gaW5jbHVkZSBhIGZ1bmN0aW9uIHRvIHJldHVybiBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGNvbHVtbiBmaWx0ZXIgc2VsZWN0XG5cdFx0XHRmaWx0ZXJfc2VsZWN0U291cmNlU2VwYXJhdG9yIDogJ3wnLCAvLyBmaWx0ZXJfc2VsZWN0U291cmNlIGFycmF5IHRleHQgbGVmdCBvZiB0aGUgc2VwYXJhdG9yIGlzIGFkZGVkIHRvIHRoZSBvcHRpb24gdmFsdWUsIHJpZ2h0IGludG8gdGhlIG9wdGlvbiB0ZXh0XG5cdFx0XHRmaWx0ZXJfc2VydmVyc2lkZUZpbHRlcmluZyA6IGZhbHNlLCAvLyBpZiB0cnVlLCBtdXN0IHBlcmZvcm0gc2VydmVyLXNpZGUgZmlsdGVyaW5nIGIvYyBjbGllbnQtc2lkZSBmaWx0ZXJpbmcgaXMgZGlzYWJsZWQsIGJ1dCB0aGUgdWkgYW5kIGV2ZW50cyB3aWxsIHN0aWxsIGJlIHVzZWQuXG5cdFx0XHRmaWx0ZXJfc3RhcnRzV2l0aCAgICA6IGZhbHNlLCAvLyBpZiB0cnVlLCBmaWx0ZXIgc3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjZWxsIGNvbnRlbnRzXG5cdFx0XHRmaWx0ZXJfdXNlUGFyc2VkRGF0YSA6IGZhbHNlICAvLyBmaWx0ZXIgYWxsIGRhdGEgdXNpbmcgcGFyc2VkIGNvbnRlbnRcblx0XHR9LFxuXHRcdGZvcm1hdDogZnVuY3Rpb24oIHRhYmxlLCBjLCB3byApIHtcblx0XHRcdGlmICggIWMuJHRhYmxlLmhhc0NsYXNzKCAnaGFzRmlsdGVycycgKSApIHtcblx0XHRcdFx0dHNmLmluaXQoIHRhYmxlLCBjLCB3byApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggdGFibGUsIGMsIHdvLCByZWZyZXNoaW5nICkge1xuXHRcdFx0dmFyIHRib2R5SW5kZXgsICR0Ym9keSxcblx0XHRcdFx0JHRhYmxlID0gYy4kdGFibGUsXG5cdFx0XHRcdCR0Ym9kaWVzID0gYy4kdGJvZGllcyxcblx0XHRcdFx0ZXZlbnRzID0gKFxuXHRcdFx0XHRcdCdhZGRSb3dzIHVwZGF0ZUNlbGwgdXBkYXRlIHVwZGF0ZVJvd3MgdXBkYXRlQ29tcGxldGUgYXBwZW5kQ2FjaGUgZmlsdGVyUmVzZXQgJyArXG5cdFx0XHRcdFx0J2ZpbHRlckFuZFNvcnRSZXNldCBmaWx0ZXJGb21hdHRlclVwZGF0ZSBmaWx0ZXJFbmQgc2VhcmNoIHN0aWNreUhlYWRlcnNJbml0ICdcblx0XHRcdFx0KS5zcGxpdCggJyAnICkuam9pbiggYy5uYW1lc3BhY2UgKyAnZmlsdGVyICcgKTtcblx0XHRcdCR0YWJsZVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoICdoYXNGaWx0ZXJzJyApXG5cdFx0XHRcdC8vIGFkZCBmaWx0ZXIgbmFtZXNwYWNlIHRvIGFsbCBCVVQgc2VhcmNoXG5cdFx0XHRcdC51bmJpbmQoIGV2ZW50cy5yZXBsYWNlKCB0cy5yZWdleC5zcGFjZXMsICcgJyApIClcblx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBmaWx0ZXIgcm93IGV2ZW4gaWYgcmVmcmVzaGluZywgYmVjYXVzZSB0aGUgY29sdW1uIG1pZ2h0IGhhdmUgYmVlbiBtb3ZlZFxuXHRcdFx0XHQuZmluZCggJy4nICsgdHNjc3MuZmlsdGVyUm93ICkucmVtb3ZlKCk7XG5cdFx0XHR3by5maWx0ZXJfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblx0XHRcdGlmICggcmVmcmVzaGluZyApIHsgcmV0dXJuOyB9XG5cdFx0XHRmb3IgKCB0Ym9keUluZGV4ID0gMDsgdGJvZHlJbmRleCA8ICR0Ym9kaWVzLmxlbmd0aDsgdGJvZHlJbmRleCsrICkge1xuXHRcdFx0XHQkdGJvZHkgPSB0cy5wcm9jZXNzVGJvZHkoIHRhYmxlLCAkdGJvZGllcy5lcSggdGJvZHlJbmRleCApLCB0cnVlICk7IC8vIHJlbW92ZSB0Ym9keVxuXHRcdFx0XHQkdGJvZHkuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyggd28uZmlsdGVyX2ZpbHRlcmVkUm93ICkuc2hvdygpO1xuXHRcdFx0XHR0cy5wcm9jZXNzVGJvZHkoIHRhYmxlLCAkdGJvZHksIGZhbHNlICk7IC8vIHJlc3RvcmUgdGJvZHlcblx0XHRcdH1cblx0XHRcdGlmICggd28uZmlsdGVyX3Jlc2V0ICkge1xuXHRcdFx0XHQkKCBkb2N1bWVudCApLnVuZGVsZWdhdGUoIHdvLmZpbHRlcl9yZXNldCwgJ2NsaWNrJyArIGMubmFtZXNwYWNlICsgJ2ZpbHRlcicgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHRzZiA9IHRzLmZpbHRlciA9IHtcblxuXHRcdC8vIHJlZ2V4IHVzZWQgaW4gZmlsdGVyICdjaGVjaycgZnVuY3Rpb25zIC0gbm90IGZvciBnZW5lcmFsIHVzZSBhbmQgbm90IGRvY3VtZW50ZWRcblx0XHRyZWdleDoge1xuXHRcdFx0cmVnZXggICAgIDogL15cXC8oKD86XFxcXFxcL3xbXlxcL10pKylcXC8oW21pZ3l1XXswLDV9KT8kLywgLy8gcmVnZXggdG8gdGVzdCBmb3IgcmVnZXhcblx0XHRcdGNoaWxkICAgICA6IC90YWJsZXNvcnRlci1jaGlsZFJvdy8sIC8vIGNoaWxkIHJvdyBjbGFzcyBuYW1lOyB0aGlzIGdldHMgdXBkYXRlZCBpbiB0aGUgc2NyaXB0XG5cdFx0XHRmaWx0ZXJlZCAgOiAvZmlsdGVyZWQvLCAvLyBmaWx0ZXJlZCAoaGlkZGVuKSByb3cgY2xhc3MgbmFtZTsgdXBkYXRlZCBpbiB0aGUgc2NyaXB0XG5cdFx0XHR0eXBlICAgICAgOiAvdW5kZWZpbmVkfG51bWJlci8sIC8vIGNoZWNrIHR5cGVcblx0XHRcdGV4YWN0ICAgICA6IC8oXltcXFwiXFwnPV0rKXwoW1xcXCJcXCc9XSskKS9nLCAvLyBleGFjdCBtYXRjaCAoYWxsb3cgJz09Jylcblx0XHRcdG9wZXJhdG9ycyA6IC9bPD49XS9nLCAvLyByZXBsYWNlIG9wZXJhdG9yc1xuXHRcdFx0cXVlcnkgICAgIDogJyhxfHF1ZXJ5KScsIC8vIHJlcGxhY2UgZmlsdGVyIHF1ZXJpZXNcblx0XHRcdHdpbGQwMSAgICA6IC9cXD8vZywgLy8gd2lsZCBjYXJkIG1hdGNoIDAgb3IgMVxuXHRcdFx0d2lsZDBNb3JlIDogL1xcKi9nLCAvLyB3aWxkIGNhcmUgbWF0Y2ggMCBvciBtb3JlXG5cdFx0XHRxdW90ZSAgICAgOiAvXFxcIi9nLFxuXHRcdFx0aXNOZWcxICAgIDogLyg+PT9cXHMqLVxcZCkvLFxuXHRcdFx0aXNOZWcyICAgIDogLyg8PT9cXHMqXFxkKS9cblx0XHR9LFxuXHRcdC8vIGZ1bmN0aW9uKCBjLCBkYXRhICkgeyB9XG5cdFx0Ly8gYyA9IHRhYmxlLmNvbmZpZ1xuXHRcdC8vIGRhdGEuJHJvdyA9IGpRdWVyeSBvYmplY3Qgb2YgdGhlIHJvdyBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG5cdFx0Ly8gZGF0YS4kY2VsbHMgPSBqUXVlcnkgb2JqZWN0IG9mIGFsbCBjZWxscyB3aXRoaW4gdGhlIGN1cnJlbnQgcm93XG5cdFx0Ly8gZGF0YS5maWx0ZXJzID0gYXJyYXkgb2YgZmlsdGVycyBmb3IgYWxsIGNvbHVtbnMgKCBzb21lIG1heSBiZSB1bmRlZmluZWQgKVxuXHRcdC8vIGRhdGEuZmlsdGVyID0gZmlsdGVyIGZvciB0aGUgY3VycmVudCBjb2x1bW5cblx0XHQvLyBkYXRhLmlGaWx0ZXIgPSBzYW1lIGFzIGRhdGEuZmlsdGVyLCBleGNlcHQgbG93ZXJjYXNlICggaWYgd28uZmlsdGVyX2lnbm9yZUNhc2UgaXMgdHJ1ZSApXG5cdFx0Ly8gZGF0YS5leGFjdCA9IHRhYmxlIGNlbGwgdGV4dCAoIG9yIHBhcnNlZCBkYXRhIGlmIGNvbHVtbiBwYXJzZXIgZW5hYmxlZDsgbWF5IGJlIGEgbnVtYmVyICYgbm90IGEgc3RyaW5nIClcblx0XHQvLyBkYXRhLmlFeGFjdCA9IHNhbWUgYXMgZGF0YS5leGFjdCwgZXhjZXB0IGxvd2VyY2FzZSAoIGlmIHdvLmZpbHRlcl9pZ25vcmVDYXNlIGlzIHRydWU7IG1heSBiZSBhIG51bWJlciAmIG5vdCBhIHN0cmluZyApXG5cdFx0Ly8gZGF0YS5jYWNoZSA9IHRhYmxlIGNlbGwgdGV4dCBmcm9tIGNhY2hlLCBzbyBpdCBoYXMgYmVlbiBwYXJzZWQgKCAmIGluIGFsbCBsb3dlciBjYXNlIGlmIGMuaWdub3JlQ2FzZSBpcyB0cnVlIClcblx0XHQvLyBkYXRhLmNhY2hlQXJyYXkgPSBBbiBhcnJheSBvZiBwYXJzZWQgY29udGVudCBmcm9tIGVhY2ggdGFibGUgY2VsbCBpbiB0aGUgcm93IGJlaW5nIHByb2Nlc3NlZFxuXHRcdC8vIGRhdGEuaW5kZXggPSBjb2x1bW4gaW5kZXg7IHRhYmxlID0gdGFibGUgZWxlbWVudCAoIERPTSApXG5cdFx0Ly8gZGF0YS5wYXJzZWQgPSBhcnJheSAoIGJ5IGNvbHVtbiApIG9mIGJvb2xlYW4gdmFsdWVzICggZnJvbSBmaWx0ZXJfdXNlUGFyc2VkRGF0YSBvciAnZmlsdGVyLXBhcnNlZCcgY2xhc3MgKVxuXHRcdHR5cGVzOiB7XG5cdFx0XHRvciA6IGZ1bmN0aW9uKCBjLCBkYXRhLCB2YXJzICkge1xuXHRcdFx0XHQvLyBsb29rIGZvciBcInxcIiwgYnV0IG5vdCBpZiBpdCBpcyBpbnNpZGUgb2YgYSByZWd1bGFyIGV4cHJlc3Npb25cblx0XHRcdFx0aWYgKCAoIHRzZlJlZ2V4Lm9yVGVzdC50ZXN0KCBkYXRhLmlGaWx0ZXIgKSB8fCB0c2ZSZWdleC5vclNwbGl0LnRlc3QoIGRhdGEuZmlsdGVyICkgKSAmJlxuXHRcdFx0XHRcdC8vIHRoaXMgdGVzdCBmb3IgcmVnZXggaGFzIHBvdGVudGlhbCB0byBzbG93IGRvd24gdGhlIG92ZXJhbGwgc2VhcmNoXG5cdFx0XHRcdFx0IXRzZlJlZ2V4LnJlZ2V4LnRlc3QoIGRhdGEuZmlsdGVyICkgKSB7XG5cdFx0XHRcdFx0dmFyIGluZHgsIGZpbHRlck1hdGNoZWQsIHF1ZXJ5LCByZWdleCxcblx0XHRcdFx0XHRcdC8vIGR1cGxpY2F0ZSBkYXRhIGJ1dCBzcGxpdCBmaWx0ZXJcblx0XHRcdFx0XHRcdGRhdGEyID0gJC5leHRlbmQoIHt9LCBkYXRhICksXG5cdFx0XHRcdFx0XHRmaWx0ZXIgPSBkYXRhLmZpbHRlci5zcGxpdCggdHNmUmVnZXgub3JTcGxpdCApLFxuXHRcdFx0XHRcdFx0aUZpbHRlciA9IGRhdGEuaUZpbHRlci5zcGxpdCggdHNmUmVnZXgub3JTcGxpdCApLFxuXHRcdFx0XHRcdFx0bGVuID0gZmlsdGVyLmxlbmd0aDtcblx0XHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0ZGF0YTIubmVzdGVkRmlsdGVycyA9IHRydWU7XG5cdFx0XHRcdFx0XHRkYXRhMi5maWx0ZXIgPSAnJyArICggdHNmLnBhcnNlRmlsdGVyKCBjLCBmaWx0ZXJbIGluZHggXSwgZGF0YSApIHx8ICcnICk7XG5cdFx0XHRcdFx0XHRkYXRhMi5pRmlsdGVyID0gJycgKyAoIHRzZi5wYXJzZUZpbHRlciggYywgaUZpbHRlclsgaW5keCBdLCBkYXRhICkgfHwgJycgKTtcblx0XHRcdFx0XHRcdHF1ZXJ5ID0gJygnICsgKCB0c2YucGFyc2VGaWx0ZXIoIGMsIGRhdGEyLmZpbHRlciwgZGF0YSApIHx8ICcnICkgKyAnKSc7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHQvLyB1c2UgdHJ5L2NhdGNoLCBiZWNhdXNlIHF1ZXJ5IG1heSBub3QgYmUgYSB2YWxpZCByZWdleCBpZiBcInxcIiBpcyBjb250YWluZWQgd2l0aGluIGEgcGFydGlhbCByZWdleCBzZWFyY2gsXG5cdFx0XHRcdFx0XHRcdC8vIGUuZyBcIi8oQWxleHxBYXJcIiAtPiBVbmNhdWdodCBTeW50YXhFcnJvcjogSW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb246IC8oLyhBbGV4KS86IFVudGVybWluYXRlZCBncm91cFxuXHRcdFx0XHRcdFx0XHRyZWdleCA9IG5ldyBSZWdFeHAoIGRhdGEuaXNNYXRjaCA/IHF1ZXJ5IDogJ14nICsgcXVlcnkgKyAnJCcsIGMud2lkZ2V0T3B0aW9ucy5maWx0ZXJfaWdub3JlQ2FzZSA/ICdpJyA6ICcnICk7XG5cdFx0XHRcdFx0XHRcdC8vIGZpbHRlck1hdGNoZWQgPSBkYXRhMi5maWx0ZXIgPT09ICcnICYmIGluZHggPiAwID8gdHJ1ZVxuXHRcdFx0XHRcdFx0XHQvLyBsb29rIGZvciBhbiBleGFjdCBtYXRjaCB3aXRoIHRoZSAnb3InIHVubGVzcyB0aGUgJ2ZpbHRlci1tYXRjaCcgY2xhc3MgaXMgZm91bmRcblx0XHRcdFx0XHRcdFx0ZmlsdGVyTWF0Y2hlZCA9IHJlZ2V4LnRlc3QoIGRhdGEyLmV4YWN0ICkgfHwgdHNmLnByb2Nlc3NUeXBlcyggYywgZGF0YTIsIHZhcnMgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBmaWx0ZXJNYXRjaGVkICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmaWx0ZXJNYXRjaGVkO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBtYXkgYmUgbnVsbCBmcm9tIHByb2Nlc3NpbmcgdHlwZXNcblx0XHRcdFx0XHRyZXR1cm4gZmlsdGVyTWF0Y2hlZCB8fCBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb29rIGZvciBhbiBBTkQgb3IgJiYgb3BlcmF0b3IgKCBsb2dpY2FsIGFuZCApXG5cdFx0XHRhbmQgOiBmdW5jdGlvbiggYywgZGF0YSwgdmFycyApIHtcblx0XHRcdFx0aWYgKCB0c2ZSZWdleC5hbmRUZXN0LnRlc3QoIGRhdGEuZmlsdGVyICkgKSB7XG5cdFx0XHRcdFx0dmFyIGluZHgsIGZpbHRlck1hdGNoZWQsIHJlc3VsdCwgcXVlcnksIHJlZ2V4LFxuXHRcdFx0XHRcdFx0Ly8gZHVwbGljYXRlIGRhdGEgYnV0IHNwbGl0IGZpbHRlclxuXHRcdFx0XHRcdFx0ZGF0YTIgPSAkLmV4dGVuZCgge30sIGRhdGEgKSxcblx0XHRcdFx0XHRcdGZpbHRlciA9IGRhdGEuZmlsdGVyLnNwbGl0KCB0c2ZSZWdleC5hbmRTcGxpdCApLFxuXHRcdFx0XHRcdFx0aUZpbHRlciA9IGRhdGEuaUZpbHRlci5zcGxpdCggdHNmUmVnZXguYW5kU3BsaXQgKSxcblx0XHRcdFx0XHRcdGxlbiA9IGZpbHRlci5sZW5ndGg7XG5cdFx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0XHRcdGRhdGEyLm5lc3RlZEZpbHRlcnMgPSB0cnVlO1xuXHRcdFx0XHRcdFx0ZGF0YTIuZmlsdGVyID0gJycgKyAoIHRzZi5wYXJzZUZpbHRlciggYywgZmlsdGVyWyBpbmR4IF0sIGRhdGEgKSB8fCAnJyApO1xuXHRcdFx0XHRcdFx0ZGF0YTIuaUZpbHRlciA9ICcnICsgKCB0c2YucGFyc2VGaWx0ZXIoIGMsIGlGaWx0ZXJbIGluZHggXSwgZGF0YSApIHx8ICcnICk7XG5cdFx0XHRcdFx0XHRxdWVyeSA9ICggJygnICsgKCB0c2YucGFyc2VGaWx0ZXIoIGMsIGRhdGEyLmZpbHRlciwgZGF0YSApIHx8ICcnICkgKyAnKScgKVxuXHRcdFx0XHRcdFx0XHQvLyByZXBsYWNlIHdpbGQgY2FyZHMgc2luY2UgLyhhKikvaSB3aWxsIG1hdGNoIGFueXRoaW5nXG5cdFx0XHRcdFx0XHRcdC5yZXBsYWNlKCB0c2ZSZWdleC53aWxkMDEsICdcXFxcU3sxfScgKS5yZXBsYWNlKCB0c2ZSZWdleC53aWxkME1vcmUsICdcXFxcUyonICk7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHQvLyB1c2UgdHJ5L2NhdGNoIGp1c3QgaW4gY2FzZSBSZWdFeHAgaXMgaW52YWxpZFxuXHRcdFx0XHRcdFx0XHRyZWdleCA9IG5ldyBSZWdFeHAoIGRhdGEuaXNNYXRjaCA/IHF1ZXJ5IDogJ14nICsgcXVlcnkgKyAnJCcsIGMud2lkZ2V0T3B0aW9ucy5maWx0ZXJfaWdub3JlQ2FzZSA/ICdpJyA6ICcnICk7XG5cdFx0XHRcdFx0XHRcdC8vIGxvb2sgZm9yIGFuIGV4YWN0IG1hdGNoIHdpdGggdGhlICdhbmQnIHVubGVzcyB0aGUgJ2ZpbHRlci1tYXRjaCcgY2xhc3MgaXMgZm91bmRcblx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gKCByZWdleC50ZXN0KCBkYXRhMi5leGFjdCApIHx8IHRzZi5wcm9jZXNzVHlwZXMoIGMsIGRhdGEyLCB2YXJzICkgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBpbmR4ID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdGZpbHRlck1hdGNoZWQgPSByZXN1bHQ7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsdGVyTWF0Y2hlZCA9IGZpbHRlck1hdGNoZWQgJiYgcmVzdWx0O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBtYXkgYmUgbnVsbCBmcm9tIHByb2Nlc3NpbmcgdHlwZXNcblx0XHRcdFx0XHRyZXR1cm4gZmlsdGVyTWF0Y2hlZCB8fCBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb29rIGZvciByZWdleFxuXHRcdFx0cmVnZXg6IGZ1bmN0aW9uKCBjLCBkYXRhICkge1xuXHRcdFx0XHRpZiAoIHRzZlJlZ2V4LnJlZ2V4LnRlc3QoIGRhdGEuZmlsdGVyICkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdFx0XHQvLyBjYWNoZSByZWdleCBwZXIgY29sdW1uIGZvciBvcHRpbWFsIHNwZWVkXG5cdFx0XHRcdFx0XHRyZWdleCA9IGRhdGEuZmlsdGVyX3JlZ2V4Q2FjaGVbIGRhdGEuaW5kZXggXSB8fCB0c2ZSZWdleC5yZWdleC5leGVjKCBkYXRhLmZpbHRlciApLFxuXHRcdFx0XHRcdFx0aXNSZWdleCA9IHJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwO1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoICFpc1JlZ2V4ICkge1xuXHRcdFx0XHRcdFx0XHQvLyBmb3JjZSBjYXNlIGluc2Vuc2l0aXZlIHNlYXJjaCBpZiBpZ25vcmVDYXNlIG9wdGlvbiBzZXQ/XG5cdFx0XHRcdFx0XHRcdC8vIGlmICggYy5pZ25vcmVDYXNlICYmICFyZWdleFsyXSApIHsgcmVnZXhbMl0gPSAnaSc7IH1cblx0XHRcdFx0XHRcdFx0ZGF0YS5maWx0ZXJfcmVnZXhDYWNoZVsgZGF0YS5pbmRleCBdID0gcmVnZXggPSBuZXcgUmVnRXhwKCByZWdleFsxXSwgcmVnZXhbMl0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoZXMgPSByZWdleC50ZXN0KCBkYXRhLmV4YWN0ICk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIGVycm9yICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlcyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlcztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb29rIGZvciBvcGVyYXRvcnMgPiwgPj0sIDwgb3IgPD1cblx0XHRcdG9wZXJhdG9yczogZnVuY3Rpb24oIGMsIGRhdGEgKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzLi4uIGJlY2F1c2UgJycgPCAxMCBpcyB0cnVlXG5cdFx0XHRcdGlmICggdHNmUmVnZXgub3BlclRlc3QudGVzdCggZGF0YS5pRmlsdGVyICkgJiYgZGF0YS5pRXhhY3QgIT09ICcnICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZWRWYWx1ZSwgcmVzdWx0LCB0eHQsXG5cdFx0XHRcdFx0XHR0YWJsZSA9IGMudGFibGUsXG5cdFx0XHRcdFx0XHRwYXJzZWQgPSBkYXRhLnBhcnNlZFsgZGF0YS5pbmRleCBdLFxuXHRcdFx0XHRcdFx0cXVlcnkgPSB0cy5mb3JtYXRGbG9hdCggZGF0YS5pRmlsdGVyLnJlcGxhY2UoIHRzZlJlZ2V4Lm9wZXJhdG9ycywgJycgKSwgdGFibGUgKSxcblx0XHRcdFx0XHRcdHBhcnNlciA9IGMucGFyc2Vyc1sgZGF0YS5pbmRleCBdIHx8IHt9LFxuXHRcdFx0XHRcdFx0c2F2ZWRTZWFyY2ggPSBxdWVyeTtcblx0XHRcdFx0XHQvLyBwYXJzZSBmaWx0ZXIgdmFsdWUgaW4gY2FzZSB3ZSdyZSBjb21wYXJpbmcgbnVtYmVycyAoIGRhdGVzIClcblx0XHRcdFx0XHRpZiAoIHBhcnNlZCB8fCBwYXJzZXIudHlwZSA9PT0gJ251bWVyaWMnICkge1xuXHRcdFx0XHRcdFx0dHh0ID0gJC50cmltKCAnJyArIGRhdGEuaUZpbHRlci5yZXBsYWNlKCB0c2ZSZWdleC5vcGVyYXRvcnMsICcnICkgKTtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHRzZi5wYXJzZUZpbHRlciggYywgdHh0LCBkYXRhLCB0cnVlICk7XG5cdFx0XHRcdFx0XHRxdWVyeSA9ICggdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicgJiYgcmVzdWx0ICE9PSAnJyAmJiAhaXNOYU4oIHJlc3VsdCApICkgPyByZXN1bHQgOiBxdWVyeTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gaUV4YWN0IG1heSBiZSBudW1lcmljIC0gc2VlIGlzc3VlICMxNDk7XG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgY2FjaGVkIGlzIGRlZmluZWQsIGJlY2F1c2Ugc29tZXRpbWVzIGogZ29lcyBvdXQgb2YgcmFuZ2U/ICggbnVtZXJpYyBjb2x1bW5zIClcblx0XHRcdFx0XHRpZiAoICggcGFyc2VkIHx8IHBhcnNlci50eXBlID09PSAnbnVtZXJpYycgKSAmJiAhaXNOYU4oIHF1ZXJ5ICkgJiZcblx0XHRcdFx0XHRcdHR5cGVvZiBkYXRhLmNhY2hlICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0XHRcdGNhY2hlZFZhbHVlID0gZGF0YS5jYWNoZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHh0ID0gaXNOYU4oIGRhdGEuaUV4YWN0ICkgPyBkYXRhLmlFeGFjdC5yZXBsYWNlKCB0cy5yZWdleC5ub25kaWdpdCwgJycgKSA6IGRhdGEuaUV4YWN0O1xuXHRcdFx0XHRcdFx0Y2FjaGVkVmFsdWUgPSB0cy5mb3JtYXRGbG9hdCggdHh0LCB0YWJsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHRzZlJlZ2V4Lmd0VGVzdC50ZXN0KCBkYXRhLmlGaWx0ZXIgKSApIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHRzZlJlZ2V4Lmd0ZVRlc3QudGVzdCggZGF0YS5pRmlsdGVyICkgPyBjYWNoZWRWYWx1ZSA+PSBxdWVyeSA6IGNhY2hlZFZhbHVlID4gcXVlcnk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggdHNmUmVnZXgubHRUZXN0LnRlc3QoIGRhdGEuaUZpbHRlciApICkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gdHNmUmVnZXgubHRlVGVzdC50ZXN0KCBkYXRhLmlGaWx0ZXIgKSA/IGNhY2hlZFZhbHVlIDw9IHF1ZXJ5IDogY2FjaGVkVmFsdWUgPCBxdWVyeTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8ga2VlcCBzaG93aW5nIGFsbCByb3dzIGlmIG5vdGhpbmcgZm9sbG93cyB0aGUgb3BlcmF0b3Jcblx0XHRcdFx0XHRpZiAoICFyZXN1bHQgJiYgc2F2ZWRTZWFyY2ggPT09ICcnICkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb29rIGZvciBhIG5vdCBtYXRjaFxuXHRcdFx0bm90TWF0Y2g6IGZ1bmN0aW9uKCBjLCBkYXRhICkge1xuXHRcdFx0XHRpZiAoIHRzZlJlZ2V4Lm5vdFRlc3QudGVzdCggZGF0YS5pRmlsdGVyICkgKSB7XG5cdFx0XHRcdFx0dmFyIGluZHgsXG5cdFx0XHRcdFx0XHR0eHQgPSBkYXRhLmlGaWx0ZXIucmVwbGFjZSggJyEnLCAnJyApLFxuXHRcdFx0XHRcdFx0ZmlsdGVyID0gdHNmLnBhcnNlRmlsdGVyKCBjLCB0eHQsIGRhdGEgKSB8fCAnJztcblx0XHRcdFx0XHRpZiAoIHRzZlJlZ2V4LmV4YWN0LnRlc3QoIGZpbHRlciApICkge1xuXHRcdFx0XHRcdFx0Ly8gbG9vayBmb3IgZXhhY3Qgbm90IG1hdGNoZXMgLSBzZWUgIzYyOFxuXHRcdFx0XHRcdFx0ZmlsdGVyID0gZmlsdGVyLnJlcGxhY2UoIHRzZlJlZ2V4LmV4YWN0LCAnJyApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZpbHRlciA9PT0gJycgPyB0cnVlIDogJC50cmltKCBmaWx0ZXIgKSAhPT0gZGF0YS5pRXhhY3Q7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGluZHggPSBkYXRhLmlFeGFjdC5zZWFyY2goICQudHJpbSggZmlsdGVyICkgKTtcblx0XHRcdFx0XHRcdHJldHVybiBmaWx0ZXIgPT09ICcnID8gdHJ1ZSA6XG5cdFx0XHRcdFx0XHRcdC8vIHJldHVybiB0cnVlIGlmIG5vdCBmb3VuZFxuXHRcdFx0XHRcdFx0XHRkYXRhLmFueU1hdGNoID8gaW5keCA8IDAgOlxuXHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gZmFsc2UgaWYgZm91bmRcblx0XHRcdFx0XHRcdFx0ISggYy53aWRnZXRPcHRpb25zLmZpbHRlcl9zdGFydHNXaXRoID8gaW5keCA9PT0gMCA6IGluZHggPj0gMCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb29rIGZvciBxdW90ZXMgb3IgZXF1YWxzIHRvIGdldCBhbiBleGFjdCBtYXRjaDsgaWdub3JlIHR5cGUgc2luY2UgaUV4YWN0IGNvdWxkIGJlIG51bWVyaWNcblx0XHRcdGV4YWN0OiBmdW5jdGlvbiggYywgZGF0YSApIHtcblx0XHRcdFx0Lypqc2hpbnQgZXFlcWVxOmZhbHNlICovXG5cdFx0XHRcdGlmICggdHNmUmVnZXguZXhhY3QudGVzdCggZGF0YS5pRmlsdGVyICkgKSB7XG5cdFx0XHRcdFx0dmFyIHR4dCA9IGRhdGEuaUZpbHRlci5yZXBsYWNlKCB0c2ZSZWdleC5leGFjdCwgJycgKSxcblx0XHRcdFx0XHRcdGZpbHRlciA9IHRzZi5wYXJzZUZpbHRlciggYywgdHh0LCBkYXRhICkgfHwgJyc7XG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRcdHJldHVybiBkYXRhLmFueU1hdGNoID8gJC5pbkFycmF5KCBmaWx0ZXIsIGRhdGEucm93QXJyYXkgKSA+PSAwIDogZmlsdGVyID09IGRhdGEuaUV4YWN0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fSxcblx0XHRcdC8vIExvb2sgZm9yIGEgcmFuZ2UgKCB1c2luZyAnIHRvICcgb3IgJyAtICcgKSAtIHNlZSBpc3N1ZSAjMTY2OyB0aGFua3MgbWF0emh1IVxuXHRcdFx0cmFuZ2UgOiBmdW5jdGlvbiggYywgZGF0YSApIHtcblx0XHRcdFx0aWYgKCB0c2ZSZWdleC50b1Rlc3QudGVzdCggZGF0YS5pRmlsdGVyICkgKSB7XG5cdFx0XHRcdFx0dmFyIHJlc3VsdCwgdG1wLCByYW5nZTEsIHJhbmdlMixcblx0XHRcdFx0XHRcdHRhYmxlID0gYy50YWJsZSxcblx0XHRcdFx0XHRcdGluZGV4ID0gZGF0YS5pbmRleCxcblx0XHRcdFx0XHRcdHBhcnNlZCA9IGRhdGEucGFyc2VkW2luZGV4XSxcblx0XHRcdFx0XHRcdC8vIG1ha2Ugc3VyZSB0aGUgZGFzaCBpcyBmb3IgYSByYW5nZSBhbmQgbm90IGluZGljYXRpbmcgYSBuZWdhdGl2ZSBudW1iZXJcblx0XHRcdFx0XHRcdHF1ZXJ5ID0gZGF0YS5pRmlsdGVyLnNwbGl0KCB0c2ZSZWdleC50b1NwbGl0ICk7XG5cblx0XHRcdFx0XHR0bXAgPSBxdWVyeVswXS5yZXBsYWNlKCB0cy5yZWdleC5ub25kaWdpdCwgJycgKSB8fCAnJztcblx0XHRcdFx0XHRyYW5nZTEgPSB0cy5mb3JtYXRGbG9hdCggdHNmLnBhcnNlRmlsdGVyKCBjLCB0bXAsIGRhdGEgKSwgdGFibGUgKTtcblx0XHRcdFx0XHR0bXAgPSBxdWVyeVsxXS5yZXBsYWNlKCB0cy5yZWdleC5ub25kaWdpdCwgJycgKSB8fCAnJztcblx0XHRcdFx0XHRyYW5nZTIgPSB0cy5mb3JtYXRGbG9hdCggdHNmLnBhcnNlRmlsdGVyKCBjLCB0bXAsIGRhdGEgKSwgdGFibGUgKTtcblx0XHRcdFx0XHQvLyBwYXJzZSBmaWx0ZXIgdmFsdWUgaW4gY2FzZSB3ZSdyZSBjb21wYXJpbmcgbnVtYmVycyAoIGRhdGVzIClcblx0XHRcdFx0XHRpZiAoIHBhcnNlZCB8fCBjLnBhcnNlcnNbIGluZGV4IF0udHlwZSA9PT0gJ251bWVyaWMnICkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gYy5wYXJzZXJzWyBpbmRleCBdLmZvcm1hdCggJycgKyBxdWVyeVswXSwgdGFibGUsIGMuJGhlYWRlcnMuZXEoIGluZGV4ICksIGluZGV4ICk7XG5cdFx0XHRcdFx0XHRyYW5nZTEgPSAoIHJlc3VsdCAhPT0gJycgJiYgIWlzTmFOKCByZXN1bHQgKSApID8gcmVzdWx0IDogcmFuZ2UxO1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gYy5wYXJzZXJzWyBpbmRleCBdLmZvcm1hdCggJycgKyBxdWVyeVsxXSwgdGFibGUsIGMuJGhlYWRlcnMuZXEoIGluZGV4ICksIGluZGV4ICk7XG5cdFx0XHRcdFx0XHRyYW5nZTIgPSAoIHJlc3VsdCAhPT0gJycgJiYgIWlzTmFOKCByZXN1bHQgKSApID8gcmVzdWx0IDogcmFuZ2UyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICggcGFyc2VkIHx8IGMucGFyc2Vyc1sgaW5kZXggXS50eXBlID09PSAnbnVtZXJpYycgKSAmJiAhaXNOYU4oIHJhbmdlMSApICYmICFpc05hTiggcmFuZ2UyICkgKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSBkYXRhLmNhY2hlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0bXAgPSBpc05hTiggZGF0YS5pRXhhY3QgKSA/IGRhdGEuaUV4YWN0LnJlcGxhY2UoIHRzLnJlZ2V4Lm5vbmRpZ2l0LCAnJyApIDogZGF0YS5pRXhhY3Q7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB0cy5mb3JtYXRGbG9hdCggdG1wLCB0YWJsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHJhbmdlMSA+IHJhbmdlMiApIHtcblx0XHRcdFx0XHRcdHRtcCA9IHJhbmdlMTsgcmFuZ2UxID0gcmFuZ2UyOyByYW5nZTIgPSB0bXA7IC8vIHN3YXBcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuICggcmVzdWx0ID49IHJhbmdlMSAmJiByZXN1bHQgPD0gcmFuZ2UyICkgfHwgKCByYW5nZTEgPT09ICcnIHx8IHJhbmdlMiA9PT0gJycgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb29rIGZvciB3aWxkIGNhcmQ6ID8gPSBzaW5nbGUsICogPSBtdWx0aXBsZSwgb3IgfCA9IGxvZ2ljYWwgT1Jcblx0XHRcdHdpbGQgOiBmdW5jdGlvbiggYywgZGF0YSApIHtcblx0XHRcdFx0aWYgKCB0c2ZSZWdleC53aWxkT3JUZXN0LnRlc3QoIGRhdGEuaUZpbHRlciApICkge1xuXHRcdFx0XHRcdHZhciBxdWVyeSA9ICcnICsgKCB0c2YucGFyc2VGaWx0ZXIoIGMsIGRhdGEuaUZpbHRlciwgZGF0YSApIHx8ICcnICk7XG5cdFx0XHRcdFx0Ly8gbG9vayBmb3IgYW4gZXhhY3QgbWF0Y2ggd2l0aCB0aGUgJ29yJyB1bmxlc3MgdGhlICdmaWx0ZXItbWF0Y2gnIGNsYXNzIGlzIGZvdW5kXG5cdFx0XHRcdFx0aWYgKCAhdHNmUmVnZXgud2lsZFRlc3QudGVzdCggcXVlcnkgKSAmJiBkYXRhLm5lc3RlZEZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0XHRxdWVyeSA9IGRhdGEuaXNNYXRjaCA/IHF1ZXJ5IDogJ14oJyArIHF1ZXJ5ICsgJykkJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gcGFyc2luZyB0aGUgZmlsdGVyIG1heSBub3Qgd29yayBwcm9wZXJseSB3aGVuIHVzaW5nIHdpbGRjYXJkcyA9L1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV3IFJlZ0V4cChcblx0XHRcdFx0XHRcdFx0cXVlcnkucmVwbGFjZSggdHNmUmVnZXgud2lsZDAxLCAnXFxcXFN7MX0nICkucmVwbGFjZSggdHNmUmVnZXgud2lsZDBNb3JlLCAnXFxcXFMqJyApLFxuXHRcdFx0XHRcdFx0XHRjLndpZGdldE9wdGlvbnMuZmlsdGVyX2lnbm9yZUNhc2UgPyAnaScgOiAnJ1xuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0LnRlc3QoIGRhdGEuZXhhY3QgKTtcblx0XHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gZnV6enkgdGV4dCBzZWFyY2g7IG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hdHR5b3JrL2Z1enp5ICggTUlUIGxpY2Vuc2UgKVxuXHRcdFx0ZnV6enk6IGZ1bmN0aW9uKCBjLCBkYXRhICkge1xuXHRcdFx0XHRpZiAoIHRzZlJlZ2V4LmZ1enp5VGVzdC50ZXN0KCBkYXRhLmlGaWx0ZXIgKSApIHtcblx0XHRcdFx0XHR2YXIgaW5keCxcblx0XHRcdFx0XHRcdHBhdHRlcm5JbmR4ID0gMCxcblx0XHRcdFx0XHRcdGxlbiA9IGRhdGEuaUV4YWN0Lmxlbmd0aCxcblx0XHRcdFx0XHRcdHR4dCA9IGRhdGEuaUZpbHRlci5zbGljZSggMSApLFxuXHRcdFx0XHRcdFx0cGF0dGVybiA9IHRzZi5wYXJzZUZpbHRlciggYywgdHh0LCBkYXRhICkgfHwgJyc7XG5cdFx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0XHRcdGlmICggZGF0YS5pRXhhY3RbIGluZHggXSA9PT0gcGF0dGVyblsgcGF0dGVybkluZHggXSApIHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybkluZHggKz0gMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm5JbmR4ID09PSBwYXR0ZXJuLmxlbmd0aDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGluaXQ6IGZ1bmN0aW9uKCB0YWJsZSApIHtcblx0XHRcdC8vIGZpbHRlciBsYW5ndWFnZSBvcHRpb25zXG5cdFx0XHR0cy5sYW5ndWFnZSA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwge1xuXHRcdFx0XHR0byAgOiAndG8nLFxuXHRcdFx0XHRvciAgOiAnb3InLFxuXHRcdFx0XHRhbmQgOiAnYW5kJ1xuXHRcdFx0fSwgdHMubGFuZ3VhZ2UgKTtcblxuXHRcdFx0dmFyIG9wdGlvbnMsIHN0cmluZywgdHh0LCAkaGVhZGVyLCBjb2x1bW4sIHZhbCwgZnhuLCBub1NlbGVjdCxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRcdHByb2Nlc3NTdHIgPSBmdW5jdGlvbihwcmVmaXgsIHN0ciwgc3VmZml4KSB7XG5cdFx0XHRcdFx0c3RyID0gc3RyLnRyaW0oKTtcblx0XHRcdFx0XHQvLyBkb24ndCBpbmNsdWRlIHByZWZpeC9zdWZmaXggaWYgc3RyIGlzIGVtcHR5XG5cdFx0XHRcdFx0cmV0dXJuIHN0ciA9PT0gJycgPyAnJyA6IChwcmVmaXggfHwgJycpICsgc3RyICsgKHN1ZmZpeCB8fCAnJyk7XG5cdFx0XHRcdH07XG5cdFx0XHRjLiR0YWJsZS5hZGRDbGFzcyggJ2hhc0ZpbHRlcnMnICk7XG5cdFx0XHRjLmxhc3RTZWFyY2ggPSBbXTtcblxuXHRcdFx0Ly8gZGVmaW5lIHRpbWVycyBzbyB1c2luZyBjbGVhclRpbWVvdXQgd29uJ3QgY2F1c2UgYW4gdW5kZWZpbmVkIGVycm9yXG5cdFx0XHR3by5maWx0ZXJfc2VhcmNoVGltZXIgPSBudWxsO1xuXHRcdFx0d28uZmlsdGVyX2luaXRUaW1lciA9IG51bGw7XG5cdFx0XHR3by5maWx0ZXJfZm9ybWF0dGVyQ291bnQgPSAwO1xuXHRcdFx0d28uZmlsdGVyX2Zvcm1hdHRlckluaXQgPSBbXTtcblx0XHRcdHdvLmZpbHRlcl9hbnlDb2x1bW5TZWxlY3RvciA9ICdbZGF0YS1jb2x1bW49XCJhbGxcIl0sW2RhdGEtY29sdW1uPVwiYW55XCJdJztcblx0XHRcdHdvLmZpbHRlcl9tdWx0aXBsZUNvbHVtblNlbGVjdG9yID0gJ1tkYXRhLWNvbHVtbio9XCItXCJdLFtkYXRhLWNvbHVtbio9XCIsXCJdJztcblxuXHRcdFx0dmFsID0gJ1xcXFx7JyArIHRzZlJlZ2V4LnF1ZXJ5ICsgJ1xcXFx9Jztcblx0XHRcdCQuZXh0ZW5kKCB0c2ZSZWdleCwge1xuXHRcdFx0XHRjaGlsZCA6IG5ldyBSZWdFeHAoIGMuY3NzQ2hpbGRSb3cgKSxcblx0XHRcdFx0ZmlsdGVyZWQgOiBuZXcgUmVnRXhwKCB3by5maWx0ZXJfZmlsdGVyZWRSb3cgKSxcblx0XHRcdFx0YWxyZWFkeUZpbHRlcmVkIDogbmV3IFJlZ0V4cCggJyhcXFxccysoLScgKyBwcm9jZXNzU3RyKCd8JywgdHMubGFuZ3VhZ2Uub3IpICsgcHJvY2Vzc1N0cignfCcsIHRzLmxhbmd1YWdlLnRvKSArICcpXFxcXHMrKScsICdpJyApLFxuXHRcdFx0XHR0b1Rlc3QgOiBuZXcgUmVnRXhwKCAnXFxcXHMrKC0nICsgcHJvY2Vzc1N0cignfCcsIHRzLmxhbmd1YWdlLnRvKSArICcpXFxcXHMrJywgJ2knICksXG5cdFx0XHRcdHRvU3BsaXQgOiBuZXcgUmVnRXhwKCAnKD86XFxcXHMrKD86LScgKyBwcm9jZXNzU3RyKCd8JywgdHMubGFuZ3VhZ2UudG8pICsgJylcXFxccyspJywgJ2dpJyApLFxuXHRcdFx0XHRhbmRUZXN0IDogbmV3IFJlZ0V4cCggJ1xcXFxzKygnICsgcHJvY2Vzc1N0cignJywgdHMubGFuZ3VhZ2UuYW5kLCAnfCcpICsgJyYmKVxcXFxzKycsICdpJyApLFxuXHRcdFx0XHRhbmRTcGxpdCA6IG5ldyBSZWdFeHAoICcoPzpcXFxccysoPzonICsgcHJvY2Vzc1N0cignJywgdHMubGFuZ3VhZ2UuYW5kLCAnfCcpICsgJyYmKVxcXFxzKyknLCAnZ2knICksXG5cdFx0XHRcdG9yVGVzdCA6IG5ldyBSZWdFeHAoICcoXFxcXHwnICsgcHJvY2Vzc1N0cignfFxcXFxzKycsIHRzLmxhbmd1YWdlLm9yLCAnXFxcXHMrJykgKyAnKScsICdpJyApLFxuXHRcdFx0XHRvclNwbGl0IDogbmV3IFJlZ0V4cCggJyg/OlxcXFx8JyArIHByb2Nlc3NTdHIoJ3xcXFxccysoPzonLCB0cy5sYW5ndWFnZS5vciwgJylcXFxccysnKSArICcpJywgJ2dpJyApLFxuXHRcdFx0XHRpUXVlcnkgOiBuZXcgUmVnRXhwKCB2YWwsICdpJyApLFxuXHRcdFx0XHRpZ1F1ZXJ5IDogbmV3IFJlZ0V4cCggdmFsLCAnaWcnICksXG5cdFx0XHRcdG9wZXJUZXN0IDogL15bPD5dPT8vLFxuXHRcdFx0XHRndFRlc3QgIDogLz4vLFxuXHRcdFx0XHRndGVUZXN0IDogLz49Lyxcblx0XHRcdFx0bHRUZXN0ICA6IC88Lyxcblx0XHRcdFx0bHRlVGVzdCA6IC88PS8sXG5cdFx0XHRcdG5vdFRlc3QgOiAvXlxcIS8sXG5cdFx0XHRcdHdpbGRPclRlc3QgOiAvW1xcP1xcKlxcfF0vLFxuXHRcdFx0XHR3aWxkVGVzdCA6IC9cXD9cXCovLFxuXHRcdFx0XHRmdXp6eVRlc3QgOiAvXn4vLFxuXHRcdFx0XHRleGFjdFRlc3QgOiAvWz1cXFwiXFx8IV0vXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gZG9uJ3QgYnVpbGQgZmlsdGVyIHJvdyBpZiBjb2x1bW5GaWx0ZXJzIGlzIGZhbHNlIG9yIGFsbCBjb2x1bW5zIGFyZSBzZXQgdG8gJ2ZpbHRlci1mYWxzZSdcblx0XHRcdC8vIHNlZSBpc3N1ZSAjMTU2XG5cdFx0XHR2YWwgPSBjLiRoZWFkZXJzLmZpbHRlciggJy5maWx0ZXItZmFsc2UsIC5wYXJzZXItZmFsc2UnICkubGVuZ3RoO1xuXHRcdFx0aWYgKCB3by5maWx0ZXJfY29sdW1uRmlsdGVycyAhPT0gZmFsc2UgJiYgdmFsICE9PSBjLiRoZWFkZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0Ly8gYnVpbGQgZmlsdGVyIHJvd1xuXHRcdFx0XHR0c2YuYnVpbGRSb3coIHRhYmxlLCBjLCB3byApO1xuXHRcdFx0fVxuXG5cdFx0XHR0eHQgPSAnYWRkUm93cyB1cGRhdGVDZWxsIHVwZGF0ZSB1cGRhdGVSb3dzIHVwZGF0ZUNvbXBsZXRlIGFwcGVuZENhY2hlIGZpbHRlclJlc2V0ICcgK1xuXHRcdFx0XHQnZmlsdGVyQW5kU29ydFJlc2V0IGZpbHRlclJlc2V0U2F2ZWQgZmlsdGVyRW5kIHNlYXJjaCAnLnNwbGl0KCAnICcgKS5qb2luKCBjLm5hbWVzcGFjZSArICdmaWx0ZXIgJyApO1xuXHRcdFx0Yy4kdGFibGUuYmluZCggdHh0LCBmdW5jdGlvbiggZXZlbnQsIGZpbHRlciApIHtcblx0XHRcdFx0dmFsID0gd28uZmlsdGVyX2hpZGVFbXB0eSAmJlxuXHRcdFx0XHRcdCQuaXNFbXB0eU9iamVjdCggYy5jYWNoZSApICYmXG5cdFx0XHRcdFx0ISggYy5kZWxheUluaXQgJiYgZXZlbnQudHlwZSA9PT0gJ2FwcGVuZENhY2hlJyApO1xuXHRcdFx0XHQvLyBoaWRlIGZpbHRlciByb3cgdXNpbmcgdGhlICdmaWx0ZXJlZCcgY2xhc3MgbmFtZVxuXHRcdFx0XHRjLiR0YWJsZS5maW5kKCAnLicgKyB0c2Nzcy5maWx0ZXJSb3cgKS50b2dnbGVDbGFzcyggd28uZmlsdGVyX2ZpbHRlcmVkUm93LCB2YWwgKTsgLy8gZml4ZXMgIzQ1MFxuXHRcdFx0XHRpZiAoICEvKHNlYXJjaHxmaWx0ZXIpLy50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0dHNmLmJ1aWxkRGVmYXVsdCggdGFibGUsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBBZGQgZmlsdGVyQW5kU29ydFJlc2V0IC0gc2VlICMxMzYxXG5cdFx0XHRcdGlmICggZXZlbnQudHlwZSA9PT0gJ2ZpbHRlclJlc2V0JyB8fCBldmVudC50eXBlID09PSAnZmlsdGVyQW5kU29ydFJlc2V0JyApIHtcblx0XHRcdFx0XHRjLiR0YWJsZS5maW5kKCAnLicgKyB0c2Nzcy5maWx0ZXIgKS5hZGQoIHdvLmZpbHRlcl8kZXh0ZXJuYWxGaWx0ZXJzICkudmFsKCAnJyApO1xuXHRcdFx0XHRcdGlmICggZXZlbnQudHlwZSA9PT0gJ2ZpbHRlckFuZFNvcnRSZXNldCcgKSB7XG5cdFx0XHRcdFx0XHR0cy5zb3J0UmVzZXQoIHRoaXMuY29uZmlnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dHNmLnNlYXJjaGluZyggdGFibGUsIFtdICk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHNmLnNlYXJjaGluZyggdGFibGUsIFtdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKCBldmVudC50eXBlID09PSAnZmlsdGVyUmVzZXRTYXZlZCcgKSB7XG5cdFx0XHRcdFx0dHMuc3RvcmFnZSggdGFibGUsICd0YWJsZXNvcnRlci1maWx0ZXJzJywgJycgKTtcblx0XHRcdFx0fSBlbHNlIGlmICggZXZlbnQudHlwZSA9PT0gJ2ZpbHRlckVuZCcgKSB7XG5cdFx0XHRcdFx0dHNmLmJ1aWxkRGVmYXVsdCggdGFibGUsIHRydWUgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBzZW5kIGZhbHNlIGFyZ3VtZW50IHRvIGZvcmNlIGEgbmV3IHNlYXJjaDsgb3RoZXJ3aXNlIGlmIHRoZSBmaWx0ZXIgaGFzbid0IGNoYW5nZWQsXG5cdFx0XHRcdFx0Ly8gaXQgd2lsbCByZXR1cm5cblx0XHRcdFx0XHRmaWx0ZXIgPSBldmVudC50eXBlID09PSAnc2VhcmNoJyA/IGZpbHRlciA6XG5cdFx0XHRcdFx0XHRldmVudC50eXBlID09PSAndXBkYXRlQ29tcGxldGUnID8gYy4kdGFibGUuZGF0YSggJ2xhc3RTZWFyY2gnICkgOiAnJztcblx0XHRcdFx0XHRpZiAoIC8odXBkYXRlfGFkZCkvLnRlc3QoIGV2ZW50LnR5cGUgKSAmJiBldmVudC50eXBlICE9PSAndXBkYXRlQ29tcGxldGUnICkge1xuXHRcdFx0XHRcdFx0Ly8gZm9yY2UgYSBuZXcgc2VhcmNoIHNpbmNlIGNvbnRlbnQgaGFzIGNoYW5nZWRcblx0XHRcdFx0XHRcdGMubGFzdENvbWJpbmVkRmlsdGVyID0gbnVsbDtcblx0XHRcdFx0XHRcdGMubGFzdFNlYXJjaCA9IFtdO1xuXHRcdFx0XHRcdFx0Ly8gdXBkYXRlIGZpbHRlckZvcm1hdHRlcnMgYWZ0ZXIgdXBkYXRlICgmIHNtYWxsIGRlbGF5KSAtIEZpeGVzICMxMjM3XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ2ZpbHRlckZvbWF0dGVyVXBkYXRlJyApO1xuXHRcdFx0XHRcdFx0fSwgMTAwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gcGFzcyB0cnVlICggc2tpcEZpcnN0ICkgdG8gcHJldmVudCB0aGUgdGFibGVzb3J0ZXIuc2V0RmlsdGVycyBmdW5jdGlvbiBmcm9tIHNraXBwaW5nIHRoZSBmaXJzdFxuXHRcdFx0XHRcdC8vIGlucHV0IGVuc3VyZXMgYWxsIGlucHV0cyBhcmUgdXBkYXRlZCB3aGVuIGEgc2VhcmNoIGlzIHRyaWdnZXJlZCBvbiB0aGUgdGFibGVcblx0XHRcdFx0XHQvLyAkKCAndGFibGUnICkudHJpZ2dlciggJ3NlYXJjaCcsIFsuLi5dICk7XG5cdFx0XHRcdFx0dHNmLnNlYXJjaGluZyggdGFibGUsIGZpbHRlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyByZXNldCBidXR0b24vbGlua1xuXHRcdFx0aWYgKCB3by5maWx0ZXJfcmVzZXQgKSB7XG5cdFx0XHRcdGlmICggd28uZmlsdGVyX3Jlc2V0IGluc3RhbmNlb2YgJCApIHtcblx0XHRcdFx0XHQvLyByZXNldCBjb250YWlucyBhIGpRdWVyeSBvYmplY3QsIGJpbmQgdG8gaXRcblx0XHRcdFx0XHR3by5maWx0ZXJfcmVzZXQuY2xpY2soIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdmaWx0ZXJSZXNldCcgKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIGlmICggJCggd28uZmlsdGVyX3Jlc2V0ICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdC8vIHJlc2V0IGlzIGEgalF1ZXJ5IHNlbGVjdG9yLCB1c2UgZXZlbnQgZGVsZWdhdGlvblxuXHRcdFx0XHRcdCQoIGRvY3VtZW50IClcblx0XHRcdFx0XHRcdC51bmRlbGVnYXRlKCB3by5maWx0ZXJfcmVzZXQsICdjbGljaycgKyBjLm5hbWVzcGFjZSArICdmaWx0ZXInIClcblx0XHRcdFx0XHRcdC5kZWxlZ2F0ZSggd28uZmlsdGVyX3Jlc2V0LCAnY2xpY2snICsgYy5uYW1lc3BhY2UgKyAnZmlsdGVyJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHRyaWdnZXIgYSByZXNldCBldmVudCwgc28gb3RoZXIgZnVuY3Rpb25zICggZmlsdGVyX2Zvcm1hdHRlciApIGtub3cgd2hlbiB0byByZXNldFxuXHRcdFx0XHRcdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ2ZpbHRlclJlc2V0JyApO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggd28uZmlsdGVyX2Z1bmN0aW9ucyApIHtcblx0XHRcdFx0Zm9yICggY29sdW1uID0gMDsgY29sdW1uIDwgYy5jb2x1bW5zOyBjb2x1bW4rKyApIHtcblx0XHRcdFx0XHRmeG4gPSB0cy5nZXRDb2x1bW5EYXRhKCB0YWJsZSwgd28uZmlsdGVyX2Z1bmN0aW9ucywgY29sdW1uICk7XG5cdFx0XHRcdFx0aWYgKCBmeG4gKSB7XG5cdFx0XHRcdFx0XHQvLyByZW1vdmUgJ2ZpbHRlci1zZWxlY3QnIGZyb20gaGVhZGVyIG90aGVyd2lzZSB0aGUgb3B0aW9ucyBhZGRlZCBoZXJlIGFyZSByZXBsYWNlZCB3aXRoXG5cdFx0XHRcdFx0XHQvLyBhbGwgb3B0aW9uc1xuXHRcdFx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdLnJlbW92ZUNsYXNzKCAnZmlsdGVyLXNlbGVjdCcgKTtcblx0XHRcdFx0XHRcdC8vIGRvbid0IGJ1aWxkIHNlbGVjdCBpZiAnZmlsdGVyLWZhbHNlJyBvciAncGFyc2VyLWZhbHNlJyBzZXRcblx0XHRcdFx0XHRcdG5vU2VsZWN0ID0gISggJGhlYWRlci5oYXNDbGFzcyggJ2ZpbHRlci1mYWxzZScgKSB8fCAkaGVhZGVyLmhhc0NsYXNzKCAncGFyc2VyLWZhbHNlJyApICk7XG5cdFx0XHRcdFx0XHRvcHRpb25zID0gJyc7XG5cdFx0XHRcdFx0XHRpZiAoIGZ4biA9PT0gdHJ1ZSAmJiBub1NlbGVjdCApIHtcblx0XHRcdFx0XHRcdFx0dHNmLmJ1aWxkU2VsZWN0KCB0YWJsZSwgY29sdW1uICk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgZnhuID09PSAnb2JqZWN0JyAmJiBub1NlbGVjdCApIHtcblx0XHRcdFx0XHRcdFx0Ly8gYWRkIGN1c3RvbSBkcm9wIGRvd24gbGlzdFxuXHRcdFx0XHRcdFx0XHRmb3IgKCBzdHJpbmcgaW4gZnhuICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zICs9IG9wdGlvbnMgPT09ICcnID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJcIj4nICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoICRoZWFkZXIuZGF0YSggJ3BsYWNlaG9sZGVyJyApIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkaGVhZGVyLmF0dHIoICdkYXRhLXBsYWNlaG9sZGVyJyApIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3by5maWx0ZXJfcGxhY2Vob2xkZXIuc2VsZWN0IHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCkgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPC9vcHRpb24+JyA6ICcnO1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFsID0gc3RyaW5nO1xuXHRcdFx0XHRcdFx0XHRcdFx0dHh0ID0gc3RyaW5nO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBzdHJpbmcuaW5kZXhPZiggd28uZmlsdGVyX3NlbGVjdFNvdXJjZVNlcGFyYXRvciApID49IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbCA9IHN0cmluZy5zcGxpdCggd28uZmlsdGVyX3NlbGVjdFNvdXJjZVNlcGFyYXRvciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eHQgPSB2YWxbMV07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbCA9IHZhbFswXTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMgKz0gJzxvcHRpb24gJyArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggdHh0ID09PSB2YWwgPyAnJyA6ICdkYXRhLWZ1bmN0aW9uLW5hbWU9XCInICsgc3RyaW5nICsgJ1wiICcgKSArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCd2YWx1ZT1cIicgKyB2YWwgKyAnXCI+JyArIHR4dCArICc8L29wdGlvbj4nO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjLiR0YWJsZVxuXHRcdFx0XHRcdFx0XHRcdC5maW5kKCAndGhlYWQnIClcblx0XHRcdFx0XHRcdFx0XHQuZmluZCggJ3NlbGVjdC4nICsgdHNjc3MuZmlsdGVyICsgJ1tkYXRhLWNvbHVtbj1cIicgKyBjb2x1bW4gKyAnXCJdJyApXG5cdFx0XHRcdFx0XHRcdFx0LmFwcGVuZCggb3B0aW9ucyApO1xuXHRcdFx0XHRcdFx0XHR0eHQgPSB3by5maWx0ZXJfc2VsZWN0U291cmNlO1xuXHRcdFx0XHRcdFx0XHRmeG4gPSB0eXBlb2YgdHh0ID09PSAnZnVuY3Rpb24nID8gdHJ1ZSA6IHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCB0eHQsIGNvbHVtbiApO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGZ4biApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyB1cGRhdGluZyBzbyB0aGUgZXh0cmEgb3B0aW9ucyBhcmUgYXBwZW5kZWRcblx0XHRcdFx0XHRcdFx0XHR0c2YuYnVpbGRTZWxlY3QoIGMudGFibGUsIGNvbHVtbiwgJycsIHRydWUsICRoZWFkZXIuaGFzQ2xhc3MoIHdvLmZpbHRlcl9vbmx5QXZhaWwgKSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBub3QgcmVhbGx5IHVwZGF0aW5nLCBidXQgaWYgdGhlIGNvbHVtbiBoYXMgYm90aCB0aGUgJ2ZpbHRlci1zZWxlY3QnIGNsYXNzICZcblx0XHRcdC8vIGZpbHRlcl9mdW5jdGlvbnMgc2V0IHRvIHRydWUsIGl0IHdvdWxkIGFwcGVuZCB0aGUgc2FtZSBvcHRpb25zIHR3aWNlLlxuXHRcdFx0dHNmLmJ1aWxkRGVmYXVsdCggdGFibGUsIHRydWUgKTtcblxuXHRcdFx0dHNmLmJpbmRTZWFyY2goIHRhYmxlLCBjLiR0YWJsZS5maW5kKCAnLicgKyB0c2Nzcy5maWx0ZXIgKSwgdHJ1ZSApO1xuXHRcdFx0aWYgKCB3by5maWx0ZXJfZXh0ZXJuYWwgKSB7XG5cdFx0XHRcdHRzZi5iaW5kU2VhcmNoKCB0YWJsZSwgd28uZmlsdGVyX2V4dGVybmFsICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd28uZmlsdGVyX2hpZGVGaWx0ZXJzICkge1xuXHRcdFx0XHR0c2YuaGlkZUZpbHRlcnMoIGMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc2hvdyBwcm9jZXNzaW5nIGljb25cblx0XHRcdGlmICggYy5zaG93UHJvY2Vzc2luZyApIHtcblx0XHRcdFx0dHh0ID0gJ2ZpbHRlclN0YXJ0IGZpbHRlckVuZCAnLnNwbGl0KCAnICcgKS5qb2luKCBjLm5hbWVzcGFjZSArICdmaWx0ZXItc3AgJyApO1xuXHRcdFx0XHRjLiR0YWJsZVxuXHRcdFx0XHRcdC51bmJpbmQoIHR4dC5yZXBsYWNlKCB0cy5yZWdleC5zcGFjZXMsICcgJyApIClcblx0XHRcdFx0XHQuYmluZCggdHh0LCBmdW5jdGlvbiggZXZlbnQsIGNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0Ly8gb25seSBhZGQgcHJvY2Vzc2luZyB0byBjZXJ0YWluIGNvbHVtbnMgdG8gYWxsIGNvbHVtbnNcblx0XHRcdFx0XHQkaGVhZGVyID0gKCBjb2x1bW5zICkgP1xuXHRcdFx0XHRcdFx0Yy4kdGFibGVcblx0XHRcdFx0XHRcdFx0LmZpbmQoICcuJyArIHRzY3NzLmhlYWRlciApXG5cdFx0XHRcdFx0XHRcdC5maWx0ZXIoICdbZGF0YS1jb2x1bW5dJyApXG5cdFx0XHRcdFx0XHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb2x1bW5zWyAkKCB0aGlzICkuZGF0YSggJ2NvbHVtbicgKSBdICE9PSAnJztcblx0XHRcdFx0XHRcdFx0fSkgOiAnJztcblx0XHRcdFx0XHR0cy5pc1Byb2Nlc3NpbmcoIHRhYmxlLCBldmVudC50eXBlID09PSAnZmlsdGVyU3RhcnQnLCBjb2x1bW5zID8gJGhlYWRlciA6ICcnICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzZXQgZmlsdGVyZWQgcm93cyBjb3VudCAoIGludGlhbGx5IHVuZmlsdGVyZWQgKVxuXHRcdFx0Yy5maWx0ZXJlZFJvd3MgPSBjLnRvdGFsUm93cztcblxuXHRcdFx0Ly8gYWRkIGRlZmF1bHQgdmFsdWVzXG5cdFx0XHR0eHQgPSAndGFibGVzb3J0ZXItaW5pdGlhbGl6ZWQgcGFnZXJCZWZvcmVJbml0aWFsaXplZCAnLnNwbGl0KCAnICcgKS5qb2luKCBjLm5hbWVzcGFjZSArICdmaWx0ZXIgJyApO1xuXHRcdFx0Yy4kdGFibGVcblx0XHRcdC51bmJpbmQoIHR4dC5yZXBsYWNlKCB0cy5yZWdleC5zcGFjZXMsICcgJyApIClcblx0XHRcdC5iaW5kKCB0eHQsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0c2YuY29tcGxldGVJbml0KCB0aGlzICk7XG5cdFx0XHR9KTtcblx0XHRcdC8vIGlmIGZpbHRlciB3aWRnZXQgaXMgYWRkZWQgYWZ0ZXIgcGFnZXIgaGFzIGluaXRpYWxpemVkOyB0aGVuIHNldCBmaWx0ZXIgaW5pdCBmbGFnXG5cdFx0XHRpZiAoIGMucGFnZXIgJiYgYy5wYWdlci5pbml0aWFsaXplZCAmJiAhd28uZmlsdGVyX2luaXRpYWxpemVkICkge1xuXHRcdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ2ZpbHRlckZvbWF0dGVyVXBkYXRlJyApO1xuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0c2YuZmlsdGVySW5pdENvbXBsZXRlKCBjICk7XG5cdFx0XHRcdH0sIDEwMCApO1xuXHRcdFx0fSBlbHNlIGlmICggIXdvLmZpbHRlcl9pbml0aWFsaXplZCApIHtcblx0XHRcdFx0dHNmLmNvbXBsZXRlSW5pdCggdGFibGUgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNvbXBsZXRlSW5pdDogZnVuY3Rpb24oIHRhYmxlICkge1xuXHRcdFx0Ly8gcmVkZWZpbmUgJ2MnICYgJ3dvJyBzbyB0aGV5IHVwZGF0ZSBwcm9wZXJseSBpbnNpZGUgdGhpcyBjYWxsYmFja1xuXHRcdFx0dmFyIGMgPSB0YWJsZS5jb25maWcsXG5cdFx0XHRcdHdvID0gYy53aWRnZXRPcHRpb25zLFxuXHRcdFx0XHRmaWx0ZXJzID0gdHNmLnNldERlZmF1bHRzKCB0YWJsZSwgYywgd28gKSB8fCBbXTtcblx0XHRcdGlmICggZmlsdGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdC8vIHByZXZlbnQgZGVsYXlJbml0IGZyb20gdHJpZ2dlcmluZyBhIGNhY2hlIGJ1aWxkIGlmIGZpbHRlcnMgYXJlIGVtcHR5XG5cdFx0XHRcdGlmICggISggYy5kZWxheUluaXQgJiYgZmlsdGVycy5qb2luKCAnJyApID09PSAnJyApICkge1xuXHRcdFx0XHRcdHRzLnNldEZpbHRlcnMoIHRhYmxlLCBmaWx0ZXJzLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAnZmlsdGVyRm9tYXR0ZXJVcGRhdGUnICk7XG5cdFx0XHQvLyB0cmlnZ2VyIGluaXQgYWZ0ZXIgc2V0VGltZW91dCB0byBwcmV2ZW50IG11bHRpcGxlIGZpbHRlclN0YXJ0L0VuZC9Jbml0IHRyaWdnZXJzXG5cdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhd28uZmlsdGVyX2luaXRpYWxpemVkICkge1xuXHRcdFx0XHRcdHRzZi5maWx0ZXJJbml0Q29tcGxldGUoIGMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMTAwICk7XG5cdFx0fSxcblxuXHRcdC8vICRjZWxsIHBhcmFtZXRlciwgYnV0IG5vdCB0aGUgY29uZmlnLCBpcyBwYXNzZWQgdG8gdGhlIGZpbHRlcl9mb3JtYXR0ZXJzLFxuXHRcdC8vIHNvIHdlIGhhdmUgdG8gd29yayB3aXRoIGl0IGluc3RlYWRcblx0XHRmb3JtYXR0ZXJVcGRhdGVkOiBmdW5jdGlvbiggJGNlbGwsIGNvbHVtbiApIHtcblx0XHRcdC8vIHByZXZlbnQgZXJyb3IgaWYgJGNlbGwgaXMgdW5kZWZpbmVkIC0gc2VlICMxMDU2XG5cdFx0XHR2YXIgJHRhYmxlID0gJGNlbGwgJiYgJGNlbGwuY2xvc2VzdCggJ3RhYmxlJyApO1xuXHRcdFx0dmFyIGNvbmZpZyA9ICR0YWJsZS5sZW5ndGggJiYgJHRhYmxlWzBdLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjb25maWcgJiYgY29uZmlnLndpZGdldE9wdGlvbnM7XG5cdFx0XHRpZiAoIHdvICYmICF3by5maWx0ZXJfaW5pdGlhbGl6ZWQgKSB7XG5cdFx0XHRcdC8vIGFkZCB1cGRhdGVzIGJ5IGNvbHVtbiBzaW5jZSB0aGlzIGZ1bmN0aW9uXG5cdFx0XHRcdC8vIG1heSBiZSBjYWxsZWQgbnVtZXJvdXMgdGltZXMgYmVmb3JlIGluaXRpYWxpemF0aW9uXG5cdFx0XHRcdHdvLmZpbHRlcl9mb3JtYXR0ZXJJbml0WyBjb2x1bW4gXSA9IDE7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRmaWx0ZXJJbml0Q29tcGxldGU6IGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0dmFyIGluZHgsIGxlbixcblx0XHRcdFx0d28gPSBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRcdGNvdW50ID0gMCxcblx0XHRcdFx0Y29tcGxldGVkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0d28uZmlsdGVyX2luaXRpYWxpemVkID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyB1cGRhdGUgbGFzdFNlYXJjaCAtIGl0IGdldHMgY2xlYXJlZCBvZnRlblxuXHRcdFx0XHRcdGMubGFzdFNlYXJjaCA9IGMuJHRhYmxlLmRhdGEoICdsYXN0U2VhcmNoJyApO1xuXHRcdFx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAnZmlsdGVySW5pdCcsIGMgKTtcblx0XHRcdFx0XHR0c2YuZmluZFJvd3MoIGMudGFibGUsIGMubGFzdFNlYXJjaCB8fCBbXSApO1xuXHRcdFx0XHRcdGlmICh0cy5kZWJ1ZyhjLCAnZmlsdGVyJykpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdGaWx0ZXIgPj4gV2lkZ2V0IGluaXRpYWxpemVkJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0aWYgKCAkLmlzRW1wdHlPYmplY3QoIHdvLmZpbHRlcl9mb3JtYXR0ZXIgKSApIHtcblx0XHRcdFx0Y29tcGxldGVkKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZW4gPSB3by5maWx0ZXJfZm9ybWF0dGVySW5pdC5sZW5ndGg7XG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0aWYgKCB3by5maWx0ZXJfZm9ybWF0dGVySW5pdFsgaW5keCBdID09PSAxICkge1xuXHRcdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB3by5maWx0ZXJfaW5pdFRpbWVyICk7XG5cdFx0XHRcdGlmICggIXdvLmZpbHRlcl9pbml0aWFsaXplZCAmJiBjb3VudCA9PT0gd28uZmlsdGVyX2Zvcm1hdHRlckNvdW50ICkge1xuXHRcdFx0XHRcdC8vIGZpbHRlciB3aWRnZXQgaW5pdGlhbGl6ZWRcblx0XHRcdFx0XHRjb21wbGV0ZWQoKTtcblx0XHRcdFx0fSBlbHNlIGlmICggIXdvLmZpbHRlcl9pbml0aWFsaXplZCApIHtcblx0XHRcdFx0XHQvLyBmYWxsIGJhY2sgaW4gY2FzZSBhIGZpbHRlcl9mb3JtYXR0ZXIgZG9lc24ndCBjYWxsXG5cdFx0XHRcdFx0Ly8gJC50YWJsZXNvcnRlci5maWx0ZXIuZm9ybWF0dGVyVXBkYXRlZCggJGNlbGwsIGNvbHVtbiApLCBhbmQgdGhlIGNvdW50IGlzIG9mZlxuXHRcdFx0XHRcdHdvLmZpbHRlcl9pbml0VGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGNvbXBsZXRlZCgpO1xuXHRcdFx0XHRcdH0sIDUwMCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvLyBlbmNvZGUgb3IgZGVjb2RlIGZpbHRlcnMgZm9yIHN0b3JhZ2U7IHNlZSAjMTAyNlxuXHRcdHByb2Nlc3NGaWx0ZXJzOiBmdW5jdGlvbiggZmlsdGVycywgZW5jb2RlICkge1xuXHRcdFx0dmFyIGluZHgsXG5cdFx0XHRcdC8vIGZpeGVzICMxMjM3OyBwcmV2aW91c2x5IHJldHVybmluZyBhbiBlbmNvZGVkIFwiZmlsdGVyc1wiIHZhbHVlXG5cdFx0XHRcdHJlc3VsdCA9IFtdLFxuXHRcdFx0XHRtb2RlID0gZW5jb2RlID8gZW5jb2RlVVJJQ29tcG9uZW50IDogZGVjb2RlVVJJQ29tcG9uZW50LFxuXHRcdFx0XHRsZW4gPSBmaWx0ZXJzLmxlbmd0aDtcblx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdGlmICggZmlsdGVyc1sgaW5keCBdICkge1xuXHRcdFx0XHRcdHJlc3VsdFsgaW5keCBdID0gbW9kZSggZmlsdGVyc1sgaW5keCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXREZWZhdWx0czogZnVuY3Rpb24oIHRhYmxlLCBjLCB3byApIHtcblx0XHRcdHZhciBpc0FycmF5LCBzYXZlZCwgaW5keCwgY29sLCAkZmlsdGVycyxcblx0XHRcdFx0Ly8gZ2V0IGN1cnJlbnQgKCBkZWZhdWx0ICkgZmlsdGVyc1xuXHRcdFx0XHRmaWx0ZXJzID0gdHMuZ2V0RmlsdGVycyggdGFibGUgKSB8fCBbXTtcblx0XHRcdGlmICggd28uZmlsdGVyX3NhdmVGaWx0ZXJzICYmIHRzLnN0b3JhZ2UgKSB7XG5cdFx0XHRcdHNhdmVkID0gdHMuc3RvcmFnZSggdGFibGUsICd0YWJsZXNvcnRlci1maWx0ZXJzJyApIHx8IFtdO1xuXHRcdFx0XHRpc0FycmF5ID0gJC5pc0FycmF5KCBzYXZlZCApO1xuXHRcdFx0XHQvLyBtYWtlIHN1cmUgd2UncmUgbm90IGp1c3QgZ2V0dGluZyBhbiBlbXB0eSBhcnJheVxuXHRcdFx0XHRpZiAoICEoIGlzQXJyYXkgJiYgc2F2ZWQuam9pbiggJycgKSA9PT0gJycgfHwgIWlzQXJyYXkgKSApIHtcblx0XHRcdFx0XHRmaWx0ZXJzID0gdHNmLnByb2Nlc3NGaWx0ZXJzKCBzYXZlZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBubyBmaWx0ZXJzIHNhdmVkLCB0aGVuIGNoZWNrIGRlZmF1bHQgc2V0dGluZ3Ncblx0XHRcdGlmICggZmlsdGVycy5qb2luKCAnJyApID09PSAnJyApIHtcblx0XHRcdFx0Ly8gYWxsb3cgYWRkaW5nIGRlZmF1bHQgc2V0dGluZyB0byBleHRlcm5hbCBmaWx0ZXJzXG5cdFx0XHRcdCRmaWx0ZXJzID0gYy4kaGVhZGVycy5hZGQoIHdvLmZpbHRlcl8kZXh0ZXJuYWxGaWx0ZXJzIClcblx0XHRcdFx0XHQuZmlsdGVyKCAnWycgKyB3by5maWx0ZXJfZGVmYXVsdEF0dHJpYiArICddJyApO1xuXHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8PSBjLmNvbHVtbnM7IGluZHgrKyApIHtcblx0XHRcdFx0XHQvLyBpbmNsdWRlIGRhdGEtY29sdW1uPSdhbGwnIGV4dGVybmFsIGZpbHRlcnNcblx0XHRcdFx0XHRjb2wgPSBpbmR4ID09PSBjLmNvbHVtbnMgPyAnYWxsJyA6IGluZHg7XG5cdFx0XHRcdFx0ZmlsdGVyc1sgaW5keCBdID0gJGZpbHRlcnNcblx0XHRcdFx0XHRcdC5maWx0ZXIoICdbZGF0YS1jb2x1bW49XCInICsgY29sICsgJ1wiXScgKVxuXHRcdFx0XHRcdFx0LmF0dHIoIHdvLmZpbHRlcl9kZWZhdWx0QXR0cmliICkgfHwgZmlsdGVyc1tpbmR4XSB8fCAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Yy4kdGFibGUuZGF0YSggJ2xhc3RTZWFyY2gnLCBmaWx0ZXJzICk7XG5cdFx0XHRyZXR1cm4gZmlsdGVycztcblx0XHR9LFxuXHRcdHBhcnNlRmlsdGVyOiBmdW5jdGlvbiggYywgZmlsdGVyLCBkYXRhLCBwYXJzZWQgKSB7XG5cdFx0XHRyZXR1cm4gcGFyc2VkIHx8IGRhdGEucGFyc2VkWyBkYXRhLmluZGV4IF0gP1xuXHRcdFx0XHRjLnBhcnNlcnNbIGRhdGEuaW5kZXggXS5mb3JtYXQoIGZpbHRlciwgYy50YWJsZSwgW10sIGRhdGEuaW5kZXggKSA6XG5cdFx0XHRcdGZpbHRlcjtcblx0XHR9LFxuXHRcdGJ1aWxkUm93OiBmdW5jdGlvbiggdGFibGUsIGMsIHdvICkge1xuXHRcdFx0dmFyICRmaWx0ZXIsIGNvbCwgY29sdW1uLCAkaGVhZGVyLCBtYWtlU2VsZWN0LCBkaXNhYmxlZCwgbmFtZSwgZmZ4biwgdG1wLFxuXHRcdFx0XHQvLyBjLmNvbHVtbnMgZGVmaW5lZCBpbiBjb21wdXRlVGhJbmRleGVzKClcblx0XHRcdFx0Y2VsbEZpbHRlciA9IHdvLmZpbHRlcl9jZWxsRmlsdGVyLFxuXHRcdFx0XHRjb2x1bW5zID0gYy5jb2x1bW5zLFxuXHRcdFx0XHRhcnJ5ID0gJC5pc0FycmF5KCBjZWxsRmlsdGVyICksXG5cdFx0XHRcdGJ1aWxkRmlsdGVyID0gJzx0ciByb2xlPVwic2VhcmNoXCIgY2xhc3M9XCInICsgdHNjc3MuZmlsdGVyUm93ICsgJyAnICsgYy5jc3NJZ25vcmVSb3cgKyAnXCI+Jztcblx0XHRcdGZvciAoIGNvbHVtbiA9IDA7IGNvbHVtbiA8IGNvbHVtbnM7IGNvbHVtbisrICkge1xuXHRcdFx0XHRpZiAoIGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdLmxlbmd0aCApIHtcblx0XHRcdFx0XHQvLyBhY2NvdW50IGZvciBlbnRpcmUgY29sdW1uIHNldCB3aXRoIGNvbHNwYW4uIFNlZSAjMTA0N1xuXHRcdFx0XHRcdHRtcCA9IGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdICYmIGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdWzBdLmNvbFNwYW4gfHwgMDtcblx0XHRcdFx0XHRpZiAoIHRtcCA+IDEgKSB7XG5cdFx0XHRcdFx0XHRidWlsZEZpbHRlciArPSAnPHRkIGRhdGEtY29sdW1uPVwiJyArIGNvbHVtbiArICctJyArICggY29sdW1uICsgdG1wIC0gMSApICsgJ1wiIGNvbHNwYW49XCInICsgdG1wICsgJ1wiJztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnVpbGRGaWx0ZXIgKz0gJzx0ZCBkYXRhLWNvbHVtbj1cIicgKyBjb2x1bW4gKyAnXCInO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIGFycnkgKSB7XG5cdFx0XHRcdFx0XHRidWlsZEZpbHRlciArPSAoIGNlbGxGaWx0ZXJbIGNvbHVtbiBdID8gJyBjbGFzcz1cIicgKyBjZWxsRmlsdGVyWyBjb2x1bW4gXSArICdcIicgOiAnJyApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRidWlsZEZpbHRlciArPSAoIGNlbGxGaWx0ZXIgIT09ICcnID8gJyBjbGFzcz1cIicgKyBjZWxsRmlsdGVyICsgJ1wiJyA6ICcnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJ1aWxkRmlsdGVyICs9ICc+PC90ZD4nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjLiRmaWx0ZXJzID0gJCggYnVpbGRGaWx0ZXIgKz0gJzwvdHI+JyApXG5cdFx0XHRcdC5hcHBlbmRUbyggYy4kdGFibGUuY2hpbGRyZW4oICd0aGVhZCcgKS5lcSggMCApIClcblx0XHRcdFx0LmNoaWxkcmVuKCAndGQnICk7XG5cdFx0XHQvLyBidWlsZCBlYWNoIGZpbHRlciBpbnB1dFxuXHRcdFx0Zm9yICggY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKysgKSB7XG5cdFx0XHRcdGRpc2FibGVkID0gZmFsc2U7XG5cdFx0XHRcdC8vIGFzc3VtaW5nIGxhc3QgY2VsbCBvZiBhIGNvbHVtbiBpcyB0aGUgbWFpbiBjb2x1bW5cblx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdO1xuXHRcdFx0XHRpZiAoICRoZWFkZXIgJiYgJGhlYWRlci5sZW5ndGggKSB7XG5cdFx0XHRcdFx0Ly8gJGZpbHRlciA9IGMuJGZpbHRlcnMuZmlsdGVyKCAnW2RhdGEtY29sdW1uPVwiJyArIGNvbHVtbiArICdcIl0nICk7XG5cdFx0XHRcdFx0JGZpbHRlciA9IHRzZi5nZXRDb2x1bW5FbG0oIGMsIGMuJGZpbHRlcnMsIGNvbHVtbiApO1xuXHRcdFx0XHRcdGZmeG4gPSB0cy5nZXRDb2x1bW5EYXRhKCB0YWJsZSwgd28uZmlsdGVyX2Z1bmN0aW9ucywgY29sdW1uICk7XG5cdFx0XHRcdFx0bWFrZVNlbGVjdCA9ICggd28uZmlsdGVyX2Z1bmN0aW9ucyAmJiBmZnhuICYmIHR5cGVvZiBmZnhuICE9PSAnZnVuY3Rpb24nICkgfHxcblx0XHRcdFx0XHRcdCRoZWFkZXIuaGFzQ2xhc3MoICdmaWx0ZXItc2VsZWN0JyApO1xuXHRcdFx0XHRcdC8vIGdldCBkYXRhIGZyb20galF1ZXJ5IGRhdGEsIG1ldGFkYXRhLCBoZWFkZXJzIG9wdGlvbiBvciBoZWFkZXIgY2xhc3MgbmFtZVxuXHRcdFx0XHRcdGNvbCA9IHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCBjLmhlYWRlcnMsIGNvbHVtbiApO1xuXHRcdFx0XHRcdGRpc2FibGVkID0gdHMuZ2V0RGF0YSggJGhlYWRlclswXSwgY29sLCAnZmlsdGVyJyApID09PSAnZmFsc2UnIHx8XG5cdFx0XHRcdFx0XHR0cy5nZXREYXRhKCAkaGVhZGVyWzBdLCBjb2wsICdwYXJzZXInICkgPT09ICdmYWxzZSc7XG5cblx0XHRcdFx0XHRpZiAoIG1ha2VTZWxlY3QgKSB7XG5cdFx0XHRcdFx0XHRidWlsZEZpbHRlciA9ICQoICc8c2VsZWN0PicgKS5hcHBlbmRUbyggJGZpbHRlciApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRmZnhuID0gdHMuZ2V0Q29sdW1uRGF0YSggdGFibGUsIHdvLmZpbHRlcl9mb3JtYXR0ZXIsIGNvbHVtbiApO1xuXHRcdFx0XHRcdFx0aWYgKCBmZnhuICkge1xuXHRcdFx0XHRcdFx0XHR3by5maWx0ZXJfZm9ybWF0dGVyQ291bnQrKztcblx0XHRcdFx0XHRcdFx0YnVpbGRGaWx0ZXIgPSBmZnhuKCAkZmlsdGVyLCBjb2x1bW4gKTtcblx0XHRcdFx0XHRcdFx0Ly8gbm8gZWxlbWVudCByZXR1cm5lZCwgc28gbGV0cyBnbyBmaW5kIGl0XG5cdFx0XHRcdFx0XHRcdGlmICggYnVpbGRGaWx0ZXIgJiYgYnVpbGRGaWx0ZXIubGVuZ3RoID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdGJ1aWxkRmlsdGVyID0gJGZpbHRlci5jaGlsZHJlbiggJ2lucHV0JyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8vIGVsZW1lbnQgbm90IGluIERPTSwgc28gbGV0cyBhdHRhY2ggaXRcblx0XHRcdFx0XHRcdFx0aWYgKCBidWlsZEZpbHRlciAmJiAoIGJ1aWxkRmlsdGVyLnBhcmVudCgpLmxlbmd0aCA9PT0gMCB8fFxuXHRcdFx0XHRcdFx0XHRcdCggYnVpbGRGaWx0ZXIucGFyZW50KCkubGVuZ3RoICYmIGJ1aWxkRmlsdGVyLnBhcmVudCgpWzBdICE9PSAkZmlsdGVyWzBdICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHQkZmlsdGVyLmFwcGVuZCggYnVpbGRGaWx0ZXIgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YnVpbGRGaWx0ZXIgPSAkKCAnPGlucHV0IHR5cGU9XCJzZWFyY2hcIj4nICkuYXBwZW5kVG8oICRmaWx0ZXIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggYnVpbGRGaWx0ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdHRtcCA9ICRoZWFkZXIuZGF0YSggJ3BsYWNlaG9sZGVyJyApIHx8XG5cdFx0XHRcdFx0XHRcdFx0JGhlYWRlci5hdHRyKCAnZGF0YS1wbGFjZWhvbGRlcicgKSB8fFxuXHRcdFx0XHRcdFx0XHRcdHdvLmZpbHRlcl9wbGFjZWhvbGRlci5zZWFyY2ggfHwgJyc7XG5cdFx0XHRcdFx0XHRcdGJ1aWxkRmlsdGVyLmF0dHIoICdwbGFjZWhvbGRlcicsIHRtcCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIGJ1aWxkRmlsdGVyICkge1xuXHRcdFx0XHRcdFx0Ly8gYWRkIGZpbHRlciBjbGFzcyBuYW1lXG5cdFx0XHRcdFx0XHRuYW1lID0gKCAkLmlzQXJyYXkoIHdvLmZpbHRlcl9jc3NGaWx0ZXIgKSA/XG5cdFx0XHRcdFx0XHRcdCggdHlwZW9mIHdvLmZpbHRlcl9jc3NGaWx0ZXJbY29sdW1uXSAhPT0gJ3VuZGVmaW5lZCcgPyB3by5maWx0ZXJfY3NzRmlsdGVyW2NvbHVtbl0gfHwgJycgOiAnJyApIDpcblx0XHRcdFx0XHRcdFx0d28uZmlsdGVyX2Nzc0ZpbHRlciApIHx8ICcnO1xuXHRcdFx0XHRcdFx0Ly8gY29weSBkYXRhLWNvbHVtbiBmcm9tIHRhYmxlIGNlbGwgKGl0IHdpbGwgaW5jbHVkZSBjb2xzcGFuKVxuXHRcdFx0XHRcdFx0YnVpbGRGaWx0ZXIuYWRkQ2xhc3MoIHRzY3NzLmZpbHRlciArICcgJyArIG5hbWUgKTtcblx0XHRcdFx0XHRcdG5hbWUgPSB3by5maWx0ZXJfZmlsdGVyTGFiZWw7XG5cdFx0XHRcdFx0XHR0bXAgPSBuYW1lLm1hdGNoKC97eyhbXn1dKz8pfX0vZyk7XG5cdFx0XHRcdFx0XHRpZiAoIXRtcCkge1xuXHRcdFx0XHRcdFx0XHR0bXAgPSBbICd7e2xhYmVsfX0nIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQkLmVhY2godG1wLCBmdW5jdGlvbihpbmR4LCBhdHRyKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAoYXR0ciwgJ2cnKSxcblx0XHRcdFx0XHRcdFx0XHRkYXRhID0gJGhlYWRlci5hdHRyKCdkYXRhLScgKyBhdHRyLnJlcGxhY2UoL3t7fH19L2csICcnKSksXG5cdFx0XHRcdFx0XHRcdFx0dGV4dCA9IHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJyA/ICRoZWFkZXIudGV4dCgpIDogZGF0YTtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSggcmVnZXgsICQudHJpbSggdGV4dCApICk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGJ1aWxkRmlsdGVyLmF0dHIoe1xuXHRcdFx0XHRcdFx0XHQnZGF0YS1jb2x1bW4nOiAkZmlsdGVyLmF0dHIoICdkYXRhLWNvbHVtbicgKSxcblx0XHRcdFx0XHRcdFx0J2FyaWEtbGFiZWwnOiBuYW1lXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGlmICggZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGJ1aWxkRmlsdGVyLmF0dHIoICdwbGFjZWhvbGRlcicsICcnICkuYWRkQ2xhc3MoIHRzY3NzLmZpbHRlckRpc2FibGVkIClbMF0uZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YmluZFNlYXJjaDogZnVuY3Rpb24oIHRhYmxlLCAkZWwsIGludGVybmFsICkge1xuXHRcdFx0dGFibGUgPSAkKCB0YWJsZSApWzBdO1xuXHRcdFx0JGVsID0gJCggJGVsICk7IC8vIGFsbG93IHBhc3NpbmcgYSBzZWxlY3RvciBzdHJpbmdcblx0XHRcdGlmICggISRlbC5sZW5ndGggKSB7IHJldHVybjsgfVxuXHRcdFx0dmFyIHRtcCxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRcdG5hbWVzcGFjZSA9IGMubmFtZXNwYWNlICsgJ2ZpbHRlcicsXG5cdFx0XHRcdCRleHQgPSB3by5maWx0ZXJfJGV4dGVybmFsRmlsdGVycztcblx0XHRcdGlmICggaW50ZXJuYWwgIT09IHRydWUgKSB7XG5cdFx0XHRcdC8vIHNhdmUgYW55TWF0Y2ggZWxlbWVudFxuXHRcdFx0XHR0bXAgPSB3by5maWx0ZXJfYW55Q29sdW1uU2VsZWN0b3IgKyAnLCcgKyB3by5maWx0ZXJfbXVsdGlwbGVDb2x1bW5TZWxlY3Rvcjtcblx0XHRcdFx0d28uZmlsdGVyXyRhbnlNYXRjaCA9ICRlbC5maWx0ZXIoIHRtcCApO1xuXHRcdFx0XHRpZiAoICRleHQgJiYgJGV4dC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0d28uZmlsdGVyXyRleHRlcm5hbEZpbHRlcnMgPSB3by5maWx0ZXJfJGV4dGVybmFsRmlsdGVycy5hZGQoICRlbCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdvLmZpbHRlcl8kZXh0ZXJuYWxGaWx0ZXJzID0gJGVsO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHVwZGF0ZSB2YWx1ZXMgKCBleHRlcm5hbCBmaWx0ZXJzIGFkZGVkIGFmdGVyIHRhYmxlIGluaXRpYWxpemF0aW9uIClcblx0XHRcdFx0dHMuc2V0RmlsdGVycyggdGFibGUsIGMuJHRhYmxlLmRhdGEoICdsYXN0U2VhcmNoJyApIHx8IFtdLCBpbnRlcm5hbCA9PT0gZmFsc2UgKTtcblx0XHRcdH1cblx0XHRcdC8vIHVuYmluZCBldmVudHNcblx0XHRcdHRtcCA9ICggJ2tleXByZXNzIGtleXVwIGtleWRvd24gc2VhcmNoIGNoYW5nZSBpbnB1dCAnLnNwbGl0KCAnICcgKS5qb2luKCBuYW1lc3BhY2UgKyAnICcgKSApO1xuXHRcdFx0JGVsXG5cdFx0XHQvLyB1c2UgZGF0YSBhdHRyaWJ1dGUgaW5zdGVhZCBvZiBqUXVlcnkgZGF0YSBzaW5jZSB0aGUgaGVhZCBpcyBjbG9uZWQgd2l0aG91dCBpbmNsdWRpbmdcblx0XHRcdC8vIHRoZSBkYXRhL2JpbmRpbmdcblx0XHRcdC5hdHRyKCAnZGF0YS1sYXN0U2VhcmNoVGltZScsIG5ldyBEYXRlKCkuZ2V0VGltZSgpIClcblx0XHRcdC51bmJpbmQoIHRtcC5yZXBsYWNlKCB0cy5yZWdleC5zcGFjZXMsICcgJyApIClcblx0XHRcdC5iaW5kKCAna2V5ZG93bicgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCBldmVudC53aGljaCA9PT0gdHNrZXlDb2Rlcy5lc2NhcGUgJiYgIXRhYmxlLmNvbmZpZy53aWRnZXRPcHRpb25zLmZpbHRlcl9yZXNldE9uRXNjICkge1xuXHRcdFx0XHRcdC8vIHByZXZlbnQga2V5cHJlc3MgZXZlbnRcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuYmluZCggJ2tleXVwJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR3byA9IHRhYmxlLmNvbmZpZy53aWRnZXRPcHRpb25zOyAvLyBtYWtlIHN1cmUgXCJ3b1wiIGlzbid0IGNhY2hlZFxuXHRcdFx0XHR2YXIgY29sdW1uID0gcGFyc2VJbnQoICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1jb2x1bW4nICksIDEwICksXG5cdFx0XHRcdFx0bGl2ZVNlYXJjaCA9IHR5cGVvZiB3by5maWx0ZXJfbGl2ZVNlYXJjaCA9PT0gJ2Jvb2xlYW4nID8gd28uZmlsdGVyX2xpdmVTZWFyY2ggOlxuXHRcdFx0XHRcdFx0dHMuZ2V0Q29sdW1uRGF0YSggdGFibGUsIHdvLmZpbHRlcl9saXZlU2VhcmNoLCBjb2x1bW4gKTtcblx0XHRcdFx0aWYgKCB0eXBlb2YgbGl2ZVNlYXJjaCA9PT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0bGl2ZVNlYXJjaCA9IHdvLmZpbHRlcl9saXZlU2VhcmNoLmZhbGxiYWNrIHx8IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCQoIHRoaXMgKS5hdHRyKCAnZGF0YS1sYXN0U2VhcmNoVGltZScsIG5ldyBEYXRlKCkuZ2V0VGltZSgpICk7XG5cdFx0XHRcdC8vIGVtdWxhdGUgd2hhdCB3ZWJraXQgZG9lcy4uLi4gZXNjYXBlIGNsZWFycyB0aGUgZmlsdGVyXG5cdFx0XHRcdGlmICggZXZlbnQud2hpY2ggPT09IHRza2V5Q29kZXMuZXNjYXBlICkge1xuXHRcdFx0XHRcdC8vIG1ha2Ugc3VyZSB0byByZXN0b3JlIHRoZSBsYXN0IHZhbHVlIG9uIGVzY2FwZVxuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSB3by5maWx0ZXJfcmVzZXRPbkVzYyA/ICcnIDogYy5sYXN0U2VhcmNoW2NvbHVtbl07XG5cdFx0XHRcdFx0Ly8gZG9uJ3QgcmV0dXJuIGlmIHRoZSBzZWFyY2ggdmFsdWUgaXMgZW1wdHkgKCBhbGwgcm93cyBuZWVkIHRvIGJlIHJldmVhbGVkIClcblx0XHRcdFx0fSBlbHNlIGlmICggdGhpcy52YWx1ZSAhPT0gJycgJiYgKFxuXHRcdFx0XHRcdC8vIGxpdmVTZWFyY2ggY2FuIGNvbnRhaW4gYSBtaW4gdmFsdWUgbGVuZ3RoOyBpZ25vcmUgYXJyb3cgYW5kIG1ldGEga2V5cywgYnV0IGFsbG93IGJhY2tzcGFjZVxuXHRcdFx0XHRcdCggdHlwZW9mIGxpdmVTZWFyY2ggPT09ICdudW1iZXInICYmIHRoaXMudmFsdWUubGVuZ3RoIDwgbGl2ZVNlYXJjaCApIHx8XG5cdFx0XHRcdFx0Ly8gbGV0IHJldHVybiAmIGJhY2tzcGFjZSBjb250aW51ZSBvbiwgYnV0IGlnbm9yZSBhcnJvd3MgJiBub24tdmFsaWQgY2hhcmFjdGVyc1xuXHRcdFx0XHRcdCggZXZlbnQud2hpY2ggIT09IHRza2V5Q29kZXMuZW50ZXIgJiYgZXZlbnQud2hpY2ggIT09IHRza2V5Q29kZXMuYmFja1NwYWNlICYmXG5cdFx0XHRcdFx0XHQoIGV2ZW50LndoaWNoIDwgdHNrZXlDb2Rlcy5zcGFjZSB8fCAoIGV2ZW50LndoaWNoID49IHRza2V5Q29kZXMubGVmdCAmJiBldmVudC53aGljaCA8PSB0c2tleUNvZGVzLmRvd24gKSApICkgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0Ly8gbGl2ZSBzZWFyY2hcblx0XHRcdFx0fSBlbHNlIGlmICggbGl2ZVNlYXJjaCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLnZhbHVlICE9PSAnJyAmJiBldmVudC53aGljaCAhPT0gdHNrZXlDb2Rlcy5lbnRlciApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gY2hhbmdlIGV2ZW50ID0gbm8gZGVsYXk7IGxhc3QgdHJ1ZSBmbGFnIHRlbGxzIGdldEZpbHRlcnMgdG8gc2tpcCBuZXdlc3QgdGltZWQgaW5wdXRcblx0XHRcdFx0dHNmLnNlYXJjaGluZyggdGFibGUsIHRydWUsIHRydWUsIGNvbHVtbiApO1xuXHRcdFx0fSlcblx0XHRcdC8vIGluY2x1ZGUgY2hhbmdlIGZvciBzZWxlY3QgLSBmaXhlcyAjNDczXG5cdFx0XHQuYmluZCggJ3NlYXJjaCBjaGFuZ2Uga2V5cHJlc3MgaW5wdXQgYmx1ciAnLnNwbGl0KCAnICcgKS5qb2luKCBuYW1lc3BhY2UgKyAnICcgKSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQvLyBkb24ndCBnZXQgY2FjaGVkIGRhdGEsIGluIGNhc2UgZGF0YS1jb2x1bW4gY2hhbmdlcyBkeW5hbWljYWxseVxuXHRcdFx0XHR2YXIgY29sdW1uID0gcGFyc2VJbnQoICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1jb2x1bW4nICksIDEwICksXG5cdFx0XHRcdFx0ZXZlbnRUeXBlID0gZXZlbnQudHlwZSxcblx0XHRcdFx0XHRsaXZlU2VhcmNoID0gdHlwZW9mIHdvLmZpbHRlcl9saXZlU2VhcmNoID09PSAnYm9vbGVhbicgP1xuXHRcdFx0XHRcdFx0d28uZmlsdGVyX2xpdmVTZWFyY2ggOlxuXHRcdFx0XHRcdFx0dHMuZ2V0Q29sdW1uRGF0YSggdGFibGUsIHdvLmZpbHRlcl9saXZlU2VhcmNoLCBjb2x1bW4gKTtcblx0XHRcdFx0aWYgKCB0YWJsZS5jb25maWcud2lkZ2V0T3B0aW9ucy5maWx0ZXJfaW5pdGlhbGl6ZWQgJiZcblx0XHRcdFx0XHQvLyBpbW1lZGlhdGUgc2VhcmNoIGlmIHVzZXIgcHJlc3NlcyBlbnRlclxuXHRcdFx0XHRcdCggZXZlbnQud2hpY2ggPT09IHRza2V5Q29kZXMuZW50ZXIgfHxcblx0XHRcdFx0XHRcdC8vIGltbWVkaWF0ZSBzZWFyY2ggaWYgYSBcInNlYXJjaFwiIG9yIFwiYmx1clwiIGlzIHRyaWdnZXJlZCBvbiB0aGUgaW5wdXRcblx0XHRcdFx0XHRcdCggZXZlbnRUeXBlID09PSAnc2VhcmNoJyB8fCBldmVudFR5cGUgPT09ICdibHVyJyApIHx8XG5cdFx0XHRcdFx0XHQvLyBjaGFuZ2UgJiBpbnB1dCBldmVudHMgbXVzdCBiZSBpZ25vcmVkIGlmIGxpdmVTZWFyY2ggIT09IHRydWVcblx0XHRcdFx0XHRcdCggZXZlbnRUeXBlID09PSAnY2hhbmdlJyB8fCBldmVudFR5cGUgPT09ICdpbnB1dCcgKSAmJlxuXHRcdFx0XHRcdFx0Ly8gcHJldmVudCBzZWFyY2ggaWYgbGl2ZVNlYXJjaCBpcyBhIG51bWJlclxuXHRcdFx0XHRcdFx0KCBsaXZlU2VhcmNoID09PSB0cnVlIHx8IGxpdmVTZWFyY2ggIT09IHRydWUgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAnSU5QVVQnICkgJiZcblx0XHRcdFx0XHRcdC8vIGRvbid0IGFsbG93ICdjaGFuZ2UnIG9yICdpbnB1dCcgZXZlbnQgdG8gcHJvY2VzcyBpZiB0aGUgaW5wdXQgdmFsdWVcblx0XHRcdFx0XHRcdC8vIGlzIHRoZSBzYW1lIC0gZml4ZXMgIzY4NVxuXHRcdFx0XHRcdFx0dGhpcy52YWx1ZSAhPT0gYy5sYXN0U2VhcmNoW2NvbHVtbl1cblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0Ly8gaW5pdCBzZWFyY2ggd2l0aCBubyBkZWxheVxuXHRcdFx0XHRcdCQoIHRoaXMgKS5hdHRyKCAnZGF0YS1sYXN0U2VhcmNoVGltZScsIG5ldyBEYXRlKCkuZ2V0VGltZSgpICk7XG5cdFx0XHRcdFx0dHNmLnNlYXJjaGluZyggdGFibGUsIGV2ZW50VHlwZSAhPT0gJ2tleXByZXNzJywgdHJ1ZSwgY29sdW1uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0c2VhcmNoaW5nOiBmdW5jdGlvbiggdGFibGUsIGZpbHRlciwgc2tpcEZpcnN0LCBjb2x1bW4gKSB7XG5cdFx0XHR2YXIgbGl2ZVNlYXJjaCxcblx0XHRcdFx0d28gPSB0YWJsZS5jb25maWcud2lkZ2V0T3B0aW9ucztcblx0XHRcdGlmICh0eXBlb2YgY29sdW1uID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHQvLyBubyBkZWxheVxuXHRcdFx0XHRsaXZlU2VhcmNoID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsaXZlU2VhcmNoID0gdHlwZW9mIHdvLmZpbHRlcl9saXZlU2VhcmNoID09PSAnYm9vbGVhbicgP1xuXHRcdFx0XHRcdHdvLmZpbHRlcl9saXZlU2VhcmNoIDpcblx0XHRcdFx0XHQvLyBnZXQgY29sdW1uIHNldHRpbmcsIG9yIHNldCB0byBmYWxsYmFjayB2YWx1ZSwgb3IgZGVmYXVsdCB0byBmYWxzZVxuXHRcdFx0XHRcdHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCB3by5maWx0ZXJfbGl2ZVNlYXJjaCwgY29sdW1uICk7XG5cdFx0XHRcdGlmICggdHlwZW9mIGxpdmVTZWFyY2ggPT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRcdGxpdmVTZWFyY2ggPSB3by5maWx0ZXJfbGl2ZVNlYXJjaC5mYWxsYmFjayB8fCBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y2xlYXJUaW1lb3V0KCB3by5maWx0ZXJfc2VhcmNoVGltZXIgKTtcblx0XHRcdGlmICggdHlwZW9mIGZpbHRlciA9PT0gJ3VuZGVmaW5lZCcgfHwgZmlsdGVyID09PSB0cnVlICkge1xuXHRcdFx0XHQvLyBkZWxheSBmaWx0ZXJpbmdcblx0XHRcdFx0d28uZmlsdGVyX3NlYXJjaFRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dHNmLmNoZWNrRmlsdGVycyggdGFibGUsIGZpbHRlciwgc2tpcEZpcnN0ICk7XG5cdFx0XHRcdH0sIGxpdmVTZWFyY2ggPyB3by5maWx0ZXJfc2VhcmNoRGVsYXkgOiAxMCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gc2tpcCBkZWxheVxuXHRcdFx0XHR0c2YuY2hlY2tGaWx0ZXJzKCB0YWJsZSwgZmlsdGVyLCBza2lwRmlyc3QgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVxdWFsRmlsdGVyczogZnVuY3Rpb24gKGMsIGZpbHRlcjEsIGZpbHRlcjIpIHtcblx0XHRcdHZhciBpbmR4LFxuXHRcdFx0XHRmMSA9IFtdLFxuXHRcdFx0XHRmMiA9IFtdLFxuXHRcdFx0XHRsZW4gPSBjLmNvbHVtbnMgKyAxOyAvLyBhZGQgb25lIHRvIGluY2x1ZGUgYW55TWF0Y2ggZmlsdGVyXG5cdFx0XHRmaWx0ZXIxID0gJC5pc0FycmF5KGZpbHRlcjEpID8gZmlsdGVyMSA6IFtdO1xuXHRcdFx0ZmlsdGVyMiA9ICQuaXNBcnJheShmaWx0ZXIyKSA/IGZpbHRlcjIgOiBbXTtcblx0XHRcdGZvciAoaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKykge1xuXHRcdFx0XHRmMVtpbmR4XSA9IGZpbHRlcjFbaW5keF0gfHwgJyc7XG5cdFx0XHRcdGYyW2luZHhdID0gZmlsdGVyMltpbmR4XSB8fCAnJztcblx0XHRcdH1cblx0XHRcdHJldHVybiBmMS5qb2luKCcsJykgPT09IGYyLmpvaW4oJywnKTtcblx0XHR9LFxuXHRcdGNoZWNrRmlsdGVyczogZnVuY3Rpb24oIHRhYmxlLCBmaWx0ZXIsIHNraXBGaXJzdCApIHtcblx0XHRcdHZhciBjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHR3byA9IGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0ZmlsdGVyQXJyYXkgPSAkLmlzQXJyYXkoIGZpbHRlciApLFxuXHRcdFx0XHRmaWx0ZXJzID0gKCBmaWx0ZXJBcnJheSApID8gZmlsdGVyIDogdHMuZ2V0RmlsdGVycyggdGFibGUsIHRydWUgKSxcblx0XHRcdFx0Y3VycmVudEZpbHRlcnMgPSBmaWx0ZXJzIHx8IFtdOyAvLyBjdXJyZW50IGZpbHRlciB2YWx1ZXNcblx0XHRcdC8vIHByZXZlbnQgZXJyb3JzIGlmIGRlbGF5IGluaXQgaXMgc2V0XG5cdFx0XHRpZiAoICQuaXNFbXB0eU9iamVjdCggYy5jYWNoZSApICkge1xuXHRcdFx0XHQvLyB1cGRhdGUgY2FjaGUgaWYgZGVsYXlJbml0IHNldCAmIHBhZ2VyIGhhcyBpbml0aWFsaXplZCAoIGFmdGVyIHVzZXIgaW5pdGlhdGVzIGEgc2VhcmNoIClcblx0XHRcdFx0aWYgKCBjLmRlbGF5SW5pdCAmJiAoICFjLnBhZ2VyIHx8IGMucGFnZXIgJiYgYy5wYWdlci5pbml0aWFsaXplZCApICkge1xuXHRcdFx0XHRcdHRzLnVwZGF0ZUNhY2hlKCBjLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHRzZi5jaGVja0ZpbHRlcnMoIHRhYmxlLCBmYWxzZSwgc2tpcEZpcnN0ICk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gYWRkIGZpbHRlciBhcnJheSBiYWNrIGludG8gaW5wdXRzXG5cdFx0XHRpZiAoIGZpbHRlckFycmF5ICkge1xuXHRcdFx0XHR0cy5zZXRGaWx0ZXJzKCB0YWJsZSwgZmlsdGVycywgZmFsc2UsIHNraXBGaXJzdCAhPT0gdHJ1ZSApO1xuXHRcdFx0XHRpZiAoICF3by5maWx0ZXJfaW5pdGlhbGl6ZWQgKSB7XG5cdFx0XHRcdFx0Yy5sYXN0U2VhcmNoID0gW107XG5cdFx0XHRcdFx0Yy5sYXN0Q29tYmluZWRGaWx0ZXIgPSAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCB3by5maWx0ZXJfaGlkZUZpbHRlcnMgKSB7XG5cdFx0XHRcdC8vIHNob3cvaGlkZSBmaWx0ZXIgcm93IGFzIG5lZWRlZFxuXHRcdFx0XHRjLiR0YWJsZVxuXHRcdFx0XHRcdC5maW5kKCAnLicgKyB0c2Nzcy5maWx0ZXJSb3cgKVxuXHRcdFx0XHRcdC50cmlnZ2VySGFuZGxlciggdHNmLmhpZGVGaWx0ZXJzQ2hlY2soIGMgKSA/ICdtb3VzZWxlYXZlJyA6ICdtb3VzZWVudGVyJyApO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmV0dXJuIGlmIHRoZSBsYXN0IHNlYXJjaCBpcyB0aGUgc2FtZTsgYnV0IGZpbHRlciA9PT0gZmFsc2Ugd2hlbiB1cGRhdGluZyB0aGUgc2VhcmNoXG5cdFx0XHQvLyBzZWUgZXhhbXBsZS13aWRnZXQtZmlsdGVyLmh0bWwgZmlsdGVyIHRvZ2dsZSBidXR0b25zXG5cdFx0XHRpZiAoIHRzZi5lcXVhbEZpbHRlcnMoYywgYy5sYXN0U2VhcmNoLCBjdXJyZW50RmlsdGVycykgJiYgZmlsdGVyICE9PSBmYWxzZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBlbHNlIGlmICggZmlsdGVyID09PSBmYWxzZSApIHtcblx0XHRcdFx0Ly8gZm9yY2UgZmlsdGVyIHJlZnJlc2hcblx0XHRcdFx0Yy5sYXN0Q29tYmluZWRGaWx0ZXIgPSAnJztcblx0XHRcdFx0Yy5sYXN0U2VhcmNoID0gW107XG5cdFx0XHR9XG5cdFx0XHQvLyBkZWZpbmUgZmlsdGVyIGluc2lkZSBpdCBpcyBmYWxzZVxuXHRcdFx0ZmlsdGVycyA9IGZpbHRlcnMgfHwgW107XG5cdFx0XHQvLyBjb252ZXJ0IGZpbHRlcnMgdG8gc3RyaW5ncyAtIHNlZSAjMTA3MFxuXHRcdFx0ZmlsdGVycyA9IEFycmF5LnByb3RvdHlwZS5tYXAgP1xuXHRcdFx0XHRmaWx0ZXJzLm1hcCggU3RyaW5nICkgOlxuXHRcdFx0XHQvLyBmb3IgSUU4ICYgb2xkZXIgYnJvd3NlcnMgLSBtYXliZSBub3QgdGhlIGJlc3QgbWV0aG9kXG5cdFx0XHRcdGZpbHRlcnMuam9pbiggJ1xcdWZmZmQnICkuc3BsaXQoICdcXHVmZmZkJyApO1xuXG5cdFx0XHRpZiAoIHdvLmZpbHRlcl9pbml0aWFsaXplZCApIHtcblx0XHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdmaWx0ZXJTdGFydCcsIFsgZmlsdGVycyBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGMuc2hvd1Byb2Nlc3NpbmcgKSB7XG5cdFx0XHRcdC8vIGdpdmUgaXQgdGltZSBmb3IgdGhlIHByb2Nlc3NpbmcgaWNvbiB0byBraWNrIGluXG5cdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRzZi5maW5kUm93cyggdGFibGUsIGZpbHRlcnMsIGN1cnJlbnRGaWx0ZXJzICk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9LCAzMCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHNmLmZpbmRSb3dzKCB0YWJsZSwgZmlsdGVycywgY3VycmVudEZpbHRlcnMgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aGlkZUZpbHRlcnNDaGVjazogZnVuY3Rpb24oIGMgKSB7XG5cdFx0XHRpZiAodHlwZW9mIGMud2lkZ2V0T3B0aW9ucy5maWx0ZXJfaGlkZUZpbHRlcnMgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dmFyIHZhbCA9IGMud2lkZ2V0T3B0aW9ucy5maWx0ZXJfaGlkZUZpbHRlcnMoIGMgKTtcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xuXHRcdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cy5nZXRGaWx0ZXJzKCBjLiR0YWJsZSApLmpvaW4oICcnICkgPT09ICcnO1xuXHRcdH0sXG5cdFx0aGlkZUZpbHRlcnM6IGZ1bmN0aW9uKCBjLCAkdGFibGUgKSB7XG5cdFx0XHR2YXIgdGltZXI7XG5cdFx0XHQoICR0YWJsZSB8fCBjLiR0YWJsZSApXG5cdFx0XHRcdC5maW5kKCAnLicgKyB0c2Nzcy5maWx0ZXJSb3cgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIHRzY3NzLmZpbHRlclJvd0hpZGUgKVxuXHRcdFx0XHQuYmluZCggJ21vdXNlZW50ZXIgbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdC8vIHNhdmUgZXZlbnQgb2JqZWN0IC0gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIxNDBcblx0XHRcdFx0XHR2YXIgZXZlbnQgPSBlLFxuXHRcdFx0XHRcdFx0JHJvdyA9ICQoIHRoaXMgKTtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVyICk7XG5cdFx0XHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggL2VudGVyfG92ZXIvLnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0XHRcdFx0JHJvdy5yZW1vdmVDbGFzcyggdHNjc3MuZmlsdGVyUm93SGlkZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gZG9uJ3QgaGlkZSBpZiBpbnB1dCBoYXMgZm9jdXNcblx0XHRcdFx0XHRcdFx0Ly8gJCggJzpmb2N1cycgKSBuZWVkcyBqUXVlcnkgMS42K1xuXHRcdFx0XHRcdFx0XHRpZiAoICQoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgKS5jbG9zZXN0KCAndHInIClbMF0gIT09ICRyb3dbMF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZG9uJ3QgaGlkZSByb3cgaWYgYW55IGZpbHRlciBoYXMgYSB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdCRyb3cudG9nZ2xlQ2xhc3MoIHRzY3NzLmZpbHRlclJvd0hpZGUsIHRzZi5oaWRlRmlsdGVyc0NoZWNrKCBjICkgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIDIwMCApO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmluZCggJ2lucHV0LCBzZWxlY3QnICkuYmluZCggJ2ZvY3VzIGJsdXInLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHR2YXIgZXZlbnQgPSBlLFxuXHRcdFx0XHRcdFx0JHJvdyA9ICQoIHRoaXMgKS5jbG9zZXN0KCAndHInICk7XG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aW1lciApO1xuXHRcdFx0XHRcdHRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVyICk7XG5cdFx0XHRcdFx0XHQvLyBkb24ndCBoaWRlIHJvdyBpZiBhbnkgZmlsdGVyIGhhcyBhIHZhbHVlXG5cdFx0XHRcdFx0XHQkcm93LnRvZ2dsZUNsYXNzKCB0c2Nzcy5maWx0ZXJSb3dIaWRlLCB0c2YuaGlkZUZpbHRlcnNDaGVjayggYyApICYmIGV2ZW50LnR5cGUgIT09ICdmb2N1cycgKTtcblx0XHRcdFx0XHR9LCAyMDAgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblx0XHRkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbiggZmlsdGVyLCBtYXNrICkge1xuXHRcdFx0aWYgKCBmaWx0ZXIgPT09ICcnICkgeyByZXR1cm4gZmlsdGVyOyB9XG5cdFx0XHR2YXIgcmVnZXggPSB0c2ZSZWdleC5pUXVlcnksXG5cdFx0XHRcdG1hc2tMZW4gPSBtYXNrLm1hdGNoKCB0c2ZSZWdleC5pZ1F1ZXJ5ICkubGVuZ3RoLFxuXHRcdFx0XHRxdWVyeSA9IG1hc2tMZW4gPiAxID8gJC50cmltKCBmaWx0ZXIgKS5zcGxpdCggL1xccy8gKSA6IFsgJC50cmltKCBmaWx0ZXIgKSBdLFxuXHRcdFx0XHRsZW4gPSBxdWVyeS5sZW5ndGggLSAxLFxuXHRcdFx0XHRpbmR4ID0gMCxcblx0XHRcdFx0dmFsID0gbWFzaztcblx0XHRcdGlmICggbGVuIDwgMSAmJiBtYXNrTGVuID4gMSApIHtcblx0XHRcdFx0Ly8gb25seSBvbmUgJ3dvcmQnIGluIHF1ZXJ5IGJ1dCBtYXNrIGhhcyA+MSBzbG90c1xuXHRcdFx0XHRxdWVyeVsxXSA9IHF1ZXJ5WzBdO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmVwbGFjZSBhbGwge3F1ZXJ5fSB3aXRoIHF1ZXJ5IHdvcmRzLi4uXG5cdFx0XHQvLyBpZiBxdWVyeSA9ICdCb2InLCB0aGVuIGNvbnZlcnQgbWFzayBmcm9tICche3F1ZXJ5fScgdG8gJyFCb2InXG5cdFx0XHQvLyBpZiBxdWVyeSA9ICdCb2IgSm9lIEZyYW5rJywgdGhlbiBjb252ZXJ0IG1hc2sgJ3txfSBPUiB7cX0nIHRvICdCb2IgT1IgSm9lIE9SIEZyYW5rJ1xuXHRcdFx0d2hpbGUgKCByZWdleC50ZXN0KCB2YWwgKSApIHtcblx0XHRcdFx0dmFsID0gdmFsLnJlcGxhY2UoIHJlZ2V4LCBxdWVyeVtpbmR4KytdIHx8ICcnICk7XG5cdFx0XHRcdGlmICggcmVnZXgudGVzdCggdmFsICkgJiYgaW5keCA8IGxlbiAmJiAoIHF1ZXJ5W2luZHhdIHx8ICcnICkgIT09ICcnICkge1xuXHRcdFx0XHRcdHZhbCA9IG1hc2sucmVwbGFjZSggcmVnZXgsIHZhbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH0sXG5cdFx0Z2V0TGF0ZXN0U2VhcmNoOiBmdW5jdGlvbiggJGlucHV0ICkge1xuXHRcdFx0aWYgKCAkaW5wdXQgKSB7XG5cdFx0XHRcdHJldHVybiAkaW5wdXQuc29ydCggZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQoIGIgKS5hdHRyKCAnZGF0YS1sYXN0U2VhcmNoVGltZScgKSAtICQoIGEgKS5hdHRyKCAnZGF0YS1sYXN0U2VhcmNoVGltZScgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gJGlucHV0IHx8ICQoKTtcblx0XHR9LFxuXHRcdGZpbmRSYW5nZTogZnVuY3Rpb24oIGMsIHZhbCwgaWdub3JlUmFuZ2VzICkge1xuXHRcdFx0Ly8gbG9vayBmb3IgbXVsdGlwbGUgY29sdW1ucyAnMS0zLDQtNiw4JyBpbiBkYXRhLWNvbHVtblxuXHRcdFx0dmFyIHRlbXAsIHJhbmdlcywgcmFuZ2UsIHN0YXJ0LCBlbmQsIHNpbmdsZXMsIGksIGluZHgsIGxlbixcblx0XHRcdFx0Y29sdW1ucyA9IFtdO1xuXHRcdFx0aWYgKCAvXlswLTldKyQvLnRlc3QoIHZhbCApICkge1xuXHRcdFx0XHQvLyBhbHdheXMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdHJldHVybiBbIHBhcnNlSW50KCB2YWwsIDEwICkgXTtcblx0XHRcdH1cblx0XHRcdC8vIHByb2Nlc3MgY29sdW1uIHJhbmdlXG5cdFx0XHRpZiAoICFpZ25vcmVSYW5nZXMgJiYgLy0vLnRlc3QoIHZhbCApICkge1xuXHRcdFx0XHRyYW5nZXMgPSB2YWwubWF0Y2goIC8oXFxkKylcXHMqLVxccyooXFxkKykvZyApO1xuXHRcdFx0XHRsZW4gPSByYW5nZXMgPyByYW5nZXMubGVuZ3RoIDogMDtcblx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBsZW47IGluZHgrKyApIHtcblx0XHRcdFx0XHRyYW5nZSA9IHJhbmdlc1tpbmR4XS5zcGxpdCggL1xccyotXFxzKi8gKTtcblx0XHRcdFx0XHRzdGFydCA9IHBhcnNlSW50KCByYW5nZVswXSwgMTAgKSB8fCAwO1xuXHRcdFx0XHRcdGVuZCA9IHBhcnNlSW50KCByYW5nZVsxXSwgMTAgKSB8fCAoIGMuY29sdW1ucyAtIDEgKTtcblx0XHRcdFx0XHRpZiAoIHN0YXJ0ID4gZW5kICkge1xuXHRcdFx0XHRcdFx0dGVtcCA9IHN0YXJ0OyBzdGFydCA9IGVuZDsgZW5kID0gdGVtcDsgLy8gc3dhcFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIGVuZCA+PSBjLmNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0XHRlbmQgPSBjLmNvbHVtbnMgLSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmb3IgKCA7IHN0YXJ0IDw9IGVuZDsgc3RhcnQrKyApIHtcblx0XHRcdFx0XHRcdGNvbHVtbnNbIGNvbHVtbnMubGVuZ3RoIF0gPSBzdGFydDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gcmVtb3ZlIHByb2Nlc3NlZCByYW5nZSBmcm9tIHZhbFxuXHRcdFx0XHRcdHZhbCA9IHZhbC5yZXBsYWNlKCByYW5nZXNbIGluZHggXSwgJycgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gcHJvY2VzcyBzaW5nbGUgY29sdW1uc1xuXHRcdFx0aWYgKCAhaWdub3JlUmFuZ2VzICYmIC8sLy50ZXN0KCB2YWwgKSApIHtcblx0XHRcdFx0c2luZ2xlcyA9IHZhbC5zcGxpdCggL1xccyosXFxzKi8gKTtcblx0XHRcdFx0bGVuID0gc2luZ2xlcy5sZW5ndGg7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBzaW5nbGVzWyBpIF0gIT09ICcnICkge1xuXHRcdFx0XHRcdFx0aW5keCA9IHBhcnNlSW50KCBzaW5nbGVzWyBpIF0sIDEwICk7XG5cdFx0XHRcdFx0XHRpZiAoIGluZHggPCBjLmNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbHVtbnNbIGNvbHVtbnMubGVuZ3RoIF0gPSBpbmR4O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gcmV0dXJuIGFsbCBjb2x1bW5zXG5cdFx0XHRpZiAoICFjb2x1bW5zLmxlbmd0aCApIHtcblx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBjLmNvbHVtbnM7IGluZHgrKyApIHtcblx0XHRcdFx0XHRjb2x1bW5zWyBjb2x1bW5zLmxlbmd0aCBdID0gaW5keDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNvbHVtbnM7XG5cdFx0fSxcblx0XHRnZXRDb2x1bW5FbG06IGZ1bmN0aW9uKCBjLCAkZWxlbWVudHMsIGNvbHVtbiApIHtcblx0XHRcdC8vIGRhdGEtY29sdW1uIG1heSBjb250YWluIG11bHRpcGxlIGNvbHVtbnMgJzEtMyw1LTYsOCdcblx0XHRcdC8vIHJlcGxhY2VzOiBjLiRmaWx0ZXJzLmZpbHRlciggJ1tkYXRhLWNvbHVtbj1cIicgKyBjb2x1bW4gKyAnXCJdJyApO1xuXHRcdFx0cmV0dXJuICRlbGVtZW50cy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgY29scyA9IHRzZi5maW5kUmFuZ2UoIGMsICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1jb2x1bW4nICkgKTtcblx0XHRcdFx0cmV0dXJuICQuaW5BcnJheSggY29sdW1uLCBjb2xzICkgPiAtMTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0bXVsdGlwbGVDb2x1bW5zOiBmdW5jdGlvbiggYywgJGlucHV0ICkge1xuXHRcdFx0Ly8gbG9vayBmb3IgbXVsdGlwbGUgY29sdW1ucyAnMS0zLDQtNiw4JyBpbiBkYXRhLWNvbHVtblxuXHRcdFx0dmFyIHdvID0gYy53aWRnZXRPcHRpb25zLFxuXHRcdFx0XHQvLyBvbmx5IHRhcmdldCAnYWxsJyBjb2x1bW4gaW5wdXRzIG9uIGluaXRpYWxpemF0aW9uXG5cdFx0XHRcdC8vICYgZG9uJ3QgdGFyZ2V0ICdhbGwnIGNvbHVtbiBpbnB1dHMgaWYgdGhleSBkb24ndCBleGlzdFxuXHRcdFx0XHR0YXJnZXRzID0gd28uZmlsdGVyX2luaXRpYWxpemVkIHx8ICEkaW5wdXQuZmlsdGVyKCB3by5maWx0ZXJfYW55Q29sdW1uU2VsZWN0b3IgKS5sZW5ndGgsXG5cdFx0XHRcdHZhbCA9ICQudHJpbSggdHNmLmdldExhdGVzdFNlYXJjaCggJGlucHV0ICkuYXR0ciggJ2RhdGEtY29sdW1uJyApIHx8ICcnICk7XG5cdFx0XHRyZXR1cm4gdHNmLmZpbmRSYW5nZSggYywgdmFsLCAhdGFyZ2V0cyApO1xuXHRcdH0sXG5cdFx0cHJvY2Vzc1R5cGVzOiBmdW5jdGlvbiggYywgZGF0YSwgdmFycyApIHtcblx0XHRcdHZhciBmZnhuLFxuXHRcdFx0XHRmaWx0ZXJNYXRjaGVkID0gbnVsbCxcblx0XHRcdFx0bWF0Y2hlcyA9IG51bGw7XG5cdFx0XHRmb3IgKCBmZnhuIGluIHRzZi50eXBlcyApIHtcblx0XHRcdFx0aWYgKCAkLmluQXJyYXkoIGZmeG4sIHZhcnMuZXhjbHVkZU1hdGNoICkgPCAwICYmIG1hdGNoZXMgPT09IG51bGwgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcyA9IHRzZi50eXBlc1tmZnhuXSggYywgZGF0YSwgdmFycyApO1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlcyAhPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRhdGEubWF0Y2hlZE9uID0gZmZ4bjtcblx0XHRcdFx0XHRcdGZpbHRlck1hdGNoZWQgPSBtYXRjaGVzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZpbHRlck1hdGNoZWQ7XG5cdFx0fSxcblx0XHRtYXRjaFR5cGU6IGZ1bmN0aW9uKCBjLCBjb2x1bW5JbmRleCApIHtcblx0XHRcdHZhciBpc01hdGNoLFxuXHRcdFx0XHR3byA9IGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0JGVsID0gYy4kaGVhZGVySW5kZXhlZFsgY29sdW1uSW5kZXggXTtcblx0XHRcdC8vIGZpbHRlci1leGFjdCA+IGZpbHRlci1tYXRjaCA+IGZpbHRlcl9tYXRjaFR5cGUgZm9yIHR5cGVcblx0XHRcdGlmICggJGVsLmhhc0NsYXNzKCAnZmlsdGVyLWV4YWN0JyApICkge1xuXHRcdFx0XHRpc01hdGNoID0gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCAkZWwuaGFzQ2xhc3MoICdmaWx0ZXItbWF0Y2gnICkgKSB7XG5cdFx0XHRcdGlzTWF0Y2ggPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZmlsdGVyLXNlbGVjdCBpcyBub3QgYXBwbGllZCB3aGVuIGZpbHRlcl9mdW5jdGlvbnMgYXJlIHVzZWQsIHNvIGxvb2sgZm9yIGEgc2VsZWN0XG5cdFx0XHRcdGlmICggd28uZmlsdGVyX2NvbHVtbkZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0JGVsID0gYy4kZmlsdGVyc1xuXHRcdFx0XHRcdFx0LmZpbmQoICcuJyArIHRzY3NzLmZpbHRlciApXG5cdFx0XHRcdFx0XHQuYWRkKCB3by5maWx0ZXJfJGV4dGVybmFsRmlsdGVycyApXG5cdFx0XHRcdFx0XHQuZmlsdGVyKCAnW2RhdGEtY29sdW1uPVwiJyArIGNvbHVtbkluZGV4ICsgJ1wiXScgKTtcblx0XHRcdFx0fSBlbHNlIGlmICggd28uZmlsdGVyXyRleHRlcm5hbEZpbHRlcnMgKSB7XG5cdFx0XHRcdFx0JGVsID0gd28uZmlsdGVyXyRleHRlcm5hbEZpbHRlcnMuZmlsdGVyKCAnW2RhdGEtY29sdW1uPVwiJyArIGNvbHVtbkluZGV4ICsgJ1wiXScgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpc01hdGNoID0gJGVsLmxlbmd0aCA/XG5cdFx0XHRcdFx0Yy53aWRnZXRPcHRpb25zLmZpbHRlcl9tYXRjaFR5cGVbICggJGVsWyAwIF0ubm9kZU5hbWUgfHwgJycgKS50b0xvd2VyQ2FzZSgpIF0gPT09ICdtYXRjaCcgOlxuXHRcdFx0XHRcdC8vIGRlZmF1bHQgdG8gZXhhY3QsIGlmIG5vIGlucHV0cyBmb3VuZFxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGlzTWF0Y2g7XG5cdFx0fSxcblx0XHRwcm9jZXNzUm93OiBmdW5jdGlvbiggYywgZGF0YSwgdmFycyApIHtcblx0XHRcdHZhciByZXN1bHQsIGZpbHRlck1hdGNoZWQsXG5cdFx0XHRcdGZ4biwgZmZ4biwgdHh0LFxuXHRcdFx0XHR3byA9IGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0c2hvd1JvdyA9IHRydWUsXG5cdFx0XHRcdGhhc0FueU1hdGNoSW5wdXQgPSB3by5maWx0ZXJfJGFueU1hdGNoICYmIHdvLmZpbHRlcl8kYW55TWF0Y2gubGVuZ3RoLFxuXG5cdFx0XHRcdC8vIGlmIHdvLmZpbHRlcl8kYW55TWF0Y2ggZGF0YS1jb2x1bW4gYXR0cmlidXRlIGlzIGNoYW5nZWQgZHluYW1pY2FsbHlcblx0XHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBkbyBhbiBcImFueU1hdGNoXCIgc2VhcmNoIG9uIG9uZSBjb2x1bW4gdXNpbmcgZGF0YVxuXHRcdFx0XHQvLyBmb3IgdGhlIGVudGlyZSByb3cgLSBzZWUgIzk5OFxuXHRcdFx0XHRjb2x1bW5JbmRleCA9IHdvLmZpbHRlcl8kYW55TWF0Y2ggJiYgd28uZmlsdGVyXyRhbnlNYXRjaC5sZW5ndGggP1xuXHRcdFx0XHRcdC8vIGxvb2sgZm9yIG11bHRpcGxlIGNvbHVtbnMgJzEtMyw0LTYsOCdcblx0XHRcdFx0XHR0c2YubXVsdGlwbGVDb2x1bW5zKCBjLCB3by5maWx0ZXJfJGFueU1hdGNoICkgOlxuXHRcdFx0XHRcdFtdO1xuXHRcdFx0ZGF0YS4kY2VsbHMgPSBkYXRhLiRyb3cuY2hpbGRyZW4oKTtcblx0XHRcdGRhdGEubWF0Y2hlZE9uID0gbnVsbDtcblx0XHRcdGlmICggZGF0YS5hbnlNYXRjaEZsYWcgJiYgY29sdW1uSW5kZXgubGVuZ3RoID4gMSB8fCAoIGRhdGEuYW55TWF0Y2hGaWx0ZXIgJiYgIWhhc0FueU1hdGNoSW5wdXQgKSApIHtcblx0XHRcdFx0ZGF0YS5hbnlNYXRjaCA9IHRydWU7XG5cdFx0XHRcdGRhdGEuaXNNYXRjaCA9IHRydWU7XG5cdFx0XHRcdGRhdGEucm93QXJyYXkgPSBkYXRhLiRjZWxscy5tYXAoIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGlmICggJC5pbkFycmF5KCBpLCBjb2x1bW5JbmRleCApID4gLTEgfHwgKCBkYXRhLmFueU1hdGNoRmlsdGVyICYmICFoYXNBbnlNYXRjaElucHV0ICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGRhdGEucGFyc2VkWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdHR4dCA9IGRhdGEuY2FjaGVBcnJheVsgaSBdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dHh0ID0gZGF0YS5yYXdBcnJheVsgaSBdO1xuXHRcdFx0XHRcdFx0XHR0eHQgPSAkLnRyaW0oIHdvLmZpbHRlcl9pZ25vcmVDYXNlID8gdHh0LnRvTG93ZXJDYXNlKCkgOiB0eHQgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjLnNvcnRMb2NhbGVDb21wYXJlICkge1xuXHRcdFx0XHRcdFx0XHRcdHR4dCA9IHRzLnJlcGxhY2VBY2NlbnRzKCB0eHQgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHR4dDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmdldCgpO1xuXHRcdFx0XHRkYXRhLmZpbHRlciA9IGRhdGEuYW55TWF0Y2hGaWx0ZXI7XG5cdFx0XHRcdGRhdGEuaUZpbHRlciA9IGRhdGEuaUFueU1hdGNoRmlsdGVyO1xuXHRcdFx0XHRkYXRhLmV4YWN0ID0gZGF0YS5yb3dBcnJheS5qb2luKCAnICcgKTtcblx0XHRcdFx0ZGF0YS5pRXhhY3QgPSB3by5maWx0ZXJfaWdub3JlQ2FzZSA/IGRhdGEuZXhhY3QudG9Mb3dlckNhc2UoKSA6IGRhdGEuZXhhY3Q7XG5cdFx0XHRcdGRhdGEuY2FjaGUgPSBkYXRhLmNhY2hlQXJyYXkuc2xpY2UoIDAsIC0xICkuam9pbiggJyAnICk7XG5cdFx0XHRcdHZhcnMuZXhjbHVkZU1hdGNoID0gdmFycy5ub0FueU1hdGNoO1xuXHRcdFx0XHRmaWx0ZXJNYXRjaGVkID0gdHNmLnByb2Nlc3NUeXBlcyggYywgZGF0YSwgdmFycyApO1xuXHRcdFx0XHRpZiAoIGZpbHRlck1hdGNoZWQgIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0c2hvd1JvdyA9IGZpbHRlck1hdGNoZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCB3by5maWx0ZXJfc3RhcnRzV2l0aCApIHtcblx0XHRcdFx0XHRcdHNob3dSb3cgPSBmYWxzZTtcblx0XHRcdFx0XHRcdC8vIGRhdGEucm93QXJyYXkgbWF5IG5vdCBjb250YWluIGFsbCBjb2x1bW5zXG5cdFx0XHRcdFx0XHRjb2x1bW5JbmRleCA9IE1hdGgubWluKCBjLmNvbHVtbnMsIGRhdGEucm93QXJyYXkubGVuZ3RoICk7XG5cdFx0XHRcdFx0XHR3aGlsZSAoICFzaG93Um93ICYmIGNvbHVtbkluZGV4ID4gMCApIHtcblx0XHRcdFx0XHRcdFx0Y29sdW1uSW5kZXgtLTtcblx0XHRcdFx0XHRcdFx0c2hvd1JvdyA9IHNob3dSb3cgfHwgZGF0YS5yb3dBcnJheVsgY29sdW1uSW5kZXggXS5pbmRleE9mKCBkYXRhLmlGaWx0ZXIgKSA9PT0gMDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2hvd1JvdyA9ICggZGF0YS5pRXhhY3QgKyBkYXRhLmNoaWxkUm93VGV4dCApLmluZGV4T2YoIGRhdGEuaUZpbHRlciApID49IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGEuYW55TWF0Y2ggPSBmYWxzZTtcblx0XHRcdFx0Ly8gbm8gb3RoZXIgZmlsdGVycyB0byBwcm9jZXNzXG5cdFx0XHRcdGlmICggZGF0YS5maWx0ZXJzLmpvaW4oICcnICkgPT09IGRhdGEuZmlsdGVyICkge1xuXHRcdFx0XHRcdHJldHVybiBzaG93Um93O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGNvbHVtbkluZGV4ID0gMDsgY29sdW1uSW5kZXggPCBjLmNvbHVtbnM7IGNvbHVtbkluZGV4KysgKSB7XG5cdFx0XHRcdGRhdGEuZmlsdGVyID0gZGF0YS5maWx0ZXJzWyBjb2x1bW5JbmRleCBdO1xuXHRcdFx0XHRkYXRhLmluZGV4ID0gY29sdW1uSW5kZXg7XG5cblx0XHRcdFx0Ly8gZmlsdGVyIHR5cGVzIHRvIGV4Y2x1ZGUsIHBlciBjb2x1bW5cblx0XHRcdFx0dmFycy5leGNsdWRlTWF0Y2ggPSB2YXJzLmV4Y2x1ZGVGaWx0ZXJbIGNvbHVtbkluZGV4IF07XG5cblx0XHRcdFx0Ly8gaWdub3JlIGlmIGZpbHRlciBpcyBlbXB0eSBvciBkaXNhYmxlZFxuXHRcdFx0XHRpZiAoIGRhdGEuZmlsdGVyICkge1xuXHRcdFx0XHRcdGRhdGEuY2FjaGUgPSBkYXRhLmNhY2hlQXJyYXlbIGNvbHVtbkluZGV4IF07XG5cdFx0XHRcdFx0cmVzdWx0ID0gZGF0YS5wYXJzZWRbIGNvbHVtbkluZGV4IF0gPyBkYXRhLmNhY2hlIDogZGF0YS5yYXdBcnJheVsgY29sdW1uSW5kZXggXSB8fCAnJztcblx0XHRcdFx0XHRkYXRhLmV4YWN0ID0gYy5zb3J0TG9jYWxlQ29tcGFyZSA/IHRzLnJlcGxhY2VBY2NlbnRzKCByZXN1bHQgKSA6IHJlc3VsdDsgLy8gaXNzdWUgIzQwNVxuXHRcdFx0XHRcdGRhdGEuaUV4YWN0ID0gIXRzZlJlZ2V4LnR5cGUudGVzdCggdHlwZW9mIGRhdGEuZXhhY3QgKSAmJiB3by5maWx0ZXJfaWdub3JlQ2FzZSA/XG5cdFx0XHRcdFx0XHRkYXRhLmV4YWN0LnRvTG93ZXJDYXNlKCkgOiBkYXRhLmV4YWN0O1xuXHRcdFx0XHRcdGRhdGEuaXNNYXRjaCA9IHRzZi5tYXRjaFR5cGUoIGMsIGNvbHVtbkluZGV4ICk7XG5cblx0XHRcdFx0XHRyZXN1bHQgPSBzaG93Um93OyAvLyBpZiBzaG93Um93IGlzIHRydWUsIHNob3cgdGhhdCByb3dcblxuXHRcdFx0XHRcdC8vIGluIGNhc2Ugc2VsZWN0IGZpbHRlciBvcHRpb24gaGFzIGEgZGlmZmVyZW50IHZhbHVlIHZzIHRleHQgJ2EgLSB6fEEgdGhyb3VnaCBaJ1xuXHRcdFx0XHRcdGZmeG4gPSB3by5maWx0ZXJfY29sdW1uRmlsdGVycyA/XG5cdFx0XHRcdFx0XHRjLiRmaWx0ZXJzLmFkZCggd28uZmlsdGVyXyRleHRlcm5hbEZpbHRlcnMgKVxuXHRcdFx0XHRcdFx0XHQuZmlsdGVyKCAnW2RhdGEtY29sdW1uPVwiJyArIGNvbHVtbkluZGV4ICsgJ1wiXScgKVxuXHRcdFx0XHRcdFx0XHQuZmluZCggJ3NlbGVjdCBvcHRpb246c2VsZWN0ZWQnIClcblx0XHRcdFx0XHRcdFx0LmF0dHIoICdkYXRhLWZ1bmN0aW9uLW5hbWUnICkgfHwgJycgOiAnJztcblx0XHRcdFx0XHQvLyByZXBsYWNlIGFjY2VudHMgLSBzZWUgIzM1N1xuXHRcdFx0XHRcdGlmICggYy5zb3J0TG9jYWxlQ29tcGFyZSApIHtcblx0XHRcdFx0XHRcdGRhdGEuZmlsdGVyID0gdHMucmVwbGFjZUFjY2VudHMoIGRhdGEuZmlsdGVyICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gcmVwbGFjZSBjb2x1bW4gc3BlY2lmaWMgZGVmYXVsdCBmaWx0ZXJzIC0gc2VlICMxMDg4XG5cdFx0XHRcdFx0aWYgKCB3by5maWx0ZXJfZGVmYXVsdEZpbHRlciAmJiB0c2ZSZWdleC5pUXVlcnkudGVzdCggdmFycy5kZWZhdWx0Q29sRmlsdGVyWyBjb2x1bW5JbmRleCBdICkgKSB7XG5cdFx0XHRcdFx0XHRkYXRhLmZpbHRlciA9IHRzZi5kZWZhdWx0RmlsdGVyKCBkYXRhLmZpbHRlciwgdmFycy5kZWZhdWx0Q29sRmlsdGVyWyBjb2x1bW5JbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gZGF0YS5pRmlsdGVyID0gY2FzZSBpbnNlbnNpdGl2ZSAoIGlmIHdvLmZpbHRlcl9pZ25vcmVDYXNlIGlzIHRydWUgKSxcblx0XHRcdFx0XHQvLyBkYXRhLmZpbHRlciA9IGNhc2Ugc2Vuc2l0aXZlXG5cdFx0XHRcdFx0ZGF0YS5pRmlsdGVyID0gd28uZmlsdGVyX2lnbm9yZUNhc2UgPyAoIGRhdGEuZmlsdGVyIHx8ICcnICkudG9Mb3dlckNhc2UoKSA6IGRhdGEuZmlsdGVyO1xuXHRcdFx0XHRcdGZ4biA9IHZhcnMuZnVuY3Rpb25zWyBjb2x1bW5JbmRleCBdO1xuXHRcdFx0XHRcdGZpbHRlck1hdGNoZWQgPSBudWxsO1xuXHRcdFx0XHRcdGlmICggZnhuICkge1xuXHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgZnhuID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRcdFx0XHQvLyBmaWx0ZXIgY2FsbGJhY2soIGV4YWN0IGNlbGwgY29udGVudCwgcGFyc2VyIG5vcm1hbGl6ZWQgY29udGVudCxcblx0XHRcdFx0XHRcdFx0Ly8gZmlsdGVyIGlucHV0IHZhbHVlLCBjb2x1bW4gaW5kZXgsIGpRdWVyeSByb3cgb2JqZWN0IClcblx0XHRcdFx0XHRcdFx0ZmlsdGVyTWF0Y2hlZCA9IGZ4biggZGF0YS5leGFjdCwgZGF0YS5jYWNoZSwgZGF0YS5maWx0ZXIsIGNvbHVtbkluZGV4LCBkYXRhLiRyb3csIGMsIGRhdGEgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiBmeG5bIGZmeG4gfHwgZGF0YS5maWx0ZXIgXSA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0XHRcdFx0Ly8gc2VsZWN0b3Igb3B0aW9uIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRcdHR4dCA9IGZmeG4gfHwgZGF0YS5maWx0ZXI7XG5cdFx0XHRcdFx0XHRcdGZpbHRlck1hdGNoZWQgPVxuXHRcdFx0XHRcdFx0XHRcdGZ4blsgdHh0IF0oIGRhdGEuZXhhY3QsIGRhdGEuY2FjaGUsIGRhdGEuZmlsdGVyLCBjb2x1bW5JbmRleCwgZGF0YS4kcm93LCBjLCBkYXRhICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggZmlsdGVyTWF0Y2hlZCA9PT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdC8vIGN5Y2xlIHRocm91Z2ggdGhlIGRpZmZlcmVudCBmaWx0ZXJzXG5cdFx0XHRcdFx0XHQvLyBmaWx0ZXJzIHJldHVybiBhIGJvb2xlYW4gb3IgbnVsbCBpZiBub3RoaW5nIG1hdGNoZXNcblx0XHRcdFx0XHRcdGZpbHRlck1hdGNoZWQgPSB0c2YucHJvY2Vzc1R5cGVzKCBjLCBkYXRhLCB2YXJzICk7XG5cdFx0XHRcdFx0XHQvLyBzZWxlY3Qgd2l0aCBleGFjdCBtYXRjaDsgaWdub3JlIFwiYW5kXCIgb3IgXCJvclwiIHdpdGhpbiB0aGUgdGV4dDsgZml4ZXMgIzE0ODZcblx0XHRcdFx0XHRcdHR4dCA9IGZ4biA9PT0gdHJ1ZSAmJiAoZGF0YS5tYXRjaGVkT24gPT09ICdhbmQnIHx8IGRhdGEubWF0Y2hlZE9uID09PSAnb3InKTtcblx0XHRcdFx0XHRcdGlmICggZmlsdGVyTWF0Y2hlZCAhPT0gbnVsbCAmJiAhdHh0KSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGZpbHRlck1hdGNoZWQ7XG5cdFx0XHRcdFx0XHQvLyBMb29rIGZvciBtYXRjaCwgYW5kIGFkZCBjaGlsZCByb3cgZGF0YSBmb3IgbWF0Y2hpbmdcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIGNoZWNrIGZ4biAoZmlsdGVyLXNlbGVjdCBpbiBoZWFkZXIpIGFmdGVyIGZpbHRlciB0eXBlcyBhcmUgY2hlY2tlZFxuXHRcdFx0XHRcdFx0XHQvLyB3aXRob3V0IHRoaXMsIHRoZSBmaWx0ZXIgKyBqUXVlcnkgVUkgc2VsZWN0bWVudSBkZW1vIHdhcyBicmVha2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIGZ4biA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBkZWZhdWx0IHNlbGVjdG9yIHVzZXMgZXhhY3QgbWF0Y2ggdW5sZXNzICdmaWx0ZXItbWF0Y2gnIGNsYXNzIGlzIGZvdW5kXG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gZGF0YS5pc01hdGNoID9cblx0XHRcdFx0XHRcdFx0XHRcdC8vIGRhdGEuaUV4YWN0IG1heSBiZSBhIG51bWJlclxuXHRcdFx0XHRcdFx0XHRcdFx0KCAnJyArIGRhdGEuaUV4YWN0ICkuc2VhcmNoKCBkYXRhLmlGaWx0ZXIgKSA+PSAwIDpcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGEuZmlsdGVyID09PSBkYXRhLmV4YWN0O1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHR4dCA9ICggZGF0YS5pRXhhY3QgKyBkYXRhLmNoaWxkUm93VGV4dCApLmluZGV4T2YoIHRzZi5wYXJzZUZpbHRlciggYywgZGF0YS5pRmlsdGVyLCBkYXRhICkgKTtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSAoICggIXdvLmZpbHRlcl9zdGFydHNXaXRoICYmIHR4dCA+PSAwICkgfHwgKCB3by5maWx0ZXJfc3RhcnRzV2l0aCAmJiB0eHQgPT09IDAgKSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGZpbHRlck1hdGNoZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNob3dSb3cgPSAoIHJlc3VsdCApID8gc2hvd1JvdyA6IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2hvd1Jvdztcblx0XHR9LFxuXHRcdGZpbmRSb3dzOiBmdW5jdGlvbiggdGFibGUsIGZpbHRlcnMsIGN1cnJlbnRGaWx0ZXJzICkge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHR0c2YuZXF1YWxGaWx0ZXJzKHRhYmxlLmNvbmZpZywgdGFibGUuY29uZmlnLmxhc3RTZWFyY2gsIGN1cnJlbnRGaWx0ZXJzKSB8fFxuXHRcdFx0XHQhdGFibGUuY29uZmlnLndpZGdldE9wdGlvbnMuZmlsdGVyX2luaXRpYWxpemVkXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGxlbiwgbm9ybV9yb3dzLCByb3dEYXRhLCAkcm93cywgJHJvdywgcm93SW5kZXgsIHRib2R5SW5kZXgsICR0Ym9keSwgY29sdW1uSW5kZXgsXG5cdFx0XHRcdGlzQ2hpbGQsIGNoaWxkUm93LCBsYXN0U2VhcmNoLCBzaG93Um93LCBzaG93UGFyZW50LCB0aW1lLCB2YWwsIGluZHgsXG5cdFx0XHRcdG5vdEZpbHRlcmVkLCBzZWFyY2hGaWx0ZXJlZCwgcXVlcnksIGluamVjdGVkLCByZXMsIGlkLCB0eHQsXG5cdFx0XHRcdHN0b3JlZEZpbHRlcnMgPSAkLmV4dGVuZCggW10sIGZpbHRlcnMgKSxcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRcdGRlYnVnID0gdHMuZGVidWcoYywgJ2ZpbHRlcicpLFxuXHRcdFx0XHQvLyBkYXRhIG9iamVjdCBwYXNzZWQgdG8gZmlsdGVyczsgYW55TWF0Y2ggaXMgYSBmbGFnIGZvciB0aGUgZmlsdGVyc1xuXHRcdFx0XHRkYXRhID0ge1xuXHRcdFx0XHRcdGFueU1hdGNoOiBmYWxzZSxcblx0XHRcdFx0XHRmaWx0ZXJzOiBmaWx0ZXJzLFxuXHRcdFx0XHRcdC8vIHJlZ2V4IGZpbHRlciB0eXBlIGNhY2hlXG5cdFx0XHRcdFx0ZmlsdGVyX3JlZ2V4Q2FjaGUgOiBbXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR2YXJzID0ge1xuXHRcdFx0XHRcdC8vIGFueU1hdGNoIHJlYWxseSBzY3Jld3MgdXAgd2l0aCB0aGVzZSB0eXBlcyBvZiBmaWx0ZXJzXG5cdFx0XHRcdFx0bm9BbnlNYXRjaDogWyAncmFuZ2UnLCAgJ29wZXJhdG9ycycgXSxcblx0XHRcdFx0XHQvLyBjYWNoZSBmaWx0ZXIgdmFyaWFibGVzIHRoYXQgdXNlIHRzLmdldENvbHVtbkRhdGEgaW4gdGhlIG1haW4gbG9vcFxuXHRcdFx0XHRcdGZ1bmN0aW9ucyA6IFtdLFxuXHRcdFx0XHRcdGV4Y2x1ZGVGaWx0ZXIgOiBbXSxcblx0XHRcdFx0XHRkZWZhdWx0Q29sRmlsdGVyIDogW10sXG5cdFx0XHRcdFx0ZGVmYXVsdEFueUZpbHRlciA6IHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCB3by5maWx0ZXJfZGVmYXVsdEZpbHRlciwgYy5jb2x1bW5zLCB0cnVlICkgfHwgJydcblx0XHRcdFx0fTtcblx0XHRcdC8vIHBhcnNlIGNvbHVtbnMgYWZ0ZXIgZm9ybWF0dGVyLCBpbiBjYXNlIHRoZSBjbGFzcyBpcyBhZGRlZCBhdCB0aGF0IHBvaW50XG5cdFx0XHRkYXRhLnBhcnNlZCA9IFtdO1xuXHRcdFx0Zm9yICggY29sdW1uSW5kZXggPSAwOyBjb2x1bW5JbmRleCA8IGMuY29sdW1uczsgY29sdW1uSW5kZXgrKyApIHtcblx0XHRcdFx0ZGF0YS5wYXJzZWRbIGNvbHVtbkluZGV4IF0gPSB3by5maWx0ZXJfdXNlUGFyc2VkRGF0YSB8fFxuXHRcdFx0XHRcdC8vIHBhcnNlciBoYXMgYSBcInBhcnNlZFwiIHBhcmFtZXRlclxuXHRcdFx0XHRcdCggYy5wYXJzZXJzICYmIGMucGFyc2Vyc1sgY29sdW1uSW5kZXggXSAmJiBjLnBhcnNlcnNbIGNvbHVtbkluZGV4IF0ucGFyc2VkIHx8XG5cdFx0XHRcdFx0Ly8gZ2V0RGF0YSBtYXkgbm90IHJldHVybiAncGFyc2VkJyBpZiBvdGhlciAnZmlsdGVyLScgY2xhc3MgbmFtZXMgZXhpc3Rcblx0XHRcdFx0XHQvLyAoIGUuZy4gPHRoIGNsYXNzPVwiZmlsdGVyLXNlbGVjdCBmaWx0ZXItcGFyc2VkXCI+IClcblx0XHRcdFx0XHR0cy5nZXREYXRhICYmIHRzLmdldERhdGEoIGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbkluZGV4IF0sXG5cdFx0XHRcdFx0XHR0cy5nZXRDb2x1bW5EYXRhKCB0YWJsZSwgYy5oZWFkZXJzLCBjb2x1bW5JbmRleCApLCAnZmlsdGVyJyApID09PSAncGFyc2VkJyB8fFxuXHRcdFx0XHRcdGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbkluZGV4IF0uaGFzQ2xhc3MoICdmaWx0ZXItcGFyc2VkJyApICk7XG5cblx0XHRcdFx0dmFycy5mdW5jdGlvbnNbIGNvbHVtbkluZGV4IF0gPVxuXHRcdFx0XHRcdHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCB3by5maWx0ZXJfZnVuY3Rpb25zLCBjb2x1bW5JbmRleCApIHx8XG5cdFx0XHRcdFx0Yy4kaGVhZGVySW5kZXhlZFsgY29sdW1uSW5kZXggXS5oYXNDbGFzcyggJ2ZpbHRlci1zZWxlY3QnICk7XG5cdFx0XHRcdHZhcnMuZGVmYXVsdENvbEZpbHRlclsgY29sdW1uSW5kZXggXSA9XG5cdFx0XHRcdFx0dHMuZ2V0Q29sdW1uRGF0YSggdGFibGUsIHdvLmZpbHRlcl9kZWZhdWx0RmlsdGVyLCBjb2x1bW5JbmRleCApIHx8ICcnO1xuXHRcdFx0XHR2YXJzLmV4Y2x1ZGVGaWx0ZXJbIGNvbHVtbkluZGV4IF0gPVxuXHRcdFx0XHRcdCggdHMuZ2V0Q29sdW1uRGF0YSggdGFibGUsIHdvLmZpbHRlcl9leGNsdWRlRmlsdGVyLCBjb2x1bW5JbmRleCwgdHJ1ZSApIHx8ICcnICkuc3BsaXQoIC9cXHMrLyApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGRlYnVnICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggJ0ZpbHRlciA+PiBTdGFydGluZyBmaWx0ZXIgd2lkZ2V0IHNlYXJjaCcsIGZpbHRlcnMgKTtcblx0XHRcdFx0dGltZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBmaWx0ZXJlZCByb3dzIGNvdW50XG5cdFx0XHRjLmZpbHRlcmVkUm93cyA9IDA7XG5cdFx0XHRjLnRvdGFsUm93cyA9IDA7XG5cdFx0XHRjdXJyZW50RmlsdGVycyA9ICggc3RvcmVkRmlsdGVycyB8fCBbXSApO1xuXG5cdFx0XHRmb3IgKCB0Ym9keUluZGV4ID0gMDsgdGJvZHlJbmRleCA8IGMuJHRib2RpZXMubGVuZ3RoOyB0Ym9keUluZGV4KysgKSB7XG5cdFx0XHRcdCR0Ym9keSA9IHRzLnByb2Nlc3NUYm9keSggdGFibGUsIGMuJHRib2RpZXMuZXEoIHRib2R5SW5kZXggKSwgdHJ1ZSApO1xuXHRcdFx0XHQvLyBza2lwIGNoaWxkIHJvd3MgJiB3aWRnZXQgYWRkZWQgKCByZW1vdmFibGUgKSByb3dzIC0gZml4ZXMgIzQ0OCB0aGFua3MgdG8gQGhlbXBlbCFcblx0XHRcdFx0Ly8gJHJvd3MgPSAkdGJvZHkuY2hpbGRyZW4oICd0cicgKS5ub3QoIGMuc2VsZWN0b3JSZW1vdmUgKTtcblx0XHRcdFx0Y29sdW1uSW5kZXggPSBjLmNvbHVtbnM7XG5cdFx0XHRcdC8vIGNvbnZlcnQgc3RvcmVkIHJvd3MgaW50byBhIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0bm9ybV9yb3dzID0gYy5jYWNoZVsgdGJvZHlJbmRleCBdLm5vcm1hbGl6ZWQ7XG5cdFx0XHRcdCRyb3dzID0gJCggJC5tYXAoIG5vcm1fcm93cywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHRcdHJldHVybiBlbFsgY29sdW1uSW5kZXggXS4kcm93LmdldCgpO1xuXHRcdFx0XHR9KSApO1xuXG5cdFx0XHRcdGlmICggY3VycmVudEZpbHRlcnMuam9pbignJykgPT09ICcnIHx8IHdvLmZpbHRlcl9zZXJ2ZXJzaWRlRmlsdGVyaW5nICkge1xuXHRcdFx0XHRcdCRyb3dzXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHdvLmZpbHRlcl9maWx0ZXJlZFJvdyApXG5cdFx0XHRcdFx0XHQubm90KCAnLicgKyBjLmNzc0NoaWxkUm93IClcblx0XHRcdFx0XHRcdC5jc3MoICdkaXNwbGF5JywgJycgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBmaWx0ZXIgb3V0IGNoaWxkIHJvd3Ncblx0XHRcdFx0XHQkcm93cyA9ICRyb3dzLm5vdCggJy4nICsgYy5jc3NDaGlsZFJvdyApO1xuXHRcdFx0XHRcdGxlbiA9ICRyb3dzLmxlbmd0aDtcblxuXHRcdFx0XHRcdGlmICggKCB3by5maWx0ZXJfJGFueU1hdGNoICYmIHdvLmZpbHRlcl8kYW55TWF0Y2gubGVuZ3RoICkgfHxcblx0XHRcdFx0XHRcdHR5cGVvZiBmaWx0ZXJzW2MuY29sdW1uc10gIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRcdFx0ZGF0YS5hbnlNYXRjaEZsYWcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0ZGF0YS5hbnlNYXRjaEZpbHRlciA9ICcnICsgKFxuXHRcdFx0XHRcdFx0XHRmaWx0ZXJzWyBjLmNvbHVtbnMgXSB8fFxuXHRcdFx0XHRcdFx0XHR3by5maWx0ZXJfJGFueU1hdGNoICYmIHRzZi5nZXRMYXRlc3RTZWFyY2goIHdvLmZpbHRlcl8kYW55TWF0Y2ggKS52YWwoKSB8fFxuXHRcdFx0XHRcdFx0XHQnJ1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGlmICggd28uZmlsdGVyX2NvbHVtbkFueU1hdGNoICkge1xuXHRcdFx0XHRcdFx0XHQvLyBzcGVjaWZpYyBjb2x1bW5zIHNlYXJjaFxuXHRcdFx0XHRcdFx0XHRxdWVyeSA9IGRhdGEuYW55TWF0Y2hGaWx0ZXIuc3BsaXQoIHRzZlJlZ2V4LmFuZFNwbGl0ICk7XG5cdFx0XHRcdFx0XHRcdGluamVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgcXVlcnkubGVuZ3RoOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzID0gcXVlcnlbIGluZHggXS5zcGxpdCggJzonICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXMubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIG1ha2UgdGhlIGNvbHVtbiBhIG9uZS1iYXNlZCBpbmRleCAoIG5vbi1kZXZlbG9wZXJzIHN0YXJ0IGNvdW50aW5nIGZyb20gb25lIDpQIClcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggaXNOYU4oIHJlc1swXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkLmVhY2goIGMuaGVhZGVyQ29udGVudCwgZnVuY3Rpb24oIGksIHR4dCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBtdWx0aXBsZSBtYXRjaGVzIGFyZSBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdHh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZiggcmVzWzBdICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkID0gaTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlcnNbIGlkIF0gPSByZXNbMV07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlkID0gcGFyc2VJbnQoIHJlc1swXSwgMTAgKSAtIDE7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGlkID49IDAgJiYgaWQgPCBjLmNvbHVtbnMgKSB7IC8vIGlmIGlkIGlzIGFuIGludGVnZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsdGVyc1sgaWQgXSA9IHJlc1sxXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cXVlcnkuc3BsaWNlKCBpbmR4LCAxICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGluZHgtLTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aW5qZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIGluamVjdGVkICkge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGEuYW55TWF0Y2hGaWx0ZXIgPSBxdWVyeS5qb2luKCAnICYmICcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIG9wdGltaXplIHNlYXJjaGluZyBvbmx5IHRocm91Z2ggYWxyZWFkeSBmaWx0ZXJlZCByb3dzIC0gc2VlICMzMTNcblx0XHRcdFx0XHRzZWFyY2hGaWx0ZXJlZCA9IHdvLmZpbHRlcl9zZWFyY2hGaWx0ZXJlZDtcblx0XHRcdFx0XHRsYXN0U2VhcmNoID0gYy5sYXN0U2VhcmNoIHx8IGMuJHRhYmxlLmRhdGEoICdsYXN0U2VhcmNoJyApIHx8IFtdO1xuXHRcdFx0XHRcdGlmICggc2VhcmNoRmlsdGVyZWQgKSB7XG5cdFx0XHRcdFx0XHQvLyBjeWNsZSB0aHJvdWdoIGFsbCBmaWx0ZXJzOyBpbmNsdWRlIGxhc3QgKCBjb2x1bW5JbmRleCArIDEgPSBtYXRjaCBhbnkgY29sdW1uICkuIEZpeGVzICM2Njlcblx0XHRcdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgY29sdW1uSW5kZXggKyAxOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0XHRcdHZhbCA9IGZpbHRlcnNbaW5keF0gfHwgJyc7XG5cdFx0XHRcdFx0XHRcdC8vIGJyZWFrIG91dCBvZiBsb29wIGlmIHdlJ3ZlIGFscmVhZHkgZGV0ZXJtaW5lZCBub3QgdG8gc2VhcmNoIGZpbHRlcmVkIHJvd3Ncblx0XHRcdFx0XHRcdFx0aWYgKCAhc2VhcmNoRmlsdGVyZWQgKSB7IGluZHggPSBjb2x1bW5JbmRleDsgfVxuXHRcdFx0XHRcdFx0XHQvLyBzZWFyY2ggYWxyZWFkeSBmaWx0ZXJlZCByb3dzIGlmLi4uXG5cdFx0XHRcdFx0XHRcdHNlYXJjaEZpbHRlcmVkID0gc2VhcmNoRmlsdGVyZWQgJiYgbGFzdFNlYXJjaC5sZW5ndGggJiZcblx0XHRcdFx0XHRcdFx0XHQvLyB0aGVyZSBhcmUgbm8gY2hhbmdlcyBmcm9tIGJlZ2lubmluZyBvZiBmaWx0ZXJcblx0XHRcdFx0XHRcdFx0XHR2YWwuaW5kZXhPZiggbGFzdFNlYXJjaFtpbmR4XSB8fCAnJyApID09PSAwICYmXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgTk9UIGEgbG9naWNhbCAnb3InLCBvciByYW5nZSAoICd0bycgb3IgJy0nICkgaW4gdGhlIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdCF0c2ZSZWdleC5hbHJlYWR5RmlsdGVyZWQudGVzdCggdmFsICkgJiZcblx0XHRcdFx0XHRcdFx0XHQvLyBpZiB3ZSBhcmUgbm90IGRvaW5nIGV4YWN0IG1hdGNoZXMsIHVzaW5nICd8JyAoIGxvZ2ljYWwgb3IgKSBvciBub3QgJyEnXG5cdFx0XHRcdFx0XHRcdFx0IXRzZlJlZ2V4LmV4YWN0VGVzdC50ZXN0KCB2YWwgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdC8vIGRvbid0IHNlYXJjaCBvbmx5IGZpbHRlcmVkIGlmIHRoZSB2YWx1ZSBpcyBuZWdhdGl2ZVxuXHRcdFx0XHRcdFx0XHRcdC8vICggJz4gLTEwJyA9PiAnPiAtMTAwJyB3aWxsIGlnbm9yZSBoaWRkZW4gcm93cyApXG5cdFx0XHRcdFx0XHRcdFx0ISggdHNmUmVnZXguaXNOZWcxLnRlc3QoIHZhbCApIHx8IHRzZlJlZ2V4LmlzTmVnMi50ZXN0KCB2YWwgKSApICYmXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaWYgZmlsdGVyaW5nIHVzaW5nIGEgc2VsZWN0IHdpdGhvdXQgYSAnZmlsdGVyLW1hdGNoJyBjbGFzcyAoIGV4YWN0IG1hdGNoICkgLSBmaXhlcyAjNTkzXG5cdFx0XHRcdFx0XHRcdFx0ISggdmFsICE9PSAnJyAmJiBjLiRmaWx0ZXJzICYmIGMuJGZpbHRlcnMuZmlsdGVyKCAnW2RhdGEtY29sdW1uPVwiJyArIGluZHggKyAnXCJdJyApLmZpbmQoICdzZWxlY3QnICkubGVuZ3RoICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQhdHNmLm1hdGNoVHlwZSggYywgaW5keCApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5vdEZpbHRlcmVkID0gJHJvd3Mubm90KCAnLicgKyB3by5maWx0ZXJfZmlsdGVyZWRSb3cgKS5sZW5ndGg7XG5cdFx0XHRcdFx0Ly8gY2FuJ3Qgc2VhcmNoIHdoZW4gYWxsIHJvd3MgYXJlIGhpZGRlbiAtIHRoaXMgaGFwcGVucyB3aGVuIGxvb2tpbmcgZm9yIGV4YWN0IG1hdGNoZXNcblx0XHRcdFx0XHRpZiAoIHNlYXJjaEZpbHRlcmVkICYmIG5vdEZpbHRlcmVkID09PSAwICkgeyBzZWFyY2hGaWx0ZXJlZCA9IGZhbHNlOyB9XG5cdFx0XHRcdFx0aWYgKCBkZWJ1ZyApIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnRmlsdGVyID4+IFNlYXJjaGluZyB0aHJvdWdoICcgK1xuXHRcdFx0XHRcdFx0XHQoIHNlYXJjaEZpbHRlcmVkICYmIG5vdEZpbHRlcmVkIDwgbGVuID8gbm90RmlsdGVyZWQgOiAnYWxsJyApICsgJyByb3dzJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIGRhdGEuYW55TWF0Y2hGbGFnICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjLnNvcnRMb2NhbGVDb21wYXJlICkge1xuXHRcdFx0XHRcdFx0XHQvLyByZXBsYWNlIGFjY2VudHNcblx0XHRcdFx0XHRcdFx0ZGF0YS5hbnlNYXRjaEZpbHRlciA9IHRzLnJlcGxhY2VBY2NlbnRzKCBkYXRhLmFueU1hdGNoRmlsdGVyICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIHdvLmZpbHRlcl9kZWZhdWx0RmlsdGVyICYmIHRzZlJlZ2V4LmlRdWVyeS50ZXN0KCB2YXJzLmRlZmF1bHRBbnlGaWx0ZXIgKSApIHtcblx0XHRcdFx0XHRcdFx0ZGF0YS5hbnlNYXRjaEZpbHRlciA9IHRzZi5kZWZhdWx0RmlsdGVyKCBkYXRhLmFueU1hdGNoRmlsdGVyLCB2YXJzLmRlZmF1bHRBbnlGaWx0ZXIgKTtcblx0XHRcdFx0XHRcdFx0Ly8gY2xlYXIgc2VhcmNoIGZpbHRlcmVkIGZsYWcgYmVjYXVzZSBkZWZhdWx0IGZpbHRlcnMgYXJlIG5vdCBzYXZlZCB0byB0aGUgbGFzdCBzZWFyY2hcblx0XHRcdFx0XHRcdFx0c2VhcmNoRmlsdGVyZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIG1ha2UgaUFueU1hdGNoRmlsdGVyIGxvd2VyY2FzZSB1bmxlc3MgYm90aCBmaWx0ZXIgd2lkZ2V0ICYgY29yZSBpZ25vcmVDYXNlIG9wdGlvbnMgYXJlIHRydWVcblx0XHRcdFx0XHRcdC8vIHdoZW4gYy5pZ25vcmVDYXNlIGlzIHRydWUsIHRoZSBjYWNoZSBjb250YWlucyBhbGwgbG93ZXIgY2FzZSBkYXRhXG5cdFx0XHRcdFx0XHRkYXRhLmlBbnlNYXRjaEZpbHRlciA9ICEoIHdvLmZpbHRlcl9pZ25vcmVDYXNlICYmIGMuaWdub3JlQ2FzZSApID9cblx0XHRcdFx0XHRcdFx0ZGF0YS5hbnlNYXRjaEZpbHRlciA6XG5cdFx0XHRcdFx0XHRcdGRhdGEuYW55TWF0Y2hGaWx0ZXIudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBsb29wIHRocm91Z2ggdGhlIHJvd3Ncblx0XHRcdFx0XHRmb3IgKCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgbGVuOyByb3dJbmRleCsrICkge1xuXG5cdFx0XHRcdFx0XHR0eHQgPSAkcm93c1sgcm93SW5kZXggXS5jbGFzc05hbWU7XG5cdFx0XHRcdFx0XHQvLyB0aGUgZmlyc3Qgcm93IGNhbiBuZXZlciBiZSBhIGNoaWxkIHJvd1xuXHRcdFx0XHRcdFx0aXNDaGlsZCA9IHJvd0luZGV4ICYmIHRzZlJlZ2V4LmNoaWxkLnRlc3QoIHR4dCApO1xuXHRcdFx0XHRcdFx0Ly8gc2tpcCBjaGlsZCByb3dzICYgYWxyZWFkeSBmaWx0ZXJlZCByb3dzXG5cdFx0XHRcdFx0XHRpZiAoIGlzQ2hpbGQgfHwgKCBzZWFyY2hGaWx0ZXJlZCAmJiB0c2ZSZWdleC5maWx0ZXJlZC50ZXN0KCB0eHQgKSApICkge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZGF0YS4kcm93ID0gJHJvd3MuZXEoIHJvd0luZGV4ICk7XG5cdFx0XHRcdFx0XHRkYXRhLnJvd0luZGV4ID0gcm93SW5kZXg7XG5cdFx0XHRcdFx0XHRkYXRhLmNhY2hlQXJyYXkgPSBub3JtX3Jvd3NbIHJvd0luZGV4IF07XG5cdFx0XHRcdFx0XHRyb3dEYXRhID0gZGF0YS5jYWNoZUFycmF5WyBjLmNvbHVtbnMgXTtcblx0XHRcdFx0XHRcdGRhdGEucmF3QXJyYXkgPSByb3dEYXRhLnJhdztcblx0XHRcdFx0XHRcdGRhdGEuY2hpbGRSb3dUZXh0ID0gJyc7XG5cblx0XHRcdFx0XHRcdGlmICggIXdvLmZpbHRlcl9jaGlsZEJ5Q29sdW1uICkge1xuXHRcdFx0XHRcdFx0XHR0eHQgPSAnJztcblx0XHRcdFx0XHRcdFx0Ly8gY2hpbGQgcm93IGNhY2hlZCB0ZXh0XG5cdFx0XHRcdFx0XHRcdGNoaWxkUm93ID0gcm93RGF0YS5jaGlsZDtcblx0XHRcdFx0XHRcdFx0Ly8gc28sIGlmICd0YWJsZS5jb25maWcud2lkZ2V0T3B0aW9ucy5maWx0ZXJfY2hpbGRSb3dzJyBpcyB0cnVlIGFuZCB0aGVyZSBpc1xuXHRcdFx0XHRcdFx0XHQvLyBhIG1hdGNoIGFueXdoZXJlIGluIHRoZSBjaGlsZCByb3csIHRoZW4gaXQgd2lsbCBtYWtlIHRoZSByb3cgdmlzaWJsZVxuXHRcdFx0XHRcdFx0XHQvLyBjaGVja2VkIGhlcmUgc28gdGhlIG9wdGlvbiBjYW4gYmUgY2hhbmdlZCBkeW5hbWljYWxseVxuXHRcdFx0XHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGNoaWxkUm93Lmxlbmd0aDsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0XHRcdHR4dCArPSAnICcgKyBjaGlsZFJvd1tpbmR4XS5qb2luKCAnICcgKSB8fCAnJztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRkYXRhLmNoaWxkUm93VGV4dCA9IHdvLmZpbHRlcl9jaGlsZFJvd3MgP1xuXHRcdFx0XHRcdFx0XHRcdCggd28uZmlsdGVyX2lnbm9yZUNhc2UgPyB0eHQudG9Mb3dlckNhc2UoKSA6IHR4dCApIDpcblx0XHRcdFx0XHRcdFx0XHQnJztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c2hvd1JvdyA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0c2hvd1BhcmVudCA9IHRzZi5wcm9jZXNzUm93KCBjLCBkYXRhLCB2YXJzICk7XG5cdFx0XHRcdFx0XHQkcm93ID0gcm93RGF0YS4kcm93O1xuXG5cdFx0XHRcdFx0XHQvLyBkb24ndCBwYXNzIHJlZmVyZW5jZSB0byB2YWxcblx0XHRcdFx0XHRcdHZhbCA9IHNob3dQYXJlbnQgPyB0cnVlIDogZmFsc2U7XG5cdFx0XHRcdFx0XHRjaGlsZFJvdyA9IHJvd0RhdGEuJHJvdy5maWx0ZXIoICc6Z3QoMCknICk7XG5cdFx0XHRcdFx0XHRpZiAoIHdvLmZpbHRlcl9jaGlsZFJvd3MgJiYgY2hpbGRSb3cubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHdvLmZpbHRlcl9jaGlsZEJ5Q29sdW1uICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIXdvLmZpbHRlcl9jaGlsZFdpdGhTaWJzICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaGlkZSBhbGwgY2hpbGQgcm93c1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRSb3cuYWRkQ2xhc3MoIHdvLmZpbHRlcl9maWx0ZXJlZFJvdyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaWYgb25seSBzaG93aW5nIHJlc3VsdGluZyBjaGlsZCByb3csIG9ubHkgaW5jbHVkZSBwYXJlbnRcblx0XHRcdFx0XHRcdFx0XHRcdCRyb3cgPSAkcm93LmVxKCAwICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIGN5Y2xlIHRocm91Z2ggZWFjaCBjaGlsZCByb3dcblx0XHRcdFx0XHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGNoaWxkUm93Lmxlbmd0aDsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS4kcm93ID0gY2hpbGRSb3cuZXEoIGluZHggKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGEuY2FjaGVBcnJheSA9IHJvd0RhdGEuY2hpbGRbIGluZHggXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGEucmF3QXJyYXkgPSBkYXRhLmNhY2hlQXJyYXk7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YWwgPSB0c2YucHJvY2Vzc1JvdyggYywgZGF0YSwgdmFycyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gdXNlIE9SIGNvbXBhcmlzb24gb24gY2hpbGQgcm93c1xuXHRcdFx0XHRcdFx0XHRcdFx0c2hvd1JvdyA9IHNob3dSb3cgfHwgdmFsO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAhd28uZmlsdGVyX2NoaWxkV2l0aFNpYnMgJiYgdmFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGlsZFJvdy5lcSggaW5keCApLnJlbW92ZUNsYXNzKCB3by5maWx0ZXJfZmlsdGVyZWRSb3cgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Ly8ga2VlcCBwYXJlbnQgcm93IG1hdGNoIGV2ZW4gaWYgbm8gY2hpbGQgbWF0Y2hlcy4uLiBzZWUgIzEwMjBcblx0XHRcdFx0XHRcdFx0c2hvd1JvdyA9IHNob3dSb3cgfHwgc2hvd1BhcmVudDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNob3dSb3cgPSB2YWw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQkcm93XG5cdFx0XHRcdFx0XHRcdC50b2dnbGVDbGFzcyggd28uZmlsdGVyX2ZpbHRlcmVkUm93LCAhc2hvd1JvdyApWzBdXG5cdFx0XHRcdFx0XHRcdC5kaXNwbGF5ID0gc2hvd1JvdyA/ICcnIDogJ25vbmUnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjLmZpbHRlcmVkUm93cyArPSAkcm93cy5ub3QoICcuJyArIHdvLmZpbHRlcl9maWx0ZXJlZFJvdyApLmxlbmd0aDtcblx0XHRcdFx0Yy50b3RhbFJvd3MgKz0gJHJvd3MubGVuZ3RoO1xuXHRcdFx0XHR0cy5wcm9jZXNzVGJvZHkoIHRhYmxlLCAkdGJvZHksIGZhbHNlICk7XG5cdFx0XHR9XG5cdFx0XHQvLyBsYXN0Q29tYmluZWRGaWx0ZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseVxuXHRcdFx0Yy5sYXN0Q29tYmluZWRGaWx0ZXIgPSBzdG9yZWRGaWx0ZXJzLmpvaW4oJycpOyAvLyBzYXZlIGxhc3Qgc2VhcmNoXG5cdFx0XHQvLyBkb24ndCBzYXZlICdmaWx0ZXJzJyBkaXJlY3RseSBzaW5jZSBpdCBtYXkgaGF2ZSBhbHRlcmVkICggQW55TWF0Y2ggY29sdW1uIHNlYXJjaGVzIClcblx0XHRcdGMubGFzdFNlYXJjaCA9IHN0b3JlZEZpbHRlcnM7XG5cdFx0XHRjLiR0YWJsZS5kYXRhKCAnbGFzdFNlYXJjaCcsIHN0b3JlZEZpbHRlcnMgKTtcblx0XHRcdGlmICggd28uZmlsdGVyX3NhdmVGaWx0ZXJzICYmIHRzLnN0b3JhZ2UgKSB7XG5cdFx0XHRcdHRzLnN0b3JhZ2UoIHRhYmxlLCAndGFibGVzb3J0ZXItZmlsdGVycycsIHRzZi5wcm9jZXNzRmlsdGVycyggc3RvcmVkRmlsdGVycywgdHJ1ZSApICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGRlYnVnICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggJ0ZpbHRlciA+PiBDb21wbGV0ZWQgc2VhcmNoJyArIHRzLmJlbmNobWFyayh0aW1lKSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB3by5maWx0ZXJfaW5pdGlhbGl6ZWQgKSB7XG5cdFx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAnZmlsdGVyQmVmb3JlRW5kJywgYyApO1xuXHRcdFx0XHRjLiR0YWJsZS50cmlnZ2VySGFuZGxlciggJ2ZpbHRlckVuZCcsIGMgKTtcblx0XHRcdH1cblx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0cy5hcHBseVdpZGdldCggYy50YWJsZSApOyAvLyBtYWtlIHN1cmUgemVicmEgd2lkZ2V0IGlzIGFwcGxpZWRcblx0XHRcdH0sIDAgKTtcblx0XHR9LFxuXHRcdGdldE9wdGlvblNvdXJjZTogZnVuY3Rpb24oIHRhYmxlLCBjb2x1bW4sIG9ubHlBdmFpbCApIHtcblx0XHRcdHRhYmxlID0gJCggdGFibGUgKVswXTtcblx0XHRcdHZhciBjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHR3byA9IGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0YXJyeSA9IGZhbHNlLFxuXHRcdFx0XHRzb3VyY2UgPSB3by5maWx0ZXJfc2VsZWN0U291cmNlLFxuXHRcdFx0XHRsYXN0ID0gYy4kdGFibGUuZGF0YSggJ2xhc3RTZWFyY2gnICkgfHwgW10sXG5cdFx0XHRcdGZ4biA9IHR5cGVvZiBzb3VyY2UgPT09ICdmdW5jdGlvbicgPyB0cnVlIDogdHMuZ2V0Q29sdW1uRGF0YSggdGFibGUsIHNvdXJjZSwgY29sdW1uICk7XG5cblx0XHRcdGlmICggb25seUF2YWlsICYmIGxhc3RbY29sdW1uXSAhPT0gJycgKSB7XG5cdFx0XHRcdG9ubHlBdmFpbCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBmaWx0ZXIgc2VsZWN0IHNvdXJjZSBvcHRpb25cblx0XHRcdGlmICggZnhuID09PSB0cnVlICkge1xuXHRcdFx0XHQvLyBPVkVSQUxMIHNvdXJjZVxuXHRcdFx0XHRhcnJ5ID0gc291cmNlKCB0YWJsZSwgY29sdW1uLCBvbmx5QXZhaWwgKTtcblx0XHRcdH0gZWxzZSBpZiAoIGZ4biBpbnN0YW5jZW9mICQgfHwgKCAkLnR5cGUoIGZ4biApID09PSAnc3RyaW5nJyAmJiBmeG4uaW5kZXhPZiggJzwvb3B0aW9uPicgKSA+PSAwICkgKSB7XG5cdFx0XHRcdC8vIHNlbGVjdFNvdXJjZSBpcyBhIGpRdWVyeSBvYmplY3Qgb3Igc3RyaW5nIG9mIG9wdGlvbnNcblx0XHRcdFx0cmV0dXJuIGZ4bjtcblx0XHRcdH0gZWxzZSBpZiAoICQuaXNBcnJheSggZnhuICkgKSB7XG5cdFx0XHRcdGFycnkgPSBmeG47XG5cdFx0XHR9IGVsc2UgaWYgKCAkLnR5cGUoIHNvdXJjZSApID09PSAnb2JqZWN0JyAmJiBmeG4gKSB7XG5cdFx0XHRcdC8vIGN1c3RvbSBzZWxlY3Qgc291cmNlIGZ1bmN0aW9uIGZvciBhIFNQRUNJRklDIENPTFVNTlxuXHRcdFx0XHRhcnJ5ID0gZnhuKCB0YWJsZSwgY29sdW1uLCBvbmx5QXZhaWwgKTtcblx0XHRcdFx0Ly8gYWJvcnQgLSB1cGRhdGluZyB0aGUgc2VsZWN0cyBmcm9tIGFuIGV4dGVybmFsIG1ldGhvZFxuXHRcdFx0XHRpZiAoYXJyeSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGFycnkgPT09IGZhbHNlICkge1xuXHRcdFx0XHQvLyBmYWxsIGJhY2sgdG8gb3JpZ2luYWwgbWV0aG9kXG5cdFx0XHRcdGFycnkgPSB0c2YuZ2V0T3B0aW9ucyggdGFibGUsIGNvbHVtbiwgb25seUF2YWlsICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0c2YucHJvY2Vzc09wdGlvbnMoIHRhYmxlLCBjb2x1bW4sIGFycnkgKTtcblxuXHRcdH0sXG5cdFx0cHJvY2Vzc09wdGlvbnM6IGZ1bmN0aW9uKCB0YWJsZSwgY29sdW1uLCBhcnJ5ICkge1xuXHRcdFx0aWYgKCAhJC5pc0FycmF5KCBhcnJ5ICkgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHRhYmxlID0gJCggdGFibGUgKVswXTtcblx0XHRcdHZhciBjdHMsIHR4dCwgaW5keCwgbGVuLCBwYXJzZWRUeHQsIHN0cixcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0dmFsaWRDb2x1bW4gPSB0eXBlb2YgY29sdW1uICE9PSAndW5kZWZpbmVkJyAmJiBjb2x1bW4gIT09IG51bGwgJiYgY29sdW1uID49IDAgJiYgY29sdW1uIDwgYy5jb2x1bW5zLFxuXHRcdFx0XHRkaXJlY3Rpb24gPSB2YWxpZENvbHVtbiA/IGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdLmhhc0NsYXNzKCAnZmlsdGVyLXNlbGVjdC1zb3J0LWRlc2MnICkgOiBmYWxzZSxcblx0XHRcdFx0cGFyc2VkID0gW107XG5cdFx0XHQvLyBnZXQgdW5pcXVlIGVsZW1lbnRzIGFuZCBzb3J0IHRoZSBsaXN0XG5cdFx0XHQvLyBpZiAkLnRhYmxlc29ydGVyLnNvcnRUZXh0IGV4aXN0cyAoIG5vdCBpbiB0aGUgb3JpZ2luYWwgdGFibGVzb3J0ZXIgKSxcblx0XHRcdC8vIHRoZW4gbmF0dXJhbCBzb3J0IHRoZSBsaXN0IG90aGVyd2lzZSB1c2UgYSBiYXNpYyBzb3J0XG5cdFx0XHRhcnJ5ID0gJC5ncmVwKCBhcnJ5LCBmdW5jdGlvbiggdmFsdWUsIGluZHggKSB7XG5cdFx0XHRcdGlmICggdmFsdWUudGV4dCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJC5pbkFycmF5KCB2YWx1ZSwgYXJyeSApID09PSBpbmR4O1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAoIHZhbGlkQ29sdW1uICYmIGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdLmhhc0NsYXNzKCAnZmlsdGVyLXNlbGVjdC1ub3NvcnQnICkgKSB7XG5cdFx0XHRcdC8vIHVuc29ydGVkIHNlbGVjdCBvcHRpb25zXG5cdFx0XHRcdHJldHVybiBhcnJ5O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGVuID0gYXJyeS5sZW5ndGg7XG5cdFx0XHRcdC8vIHBhcnNlIHNlbGVjdCBvcHRpb24gdmFsdWVzXG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgbGVuOyBpbmR4KysgKSB7XG5cdFx0XHRcdFx0dHh0ID0gYXJyeVsgaW5keCBdO1xuXHRcdFx0XHRcdC8vIGNoZWNrIGZvciBvYmplY3Rcblx0XHRcdFx0XHRzdHIgPSB0eHQudGV4dCA/IHR4dC50ZXh0IDogdHh0O1xuXHRcdFx0XHRcdC8vIHNvcnROYXR1cmFsIGJyZWFrcyBpZiB5b3UgZG9uJ3QgcGFzcyBpdCBzdHJpbmdzXG5cdFx0XHRcdFx0cGFyc2VkVHh0ID0gKCB2YWxpZENvbHVtbiAmJiBjLnBhcnNlcnMgJiYgYy5wYXJzZXJzLmxlbmd0aCAmJlxuXHRcdFx0XHRcdFx0Yy5wYXJzZXJzWyBjb2x1bW4gXS5mb3JtYXQoIHN0ciwgdGFibGUsIFtdLCBjb2x1bW4gKSB8fCBzdHIgKS50b1N0cmluZygpO1xuXHRcdFx0XHRcdHBhcnNlZFR4dCA9IGMud2lkZ2V0T3B0aW9ucy5maWx0ZXJfaWdub3JlQ2FzZSA/IHBhcnNlZFR4dC50b0xvd2VyQ2FzZSgpIDogcGFyc2VkVHh0O1xuXHRcdFx0XHRcdC8vIHBhcnNlIGFycmF5IGRhdGEgdXNpbmcgc2V0IGNvbHVtbiBwYXJzZXI7IHRoaXMgRE9FUyBOT1QgcGFzcyB0aGUgb3JpZ2luYWxcblx0XHRcdFx0XHQvLyB0YWJsZSBjZWxsIHRvIHRoZSBwYXJzZXIgZm9ybWF0IGZ1bmN0aW9uXG5cdFx0XHRcdFx0aWYgKCB0eHQudGV4dCApIHtcblx0XHRcdFx0XHRcdHR4dC5wYXJzZWQgPSBwYXJzZWRUeHQ7XG5cdFx0XHRcdFx0XHRwYXJzZWRbIHBhcnNlZC5sZW5ndGggXSA9IHR4dDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGFyc2VkWyBwYXJzZWQubGVuZ3RoIF0gPSB7XG5cdFx0XHRcdFx0XHRcdHRleHQgOiB0eHQsXG5cdFx0XHRcdFx0XHRcdC8vIGNoZWNrIHBhcnNlciBsZW5ndGggLSBmaXhlcyAjOTM0XG5cdFx0XHRcdFx0XHRcdHBhcnNlZCA6IHBhcnNlZFR4dFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gc29ydCBwYXJzZWQgc2VsZWN0IG9wdGlvbnNcblx0XHRcdFx0Y3RzID0gYy50ZXh0U29ydGVyIHx8ICcnO1xuXHRcdFx0XHRwYXJzZWQuc29ydCggZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRcdFx0dmFyIHggPSBkaXJlY3Rpb24gPyBiLnBhcnNlZCA6IGEucGFyc2VkLFxuXHRcdFx0XHRcdFx0eSA9IGRpcmVjdGlvbiA/IGEucGFyc2VkIDogYi5wYXJzZWQ7XG5cdFx0XHRcdFx0aWYgKCB2YWxpZENvbHVtbiAmJiB0eXBlb2YgY3RzID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRcdFx0Ly8gY3VzdG9tIE9WRVJBTEwgdGV4dCBzb3J0ZXJcblx0XHRcdFx0XHRcdHJldHVybiBjdHMoIHgsIHksIHRydWUsIGNvbHVtbiwgdGFibGUgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCB2YWxpZENvbHVtbiAmJiB0eXBlb2YgY3RzID09PSAnb2JqZWN0JyAmJiBjdHMuaGFzT3duUHJvcGVydHkoIGNvbHVtbiApICkge1xuXHRcdFx0XHRcdFx0Ly8gY3VzdG9tIHRleHQgc29ydGVyIGZvciBhIFNQRUNJRklDIENPTFVNTlxuXHRcdFx0XHRcdFx0cmV0dXJuIGN0c1tjb2x1bW5dKCB4LCB5LCB0cnVlLCBjb2x1bW4sIHRhYmxlICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggdHMuc29ydE5hdHVyYWwgKSB7XG5cdFx0XHRcdFx0XHQvLyBmYWxsIGJhY2sgdG8gbmF0dXJhbCBzb3J0XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHMuc29ydE5hdHVyYWwoIHgsIHkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gdXNpbmcgYW4gb2xkZXIgdmVyc2lvbiEgZG8gYSBiYXNpYyBzb3J0XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyByZWJ1aWxkIGFycnkgZnJvbSBzb3J0ZWQgcGFyc2VkIGRhdGFcblx0XHRcdFx0YXJyeSA9IFtdO1xuXHRcdFx0XHRsZW4gPSBwYXJzZWQubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCBpbmR4ID0gMDsgaW5keCA8IGxlbjsgaW5keCsrICkge1xuXHRcdFx0XHRcdGFycnlbIGFycnkubGVuZ3RoIF0gPSBwYXJzZWRbaW5keF07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGFycnk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRnZXRPcHRpb25zOiBmdW5jdGlvbiggdGFibGUsIGNvbHVtbiwgb25seUF2YWlsICkge1xuXHRcdFx0dGFibGUgPSAkKCB0YWJsZSApWzBdO1xuXHRcdFx0dmFyIHJvd0luZGV4LCB0Ym9keUluZGV4LCBsZW4sIHJvdywgY2FjaGUsIGluZHgsIGNoaWxkLCBjaGlsZExlbixcblx0XHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjLndpZGdldE9wdGlvbnMsXG5cdFx0XHRcdGFycnkgPSBbXTtcblx0XHRcdGZvciAoIHRib2R5SW5kZXggPSAwOyB0Ym9keUluZGV4IDwgYy4kdGJvZGllcy5sZW5ndGg7IHRib2R5SW5kZXgrKyApIHtcblx0XHRcdFx0Y2FjaGUgPSBjLmNhY2hlW3Rib2R5SW5kZXhdO1xuXHRcdFx0XHRsZW4gPSBjLmNhY2hlW3Rib2R5SW5kZXhdLm5vcm1hbGl6ZWQubGVuZ3RoO1xuXHRcdFx0XHQvLyBsb29wIHRocm91Z2ggdGhlIHJvd3Ncblx0XHRcdFx0Zm9yICggcm93SW5kZXggPSAwOyByb3dJbmRleCA8IGxlbjsgcm93SW5kZXgrKyApIHtcblx0XHRcdFx0XHQvLyBnZXQgY2FjaGVkIHJvdyBmcm9tIGNhY2hlLnJvdyAoIG9sZCApIG9yIHJvdyBkYXRhIG9iamVjdFxuXHRcdFx0XHRcdC8vICggbmV3OyBsYXN0IGl0ZW0gaW4gbm9ybWFsaXplZCBhcnJheSApXG5cdFx0XHRcdFx0cm93ID0gY2FjaGUucm93ID9cblx0XHRcdFx0XHRcdGNhY2hlLnJvd1sgcm93SW5kZXggXSA6XG5cdFx0XHRcdFx0XHRjYWNoZS5ub3JtYWxpemVkWyByb3dJbmRleCBdWyBjLmNvbHVtbnMgXS4kcm93WzBdO1xuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIGhhcyBjbGFzcyBmaWx0ZXJlZFxuXHRcdFx0XHRcdGlmICggb25seUF2YWlsICYmIHJvdy5jbGFzc05hbWUubWF0Y2goIHdvLmZpbHRlcl9maWx0ZXJlZFJvdyApICkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGdldCBub24tbm9ybWFsaXplZCBjZWxsIGNvbnRlbnRcblx0XHRcdFx0XHRpZiAoIHdvLmZpbHRlcl91c2VQYXJzZWREYXRhIHx8XG5cdFx0XHRcdFx0XHRjLnBhcnNlcnNbY29sdW1uXS5wYXJzZWQgfHxcblx0XHRcdFx0XHRcdGMuJGhlYWRlckluZGV4ZWRbY29sdW1uXS5oYXNDbGFzcyggJ2ZpbHRlci1wYXJzZWQnICkgKSB7XG5cdFx0XHRcdFx0XHRhcnJ5WyBhcnJ5Lmxlbmd0aCBdID0gJycgKyBjYWNoZS5ub3JtYWxpemVkWyByb3dJbmRleCBdWyBjb2x1bW4gXTtcblx0XHRcdFx0XHRcdC8vIGNoaWxkIHJvdyBwYXJzZWQgZGF0YVxuXHRcdFx0XHRcdFx0aWYgKCB3by5maWx0ZXJfY2hpbGRSb3dzICYmIHdvLmZpbHRlcl9jaGlsZEJ5Q29sdW1uICkge1xuXHRcdFx0XHRcdFx0XHRjaGlsZExlbiA9IGNhY2hlLm5vcm1hbGl6ZWRbIHJvd0luZGV4IF1bIGMuY29sdW1ucyBdLiRyb3cubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdFx0Zm9yICggaW5keCA9IDA7IGluZHggPCBjaGlsZExlbjsgaW5keCsrICkge1xuXHRcdFx0XHRcdFx0XHRcdGFycnlbIGFycnkubGVuZ3RoIF0gPSAnJyArIGNhY2hlLm5vcm1hbGl6ZWRbIHJvd0luZGV4IF1bIGMuY29sdW1ucyBdLmNoaWxkWyBpbmR4IF1bIGNvbHVtbiBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGdldCByYXcgY2FjaGVkIGRhdGEgaW5zdGVhZCBvZiBjb250ZW50IGRpcmVjdGx5IGZyb20gdGhlIGNlbGxzXG5cdFx0XHRcdFx0XHRhcnJ5WyBhcnJ5Lmxlbmd0aCBdID0gY2FjaGUubm9ybWFsaXplZFsgcm93SW5kZXggXVsgYy5jb2x1bW5zIF0ucmF3WyBjb2x1bW4gXTtcblx0XHRcdFx0XHRcdC8vIGNoaWxkIHJvdyB1bnBhcnNlZCBkYXRhXG5cdFx0XHRcdFx0XHRpZiAoIHdvLmZpbHRlcl9jaGlsZFJvd3MgJiYgd28uZmlsdGVyX2NoaWxkQnlDb2x1bW4gKSB7XG5cdFx0XHRcdFx0XHRcdGNoaWxkTGVuID0gY2FjaGUubm9ybWFsaXplZFsgcm93SW5kZXggXVsgYy5jb2x1bW5zIF0uJHJvdy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdGZvciAoIGluZHggPSAxOyBpbmR4IDwgY2hpbGRMZW47IGluZHgrKyApIHtcblx0XHRcdFx0XHRcdFx0XHRjaGlsZCA9ICBjYWNoZS5ub3JtYWxpemVkWyByb3dJbmRleCBdWyBjLmNvbHVtbnMgXS4kcm93LmVxKCBpbmR4ICkuY2hpbGRyZW4oKS5lcSggY29sdW1uICk7XG5cdFx0XHRcdFx0XHRcdFx0YXJyeVsgYXJyeS5sZW5ndGggXSA9ICcnICsgdHMuZ2V0RWxlbWVudFRleHQoIGMsIGNoaWxkLCBjb2x1bW4gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGFycnk7XG5cdFx0fSxcblx0XHRidWlsZFNlbGVjdDogZnVuY3Rpb24oIHRhYmxlLCBjb2x1bW4sIGFycnksIHVwZGF0aW5nLCBvbmx5QXZhaWwgKSB7XG5cdFx0XHR0YWJsZSA9ICQoIHRhYmxlIClbMF07XG5cdFx0XHRjb2x1bW4gPSBwYXJzZUludCggY29sdW1uLCAxMCApO1xuXHRcdFx0aWYgKCAhdGFibGUuY29uZmlnLmNhY2hlIHx8ICQuaXNFbXB0eU9iamVjdCggdGFibGUuY29uZmlnLmNhY2hlICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGluZHgsIHZhbCwgdHh0LCB0LCAkZmlsdGVycywgJGZpbHRlciwgb3B0aW9uLFxuXHRcdFx0XHRjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHR3byA9IGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0bm9kZSA9IGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdLFxuXHRcdFx0XHQvLyB0LmRhdGEoICdwbGFjZWhvbGRlcicgKSB3b24ndCB3b3JrIGluIGpRdWVyeSBvbGRlciB0aGFuIDEuNC4zXG5cdFx0XHRcdG9wdGlvbnMgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPicgK1xuXHRcdFx0XHRcdCggbm9kZS5kYXRhKCAncGxhY2Vob2xkZXInICkgfHxcblx0XHRcdFx0XHRcdG5vZGUuYXR0ciggJ2RhdGEtcGxhY2Vob2xkZXInICkgfHxcblx0XHRcdFx0XHRcdHdvLmZpbHRlcl9wbGFjZWhvbGRlci5zZWxlY3QgfHwgJydcblx0XHRcdFx0XHQpICsgJzwvb3B0aW9uPicsXG5cdFx0XHRcdC8vIEdldCBjdXJlbnQgZmlsdGVyIHZhbHVlXG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGMuJHRhYmxlXG5cdFx0XHRcdFx0LmZpbmQoICd0aGVhZCcgKVxuXHRcdFx0XHRcdC5maW5kKCAnc2VsZWN0LicgKyB0c2Nzcy5maWx0ZXIgKyAnW2RhdGEtY29sdW1uPVwiJyArIGNvbHVtbiArICdcIl0nIClcblx0XHRcdFx0XHQudmFsKCk7XG5cblx0XHRcdC8vIG5vdGhpbmcgaW5jbHVkZWQgaW4gYXJyeSAoIGV4dGVybmFsIHNvdXJjZSApLCBzbyBnZXQgdGhlIG9wdGlvbnMgZnJvbVxuXHRcdFx0Ly8gZmlsdGVyX3NlbGVjdFNvdXJjZSBvciBjb2x1bW4gZGF0YVxuXHRcdFx0aWYgKCB0eXBlb2YgYXJyeSA9PT0gJ3VuZGVmaW5lZCcgfHwgYXJyeSA9PT0gJycgKSB7XG5cdFx0XHRcdGFycnkgPSB0c2YuZ2V0T3B0aW9uU291cmNlKCB0YWJsZSwgY29sdW1uLCBvbmx5QXZhaWwgKTtcblx0XHRcdFx0Ly8gYWJvcnQsIHNlbGVjdHMgYXJlIHVwZGF0ZWQgYnkgYW4gZXh0ZXJuYWwgbWV0aG9kXG5cdFx0XHRcdGlmIChhcnJ5ID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggJC5pc0FycmF5KCBhcnJ5ICkgKSB7XG5cdFx0XHRcdC8vIGJ1aWxkIG9wdGlvbiBsaXN0XG5cdFx0XHRcdGZvciAoIGluZHggPSAwOyBpbmR4IDwgYXJyeS5sZW5ndGg7IGluZHgrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBhcnJ5WyBpbmR4IF07XG5cdFx0XHRcdFx0aWYgKCBvcHRpb24udGV4dCApIHtcblx0XHRcdFx0XHRcdC8vIE9CSkVDVCEhIGFkZCBkYXRhLWZ1bmN0aW9uLW5hbWUgaW4gY2FzZSB0aGUgdmFsdWUgaXMgc2V0IGluIGZpbHRlcl9mdW5jdGlvbnNcblx0XHRcdFx0XHRcdG9wdGlvblsnZGF0YS1mdW5jdGlvbi1uYW1lJ10gPSB0eXBlb2Ygb3B0aW9uLnZhbHVlID09PSAndW5kZWZpbmVkJyA/IG9wdGlvbi50ZXh0IDogb3B0aW9uLnZhbHVlO1xuXG5cdFx0XHRcdFx0XHQvLyBzdXBwb3J0IGpRdWVyeSA8IHYxLjgsIG90aGVyd2lzZSB0aGUgYmVsb3cgY29kZSBjb3VsZCBiZSBzaG9ydGVuZWQgdG9cblx0XHRcdFx0XHRcdC8vIG9wdGlvbnMgKz0gJCggJzxvcHRpb24+Jywgb3B0aW9uIClbIDAgXS5vdXRlckhUTUw7XG5cdFx0XHRcdFx0XHRvcHRpb25zICs9ICc8b3B0aW9uJztcblx0XHRcdFx0XHRcdGZvciAoIHZhbCBpbiBvcHRpb24gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggb3B0aW9uLmhhc093blByb3BlcnR5KCB2YWwgKSAmJiB2YWwgIT09ICd0ZXh0JyApIHtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb25zICs9ICcgJyArIHZhbCArICc9XCInICsgb3B0aW9uWyB2YWwgXS5yZXBsYWNlKCB0c2ZSZWdleC5xdW90ZSwgJyZxdW90OycgKSArICdcIic7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggIW9wdGlvbi52YWx1ZSApIHtcblx0XHRcdFx0XHRcdFx0b3B0aW9ucyArPSAnIHZhbHVlPVwiJyArIG9wdGlvbi50ZXh0LnJlcGxhY2UoIHRzZlJlZ2V4LnF1b3RlLCAnJnF1b3Q7JyApICsgJ1wiJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG9wdGlvbnMgKz0gJz4nICsgb3B0aW9uLnRleHQucmVwbGFjZSggdHNmUmVnZXgucXVvdGUsICcmcXVvdDsnICkgKyAnPC9vcHRpb24+Jztcblx0XHRcdFx0XHRcdC8vIGFib3ZlIGNvZGUgaXMgbmVlZGVkIGluIGpRdWVyeSA8IHYxLjhcblxuXHRcdFx0XHRcdFx0Ly8gbWFrZSBzdXJlIHdlIGRvbid0IHR1cm4gYW4gb2JqZWN0IGludG8gYSBzdHJpbmcgKG9iamVjdHMgd2l0aG91dCBhIFwidGV4dFwiIHByb3BlcnR5KVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICcnICsgb3B0aW9uICE9PSAnW29iamVjdCBPYmplY3RdJyApIHtcblx0XHRcdFx0XHRcdHR4dCA9IG9wdGlvbiA9ICggJycgKyBvcHRpb24gKS5yZXBsYWNlKCB0c2ZSZWdleC5xdW90ZSwgJyZxdW90OycgKTtcblx0XHRcdFx0XHRcdHZhbCA9IHR4dDtcblx0XHRcdFx0XHRcdC8vIGFsbG93IGluY2x1ZGluZyBhIHN5bWJvbCBpbiB0aGUgc2VsZWN0U291cmNlIGFycmF5XG5cdFx0XHRcdFx0XHQvLyAnYS16fEEgdGhyb3VnaCBaJyBzbyB0aGF0ICdhLXonIGJlY29tZXMgdGhlIG9wdGlvbiB2YWx1ZVxuXHRcdFx0XHRcdFx0Ly8gYW5kICdBIHRocm91Z2ggWicgYmVjb21lcyB0aGUgb3B0aW9uIHRleHRcblx0XHRcdFx0XHRcdGlmICggdHh0LmluZGV4T2YoIHdvLmZpbHRlcl9zZWxlY3RTb3VyY2VTZXBhcmF0b3IgKSA+PSAwICkge1xuXHRcdFx0XHRcdFx0XHR0ID0gdHh0LnNwbGl0KCB3by5maWx0ZXJfc2VsZWN0U291cmNlU2VwYXJhdG9yICk7XG5cdFx0XHRcdFx0XHRcdHZhbCA9IHRbMF07XG5cdFx0XHRcdFx0XHRcdHR4dCA9IHRbMV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyByZXBsYWNlIHF1b3RlcyAtIGZpeGVzICMyNDIgJiBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRcdFx0Ly8gc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE0OTkwOTcxLzE0NTM0NlxuXHRcdFx0XHRcdFx0b3B0aW9ucyArPSBvcHRpb24gIT09ICcnID9cblx0XHRcdFx0XHRcdFx0JzxvcHRpb24gJyArXG5cdFx0XHRcdFx0XHRcdFx0KCB2YWwgPT09IHR4dCA/ICcnIDogJ2RhdGEtZnVuY3Rpb24tbmFtZT1cIicgKyBvcHRpb24gKyAnXCIgJyApICtcblx0XHRcdFx0XHRcdFx0XHQndmFsdWU9XCInICsgdmFsICsgJ1wiPicgKyB0eHQgK1xuXHRcdFx0XHRcdFx0XHQnPC9vcHRpb24+JyA6ICcnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBjbGVhciBhcnJ5IHNvIGl0IGRvZXNuJ3QgZ2V0IGFwcGVuZGVkIHR3aWNlXG5cdFx0XHRcdGFycnkgPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdXBkYXRlIGFsbCBzZWxlY3RzIGluIHRoZSBzYW1lIGNvbHVtbiAoIGNsb25lIHRoZWFkIGluIHN0aWNreSBoZWFkZXJzICZcblx0XHRcdC8vIGFueSBleHRlcm5hbCBzZWxlY3RzICkgLSBmaXhlcyA0NzNcblx0XHRcdCRmaWx0ZXJzID0gKCBjLiRmaWx0ZXJzID8gYy4kZmlsdGVycyA6IGMuJHRhYmxlLmNoaWxkcmVuKCAndGhlYWQnICkgKVxuXHRcdFx0XHQuZmluZCggJy4nICsgdHNjc3MuZmlsdGVyICk7XG5cdFx0XHRpZiAoIHdvLmZpbHRlcl8kZXh0ZXJuYWxGaWx0ZXJzICkge1xuXHRcdFx0XHQkZmlsdGVycyA9ICRmaWx0ZXJzICYmICRmaWx0ZXJzLmxlbmd0aCA/XG5cdFx0XHRcdFx0JGZpbHRlcnMuYWRkKCB3by5maWx0ZXJfJGV4dGVybmFsRmlsdGVycyApIDpcblx0XHRcdFx0XHR3by5maWx0ZXJfJGV4dGVybmFsRmlsdGVycztcblx0XHRcdH1cblx0XHRcdCRmaWx0ZXIgPSAkZmlsdGVycy5maWx0ZXIoICdzZWxlY3RbZGF0YS1jb2x1bW49XCInICsgY29sdW1uICsgJ1wiXScgKTtcblxuXHRcdFx0Ly8gbWFrZSBzdXJlIHRoZXJlIGlzIGEgc2VsZWN0IHRoZXJlIVxuXHRcdFx0aWYgKCAkZmlsdGVyLmxlbmd0aCApIHtcblx0XHRcdFx0JGZpbHRlclsgdXBkYXRpbmcgPyAnaHRtbCcgOiAnYXBwZW5kJyBdKCBvcHRpb25zICk7XG5cdFx0XHRcdGlmICggISQuaXNBcnJheSggYXJyeSApICkge1xuXHRcdFx0XHRcdC8vIGFwcGVuZCBvcHRpb25zIGlmIGFycnkgaXMgcHJvdmlkZWQgZXh0ZXJuYWxseSBhcyBhIHN0cmluZyBvciBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0Ly8gb3B0aW9ucyAoIGRlZmF1bHQgdmFsdWUgKSB3YXMgYWxyZWFkeSBhZGRlZFxuXHRcdFx0XHRcdCRmaWx0ZXIuYXBwZW5kKCBhcnJ5ICkudmFsKCBjdXJyZW50VmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkZmlsdGVyLnZhbCggY3VycmVudFZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRidWlsZERlZmF1bHQ6IGZ1bmN0aW9uKCB0YWJsZSwgdXBkYXRpbmcgKSB7XG5cdFx0XHR2YXIgY29sdW1uSW5kZXgsICRoZWFkZXIsIG5vU2VsZWN0LFxuXHRcdFx0XHRjID0gdGFibGUuY29uZmlnLFxuXHRcdFx0XHR3byA9IGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0Y29sdW1ucyA9IGMuY29sdW1ucztcblx0XHRcdC8vIGJ1aWxkIGRlZmF1bHQgc2VsZWN0IGRyb3Bkb3duXG5cdFx0XHRmb3IgKCBjb2x1bW5JbmRleCA9IDA7IGNvbHVtbkluZGV4IDwgY29sdW1uczsgY29sdW1uSW5kZXgrKyApIHtcblx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlckluZGV4ZWRbY29sdW1uSW5kZXhdO1xuXHRcdFx0XHRub1NlbGVjdCA9ICEoICRoZWFkZXIuaGFzQ2xhc3MoICdmaWx0ZXItZmFsc2UnICkgfHwgJGhlYWRlci5oYXNDbGFzcyggJ3BhcnNlci1mYWxzZScgKSApO1xuXHRcdFx0XHQvLyBsb29rIGZvciB0aGUgZmlsdGVyLXNlbGVjdCBjbGFzczsgYnVpbGQvdXBkYXRlIGl0IGlmIGZvdW5kXG5cdFx0XHRcdGlmICggKCAkaGVhZGVyLmhhc0NsYXNzKCAnZmlsdGVyLXNlbGVjdCcgKSB8fFxuXHRcdFx0XHRcdHRzLmdldENvbHVtbkRhdGEoIHRhYmxlLCB3by5maWx0ZXJfZnVuY3Rpb25zLCBjb2x1bW5JbmRleCApID09PSB0cnVlICkgJiYgbm9TZWxlY3QgKSB7XG5cdFx0XHRcdFx0dHNmLmJ1aWxkU2VsZWN0KCB0YWJsZSwgY29sdW1uSW5kZXgsICcnLCB1cGRhdGluZywgJGhlYWRlci5oYXNDbGFzcyggd28uZmlsdGVyX29ubHlBdmFpbCApICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Ly8gZmlsdGVyIHJlZ2V4IHZhcmlhYmxlXG5cdHRzZlJlZ2V4ID0gdHNmLnJlZ2V4O1xuXG5cdHRzLmdldEZpbHRlcnMgPSBmdW5jdGlvbiggdGFibGUsIGdldFJhdywgc2V0RmlsdGVycywgc2tpcEZpcnN0ICkge1xuXHRcdHZhciBpLCAkZmlsdGVycywgJGNvbHVtbiwgY29scyxcblx0XHRcdGZpbHRlcnMgPSBbXSxcblx0XHRcdGMgPSB0YWJsZSA/ICQoIHRhYmxlIClbMF0uY29uZmlnIDogJycsXG5cdFx0XHR3byA9IGMgPyBjLndpZGdldE9wdGlvbnMgOiAnJztcblx0XHRpZiAoICggZ2V0UmF3ICE9PSB0cnVlICYmIHdvICYmICF3by5maWx0ZXJfY29sdW1uRmlsdGVycyApIHx8XG5cdFx0XHQvLyBzZXRGaWx0ZXJzIGNhbGxlZCwgYnV0IGxhc3Qgc2VhcmNoIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnRcblx0XHRcdC8vIGZpeGVzIGlzc3VlICM3MzMgJiAjOTAzIHdoZXJlIGNhbGxpbmcgdXBkYXRlIGNhdXNlcyB0aGUgaW5wdXQgdmFsdWVzIHRvIHJlc2V0XG5cdFx0XHQoICQuaXNBcnJheShzZXRGaWx0ZXJzKSAmJiB0c2YuZXF1YWxGaWx0ZXJzKGMsIHNldEZpbHRlcnMsIGMubGFzdFNlYXJjaCkgKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuICQoIHRhYmxlICkuZGF0YSggJ2xhc3RTZWFyY2gnICkgfHwgW107XG5cdFx0fVxuXHRcdGlmICggYyApIHtcblx0XHRcdGlmICggYy4kZmlsdGVycyApIHtcblx0XHRcdFx0JGZpbHRlcnMgPSBjLiRmaWx0ZXJzLmZpbmQoICcuJyArIHRzY3NzLmZpbHRlciApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB3by5maWx0ZXJfJGV4dGVybmFsRmlsdGVycyApIHtcblx0XHRcdFx0JGZpbHRlcnMgPSAkZmlsdGVycyAmJiAkZmlsdGVycy5sZW5ndGggP1xuXHRcdFx0XHRcdCRmaWx0ZXJzLmFkZCggd28uZmlsdGVyXyRleHRlcm5hbEZpbHRlcnMgKSA6XG5cdFx0XHRcdFx0d28uZmlsdGVyXyRleHRlcm5hbEZpbHRlcnM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICRmaWx0ZXJzICYmICRmaWx0ZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0ZmlsdGVycyA9IHNldEZpbHRlcnMgfHwgW107XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgYy5jb2x1bW5zICsgMTsgaSsrICkge1xuXHRcdFx0XHRcdGNvbHMgPSAoIGkgPT09IGMuY29sdW1ucyA/XG5cdFx0XHRcdFx0XHQvLyAnYWxsJyBjb2x1bW5zIGNhbiBub3cgaW5jbHVkZSBhIHJhbmdlIG9yIHNldCBvZiBjb2x1bW1zICggZGF0YS1jb2x1bW49JzAtMiw0LDYtNycgKVxuXHRcdFx0XHRcdFx0d28uZmlsdGVyX2FueUNvbHVtblNlbGVjdG9yICsgJywnICsgd28uZmlsdGVyX211bHRpcGxlQ29sdW1uU2VsZWN0b3IgOlxuXHRcdFx0XHRcdFx0J1tkYXRhLWNvbHVtbj1cIicgKyBpICsgJ1wiXScgKTtcblx0XHRcdFx0XHQkY29sdW1uID0gJGZpbHRlcnMuZmlsdGVyKCBjb2xzICk7XG5cdFx0XHRcdFx0aWYgKCAkY29sdW1uLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdC8vIG1vdmUgdGhlIGxhdGVzdCBzZWFyY2ggdG8gdGhlIGZpcnN0IHNsb3QgaW4gdGhlIGFycmF5XG5cdFx0XHRcdFx0XHQkY29sdW1uID0gdHNmLmdldExhdGVzdFNlYXJjaCggJGNvbHVtbiApO1xuXHRcdFx0XHRcdFx0aWYgKCAkLmlzQXJyYXkoIHNldEZpbHRlcnMgKSApIHtcblx0XHRcdFx0XHRcdFx0Ly8gc2tpcCBmaXJzdCAoIGxhdGVzdCBpbnB1dCApIHRvIG1haW50YWluIGN1cnNvciBwb3NpdGlvbiB3aGlsZSB0eXBpbmdcblx0XHRcdFx0XHRcdFx0aWYgKCBza2lwRmlyc3QgJiYgJGNvbHVtbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRcdFx0XHRcdCRjb2x1bW4gPSAkY29sdW1uLnNsaWNlKCAxICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCBpID09PSBjLmNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gcHJldmVudCBkYXRhLWNvbHVtbj0nYWxsJyBmcm9tIGZpbGxpbmcgZGF0YS1jb2x1bW49JzAsMScgKCBldGMgKVxuXHRcdFx0XHRcdFx0XHRcdGNvbHMgPSAkY29sdW1uLmZpbHRlciggd28uZmlsdGVyX2FueUNvbHVtblNlbGVjdG9yICk7XG5cdFx0XHRcdFx0XHRcdFx0JGNvbHVtbiA9IGNvbHMubGVuZ3RoID8gY29scyA6ICRjb2x1bW47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0JGNvbHVtblxuXHRcdFx0XHRcdFx0XHRcdC52YWwoIHNldEZpbHRlcnNbIGkgXSApXG5cdFx0XHRcdFx0XHRcdFx0Ly8gbXVzdCBpbmNsdWRlIGEgbmFtZXNwYWNlIGhlcmU7IGJ1dCBub3QgYy5uYW1lc3BhY2UgKyAnZmlsdGVyJz9cblx0XHRcdFx0XHRcdFx0XHQudHJpZ2dlciggJ2NoYW5nZScgKyBjLm5hbWVzcGFjZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZmlsdGVyc1tpXSA9ICRjb2x1bW4udmFsKCkgfHwgJyc7XG5cdFx0XHRcdFx0XHRcdC8vIGRvbid0IGNoYW5nZSB0aGUgZmlyc3QuLi4gaXQgd2lsbCBtb3ZlIHRoZSBjdXJzb3Jcblx0XHRcdFx0XHRcdFx0aWYgKCBpID09PSBjLmNvbHVtbnMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZG9uJ3QgdXBkYXRlIHJhbmdlIGNvbHVtbnMgZnJvbSAnYWxsJyBzZXR0aW5nXG5cdFx0XHRcdFx0XHRcdFx0JGNvbHVtblxuXHRcdFx0XHRcdFx0XHRcdFx0LnNsaWNlKCAxIClcblx0XHRcdFx0XHRcdFx0XHRcdC5maWx0ZXIoICdbZGF0YS1jb2x1bW4qPVwiJyArICRjb2x1bW4uYXR0ciggJ2RhdGEtY29sdW1uJyApICsgJ1wiXScgKVxuXHRcdFx0XHRcdFx0XHRcdFx0LnZhbCggZmlsdGVyc1sgaSBdICk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0JGNvbHVtblxuXHRcdFx0XHRcdFx0XHRcdFx0LnNsaWNlKCAxIClcblx0XHRcdFx0XHRcdFx0XHRcdC52YWwoIGZpbHRlcnNbIGkgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBzYXZlIGFueSBtYXRjaCBpbnB1dCBkeW5hbWljYWxseVxuXHRcdFx0XHRcdFx0aWYgKCBpID09PSBjLmNvbHVtbnMgJiYgJGNvbHVtbi5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRcdHdvLmZpbHRlcl8kYW55TWF0Y2ggPSAkY29sdW1uO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmlsdGVycztcblx0fTtcblxuXHR0cy5zZXRGaWx0ZXJzID0gZnVuY3Rpb24oIHRhYmxlLCBmaWx0ZXIsIGFwcGx5LCBza2lwRmlyc3QgKSB7XG5cdFx0dmFyIGMgPSB0YWJsZSA/ICQoIHRhYmxlIClbMF0uY29uZmlnIDogJycsXG5cdFx0XHR2YWxpZCA9IHRzLmdldEZpbHRlcnMoIHRhYmxlLCB0cnVlLCBmaWx0ZXIsIHNraXBGaXJzdCApO1xuXHRcdC8vIGRlZmF1bHQgYXBwbHkgdG8gXCJ0cnVlXCJcblx0XHRpZiAoIHR5cGVvZiBhcHBseSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRhcHBseSA9IHRydWU7XG5cdFx0fVxuXHRcdGlmICggYyAmJiBhcHBseSApIHtcblx0XHRcdC8vIGVuc3VyZSBuZXcgc2V0IGZpbHRlcnMgYXJlIGFwcGxpZWQsIGV2ZW4gaWYgdGhlIHNlYXJjaCBpcyB0aGUgc2FtZVxuXHRcdFx0Yy5sYXN0Q29tYmluZWRGaWx0ZXIgPSBudWxsO1xuXHRcdFx0Yy5sYXN0U2VhcmNoID0gW107XG5cdFx0XHR0c2Yuc2VhcmNoaW5nKCBjLnRhYmxlLCBmaWx0ZXIsIHNraXBGaXJzdCApO1xuXHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdmaWx0ZXJGb21hdHRlclVwZGF0ZScgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbGlkLmxlbmd0aCAhPT0gMDtcblx0fTtcblxufSkoIGpRdWVyeSApO1xuXG4vKiEgV2lkZ2V0OiBzdGlja3lIZWFkZXJzIC0gdXBkYXRlZCA5LzI3LzIwMTcgKHYyLjI5LjApICovLypcbiAqIFJlcXVpcmVzIHRhYmxlc29ydGVyIHYyLjgrIGFuZCBqUXVlcnkgMS40LjMrXG4gKiBieSBSb2IgR2Fycmlzb25cbiAqL1xuOyhmdW5jdGlvbiAoJCwgd2luZG93KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHRzID0gJC50YWJsZXNvcnRlciB8fCB7fTtcblxuXHQkLmV4dGVuZCh0cy5jc3MsIHtcblx0XHRzdGlja3kgICAgOiAndGFibGVzb3J0ZXItc3RpY2t5SGVhZGVyJywgLy8gc3RpY2t5SGVhZGVyXG5cdFx0c3RpY2t5VmlzIDogJ3RhYmxlc29ydGVyLXN0aWNreS12aXNpYmxlJyxcblx0XHRzdGlja3lIaWRlOiAndGFibGVzb3J0ZXItc3RpY2t5LWhpZGRlbicsXG5cdFx0c3RpY2t5V3JhcDogJ3RhYmxlc29ydGVyLXN0aWNreS13cmFwcGVyJ1xuXHR9KTtcblxuXHQvLyBBZGQgYSByZXNpemUgZXZlbnQgdG8gdGFibGUgaGVhZGVyc1xuXHR0cy5hZGRIZWFkZXJSZXNpemVFdmVudCA9IGZ1bmN0aW9uKHRhYmxlLCBkaXNhYmxlLCBzZXR0aW5ncykge1xuXHRcdHRhYmxlID0gJCh0YWJsZSlbMF07IC8vIG1ha2Ugc3VyZSB3ZSdyZSB1c2luZyBhIGRvbSBlbGVtZW50XG5cdFx0aWYgKCAhdGFibGUuY29uZmlnICkgeyByZXR1cm47IH1cblx0XHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0XHRcdHRpbWVyIDogMjUwXG5cdFx0XHR9LFxuXHRcdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgc2V0dGluZ3MpLFxuXHRcdFx0YyA9IHRhYmxlLmNvbmZpZyxcblx0XHRcdHdvID0gYy53aWRnZXRPcHRpb25zLFxuXHRcdFx0Y2hlY2tTaXplcyA9IGZ1bmN0aW9uKCB0cmlnZ2VyRXZlbnQgKSB7XG5cdFx0XHRcdHZhciBpbmRleCwgaGVhZGVycywgJGhlYWRlciwgc2l6ZXMsIHdpZHRoLCBoZWlnaHQsXG5cdFx0XHRcdFx0bGVuID0gYy4kaGVhZGVycy5sZW5ndGg7XG5cdFx0XHRcdHdvLnJlc2l6ZV9mbGFnID0gdHJ1ZTtcblx0XHRcdFx0aGVhZGVycyA9IFtdO1xuXHRcdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdCRoZWFkZXIgPSBjLiRoZWFkZXJzLmVxKCBpbmRleCApO1xuXHRcdFx0XHRcdHNpemVzID0gJGhlYWRlci5kYXRhKCAnc2F2ZWRTaXplcycgKSB8fCBbIDAsIDAgXTsgLy8gZml4ZXMgIzM5NFxuXHRcdFx0XHRcdHdpZHRoID0gJGhlYWRlclswXS5vZmZzZXRXaWR0aDtcblx0XHRcdFx0XHRoZWlnaHQgPSAkaGVhZGVyWzBdLm9mZnNldEhlaWdodDtcblx0XHRcdFx0XHRpZiAoIHdpZHRoICE9PSBzaXplc1swXSB8fCBoZWlnaHQgIT09IHNpemVzWzFdICkge1xuXHRcdFx0XHRcdFx0JGhlYWRlci5kYXRhKCAnc2F2ZWRTaXplcycsIFsgd2lkdGgsIGhlaWdodCBdICk7XG5cdFx0XHRcdFx0XHRoZWFkZXJzLnB1c2goICRoZWFkZXJbMF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBoZWFkZXJzLmxlbmd0aCAmJiB0cmlnZ2VyRXZlbnQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCAncmVzaXplJywgWyBoZWFkZXJzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR3by5yZXNpemVfZmxhZyA9IGZhbHNlO1xuXHRcdFx0fTtcblx0XHRjbGVhckludGVydmFsKHdvLnJlc2l6ZV90aW1lcik7XG5cdFx0aWYgKGRpc2FibGUpIHtcblx0XHRcdHdvLnJlc2l6ZV9mbGFnID0gZmFsc2U7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGNoZWNrU2l6ZXMoIGZhbHNlICk7XG5cdFx0d28ucmVzaXplX3RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAod28ucmVzaXplX2ZsYWcpIHsgcmV0dXJuOyB9XG5cdFx0XHRjaGVja1NpemVzKCk7XG5cdFx0fSwgb3B0aW9ucy50aW1lcik7XG5cdH07XG5cblx0ZnVuY3Rpb24gZ2V0U3RpY2t5T2Zmc2V0KGMsIHdvKSB7XG5cdFx0dmFyICRlbCA9IGlzTmFOKHdvLnN0aWNreUhlYWRlcnNfb2Zmc2V0KSA/ICQod28uc3RpY2t5SGVhZGVyc19vZmZzZXQpIDogW107XG5cdFx0cmV0dXJuICRlbC5sZW5ndGggP1xuXHRcdFx0JGVsLmhlaWdodCgpIHx8IDAgOlxuXHRcdFx0cGFyc2VJbnQod28uc3RpY2t5SGVhZGVyc19vZmZzZXQsIDEwKSB8fCAwO1xuXHR9XG5cblx0Ly8gU3RpY2t5IGhlYWRlcnMgYmFzZWQgb24gdGhpcyBhd2Vzb21lIGFydGljbGU6XG5cdC8vIGh0dHA6Ly9jc3MtdHJpY2tzLmNvbS8xMzQ2NS1wZXJzaXN0ZW50LWhlYWRlcnMvXG5cdC8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vam1vc2JlY2gvU3RpY2t5VGFibGVIZWFkZXJzIGJ5IEpvbmFzIE1vc2JlY2hcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0dHMuYWRkV2lkZ2V0KHtcblx0XHRpZDogJ3N0aWNreUhlYWRlcnMnLFxuXHRcdHByaW9yaXR5OiA1NCwgLy8gc3RpY2t5IHdpZGdldCBtdXN0IGJlIGluaXRpYWxpemVkIGFmdGVyIHRoZSBmaWx0ZXIgJiBiZWZvcmUgcGFnZXIgd2lkZ2V0IVxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHN0aWNreUhlYWRlcnMgOiAnJywgICAgICAgLy8gZXh0cmEgY2xhc3MgbmFtZSBhZGRlZCB0byB0aGUgc3RpY2t5IGhlYWRlciByb3dcblx0XHRcdHN0aWNreUhlYWRlcnNfYXBwZW5kVG8gOiBudWxsLCAvLyBqUXVlcnkgc2VsZWN0b3Igb3Igb2JqZWN0IHRvIHBoeWNpYWxseSBhdHRhY2ggdGhlIHN0aWNreSBoZWFkZXJzXG5cdFx0XHRzdGlja3lIZWFkZXJzX2F0dGFjaFRvIDogbnVsbCwgLy8galF1ZXJ5IHNlbGVjdG9yIG9yIG9iamVjdCB0byBhdHRhY2ggc2Nyb2xsIGxpc3RlbmVyIHRvIChvdmVycmlkZGVuIGJ5IHhTY3JvbGwgJiB5U2Nyb2xsIHNldHRpbmdzKVxuXHRcdFx0c3RpY2t5SGVhZGVyc194U2Nyb2xsIDogbnVsbCwgLy8galF1ZXJ5IHNlbGVjdG9yIG9yIG9iamVjdCB0byBtb25pdG9yIGhvcml6b250YWwgc2Nyb2xsIHBvc2l0aW9uIChkZWZhdWx0czogeFNjcm9sbCA+IGF0dGFjaFRvID4gd2luZG93KVxuXHRcdFx0c3RpY2t5SGVhZGVyc195U2Nyb2xsIDogbnVsbCwgLy8galF1ZXJ5IHNlbGVjdG9yIG9yIG9iamVjdCB0byBtb25pdG9yIHZlcnRpY2FsIHNjcm9sbCBwb3NpdGlvbiAoZGVmYXVsdHM6IHlTY3JvbGwgPiBhdHRhY2hUbyA+IHdpbmRvdylcblx0XHRcdHN0aWNreUhlYWRlcnNfb2Zmc2V0IDogMCwgLy8gbnVtYmVyIG9yIGpxdWVyeSBzZWxlY3RvciB0YXJnZXRpbmcgdGhlIHBvc2l0aW9uOmZpeGVkIGVsZW1lbnRcblx0XHRcdHN0aWNreUhlYWRlcnNfZmlsdGVyZWRUb1RvcDogdHJ1ZSwgLy8gc2Nyb2xsIHRhYmxlIHRvcCBpbnRvIHZpZXcgYWZ0ZXIgZmlsdGVyaW5nXG5cdFx0XHRzdGlja3lIZWFkZXJzX2Nsb25lSWQgOiAnLXN0aWNreScsIC8vIGFkZGVkIHRvIHRhYmxlIElELCBpZiBpdCBleGlzdHNcblx0XHRcdHN0aWNreUhlYWRlcnNfYWRkUmVzaXplRXZlbnQgOiB0cnVlLCAvLyB0cmlnZ2VyICdyZXNpemUnIGV2ZW50IG9uIGhlYWRlcnNcblx0XHRcdHN0aWNreUhlYWRlcnNfaW5jbHVkZUNhcHRpb24gOiB0cnVlLCAvLyBpZiBmYWxzZSBhbmQgYSBjYXB0aW9uIGV4aXN0LCBpdCB3b24ndCBiZSBpbmNsdWRlZCBpbiB0aGUgc3RpY2t5IGhlYWRlclxuXHRcdFx0c3RpY2t5SGVhZGVyc196SW5kZXggOiAyIC8vIFRoZSB6SW5kZXggb2YgdGhlIHN0aWNreUhlYWRlcnMsIGFsbG93cyB0aGUgdXNlciB0byBhZGp1c3QgdGhpcyB0byB0aGVpciBuZWVkc1xuXHRcdH0sXG5cdFx0Zm9ybWF0OiBmdW5jdGlvbih0YWJsZSwgYywgd28pIHtcblx0XHRcdC8vIGZpbHRlciB3aWRnZXQgZG9lc24ndCBpbml0aWFsaXplIG9uIGFuIGVtcHR5IHRhYmxlLiBGaXhlcyAjNDQ5XG5cdFx0XHRpZiAoIGMuJHRhYmxlLmhhc0NsYXNzKCdoYXNTdGlja3lIZWFkZXJzJykgfHwgKCQuaW5BcnJheSgnZmlsdGVyJywgYy53aWRnZXRzKSA+PSAwICYmICFjLiR0YWJsZS5oYXNDbGFzcygnaGFzRmlsdGVycycpKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGluZGV4LCBsZW4sICR0LFxuXHRcdFx0XHQkdGFibGUgPSBjLiR0YWJsZSxcblx0XHRcdFx0Ly8gYWRkIHBvc2l0aW9uOiByZWxhdGl2ZSB0byBhdHRhY2ggZWxlbWVudCwgaG9wZWZ1bGx5IGl0IHdvbid0IGNhdXNlIHRyb3VibGUuXG5cdFx0XHRcdCRhdHRhY2ggPSAkKHdvLnN0aWNreUhlYWRlcnNfYXR0YWNoVG8gfHwgd28uc3RpY2t5SGVhZGVyc19hcHBlbmRUbyksXG5cdFx0XHRcdG5hbWVzcGFjZSA9IGMubmFtZXNwYWNlICsgJ3N0aWNreWhlYWRlcnMgJyxcblx0XHRcdFx0Ly8gZWxlbWVudCB0byB3YXRjaCBmb3IgdGhlIHNjcm9sbCBldmVudFxuXHRcdFx0XHQkeVNjcm9sbCA9ICQod28uc3RpY2t5SGVhZGVyc195U2Nyb2xsIHx8IHdvLnN0aWNreUhlYWRlcnNfYXR0YWNoVG8gfHwgd2luZG93KSxcblx0XHRcdFx0JHhTY3JvbGwgPSAkKHdvLnN0aWNreUhlYWRlcnNfeFNjcm9sbCB8fCB3by5zdGlja3lIZWFkZXJzX2F0dGFjaFRvIHx8IHdpbmRvdyksXG5cdFx0XHRcdCR0aGVhZCA9ICR0YWJsZS5jaGlsZHJlbigndGhlYWQ6Zmlyc3QnKSxcblx0XHRcdFx0JGhlYWRlciA9ICR0aGVhZC5jaGlsZHJlbigndHInKS5ub3QoJy5zdGlja3ktZmFsc2UnKS5jaGlsZHJlbigpLFxuXHRcdFx0XHQkdGZvb3QgPSAkdGFibGUuY2hpbGRyZW4oJ3Rmb290JyksXG5cdFx0XHRcdHN0aWNreU9mZnNldCA9IGdldFN0aWNreU9mZnNldChjLCB3byksXG5cdFx0XHRcdC8vIGlzIHRoaXMgdGFibGUgbmVzdGVkPyBJZiBzbywgZmluZCBwYXJlbnQgc3RpY2t5IGhlYWRlciB3cmFwcGVyIChkaXYsIG5vdCB0YWJsZSlcblx0XHRcdFx0JG5lc3RlZFN0aWNreSA9ICR0YWJsZS5wYXJlbnQoKS5jbG9zZXN0KCcuJyArIHRzLmNzcy50YWJsZSkuaGFzQ2xhc3MoJ2hhc1N0aWNreUhlYWRlcnMnKSA/XG5cdFx0XHRcdFx0JHRhYmxlLnBhcmVudCgpLmNsb3Nlc3QoJ3RhYmxlLnRhYmxlc29ydGVyJylbMF0uY29uZmlnLndpZGdldE9wdGlvbnMuJHN0aWNreS5wYXJlbnQoKSA6IFtdLFxuXHRcdFx0XHRuZXN0ZWRTdGlja3lUb3AgPSAkbmVzdGVkU3RpY2t5Lmxlbmd0aCA/ICRuZXN0ZWRTdGlja3kuaGVpZ2h0KCkgOiAwLFxuXHRcdFx0XHQvLyBjbG9uZSB0YWJsZSwgdGhlbiB3cmFwIHRvIG1ha2Ugc3RpY2t5IGhlYWRlclxuXHRcdFx0XHQkc3RpY2t5VGFibGUgPSB3by4kc3RpY2t5ID0gJHRhYmxlLmNsb25lKClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoJ2NvbnRhaW5zU3RpY2t5SGVhZGVycyAnICsgdHMuY3NzLnN0aWNreSArICcgJyArIHdvLnN0aWNreUhlYWRlcnMgKyAnICcgKyBjLm5hbWVzcGFjZS5zbGljZSgxKSArICdfZXh0cmFfdGFibGUnIClcblx0XHRcdFx0XHQud3JhcCgnPGRpdiBjbGFzcz1cIicgKyB0cy5jc3Muc3RpY2t5V3JhcCArICdcIj4nKSxcblx0XHRcdFx0JHN0aWNreVdyYXAgPSAkc3RpY2t5VGFibGUucGFyZW50KClcblx0XHRcdFx0XHQuYWRkQ2xhc3ModHMuY3NzLnN0aWNreUhpZGUpXG5cdFx0XHRcdFx0LmNzcyh7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbiAgIDogJGF0dGFjaC5sZW5ndGggPyAnYWJzb2x1dGUnIDogJ2ZpeGVkJyxcblx0XHRcdFx0XHRcdHBhZGRpbmcgICAgOiBwYXJzZUludCggJHN0aWNreVRhYmxlLnBhcmVudCgpLnBhcmVudCgpLmNzcygncGFkZGluZy1sZWZ0JyksIDEwICksXG5cdFx0XHRcdFx0XHR0b3AgICAgICAgIDogc3RpY2t5T2Zmc2V0ICsgbmVzdGVkU3RpY2t5VG9wLFxuXHRcdFx0XHRcdFx0bGVmdCAgICAgICA6IDAsXG5cdFx0XHRcdFx0XHR2aXNpYmlsaXR5IDogJ2hpZGRlbicsXG5cdFx0XHRcdFx0XHR6SW5kZXggICAgIDogd28uc3RpY2t5SGVhZGVyc196SW5kZXggfHwgMlxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHQkc3RpY2t5VGhlYWQgPSAkc3RpY2t5VGFibGUuY2hpbGRyZW4oJ3RoZWFkOmZpcnN0JyksXG5cdFx0XHRcdCRzdGlja3lDZWxscyxcblx0XHRcdFx0bGFzdHN0YXRlID0gJycsXG5cdFx0XHRcdHNldFdpZHRoID0gZnVuY3Rpb24oJG9yaWcsICRjbG9uZSkge1xuXHRcdFx0XHRcdHZhciBpbmRleCwgd2lkdGgsIGJvcmRlciwgJGNlbGwsICR0aGlzLFxuXHRcdFx0XHRcdFx0JGNlbGxzID0gJG9yaWcuZmlsdGVyKCc6dmlzaWJsZScpLFxuXHRcdFx0XHRcdFx0bGVuID0gJGNlbGxzLmxlbmd0aDtcblx0XHRcdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdFx0JGNlbGwgPSAkY2xvbmUuZmlsdGVyKCc6dmlzaWJsZScpLmVxKGluZGV4KTtcblx0XHRcdFx0XHRcdCR0aGlzID0gJGNlbGxzLmVxKGluZGV4KTtcblx0XHRcdFx0XHRcdC8vIGNvZGUgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vam1vc2JlY2gvU3RpY2t5VGFibGVIZWFkZXJzXG5cdFx0XHRcdFx0XHRpZiAoJHRoaXMuY3NzKCdib3gtc2l6aW5nJykgPT09ICdib3JkZXItYm94Jykge1xuXHRcdFx0XHRcdFx0XHR3aWR0aCA9ICR0aGlzLm91dGVyV2lkdGgoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGlmICgkY2VsbC5jc3MoJ2JvcmRlci1jb2xsYXBzZScpID09PSAnY29sbGFwc2UnKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3aWR0aCA9IHBhcnNlRmxvYXQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCR0aGlzWzBdLCBudWxsKS53aWR0aCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBpZTggb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9yZGVyID0gcGFyc2VGbG9hdCggJHRoaXMuY3NzKCdib3JkZXItd2lkdGgnKSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0d2lkdGggPSAkdGhpcy5vdXRlcldpZHRoKCkgLSBwYXJzZUZsb2F0KCAkdGhpcy5jc3MoJ3BhZGRpbmctbGVmdCcpICkgLSBwYXJzZUZsb2F0KCAkdGhpcy5jc3MoJ3BhZGRpbmctcmlnaHQnKSApIC0gYm9yZGVyO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR3aWR0aCA9ICR0aGlzLndpZHRoKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCRjZWxsLmNzcyh7XG5cdFx0XHRcdFx0XHRcdCd3aWR0aCc6IHdpZHRoLFxuXHRcdFx0XHRcdFx0XHQnbWluLXdpZHRoJzogd2lkdGgsXG5cdFx0XHRcdFx0XHRcdCdtYXgtd2lkdGgnOiB3aWR0aFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRnZXRMZWZ0UG9zaXRpb24gPSBmdW5jdGlvbih5V2luZG93KSB7XG5cdFx0XHRcdFx0aWYgKHlXaW5kb3cgPT09IGZhbHNlICYmICRuZXN0ZWRTdGlja3kubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJHRhYmxlLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuICRhdHRhY2gubGVuZ3RoID9cblx0XHRcdFx0XHRcdHBhcnNlSW50KCRhdHRhY2guY3NzKCdwYWRkaW5nLWxlZnQnKSwgMTApIHx8IDAgOlxuXHRcdFx0XHRcdFx0JHRhYmxlLm9mZnNldCgpLmxlZnQgLSBwYXJzZUludCgkdGFibGUuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMCkgLSAkKHdpbmRvdykuc2Nyb2xsTGVmdCgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZXNpemVIZWFkZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkc3RpY2t5V3JhcC5jc3Moe1xuXHRcdFx0XHRcdFx0bGVmdCA6IGdldExlZnRQb3NpdGlvbigpLFxuXHRcdFx0XHRcdFx0d2lkdGg6ICR0YWJsZS5vdXRlcldpZHRoKClcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRzZXRXaWR0aCggJHRhYmxlLCAkc3RpY2t5VGFibGUgKTtcblx0XHRcdFx0XHRzZXRXaWR0aCggJGhlYWRlciwgJHN0aWNreUNlbGxzICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNjcm9sbFN0aWNreSA9IGZ1bmN0aW9uKCByZXNpemluZyApIHtcblx0XHRcdFx0XHRpZiAoISR0YWJsZS5pcygnOnZpc2libGUnKSkgeyByZXR1cm47IH0gLy8gZml4ZXMgIzI3OFxuXHRcdFx0XHRcdC8vIERldGVjdCBuZXN0ZWQgdGFibGVzIC0gZml4ZXMgIzcyNFxuXHRcdFx0XHRcdG5lc3RlZFN0aWNreVRvcCA9ICRuZXN0ZWRTdGlja3kubGVuZ3RoID8gJG5lc3RlZFN0aWNreS5vZmZzZXQoKS50b3AgLSAkeVNjcm9sbC5zY3JvbGxUb3AoKSArICRuZXN0ZWRTdGlja3kuaGVpZ2h0KCkgOiAwO1xuXHRcdFx0XHRcdHZhciB0bXAsXG5cdFx0XHRcdFx0XHRvZmZzZXQgPSAkdGFibGUub2Zmc2V0KCksXG5cdFx0XHRcdFx0XHRzdGlja3lPZmZzZXQgPSBnZXRTdGlja3lPZmZzZXQoYywgd28pLFxuXHRcdFx0XHRcdFx0eVdpbmRvdyA9ICQuaXNXaW5kb3coICR5U2Nyb2xsWzBdICksIC8vICQuaXNXaW5kb3cgbmVlZHMgalF1ZXJ5IDEuNC4zXG5cdFx0XHRcdFx0XHR5U2Nyb2xsID0geVdpbmRvdyA/XG5cdFx0XHRcdFx0XHRcdCR5U2Nyb2xsLnNjcm9sbFRvcCgpIDpcblx0XHRcdFx0XHRcdFx0Ly8gdXNlIHBhcmVudCBzdGlja3kgcG9zaXRpb24gaWYgbmVzdGVkIEFORCBpbnNpZGUgb2YgYSBzY3JvbGxhYmxlIGVsZW1lbnQgLSBzZWUgIzE1MTJcblx0XHRcdFx0XHRcdFx0JG5lc3RlZFN0aWNreS5sZW5ndGggPyBwYXJzZUludCgkbmVzdGVkU3RpY2t5WzBdLnN0eWxlLnRvcCwgMTApIDogJHlTY3JvbGwub2Zmc2V0KCkudG9wLFxuXHRcdFx0XHRcdFx0YXR0YWNoVG9wID0gJGF0dGFjaC5sZW5ndGggPyB5U2Nyb2xsIDogJHlTY3JvbGwuc2Nyb2xsVG9wKCksXG5cdFx0XHRcdFx0XHRjYXB0aW9uSGVpZ2h0ID0gd28uc3RpY2t5SGVhZGVyc19pbmNsdWRlQ2FwdGlvbiA/IDAgOiAkdGFibGUuY2hpbGRyZW4oICdjYXB0aW9uJyApLmhlaWdodCgpIHx8IDAsXG5cdFx0XHRcdFx0XHRzY3JvbGxUb3AgPSBhdHRhY2hUb3AgKyBzdGlja3lPZmZzZXQgKyBuZXN0ZWRTdGlja3lUb3AgLSBjYXB0aW9uSGVpZ2h0LFxuXHRcdFx0XHRcdFx0dGFibGVIZWlnaHQgPSAkdGFibGUuaGVpZ2h0KCkgLSAoJHN0aWNreVdyYXAuaGVpZ2h0KCkgKyAoJHRmb290LmhlaWdodCgpIHx8IDApKSAtIGNhcHRpb25IZWlnaHQsXG5cdFx0XHRcdFx0XHRpc1Zpc2libGUgPSAoIHNjcm9sbFRvcCA+IG9mZnNldC50b3AgKSAmJiAoIHNjcm9sbFRvcCA8IG9mZnNldC50b3AgKyB0YWJsZUhlaWdodCApID8gJ3Zpc2libGUnIDogJ2hpZGRlbicsXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IGlzVmlzaWJsZSA9PT0gJ3Zpc2libGUnID8gdHMuY3NzLnN0aWNreVZpcyA6IHRzLmNzcy5zdGlja3lIaWRlLFxuXHRcdFx0XHRcdFx0bmVlZHNVcGRhdGluZyA9ICEkc3RpY2t5V3JhcC5oYXNDbGFzcyggc3RhdGUgKSxcblx0XHRcdFx0XHRcdGNzc1NldHRpbmdzID0geyB2aXNpYmlsaXR5IDogaXNWaXNpYmxlIH07XG5cdFx0XHRcdFx0aWYgKCRhdHRhY2gubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQvLyBhdHRhY2hlZCBzdGlja3kgaGVhZGVycyBhbHdheXMgbmVlZCB1cGRhdGluZ1xuXHRcdFx0XHRcdFx0bmVlZHNVcGRhdGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHRjc3NTZXR0aW5ncy50b3AgPSB5V2luZG93ID8gc2Nyb2xsVG9wIC0gJGF0dGFjaC5vZmZzZXQoKS50b3AgOiAkYXR0YWNoLnNjcm9sbFRvcCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBhZGp1c3Qgd2hlbiBzY3JvbGxpbmcgaG9yaXpvbnRhbGx5IC0gZml4ZXMgaXNzdWUgIzE0M1xuXHRcdFx0XHRcdHRtcCA9IGdldExlZnRQb3NpdGlvbih5V2luZG93KTtcblx0XHRcdFx0XHRpZiAodG1wICE9PSBwYXJzZUludCgkc3RpY2t5V3JhcC5jc3MoJ2xlZnQnKSwgMTApKSB7XG5cdFx0XHRcdFx0XHRuZWVkc1VwZGF0aW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGNzc1NldHRpbmdzLmxlZnQgPSB0bXA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNzc1NldHRpbmdzLnRvcCA9ICggY3NzU2V0dGluZ3MudG9wIHx8IDAgKSArXG5cdFx0XHRcdFx0XHQvLyBJZiBuZXN0ZWQgQU5EIGluc2lkZSBvZiBhIHNjcm9sbGFibGUgZWxlbWVudCwgb25seSBhZGQgcGFyZW50IHN0aWNreSBoZWlnaHRcblx0XHRcdFx0XHRcdCgheVdpbmRvdyAmJiAkbmVzdGVkU3RpY2t5Lmxlbmd0aCA/ICRuZXN0ZWRTdGlja3kuaGVpZ2h0KCkgOiBzdGlja3lPZmZzZXQgKyBuZXN0ZWRTdGlja3lUb3ApO1xuXHRcdFx0XHRcdGlmIChuZWVkc1VwZGF0aW5nKSB7XG5cdFx0XHRcdFx0XHQkc3RpY2t5V3JhcFxuXHRcdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHRzLmNzcy5zdGlja3lWaXMgKyAnICcgKyB0cy5jc3Muc3RpY2t5SGlkZSApXG5cdFx0XHRcdFx0XHRcdC5hZGRDbGFzcyggc3RhdGUgKVxuXHRcdFx0XHRcdFx0XHQuY3NzKGNzc1NldHRpbmdzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGlzVmlzaWJsZSAhPT0gbGFzdHN0YXRlIHx8IHJlc2l6aW5nKSB7XG5cdFx0XHRcdFx0XHQvLyBtYWtlIHN1cmUgdGhlIGNvbHVtbiB3aWR0aHMgbWF0Y2hcblx0XHRcdFx0XHRcdHJlc2l6ZUhlYWRlcigpO1xuXHRcdFx0XHRcdFx0bGFzdHN0YXRlID0gaXNWaXNpYmxlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdC8vIG9ubHkgYWRkIGEgcG9zaXRpb24gcmVsYXRpdmUgaWYgYSBwb3NpdGlvbiBpc24ndCBhbHJlYWR5IGRlZmluZWRcblx0XHRcdGlmICgkYXR0YWNoLmxlbmd0aCAmJiAhJGF0dGFjaC5jc3MoJ3Bvc2l0aW9uJykpIHtcblx0XHRcdFx0JGF0dGFjaC5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBmaXggY2xvbmUgSUQsIGlmIGl0IGV4aXN0cyAtIGZpeGVzICMyNzFcblx0XHRcdGlmICgkc3RpY2t5VGFibGUuYXR0cignaWQnKSkgeyAkc3RpY2t5VGFibGVbMF0uaWQgKz0gd28uc3RpY2t5SGVhZGVyc19jbG9uZUlkOyB9XG5cdFx0XHQvLyBjbGVhciBvdXQgY2xvbmVkIHRhYmxlLCBleGNlcHQgZm9yIHN0aWNreSBoZWFkZXJcblx0XHRcdC8vIGluY2x1ZGUgY2FwdGlvbiAmIGZpbHRlciByb3cgKGZpeGVzICMxMjYgJiAjMjQ5KSAtIGRvbid0IHJlbW92ZSBjZWxscyB0byBnZXQgY29ycmVjdCBjZWxsIGluZGV4aW5nXG5cdFx0XHQkc3RpY2t5VGFibGUuZmluZCgnPiB0aGVhZDpndCgwKSwgdHIuc3RpY2t5LWZhbHNlJykuaGlkZSgpO1xuXHRcdFx0JHN0aWNreVRhYmxlLmZpbmQoJz4gdGJvZHksID4gdGZvb3QnKS5yZW1vdmUoKTtcblx0XHRcdCRzdGlja3lUYWJsZS5maW5kKCdjYXB0aW9uJykudG9nZ2xlKHdvLnN0aWNreUhlYWRlcnNfaW5jbHVkZUNhcHRpb24pO1xuXHRcdFx0Ly8gaXNzdWUgIzE3MiAtIGZpbmQgdGQvdGggaW4gc3RpY2t5IGhlYWRlclxuXHRcdFx0JHN0aWNreUNlbGxzID0gJHN0aWNreVRoZWFkLmNoaWxkcmVuKCkuY2hpbGRyZW4oKTtcblx0XHRcdCRzdGlja3lUYWJsZS5jc3MoeyBoZWlnaHQ6MCwgd2lkdGg6MCwgbWFyZ2luOiAwIH0pO1xuXHRcdFx0Ly8gcmVtb3ZlIHJlc2l6YWJsZSBibG9ja1xuXHRcdFx0JHN0aWNreUNlbGxzLmZpbmQoJy4nICsgdHMuY3NzLnJlc2l6ZXIpLnJlbW92ZSgpO1xuXHRcdFx0Ly8gdXBkYXRlIHN0aWNreSBoZWFkZXIgY2xhc3MgbmFtZXMgdG8gbWF0Y2ggcmVhbCBoZWFkZXIgYWZ0ZXIgc29ydGluZ1xuXHRcdFx0JHRhYmxlXG5cdFx0XHRcdC5hZGRDbGFzcygnaGFzU3RpY2t5SGVhZGVycycpXG5cdFx0XHRcdC5iaW5kKCdwYWdlckNvbXBsZXRlJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmVzaXplSGVhZGVyKCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR0cy5iaW5kRXZlbnRzKHRhYmxlLCAkc3RpY2t5VGhlYWQuY2hpbGRyZW4oKS5jaGlsZHJlbignLicgKyB0cy5jc3MuaGVhZGVyKSk7XG5cblx0XHRcdGlmICh3by5zdGlja3lIZWFkZXJzX2FwcGVuZFRvKSB7XG5cdFx0XHRcdCQod28uc3RpY2t5SGVhZGVyc19hcHBlbmRUbykuYXBwZW5kKCAkc3RpY2t5V3JhcCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gYWRkIHN0aWNreWhlYWRlcnMgQUZURVIgdGhlIHRhYmxlLiBJZiB0aGUgdGFibGUgaXMgc2VsZWN0ZWQgYnkgSUQsIHRoZSBvcmlnaW5hbCBvbmUgKGZpcnN0KSB3aWxsIGJlIHJldHVybmVkLlxuXHRcdFx0XHQkdGFibGUuYWZ0ZXIoICRzdGlja3lXcmFwICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG9uUmVuZGVySGVhZGVyIGlzIGRlZmluZWQsIHdlIG5lZWQgdG8gZG8gc29tZXRoaW5nIGFib3V0IGl0IChmaXhlcyAjNjQxKVxuXHRcdFx0aWYgKGMub25SZW5kZXJIZWFkZXIpIHtcblx0XHRcdFx0JHQgPSAkc3RpY2t5VGhlYWQuY2hpbGRyZW4oJ3RyJykuY2hpbGRyZW4oKTtcblx0XHRcdFx0bGVuID0gJHQubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdC8vIHNlbmQgc2Vjb25kIHBhcmFtZXRlclxuXHRcdFx0XHRcdGMub25SZW5kZXJIZWFkZXIuYXBwbHkoICR0LmVxKCBpbmRleCApLCBbIGluZGV4LCBjLCAkc3RpY2t5VGFibGUgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBtYWtlIGl0IHN0aWNreSFcblx0XHRcdCR4U2Nyb2xsLmFkZCgkeVNjcm9sbClcblx0XHRcdFx0LnVuYmluZCggKCdzY3JvbGwgcmVzaXplICcuc3BsaXQoJyAnKS5qb2luKCBuYW1lc3BhY2UgKSkucmVwbGFjZSgvXFxzKy9nLCAnICcpIClcblx0XHRcdFx0LmJpbmQoJ3Njcm9sbCByZXNpemUgJy5zcGxpdCgnICcpLmpvaW4oIG5hbWVzcGFjZSApLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsU3RpY2t5KCBldmVudC50eXBlID09PSAncmVzaXplJyApO1xuXHRcdFx0XHR9KTtcblx0XHRcdGMuJHRhYmxlXG5cdFx0XHRcdC51bmJpbmQoJ3N0aWNreUhlYWRlcnNVcGRhdGUnICsgbmFtZXNwYWNlKVxuXHRcdFx0XHQuYmluZCgnc3RpY2t5SGVhZGVyc1VwZGF0ZScgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNjcm9sbFN0aWNreSggdHJ1ZSApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0aWYgKHdvLnN0aWNreUhlYWRlcnNfYWRkUmVzaXplRXZlbnQpIHtcblx0XHRcdFx0dHMuYWRkSGVhZGVyUmVzaXplRXZlbnQodGFibGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsb29rIGZvciBmaWx0ZXIgd2lkZ2V0XG5cdFx0XHRpZiAoJHRhYmxlLmhhc0NsYXNzKCdoYXNGaWx0ZXJzJykgJiYgd28uZmlsdGVyX2NvbHVtbkZpbHRlcnMpIHtcblx0XHRcdFx0Ly8gc2Nyb2xsIHRhYmxlIGludG8gdmlldyBhZnRlciBmaWx0ZXJpbmcsIGlmIHN0aWNreSBoZWFkZXIgaXMgYWN0aXZlIC0gIzQ4MlxuXHRcdFx0XHQkdGFibGUuYmluZCgnZmlsdGVyRW5kJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gJCgnOmZvY3VzJykgbmVlZHMgalF1ZXJ5IDEuNitcblx0XHRcdFx0XHR2YXIgJHRkID0gJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5jbG9zZXN0KCd0ZCcpLFxuXHRcdFx0XHRcdFx0Y29sdW1uID0gJHRkLnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXgoJHRkKTtcblx0XHRcdFx0XHQvLyBvbmx5IHNjcm9sbCBpZiBzdGlja3kgaGVhZGVyIGlzIGFjdGl2ZVxuXHRcdFx0XHRcdGlmICgkc3RpY2t5V3JhcC5oYXNDbGFzcyh0cy5jc3Muc3RpY2t5VmlzKSAmJiB3by5zdGlja3lIZWFkZXJzX2ZpbHRlcmVkVG9Ub3ApIHtcblx0XHRcdFx0XHRcdC8vIHNjcm9sbCB0byBvcmlnaW5hbCB0YWJsZSAobm90IHN0aWNreSBjbG9uZSlcblx0XHRcdFx0XHRcdHdpbmRvdy5zY3JvbGxUbygwLCAkdGFibGUucG9zaXRpb24oKS50b3ApO1xuXHRcdFx0XHRcdFx0Ly8gZ2l2ZSBzYW1lIGlucHV0L3NlbGVjdCBmb2N1czsgY2hlY2sgaWYgYy4kZmlsdGVycyBleGlzdHM7IGZpeGVzICM1OTRcblx0XHRcdFx0XHRcdGlmIChjb2x1bW4gPj0gMCAmJiBjLiRmaWx0ZXJzKSB7XG5cdFx0XHRcdFx0XHRcdGMuJGZpbHRlcnMuZXEoY29sdW1uKS5maW5kKCdhLCBzZWxlY3QsIGlucHV0JykuZmlsdGVyKCc6dmlzaWJsZScpLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0dHMuZmlsdGVyLmJpbmRTZWFyY2goICR0YWJsZSwgJHN0aWNreUNlbGxzLmZpbmQoJy4nICsgdHMuY3NzLmZpbHRlcikgKTtcblx0XHRcdFx0Ly8gc3VwcG9ydCBoaWRlRmlsdGVyc1xuXHRcdFx0XHRpZiAod28uZmlsdGVyX2hpZGVGaWx0ZXJzKSB7XG5cdFx0XHRcdFx0dHMuZmlsdGVyLmhpZGVGaWx0ZXJzKGMsICRzdGlja3lUYWJsZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcmVzaXplIHRhYmxlIChGaXJlZm94KVxuXHRcdFx0aWYgKHdvLnN0aWNreUhlYWRlcnNfYWRkUmVzaXplRXZlbnQpIHtcblx0XHRcdFx0JHRhYmxlLmJpbmQoJ3Jlc2l6ZScgKyBjLm5hbWVzcGFjZSArICdzdGlja3loZWFkZXJzJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmVzaXplSGVhZGVyKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBtYWtlIHN1cmUgc3RpY2t5IGlzIHZpc2libGUgaWYgcGFnZSBpcyBwYXJ0aWFsbHkgc2Nyb2xsZWRcblx0XHRcdHNjcm9sbFN0aWNreSggdHJ1ZSApO1xuXHRcdFx0JHRhYmxlLnRyaWdnZXJIYW5kbGVyKCdzdGlja3lIZWFkZXJzSW5pdCcpO1xuXG5cdFx0fSxcblx0XHRyZW1vdmU6IGZ1bmN0aW9uKHRhYmxlLCBjLCB3bykge1xuXHRcdFx0dmFyIG5hbWVzcGFjZSA9IGMubmFtZXNwYWNlICsgJ3N0aWNreWhlYWRlcnMgJztcblx0XHRcdGMuJHRhYmxlXG5cdFx0XHRcdC5yZW1vdmVDbGFzcygnaGFzU3RpY2t5SGVhZGVycycpXG5cdFx0XHRcdC51bmJpbmQoICgncGFnZXJDb21wbGV0ZSByZXNpemUgZmlsdGVyRW5kIHN0aWNreUhlYWRlcnNVcGRhdGUgJy5zcGxpdCgnICcpLmpvaW4obmFtZXNwYWNlKSkucmVwbGFjZSgvXFxzKy9nLCAnICcpIClcblx0XHRcdFx0Lm5leHQoJy4nICsgdHMuY3NzLnN0aWNreVdyYXApLnJlbW92ZSgpO1xuXHRcdFx0aWYgKHdvLiRzdGlja3kgJiYgd28uJHN0aWNreS5sZW5ndGgpIHsgd28uJHN0aWNreS5yZW1vdmUoKTsgfSAvLyByZW1vdmUgY2xvbmVkIHRhYmxlXG5cdFx0XHQkKHdpbmRvdylcblx0XHRcdFx0LmFkZCh3by5zdGlja3lIZWFkZXJzX3hTY3JvbGwpXG5cdFx0XHRcdC5hZGQod28uc3RpY2t5SGVhZGVyc195U2Nyb2xsKVxuXHRcdFx0XHQuYWRkKHdvLnN0aWNreUhlYWRlcnNfYXR0YWNoVG8pXG5cdFx0XHRcdC51bmJpbmQoICgnc2Nyb2xsIHJlc2l6ZSAnLnNwbGl0KCcgJykuam9pbihuYW1lc3BhY2UpKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKTtcblx0XHRcdHRzLmFkZEhlYWRlclJlc2l6ZUV2ZW50KHRhYmxlLCB0cnVlKTtcblx0XHR9XG5cdH0pO1xuXG59KShqUXVlcnksIHdpbmRvdyk7XG5cbi8qISBXaWRnZXQ6IHJlc2l6YWJsZSAtIHVwZGF0ZWQgMjAxOC0wMy0yNiAodjIuMzAuMikgKi9cbi8qanNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OnRydWUsIHVudXNlZDpmYWxzZSAqL1xuOyhmdW5jdGlvbiAoJCwgd2luZG93KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHRzID0gJC50YWJsZXNvcnRlciB8fCB7fTtcblxuXHQkLmV4dGVuZCh0cy5jc3MsIHtcblx0XHRyZXNpemFibGVDb250YWluZXIgOiAndGFibGVzb3J0ZXItcmVzaXphYmxlLWNvbnRhaW5lcicsXG5cdFx0cmVzaXphYmxlSGFuZGxlICAgIDogJ3RhYmxlc29ydGVyLXJlc2l6YWJsZS1oYW5kbGUnLFxuXHRcdHJlc2l6YWJsZU5vU2VsZWN0ICA6ICd0YWJsZXNvcnRlci1kaXNhYmxlU2VsZWN0aW9uJyxcblx0XHRyZXNpemFibGVTdG9yYWdlICAgOiAndGFibGVzb3J0ZXItcmVzaXphYmxlJ1xuXHR9KTtcblxuXHQvLyBBZGQgZXh0cmEgc2Nyb2xsZXIgY3NzXG5cdCQoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHMgPSAnPHN0eWxlPicgK1xuXHRcdFx0J2JvZHkuJyArIHRzLmNzcy5yZXNpemFibGVOb1NlbGVjdCArICcgeyAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IC1tb3otbm9uZTsnICtcblx0XHRcdFx0Jy1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgdXNlci1zZWxlY3Q6IG5vbmU7IH0nICtcblx0XHRcdCcuJyArIHRzLmNzcy5yZXNpemFibGVDb250YWluZXIgKyAnIHsgcG9zaXRpb246IHJlbGF0aXZlOyBoZWlnaHQ6IDFweDsgfScgK1xuXHRcdFx0Ly8gbWFrZSBoYW5kbGUgei1pbmRleCA+IHRoYW4gc3RpY2t5SGVhZGVyIHotaW5kZXgsIHNvIHRoZSBoYW5kbGUgc3RheXMgYWJvdmUgc3RpY2t5IGhlYWRlclxuXHRcdFx0Jy4nICsgdHMuY3NzLnJlc2l6YWJsZUhhbmRsZSArICcgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDhweDsnICtcblx0XHRcdFx0J3RvcDogMXB4OyBjdXJzb3I6IGV3LXJlc2l6ZTsgei1pbmRleDogMzsgdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IH0nICtcblx0XHRcdCc8L3N0eWxlPic7XG5cdFx0JCgnaGVhZCcpLmFwcGVuZChzKTtcblx0fSk7XG5cblx0dHMucmVzaXphYmxlID0ge1xuXHRcdGluaXQgOiBmdW5jdGlvbiggYywgd28gKSB7XG5cdFx0XHRpZiAoIGMuJHRhYmxlLmhhc0NsYXNzKCAnaGFzUmVzaXphYmxlJyApICkgeyByZXR1cm47IH1cblx0XHRcdGMuJHRhYmxlLmFkZENsYXNzKCAnaGFzUmVzaXphYmxlJyApO1xuXG5cdFx0XHR2YXIgbm9SZXNpemUsICRoZWFkZXIsIGNvbHVtbiwgc3RvcmVkU2l6ZXMsIHRtcCxcblx0XHRcdFx0JHRhYmxlID0gYy4kdGFibGUsXG5cdFx0XHRcdCRwYXJlbnQgPSAkdGFibGUucGFyZW50KCksXG5cdFx0XHRcdG1hcmdpblRvcCA9IHBhcnNlSW50KCAkdGFibGUuY3NzKCAnbWFyZ2luLXRvcCcgKSwgMTAgKSxcblxuXHRcdFx0Ly8gaW50ZXJuYWwgdmFyaWFibGVzXG5cdFx0XHR2YXJzID0gd28ucmVzaXphYmxlX3ZhcnMgPSB7XG5cdFx0XHRcdHVzZVN0b3JhZ2UgOiB0cy5zdG9yYWdlICYmIHdvLnJlc2l6YWJsZSAhPT0gZmFsc2UsXG5cdFx0XHRcdCR3cmFwIDogJHBhcmVudCxcblx0XHRcdFx0bW91c2VYUG9zaXRpb24gOiAwLFxuXHRcdFx0XHQkdGFyZ2V0IDogbnVsbCxcblx0XHRcdFx0JG5leHQgOiBudWxsLFxuXHRcdFx0XHRvdmVyZmxvdyA6ICRwYXJlbnQuY3NzKCdvdmVyZmxvdycpID09PSAnYXV0bycgfHxcblx0XHRcdFx0XHQkcGFyZW50LmNzcygnb3ZlcmZsb3cnKSA9PT0gJ3Njcm9sbCcgfHxcblx0XHRcdFx0XHQkcGFyZW50LmNzcygnb3ZlcmZsb3cteCcpID09PSAnYXV0bycgfHxcblx0XHRcdFx0XHQkcGFyZW50LmNzcygnb3ZlcmZsb3cteCcpID09PSAnc2Nyb2xsJyxcblx0XHRcdFx0c3RvcmVkU2l6ZXMgOiBbXVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gc2V0IGRlZmF1bHQgd2lkdGhzXG5cdFx0XHR0cy5yZXNpemFibGVSZXNldCggYy50YWJsZSwgdHJ1ZSApO1xuXG5cdFx0XHQvLyBub3cgZ2V0IG1lYXN1cmVtZW50cyFcblx0XHRcdHZhcnMudGFibGVXaWR0aCA9ICR0YWJsZS53aWR0aCgpO1xuXHRcdFx0Ly8gYXR0ZW1wdCB0byBhdXRvZGV0ZWN0XG5cdFx0XHR2YXJzLmZ1bGxXaWR0aCA9IE1hdGguYWJzKCAkcGFyZW50LndpZHRoKCkgLSB2YXJzLnRhYmxlV2lkdGggKSA8IDIwO1xuXG5cdFx0XHQvKlxuXHRcdFx0Ly8gSGFja3kgbWV0aG9kIHRvIGRldGVybWluZSBpZiB0YWJsZSB3aWR0aCBpcyBzZXQgdG8gJ2F1dG8nXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMDg5MjA0OC8xNDUzNDZcblx0XHRcdGlmICggIXZhcnMuZnVsbFdpZHRoICkge1xuXHRcdFx0XHR0bXAgPSAkdGFibGUud2lkdGgoKTtcblx0XHRcdFx0JGhlYWRlciA9ICR0YWJsZS53cmFwKCc8c3Bhbj4nKS5wYXJlbnQoKTsgLy8gdGVtcCB2YXJpYWJsZVxuXHRcdFx0XHRzdG9yZWRTaXplcyA9IHBhcnNlSW50KCAkdGFibGUuY3NzKCAnbWFyZ2luLWxlZnQnICksIDEwICkgfHwgMDtcblx0XHRcdFx0JHRhYmxlLmNzcyggJ21hcmdpbi1sZWZ0Jywgc3RvcmVkU2l6ZXMgKyA1MCApO1xuXHRcdFx0XHR2YXJzLnRhYmxlV2lkdGggPSAkaGVhZGVyLndpZHRoKCkgPiB0bXAgPyAnYXV0bycgOiB0bXA7XG5cdFx0XHRcdCR0YWJsZS5jc3MoICdtYXJnaW4tbGVmdCcsIHN0b3JlZFNpemVzID8gc3RvcmVkU2l6ZXMgOiAnJyApO1xuXHRcdFx0XHQkaGVhZGVyID0gbnVsbDtcblx0XHRcdFx0JHRhYmxlLnVud3JhcCgnPHNwYW4+Jyk7XG5cdFx0XHR9XG5cdFx0XHQqL1xuXG5cdFx0XHRpZiAoIHZhcnMudXNlU3RvcmFnZSAmJiB2YXJzLm92ZXJmbG93ICkge1xuXHRcdFx0XHQvLyBzYXZlIHRhYmxlIHdpZHRoXG5cdFx0XHRcdHRzLnN0b3JhZ2UoIGMudGFibGUsICd0YWJsZXNvcnRlci10YWJsZS1vcmlnaW5hbC1jc3Mtd2lkdGgnLCB2YXJzLnRhYmxlV2lkdGggKTtcblx0XHRcdFx0dG1wID0gdHMuc3RvcmFnZSggYy50YWJsZSwgJ3RhYmxlc29ydGVyLXRhYmxlLXJlc2l6ZWQtd2lkdGgnICkgfHwgJ2F1dG8nO1xuXHRcdFx0XHR0cy5yZXNpemFibGUuc2V0V2lkdGgoICR0YWJsZSwgdG1wLCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0XHR3by5yZXNpemFibGVfdmFycy5zdG9yZWRTaXplcyA9IHN0b3JlZFNpemVzID0gKCB2YXJzLnVzZVN0b3JhZ2UgP1xuXHRcdFx0XHR0cy5zdG9yYWdlKCBjLnRhYmxlLCB0cy5jc3MucmVzaXphYmxlU3RvcmFnZSApIDpcblx0XHRcdFx0W10gKSB8fCBbXTtcblx0XHRcdHRzLnJlc2l6YWJsZS5zZXRXaWR0aHMoIGMsIHdvLCBzdG9yZWRTaXplcyApO1xuXHRcdFx0dHMucmVzaXphYmxlLnVwZGF0ZVN0b3JlZFNpemVzKCBjLCB3byApO1xuXG5cdFx0XHR3by4kcmVzaXphYmxlX2NvbnRhaW5lciA9ICQoICc8ZGl2IGNsYXNzPVwiJyArIHRzLmNzcy5yZXNpemFibGVDb250YWluZXIgKyAnXCI+JyApXG5cdFx0XHRcdC5jc3MoeyB0b3AgOiBtYXJnaW5Ub3AgfSlcblx0XHRcdFx0Lmluc2VydEJlZm9yZSggJHRhYmxlICk7XG5cdFx0XHQvLyBhZGQgY29udGFpbmVyXG5cdFx0XHRmb3IgKCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjLmNvbHVtbnM7IGNvbHVtbisrICkge1xuXHRcdFx0XHQkaGVhZGVyID0gYy4kaGVhZGVySW5kZXhlZFsgY29sdW1uIF07XG5cdFx0XHRcdHRtcCA9IHRzLmdldENvbHVtbkRhdGEoIGMudGFibGUsIGMuaGVhZGVycywgY29sdW1uICk7XG5cdFx0XHRcdG5vUmVzaXplID0gdHMuZ2V0RGF0YSggJGhlYWRlciwgdG1wLCAncmVzaXphYmxlJyApID09PSAnZmFsc2UnO1xuXHRcdFx0XHRpZiAoICFub1Jlc2l6ZSApIHtcblx0XHRcdFx0XHQkKCAnPGRpdiBjbGFzcz1cIicgKyB0cy5jc3MucmVzaXphYmxlSGFuZGxlICsgJ1wiPicgKVxuXHRcdFx0XHRcdFx0LmFwcGVuZFRvKCB3by4kcmVzaXphYmxlX2NvbnRhaW5lciApXG5cdFx0XHRcdFx0XHQuYXR0cih7XG5cdFx0XHRcdFx0XHRcdCdkYXRhLWNvbHVtbicgOiBjb2x1bW4sXG5cdFx0XHRcdFx0XHRcdCd1bnNlbGVjdGFibGUnIDogJ29uJ1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5kYXRhKCAnaGVhZGVyJywgJGhlYWRlciApXG5cdFx0XHRcdFx0XHQuYmluZCggJ3NlbGVjdHN0YXJ0JywgZmFsc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dHMucmVzaXphYmxlLmJpbmRpbmdzKCBjLCB3byApO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVTdG9yZWRTaXplcyA6IGZ1bmN0aW9uKCBjLCB3byApIHtcblx0XHRcdHZhciBjb2x1bW4sICRoZWFkZXIsXG5cdFx0XHRcdGxlbiA9IGMuY29sdW1ucyxcblx0XHRcdFx0dmFycyA9IHdvLnJlc2l6YWJsZV92YXJzO1xuXHRcdFx0dmFycy5zdG9yZWRTaXplcyA9IFtdO1xuXHRcdFx0Zm9yICggY29sdW1uID0gMDsgY29sdW1uIDwgbGVuOyBjb2x1bW4rKyApIHtcblx0XHRcdFx0JGhlYWRlciA9IGMuJGhlYWRlckluZGV4ZWRbIGNvbHVtbiBdO1xuXHRcdFx0XHR2YXJzLnN0b3JlZFNpemVzWyBjb2x1bW4gXSA9ICRoZWFkZXIuaXMoJzp2aXNpYmxlJykgPyAkaGVhZGVyLndpZHRoKCkgOiAwO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXRXaWR0aCA6IGZ1bmN0aW9uKCAkZWwsIHdpZHRoLCBvdmVyZmxvdyApIHtcblx0XHRcdC8vIG92ZXJmbG93IHRhYmxlcyBuZWVkIG1pbiAmIG1heCB3aWR0aCBzZXQgYXMgd2VsbFxuXHRcdFx0JGVsLmNzcyh7XG5cdFx0XHRcdCd3aWR0aCcgOiB3aWR0aCxcblx0XHRcdFx0J21pbi13aWR0aCcgOiBvdmVyZmxvdyA/IHdpZHRoIDogJycsXG5cdFx0XHRcdCdtYXgtd2lkdGgnIDogb3ZlcmZsb3cgPyB3aWR0aCA6ICcnXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0c2V0V2lkdGhzIDogZnVuY3Rpb24oIGMsIHdvLCBzdG9yZWRTaXplcyApIHtcblx0XHRcdHZhciBjb2x1bW4sICR0ZW1wLFxuXHRcdFx0XHR2YXJzID0gd28ucmVzaXphYmxlX3ZhcnMsXG5cdFx0XHRcdCRleHRyYSA9ICQoIGMubmFtZXNwYWNlICsgJ19leHRyYV9oZWFkZXJzJyApLFxuXHRcdFx0XHQkY29sID0gYy4kdGFibGUuY2hpbGRyZW4oICdjb2xncm91cCcgKS5jaGlsZHJlbiggJ2NvbCcgKTtcblx0XHRcdHN0b3JlZFNpemVzID0gc3RvcmVkU2l6ZXMgfHwgdmFycy5zdG9yZWRTaXplcyB8fCBbXTtcblx0XHRcdC8vIHByb2Nlc3Mgb25seSBpZiB0YWJsZSBJRCBvciB1cmwgbWF0Y2hcblx0XHRcdGlmICggc3RvcmVkU2l6ZXMubGVuZ3RoICkge1xuXHRcdFx0XHRmb3IgKCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjLmNvbHVtbnM7IGNvbHVtbisrICkge1xuXHRcdFx0XHRcdC8vIHNldCBzYXZlZCByZXNpemFibGUgd2lkdGhzXG5cdFx0XHRcdFx0dHMucmVzaXphYmxlLnNldFdpZHRoKCBjLiRoZWFkZXJJbmRleGVkWyBjb2x1bW4gXSwgc3RvcmVkU2l6ZXNbIGNvbHVtbiBdLCB2YXJzLm92ZXJmbG93ICk7XG5cdFx0XHRcdFx0aWYgKCAkZXh0cmEubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0Ly8gc3RpY2t5SGVhZGVycyBuZWVkcyB0byBtb2RpZnkgbWluICYgbWF4IHdpZHRoIGFzIHdlbGxcblx0XHRcdFx0XHRcdCR0ZW1wID0gJGV4dHJhLmVxKCBjb2x1bW4gKS5hZGQoICRjb2wuZXEoIGNvbHVtbiApICk7XG5cdFx0XHRcdFx0XHR0cy5yZXNpemFibGUuc2V0V2lkdGgoICR0ZW1wLCBzdG9yZWRTaXplc1sgY29sdW1uIF0sIHZhcnMub3ZlcmZsb3cgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0JHRlbXAgPSAkKCBjLm5hbWVzcGFjZSArICdfZXh0cmFfdGFibGUnICk7XG5cdFx0XHRcdGlmICggJHRlbXAubGVuZ3RoICYmICF0cy5oYXNXaWRnZXQoIGMudGFibGUsICdzY3JvbGxlcicgKSApIHtcblx0XHRcdFx0XHR0cy5yZXNpemFibGUuc2V0V2lkdGgoICR0ZW1wLCBjLiR0YWJsZS5vdXRlcldpZHRoKCksIHZhcnMub3ZlcmZsb3cgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXRIYW5kbGVQb3NpdGlvbiA6IGZ1bmN0aW9uKCBjLCB3byApIHtcblx0XHRcdHZhciBzdGFydFBvc2l0aW9uLFxuXHRcdFx0XHR0YWJsZUhlaWdodCA9IGMuJHRhYmxlLmhlaWdodCgpLFxuXHRcdFx0XHQkaGFuZGxlcyA9IHdvLiRyZXNpemFibGVfY29udGFpbmVyLmNoaWxkcmVuKCksXG5cdFx0XHRcdGhhbmRsZUNlbnRlciA9IE1hdGguZmxvb3IoICRoYW5kbGVzLndpZHRoKCkgLyAyICk7XG5cblx0XHRcdGlmICggdHMuaGFzV2lkZ2V0KCBjLnRhYmxlLCAnc2Nyb2xsZXInICkgKSB7XG5cdFx0XHRcdHRhYmxlSGVpZ2h0ID0gMDtcblx0XHRcdFx0Yy4kdGFibGUuY2xvc2VzdCggJy4nICsgdHMuY3NzLnNjcm9sbGVyV3JhcCApLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXHRcdFx0XHRcdC8vIGNlbnRlciB0YWJsZSBoYXMgYSBtYXgtaGVpZ2h0IHNldFxuXHRcdFx0XHRcdHRhYmxlSGVpZ2h0ICs9ICR0aGlzLmZpbHRlcignW3N0eWxlKj1cImhlaWdodFwiXScpLmxlbmd0aCA/ICR0aGlzLmhlaWdodCgpIDogJHRoaXMuY2hpbGRyZW4oJ3RhYmxlJykuaGVpZ2h0KCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICF3by5yZXNpemFibGVfaW5jbHVkZUZvb3RlciAmJiBjLiR0YWJsZS5jaGlsZHJlbigndGZvb3QnKS5sZW5ndGggKSB7XG5cdFx0XHRcdHRhYmxlSGVpZ2h0IC09IGMuJHRhYmxlLmNoaWxkcmVuKCd0Zm9vdCcpLmhlaWdodCgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gc3VidHJhY3Qgb3V0IHRhYmxlIGxlZnQgcG9zaXRpb24gZnJvbSByZXNpemFibGUgaGFuZGxlcy4gRml4ZXMgIzg2NFxuXHRcdFx0Ly8galF1ZXJ5IHYzLjMuMCsgYXBwZWFycyB0byBpbmNsdWRlIHRoZSBzdGFydCBwb3NpdGlvbiB3aXRoIHRoZSAkaGVhZGVyLnBvc2l0aW9uKCkubGVmdDsgc2VlICMxNTQ0XG5cdFx0XHRzdGFydFBvc2l0aW9uID0gcGFyc2VGbG9hdCgkLmZuLmpxdWVyeSkgPj0gMy4zID8gMCA6IGMuJHRhYmxlLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdCRoYW5kbGVzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdGNvbHVtbiA9IHBhcnNlSW50KCAkdGhpcy5hdHRyKCAnZGF0YS1jb2x1bW4nICksIDEwICksXG5cdFx0XHRcdFx0Y29sdW1ucyA9IGMuY29sdW1ucyAtIDEsXG5cdFx0XHRcdFx0JGhlYWRlciA9ICR0aGlzLmRhdGEoICdoZWFkZXInICk7XG5cdFx0XHRcdGlmICggISRoZWFkZXIgKSB7IHJldHVybjsgfSAvLyBzZWUgIzg1OVxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0ISRoZWFkZXIuaXMoJzp2aXNpYmxlJykgfHxcblx0XHRcdFx0XHQoICF3by5yZXNpemFibGVfYWRkTGFzdENvbHVtbiAmJiB0cy5yZXNpemFibGUuY2hlY2tWaXNpYmxlQ29sdW1ucyhjLCBjb2x1bW4pIClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0JHRoaXMuaGlkZSgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb2x1bW4gPCBjb2x1bW5zIHx8IGNvbHVtbiA9PT0gY29sdW1ucyAmJiB3by5yZXNpemFibGVfYWRkTGFzdENvbHVtbiApIHtcblx0XHRcdFx0XHQkdGhpcy5jc3Moe1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG5cdFx0XHRcdFx0XHRoZWlnaHQgOiB0YWJsZUhlaWdodCxcblx0XHRcdFx0XHRcdGxlZnQgOiAkaGVhZGVyLnBvc2l0aW9uKCkubGVmdCAtIHN0YXJ0UG9zaXRpb24gKyAkaGVhZGVyLm91dGVyV2lkdGgoKSAtIGhhbmRsZUNlbnRlclxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Ly8gRml4ZXMgIzE0ODVcblx0XHRjaGVja1Zpc2libGVDb2x1bW5zOiBmdW5jdGlvbiggYywgY29sdW1uICkge1xuXHRcdFx0dmFyIGksXG5cdFx0XHRcdGxlbiA9IDA7XG5cdFx0XHRmb3IgKCBpID0gY29sdW1uICsgMTsgaSA8IGMuY29sdW1uczsgaSsrICkge1xuXHRcdFx0XHRsZW4gKz0gYy4kaGVhZGVySW5kZXhlZFtpXS5pcyggJzp2aXNpYmxlJyApID8gMSA6IDA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbGVuID09PSAwO1xuXHRcdH0sXG5cblx0XHQvLyBwcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoaWxlIGRyYWdnaW5nIHJlc2l6ZSBiYXJcblx0XHR0b2dnbGVUZXh0U2VsZWN0aW9uIDogZnVuY3Rpb24oIGMsIHdvLCB0b2dnbGUgKSB7XG5cdFx0XHR2YXIgbmFtZXNwYWNlID0gYy5uYW1lc3BhY2UgKyAndHNyZXNpemUnO1xuXHRcdFx0d28ucmVzaXphYmxlX3ZhcnMuZGlzYWJsZWQgPSB0b2dnbGU7XG5cdFx0XHQkKCAnYm9keScgKS50b2dnbGVDbGFzcyggdHMuY3NzLnJlc2l6YWJsZU5vU2VsZWN0LCB0b2dnbGUgKTtcblx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHQkKCAnYm9keScgKVxuXHRcdFx0XHRcdC5hdHRyKCAndW5zZWxlY3RhYmxlJywgJ29uJyApXG5cdFx0XHRcdFx0LmJpbmQoICdzZWxlY3RzdGFydCcgKyBuYW1lc3BhY2UsIGZhbHNlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnYm9keScgKVxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCAndW5zZWxlY3RhYmxlJyApXG5cdFx0XHRcdFx0LnVuYmluZCggJ3NlbGVjdHN0YXJ0JyArIG5hbWVzcGFjZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiaW5kaW5ncyA6IGZ1bmN0aW9uKCBjLCB3byApIHtcblx0XHRcdHZhciBuYW1lc3BhY2UgPSBjLm5hbWVzcGFjZSArICd0c3Jlc2l6ZSc7XG5cdFx0XHR3by4kcmVzaXphYmxlX2NvbnRhaW5lci5jaGlsZHJlbigpLmJpbmQoICdtb3VzZWRvd24nLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdC8vIHNhdmUgaGVhZGVyIGNlbGwgYW5kIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHZhciBjb2x1bW4sXG5cdFx0XHRcdFx0dmFycyA9IHdvLnJlc2l6YWJsZV92YXJzLFxuXHRcdFx0XHRcdCRleHRyYXMgPSAkKCBjLm5hbWVzcGFjZSArICdfZXh0cmFfaGVhZGVycycgKSxcblx0XHRcdFx0XHQkaGVhZGVyID0gJCggZXZlbnQudGFyZ2V0ICkuZGF0YSggJ2hlYWRlcicgKTtcblxuXHRcdFx0XHRjb2x1bW4gPSBwYXJzZUludCggJGhlYWRlci5hdHRyKCAnZGF0YS1jb2x1bW4nICksIDEwICk7XG5cdFx0XHRcdHZhcnMuJHRhcmdldCA9ICRoZWFkZXIgPSAkaGVhZGVyLmFkZCggJGV4dHJhcy5maWx0ZXIoJ1tkYXRhLWNvbHVtbj1cIicgKyBjb2x1bW4gKyAnXCJdJykgKTtcblx0XHRcdFx0dmFycy50YXJnZXQgPSBjb2x1bW47XG5cblx0XHRcdFx0Ly8gaWYgdGFibGUgaXMgbm90IGFzIHdpZGUgYXMgaXQncyBwYXJlbnQsIHRoZW4gcmVzaXplIHRoZSB0YWJsZVxuXHRcdFx0XHR2YXJzLiRuZXh0ID0gZXZlbnQuc2hpZnRLZXkgfHwgd28ucmVzaXphYmxlX3RhcmdldExhc3QgP1xuXHRcdFx0XHRcdCRoZWFkZXIucGFyZW50KCkuY2hpbGRyZW4oKS5ub3QoICcucmVzaXphYmxlLWZhbHNlJyApLmZpbHRlciggJzpsYXN0JyApIDpcblx0XHRcdFx0XHQkaGVhZGVyLm5leHRBbGwoICc6bm90KC5yZXNpemFibGUtZmFsc2UpJyApLmVxKCAwICk7XG5cblx0XHRcdFx0Y29sdW1uID0gcGFyc2VJbnQoIHZhcnMuJG5leHQuYXR0ciggJ2RhdGEtY29sdW1uJyApLCAxMCApO1xuXHRcdFx0XHR2YXJzLiRuZXh0ID0gdmFycy4kbmV4dC5hZGQoICRleHRyYXMuZmlsdGVyKCdbZGF0YS1jb2x1bW49XCInICsgY29sdW1uICsgJ1wiXScpICk7XG5cdFx0XHRcdHZhcnMubmV4dCA9IGNvbHVtbjtcblxuXHRcdFx0XHR2YXJzLm1vdXNlWFBvc2l0aW9uID0gZXZlbnQucGFnZVg7XG5cdFx0XHRcdHRzLnJlc2l6YWJsZS51cGRhdGVTdG9yZWRTaXplcyggYywgd28gKTtcblx0XHRcdFx0dHMucmVzaXphYmxlLnRvZ2dsZVRleHRTZWxlY3Rpb24oYywgd28sIHRydWUgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKCBkb2N1bWVudCApXG5cdFx0XHRcdC5iaW5kKCAnbW91c2Vtb3ZlJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdHZhciB2YXJzID0gd28ucmVzaXphYmxlX3ZhcnM7XG5cdFx0XHRcdFx0Ly8gaWdub3JlIG1vdXNlbW92ZSBpZiBubyBtb3VzZWRvd25cblx0XHRcdFx0XHRpZiAoICF2YXJzLmRpc2FibGVkIHx8IHZhcnMubW91c2VYUG9zaXRpb24gPT09IDAgfHwgIXZhcnMuJHRhcmdldCApIHsgcmV0dXJuOyB9XG5cdFx0XHRcdFx0aWYgKCB3by5yZXNpemFibGVfdGhyb3R0bGUgKSB7XG5cdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoIHZhcnMudGltZXIgKTtcblx0XHRcdFx0XHRcdHZhcnMudGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dHMucmVzaXphYmxlLm1vdXNlTW92ZSggYywgd28sIGV2ZW50ICk7XG5cdFx0XHRcdFx0XHR9LCBpc05hTiggd28ucmVzaXphYmxlX3Rocm90dGxlICkgPyA1IDogd28ucmVzaXphYmxlX3Rocm90dGxlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRzLnJlc2l6YWJsZS5tb3VzZU1vdmUoIGMsIHdvLCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdFx0LmJpbmQoICdtb3VzZXVwJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCF3by5yZXNpemFibGVfdmFycy5kaXNhYmxlZCkgeyByZXR1cm47IH1cblx0XHRcdFx0XHR0cy5yZXNpemFibGUudG9nZ2xlVGV4dFNlbGVjdGlvbiggYywgd28sIGZhbHNlICk7XG5cdFx0XHRcdFx0dHMucmVzaXphYmxlLnN0b3BSZXNpemUoIGMsIHdvICk7XG5cdFx0XHRcdFx0dHMucmVzaXphYmxlLnNldEhhbmRsZVBvc2l0aW9uKCBjLCB3byApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0Ly8gcmVzaXplRW5kIGV2ZW50IHRyaWdnZXJlZCBieSBzY3JvbGxlciB3aWRnZXRcblx0XHRcdCQoIHdpbmRvdyApLmJpbmQoICdyZXNpemUnICsgbmFtZXNwYWNlICsgJyByZXNpemVFbmQnICsgbmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dHMucmVzaXphYmxlLnNldEhhbmRsZVBvc2l0aW9uKCBjLCB3byApO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHJpZ2h0IGNsaWNrIHRvIHJlc2V0IGNvbHVtbnMgdG8gZGVmYXVsdCB3aWR0aHNcblx0XHRcdGMuJHRhYmxlXG5cdFx0XHRcdC5iaW5kKCAnY29sdW1uVXBkYXRlIHBhZ2VyQ29tcGxldGUgcmVzaXphYmxlVXBkYXRlICcuc3BsaXQoICcgJyApLmpvaW4oIG5hbWVzcGFjZSArICcgJyApLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0cy5yZXNpemFibGUuc2V0SGFuZGxlUG9zaXRpb24oIGMsIHdvICk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5iaW5kKCAncmVzaXphYmxlUmVzZXQnICsgbmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0cy5yZXNpemFibGVSZXNldCggYy50YWJsZSApO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmluZCggJ3RoZWFkOmZpcnN0JyApXG5cdFx0XHRcdC5hZGQoICQoIGMubmFtZXNwYWNlICsgJ19leHRyYV90YWJsZScgKS5maW5kKCAndGhlYWQ6Zmlyc3QnICkgKVxuXHRcdFx0XHQuYmluZCggJ2NvbnRleHRtZW51JyArIG5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gJC5pc0VtcHR5T2JqZWN0KCkgbmVlZHMgalF1ZXJ5IDEuNCs7IGFsbG93IHJpZ2h0IGNsaWNrIGlmIGFscmVhZHkgcmVzZXRcblx0XHRcdFx0XHR2YXIgYWxsb3dDbGljayA9IHdvLnJlc2l6YWJsZV92YXJzLnN0b3JlZFNpemVzLmxlbmd0aCA9PT0gMDtcblx0XHRcdFx0XHR0cy5yZXNpemFibGVSZXNldCggYy50YWJsZSApO1xuXHRcdFx0XHRcdHRzLnJlc2l6YWJsZS5zZXRIYW5kbGVQb3NpdGlvbiggYywgd28gKTtcblx0XHRcdFx0XHR3by5yZXNpemFibGVfdmFycy5zdG9yZWRTaXplcyA9IFtdO1xuXHRcdFx0XHRcdHJldHVybiBhbGxvd0NsaWNrO1xuXHRcdFx0XHR9KTtcblxuXHRcdH0sXG5cblx0XHRtb3VzZU1vdmUgOiBmdW5jdGlvbiggYywgd28sIGV2ZW50ICkge1xuXHRcdFx0aWYgKCB3by5yZXNpemFibGVfdmFycy5tb3VzZVhQb3NpdGlvbiA9PT0gMCB8fCAhd28ucmVzaXphYmxlX3ZhcnMuJHRhcmdldCApIHsgcmV0dXJuOyB9XG5cdFx0XHQvLyByZXNpemUgY29sdW1uc1xuXHRcdFx0dmFyIGNvbHVtbixcblx0XHRcdFx0dG90YWwgPSAwLFxuXHRcdFx0XHR2YXJzID0gd28ucmVzaXphYmxlX3ZhcnMsXG5cdFx0XHRcdCRuZXh0ID0gdmFycy4kbmV4dCxcblx0XHRcdFx0dGFyID0gdmFycy5zdG9yZWRTaXplc1sgdmFycy50YXJnZXQgXSxcblx0XHRcdFx0bGVmdEVkZ2UgPSBldmVudC5wYWdlWCAtIHZhcnMubW91c2VYUG9zaXRpb247XG5cdFx0XHRpZiAoIHZhcnMub3ZlcmZsb3cgKSB7XG5cdFx0XHRcdGlmICggdGFyICsgbGVmdEVkZ2UgPiAwICkge1xuXHRcdFx0XHRcdHZhcnMuc3RvcmVkU2l6ZXNbIHZhcnMudGFyZ2V0IF0gKz0gbGVmdEVkZ2U7XG5cdFx0XHRcdFx0dHMucmVzaXphYmxlLnNldFdpZHRoKCB2YXJzLiR0YXJnZXQsIHZhcnMuc3RvcmVkU2l6ZXNbIHZhcnMudGFyZ2V0IF0sIHRydWUgKTtcblx0XHRcdFx0XHQvLyB1cGRhdGUgdGhlIGVudGlyZSB0YWJsZSB3aWR0aFxuXHRcdFx0XHRcdGZvciAoIGNvbHVtbiA9IDA7IGNvbHVtbiA8IGMuY29sdW1uczsgY29sdW1uKysgKSB7XG5cdFx0XHRcdFx0XHR0b3RhbCArPSB2YXJzLnN0b3JlZFNpemVzWyBjb2x1bW4gXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dHMucmVzaXphYmxlLnNldFdpZHRoKCBjLiR0YWJsZS5hZGQoICQoIGMubmFtZXNwYWNlICsgJ19leHRyYV90YWJsZScgKSApLCB0b3RhbCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggISRuZXh0Lmxlbmd0aCApIHtcblx0XHRcdFx0XHQvLyBpZiBleHBhbmRpbmcgcmlnaHQtbW9zdCBjb2x1bW4sIHNjcm9sbCB0aGUgd3JhcHBlclxuXHRcdFx0XHRcdHZhcnMuJHdyYXBbMF0uc2Nyb2xsTGVmdCA9IGMuJHRhYmxlLndpZHRoKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIHZhcnMuZnVsbFdpZHRoICkge1xuXHRcdFx0XHR2YXJzLnN0b3JlZFNpemVzWyB2YXJzLnRhcmdldCBdICs9IGxlZnRFZGdlO1xuXHRcdFx0XHR2YXJzLnN0b3JlZFNpemVzWyB2YXJzLm5leHQgXSAtPSBsZWZ0RWRnZTtcblx0XHRcdFx0dHMucmVzaXphYmxlLnNldFdpZHRocyggYywgd28gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhcnMuc3RvcmVkU2l6ZXNbIHZhcnMudGFyZ2V0IF0gKz0gbGVmdEVkZ2U7XG5cdFx0XHRcdHRzLnJlc2l6YWJsZS5zZXRXaWR0aHMoIGMsIHdvICk7XG5cdFx0XHR9XG5cdFx0XHR2YXJzLm1vdXNlWFBvc2l0aW9uID0gZXZlbnQucGFnZVg7XG5cdFx0XHQvLyBkeW5hbWljYWxseSB1cGRhdGUgc3RpY2t5IGhlYWRlciB3aWR0aHNcblx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCdzdGlja3lIZWFkZXJzVXBkYXRlJyk7XG5cdFx0fSxcblxuXHRcdHN0b3BSZXNpemUgOiBmdW5jdGlvbiggYywgd28gKSB7XG5cdFx0XHR2YXIgdmFycyA9IHdvLnJlc2l6YWJsZV92YXJzO1xuXHRcdFx0dHMucmVzaXphYmxlLnVwZGF0ZVN0b3JlZFNpemVzKCBjLCB3byApO1xuXHRcdFx0aWYgKCB2YXJzLnVzZVN0b3JhZ2UgKSB7XG5cdFx0XHRcdC8vIHNhdmUgYWxsIGNvbHVtbiB3aWR0aHNcblx0XHRcdFx0dHMuc3RvcmFnZSggYy50YWJsZSwgdHMuY3NzLnJlc2l6YWJsZVN0b3JhZ2UsIHZhcnMuc3RvcmVkU2l6ZXMgKTtcblx0XHRcdFx0dHMuc3RvcmFnZSggYy50YWJsZSwgJ3RhYmxlc29ydGVyLXRhYmxlLXJlc2l6ZWQtd2lkdGgnLCBjLiR0YWJsZS53aWR0aCgpICk7XG5cdFx0XHR9XG5cdFx0XHR2YXJzLm1vdXNlWFBvc2l0aW9uID0gMDtcblx0XHRcdHZhcnMuJHRhcmdldCA9IHZhcnMuJG5leHQgPSBudWxsO1xuXHRcdFx0Ly8gd2lsbCB1cGRhdGUgc3RpY2t5SGVhZGVycywganVzdCBpbiBjYXNlLCBzZWUgIzkxMlxuXHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoJ3N0aWNreUhlYWRlcnNVcGRhdGUnKTtcblx0XHRcdGMuJHRhYmxlLnRyaWdnZXJIYW5kbGVyKCdyZXNpemFibGVDb21wbGV0ZScpO1xuXHRcdH1cblx0fTtcblxuXHQvLyB0aGlzIHdpZGdldCBzYXZlcyB0aGUgY29sdW1uIHdpZHRocyBpZlxuXHQvLyAkLnRhYmxlc29ydGVyLnN0b3JhZ2UgZnVuY3Rpb24gaXMgaW5jbHVkZWRcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0dHMuYWRkV2lkZ2V0KHtcblx0XHRpZDogJ3Jlc2l6YWJsZScsXG5cdFx0cHJpb3JpdHk6IDQwLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHJlc2l6YWJsZSA6IHRydWUsIC8vIHNhdmUgY29sdW1uIHdpZHRocyB0byBzdG9yYWdlXG5cdFx0XHRyZXNpemFibGVfYWRkTGFzdENvbHVtbiA6IGZhbHNlLFxuXHRcdFx0cmVzaXphYmxlX2luY2x1ZGVGb290ZXI6IHRydWUsXG5cdFx0XHRyZXNpemFibGVfd2lkdGhzIDogW10sXG5cdFx0XHRyZXNpemFibGVfdGhyb3R0bGUgOiBmYWxzZSwgLy8gc2V0IHRvIHRydWUgKDVtcykgb3IgYW55IG51bWJlciAwLTEwIHJhbmdlXG5cdFx0XHRyZXNpemFibGVfdGFyZ2V0TGFzdCA6IGZhbHNlXG5cdFx0fSxcblx0XHRpbml0OiBmdW5jdGlvbih0YWJsZSwgdGhpc1dpZGdldCwgYywgd28pIHtcblx0XHRcdHRzLnJlc2l6YWJsZS5pbml0KCBjLCB3byApO1xuXHRcdH0sXG5cdFx0Zm9ybWF0OiBmdW5jdGlvbiggdGFibGUsIGMsIHdvICkge1xuXHRcdFx0dHMucmVzaXphYmxlLnNldEhhbmRsZVBvc2l0aW9uKCBjLCB3byApO1xuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggdGFibGUsIGMsIHdvLCByZWZyZXNoaW5nICkge1xuXHRcdFx0aWYgKHdvLiRyZXNpemFibGVfY29udGFpbmVyKSB7XG5cdFx0XHRcdHZhciBuYW1lc3BhY2UgPSBjLm5hbWVzcGFjZSArICd0c3Jlc2l6ZSc7XG5cdFx0XHRcdGMuJHRhYmxlLmFkZCggJCggYy5uYW1lc3BhY2UgKyAnX2V4dHJhX3RhYmxlJyApIClcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoJ2hhc1Jlc2l6YWJsZScpXG5cdFx0XHRcdFx0LmNoaWxkcmVuKCAndGhlYWQnIClcblx0XHRcdFx0XHQudW5iaW5kKCAnY29udGV4dG1lbnUnICsgbmFtZXNwYWNlICk7XG5cblx0XHRcdFx0d28uJHJlc2l6YWJsZV9jb250YWluZXIucmVtb3ZlKCk7XG5cdFx0XHRcdHRzLnJlc2l6YWJsZS50b2dnbGVUZXh0U2VsZWN0aW9uKCBjLCB3bywgZmFsc2UgKTtcblx0XHRcdFx0dHMucmVzaXphYmxlUmVzZXQoIHRhYmxlLCByZWZyZXNoaW5nICk7XG5cdFx0XHRcdCQoIGRvY3VtZW50ICkudW5iaW5kKCAnbW91c2Vtb3ZlJyArIG5hbWVzcGFjZSArICcgbW91c2V1cCcgKyBuYW1lc3BhY2UgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHRzLnJlc2l6YWJsZVJlc2V0ID0gZnVuY3Rpb24oIHRhYmxlLCByZWZyZXNoaW5nICkge1xuXHRcdCQoIHRhYmxlICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCwgJHQsXG5cdFx0XHRcdGMgPSB0aGlzLmNvbmZpZyxcblx0XHRcdFx0d28gPSBjICYmIGMud2lkZ2V0T3B0aW9ucyxcblx0XHRcdFx0dmFycyA9IHdvLnJlc2l6YWJsZV92YXJzO1xuXHRcdFx0aWYgKCB0YWJsZSAmJiBjICYmIGMuJGhlYWRlckluZGV4ZWQubGVuZ3RoICkge1xuXHRcdFx0XHQvLyByZXN0b3JlIHRoZSBpbml0aWFsIHRhYmxlIHdpZHRoXG5cdFx0XHRcdGlmICggdmFycy5vdmVyZmxvdyAmJiB2YXJzLnRhYmxlV2lkdGggKSB7XG5cdFx0XHRcdFx0dHMucmVzaXphYmxlLnNldFdpZHRoKCBjLiR0YWJsZSwgdmFycy50YWJsZVdpZHRoLCB0cnVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YXJzLnVzZVN0b3JhZ2UgKSB7XG5cdFx0XHRcdFx0XHR0cy5zdG9yYWdlKCB0YWJsZSwgJ3RhYmxlc29ydGVyLXRhYmxlLXJlc2l6ZWQtd2lkdGgnLCB2YXJzLnRhYmxlV2lkdGggKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGMuY29sdW1uczsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHQkdCA9IGMuJGhlYWRlckluZGV4ZWRbIGluZGV4IF07XG5cdFx0XHRcdFx0aWYgKCB3by5yZXNpemFibGVfd2lkdGhzICYmIHdvLnJlc2l6YWJsZV93aWR0aHNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0XHR0cy5yZXNpemFibGUuc2V0V2lkdGgoICR0LCB3by5yZXNpemFibGVfd2lkdGhzWyBpbmRleCBdLCB2YXJzLm92ZXJmbG93ICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggISR0Lmhhc0NsYXNzKCAncmVzaXphYmxlLWZhbHNlJyApICkge1xuXHRcdFx0XHRcdFx0Ly8gZG9uJ3QgY2xlYXIgdGhlIHdpZHRoIG9mIGFueSBjb2x1bW4gdGhhdCBpcyBub3QgcmVzaXphYmxlXG5cdFx0XHRcdFx0XHR0cy5yZXNpemFibGUuc2V0V2lkdGgoICR0LCAnJywgdmFycy5vdmVyZmxvdyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHJlc2V0IHN0aWNreUhlYWRlciB3aWR0aHNcblx0XHRcdFx0Yy4kdGFibGUudHJpZ2dlckhhbmRsZXIoICdzdGlja3lIZWFkZXJzVXBkYXRlJyApO1xuXHRcdFx0XHRpZiAoIHRzLnN0b3JhZ2UgJiYgIXJlZnJlc2hpbmcgKSB7XG5cdFx0XHRcdFx0dHMuc3RvcmFnZSggdGhpcywgdHMuY3NzLnJlc2l6YWJsZVN0b3JhZ2UsIFtdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fTtcblxufSkoIGpRdWVyeSwgd2luZG93ICk7XG5cbi8qISBXaWRnZXQ6IHNhdmVTb3J0IC0gdXBkYXRlZCAyMDE4LTAzLTE5ICh2Mi4zMC4xKSAqLy8qXG4qIFJlcXVpcmVzIHRhYmxlc29ydGVyIHYyLjE2K1xuKiBieSBSb2IgR2Fycmlzb25cbiovXG47KGZ1bmN0aW9uICgkKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHRzID0gJC50YWJsZXNvcnRlciB8fCB7fTtcblxuXHRmdW5jdGlvbiBnZXRTdG9yZWRTb3J0TGlzdChjKSB7XG5cdFx0dmFyIHN0b3JlZCA9IHRzLnN0b3JhZ2UoIGMudGFibGUsICd0YWJsZXNvcnRlci1zYXZlc29ydCcgKTtcblx0XHRyZXR1cm4gKHN0b3JlZCAmJiBzdG9yZWQuaGFzT3duUHJvcGVydHkoJ3NvcnRMaXN0JykgJiYgJC5pc0FycmF5KHN0b3JlZC5zb3J0TGlzdCkpID8gc3RvcmVkLnNvcnRMaXN0IDogW107XG5cdH1cblxuXHRmdW5jdGlvbiBzb3J0TGlzdENoYW5nZWQoYywgc29ydExpc3QpIHtcblx0XHRyZXR1cm4gKHNvcnRMaXN0IHx8IGdldFN0b3JlZFNvcnRMaXN0KGMpKS5qb2luKCcsJykgIT09IGMuc29ydExpc3Quam9pbignLCcpO1xuXHR9XG5cblx0Ly8gdGhpcyB3aWRnZXQgc2F2ZXMgdGhlIGxhc3Qgc29ydCBvbmx5IGlmIHRoZVxuXHQvLyBzYXZlU29ydCB3aWRnZXQgb3B0aW9uIGlzIHRydWUgQU5EIHRoZVxuXHQvLyAkLnRhYmxlc29ydGVyLnN0b3JhZ2UgZnVuY3Rpb24gaXMgaW5jbHVkZWRcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0dHMuYWRkV2lkZ2V0KHtcblx0XHRpZDogJ3NhdmVTb3J0Jyxcblx0XHRwcmlvcml0eTogMjAsXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0c2F2ZVNvcnQgOiB0cnVlXG5cdFx0fSxcblx0XHRpbml0OiBmdW5jdGlvbih0YWJsZSwgdGhpc1dpZGdldCwgYywgd28pIHtcblx0XHRcdC8vIHJ1biB3aWRnZXQgZm9ybWF0IGJlZm9yZSBhbGwgb3RoZXIgd2lkZ2V0cyBhcmUgYXBwbGllZCB0byB0aGUgdGFibGVcblx0XHRcdHRoaXNXaWRnZXQuZm9ybWF0KHRhYmxlLCBjLCB3bywgdHJ1ZSk7XG5cdFx0fSxcblx0XHRmb3JtYXQ6IGZ1bmN0aW9uKHRhYmxlLCBjLCB3bywgaW5pdCkge1xuXHRcdFx0dmFyIHRpbWUsXG5cdFx0XHRcdCR0YWJsZSA9IGMuJHRhYmxlLFxuXHRcdFx0XHRzYXZlU29ydCA9IHdvLnNhdmVTb3J0ICE9PSBmYWxzZSwgLy8gbWFrZSBzYXZlU29ydCBhY3RpdmUvaW5hY3RpdmU7IGRlZmF1bHQgdG8gdHJ1ZVxuXHRcdFx0XHRzb3J0TGlzdCA9IHsgJ3NvcnRMaXN0JyA6IGMuc29ydExpc3QgfSxcblx0XHRcdFx0ZGVidWcgPSB0cy5kZWJ1ZyhjLCAnc2F2ZVNvcnQnKTtcblx0XHRcdGlmIChkZWJ1Zykge1xuXHRcdFx0XHR0aW1lID0gbmV3IERhdGUoKTtcblx0XHRcdH1cblx0XHRcdGlmICgkdGFibGUuaGFzQ2xhc3MoJ2hhc1NhdmVTb3J0JykpIHtcblx0XHRcdFx0aWYgKHNhdmVTb3J0ICYmIHRhYmxlLmhhc0luaXRpYWxpemVkICYmIHRzLnN0b3JhZ2UgJiYgc29ydExpc3RDaGFuZ2VkKGMpKSB7XG5cdFx0XHRcdFx0dHMuc3RvcmFnZSggdGFibGUsICd0YWJsZXNvcnRlci1zYXZlc29ydCcsIHNvcnRMaXN0ICk7XG5cdFx0XHRcdFx0aWYgKGRlYnVnKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnc2F2ZVNvcnQgPj4gU2F2aW5nIGxhc3Qgc29ydDogJyArIGMuc29ydExpc3QgKyB0cy5iZW5jaG1hcmsodGltZSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gc2V0IHRhYmxlIHNvcnQgb24gaW5pdGlhbCBydW4gb2YgdGhlIHdpZGdldFxuXHRcdFx0XHQkdGFibGUuYWRkQ2xhc3MoJ2hhc1NhdmVTb3J0Jyk7XG5cdFx0XHRcdHNvcnRMaXN0ID0gJyc7XG5cdFx0XHRcdC8vIGdldCBkYXRhXG5cdFx0XHRcdGlmICh0cy5zdG9yYWdlKSB7XG5cdFx0XHRcdFx0c29ydExpc3QgPSBnZXRTdG9yZWRTb3J0TGlzdChjKTtcblx0XHRcdFx0XHRpZiAoZGVidWcpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdzYXZlU29ydCA+PiBMYXN0IHNvcnQgbG9hZGVkOiBcIicgKyBzb3J0TGlzdCArICdcIicgKyB0cy5iZW5jaG1hcmsodGltZSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkdGFibGUuYmluZCgnc2F2ZVNvcnRSZXNldCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdHRzLnN0b3JhZ2UoIHRhYmxlLCAndGFibGVzb3J0ZXItc2F2ZXNvcnQnLCAnJyApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGluaXQgaXMgdHJ1ZSB3aGVuIHdpZGdldCBpbml0IGlzIHJ1biwgdGhpcyB3aWxsIHJ1biB0aGlzIHdpZGdldCBiZWZvcmUgYWxsIG90aGVyIHdpZGdldHMgaGF2ZSBpbml0aWFsaXplZFxuXHRcdFx0XHQvLyB0aGlzIG1ldGhvZCBhbGxvd3MgdXNpbmcgdGhpcyB3aWRnZXQgaW4gdGhlIG9yaWdpbmFsIHRhYmxlc29ydGVyIHBsdWdpbjsgYnV0IHRoZW4gaXQgd2lsbCBydW4gYWxsIHdpZGdldHMgdHdpY2UuXG5cdFx0XHRcdGlmIChpbml0ICYmIHNvcnRMaXN0ICYmIHNvcnRMaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRjLnNvcnRMaXN0ID0gc29ydExpc3Q7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGFibGUuaGFzSW5pdGlhbGl6ZWQgJiYgc29ydExpc3QgJiYgc29ydExpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdC8vIHVwZGF0ZSBzb3J0IGNoYW5nZVxuXHRcdFx0XHRcdGlmIChzb3J0TGlzdENoYW5nZWQoYywgc29ydExpc3QpKSB7XG5cdFx0XHRcdFx0XHR0cy5zb3J0T24oYywgc29ydExpc3QpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbih0YWJsZSwgYykge1xuXHRcdFx0Yy4kdGFibGUucmVtb3ZlQ2xhc3MoJ2hhc1NhdmVTb3J0Jyk7XG5cdFx0XHQvLyBjbGVhciBzdG9yYWdlXG5cdFx0XHRpZiAodHMuc3RvcmFnZSkgeyB0cy5zdG9yYWdlKCB0YWJsZSwgJ3RhYmxlc29ydGVyLXNhdmVzb3J0JywgJycgKTsgfVxuXHRcdH1cblx0fSk7XG5cbn0pKGpRdWVyeSk7XG5yZXR1cm4galF1ZXJ5LnRhYmxlc29ydGVyO30pKTtcbiIsIi8vIE1haW4gamF2YXNjcmlwdCBlbnRyeSBwb2ludFxyXG4vLyBTaG91bGQgaGFuZGxlIGJvb3RzdHJhcHBpbmcvc3RhcnRpbmcgYXBwbGljYXRpb25cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAnbWF0Y2gtbWVkaWEnO1xyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgJ2ZhbmN5Ym94JztcclxuaW1wb3J0ICdqcXVlcnktbWF0Y2gtaGVpZ2h0JztcclxuaW1wb3J0ICdzbGljay1jYXJvdXNlbCc7XHJcbmltcG9ydCAndGFibGVzb3J0ZXInO1xyXG5pbXBvcnQgb2JqZWN0Rml0SW1hZ2VzIGZyb20gJ29iamVjdC1maXQtaW1hZ2VzJztcclxuaW1wb3J0IG9iamVjdEZpdFZpZGVvcyBmcm9tICdvYmplY3QtZml0LXZpZGVvcyc7XHJcbmltcG9ydCBUYWJsZVJlc3BvbnNpdmUgZnJvbSAnLi4vX21vZHVsZXMvdGFibGUtcmVzcG9uc2l2ZS90YWJsZS1yZXNwb25zaXZlJztcclxuaW1wb3J0IENsb25lU2VsZWN0IGZyb20gJy4uL19tb2R1bGVzL2Nsb25lLXNlbGVjdC9jbG9uZS1zZWxlY3QnO1xyXG5pbXBvcnQgVmlld0NvbnRyb2xsZXIgZnJvbSAnLi4vX21vZHVsZXMvdmlldy1jb250cm9sbGVyL3ZpZXctY29udHJvbGxlcic7XHJcblxyXG5pbXBvcnQgTmF2VGFic0FuY2hvciBmcm9tICcuLi9fbW9kdWxlcy9tb2xlY3VsZXMvbmF2LXRhYnMtYW5jaG9yL25hdi10YWJzLWFuY2hvcic7XHJcbmltcG9ydCBTdWJzY3JpYmVGb3JtIGZyb20gJy4uL19tb2R1bGVzL21vbGVjdWxlcy9zdWJzY3JpYmUtZm9ybS9zdWJzY3JpYmUtZm9ybSc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvbW9kYWwvbW9kYWwnO1xyXG5cclxuLy8gaW1wb3J0IFNvY2lhbE1lZGlhIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9zb2NpYWwtbWVkaWEvc29jaWFsLW1lZGlhJztcclxuaW1wb3J0IENhcm91c2VsIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9jYXJvdXNlbC9jYXJvdXNlbCc7XHJcbmltcG9ydCBTb2x1dGlvbnNTZXJ2aWNlcyBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvc29sdXRpb25zLXNlcnZpY2VzL3NvbHV0aW9ucy1zZXJ2aWNlcyc7XHJcbmltcG9ydCBJbnNpZ2h0Q29tcG9uZW50IGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9pbnNpZ2h0LWNvbXBvbmVudC9pbnNpZ2h0LWNvbXBvbmVudCc7XHJcbmltcG9ydCBBY2NvcmRpb25XcmFwcGVyIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9hY2NvcmRpb24td3JhcHBlci9hY2NvcmRpb24td3JhcHBlcic7XHJcbmltcG9ydCBMaXN0aW5nRmlsdGVycyBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvbGlzdGluZy1maWx0ZXJzL2xpc3RpbmctZmlsdGVycyc7XHJcbmltcG9ydCBTaXRlSGVhZGVyIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9zaXRlLWhlYWRlci9zaXRlLWhlYWRlcic7XHJcbmltcG9ydCBBZ2VuZGEgZnJvbSAnLi4vX21vZHVsZXMvb3JnYW5pc21zL2FnZW5kYS9hZ2VuZGEnO1xyXG5pbXBvcnQgRmVhdHVyZWRTcGVha2VycyBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvZmVhdHVyZWQtc3BlYWtlcnMvZmVhdHVyZWQtc3BlYWtlcnMnO1xyXG5pbXBvcnQgTmV3c3Jvb21XcmFwcGVyIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9uZXdzcm9vbS13cmFwcGVyL25ld3Nyb29tLXdyYXBwZXInO1xyXG5pbXBvcnQgUmVzZWxsZXJMb2NhdG9yIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9yZXNlbGxlci1sb2NhdG9yL3Jlc2VsbGVyLWxvY2F0b3InO1xyXG5pbXBvcnQgSW1hZ2VMaW5rc1dyYXBwZXIgZnJvbSAnLi4vX21vZHVsZXMvb3JnYW5pc21zL2ltYWdlLWxpbmtzLXdyYXBwZXIvaW1hZ2UtbGlua3Mtd3JhcHBlcic7XHJcbmltcG9ydCBNYXBwZXIgZnJvbSAnLi4vX21vZHVsZXMvb3JnYW5pc21zL21hcHBlci9tYXBwZXInO1xyXG5pbXBvcnQgRm9ybSBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvZm9ybS9mb3JtJztcclxuaW1wb3J0IFRhYnMgZnJvbSAnLi4vX21vZHVsZXMvb3JnYW5pc21zL3RhYnMvdGFicyc7XHJcbmltcG9ydCBUYWJDYXJvdXNlbCBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvdGFiLWNhcm91c2VsL3RhYi1jYXJvdXNlbCc7XHJcbmltcG9ydCBXZmZtQWRkUmVtb3ZlRmllbGRzIGZyb20gJy4uL19tb2R1bGVzL3dmZm0tYWRkLXJlbW92ZS1maWVsZHMvd2ZmbS1hZGQtcmVtb3ZlLWZpZWxkcyc7XHJcbmltcG9ydCBTdG9yZUxvY2F0b3IgZnJvbSAnLi4vX21vZHVsZXMvb3JnYW5pc21zL3N0b3JlLWxvY2F0b3Ivc3RvcmUtbG9jYXRvcic7XHJcbmltcG9ydCBBbGlwYXlGb3JtIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9hbGlwYXktZm9ybS9hbGlwYXktZm9ybSc7XHJcbmltcG9ydCBQcm9kdWN0RmluZGVyIGZyb20gJy4uL19tb2R1bGVzL29yZ2FuaXNtcy9wcm9kdWN0LWZpbmRlci9wcm9kdWN0LWZpbmRlcic7XHJcbmltcG9ydCBQcm9kdWN0RmluZGVyQ29tcGFyZSBmcm9tICcuLi9fbW9kdWxlcy9vcmdhbmlzbXMvcHJvZHVjdC1maW5kZXItY29tcGFyZS9wcm9kdWN0LWZpbmRlci1jb21wYXJlJztcclxuaW1wb3J0IFByb2R1Y3RJdGVtIGZyb20gJy4uL19tb2R1bGVzL21vbGVjdWxlcy9wcm9kdWN0LWl0ZW0vcHJvZHVjdC1pdGVtJztcclxuaW1wb3J0IFF1ZXN0aW9uSXRlbSBmcm9tICcuLi9fbW9kdWxlcy9tb2xlY3VsZXMvcXVlc3Rpb24taXRlbS9xdWVzdGlvbi1pdGVtJztcclxuXHJcbihmdW5jdGlvbigkKXtcclxuXHQkKCgpID0+IHtcclxuXHRcdGxldCBjb25maWcgPSB7XHJcblx0XHRcdGJyZWFrcG9pbnRzOiB7XHJcblx0XHRcdFx0bWlkRGVza3RvcDogMTM2NixcclxuXHRcdFx0XHRkZXNrdG9wOiAxMDI0LFxyXG5cdFx0XHRcdHRhYmxldDogNzY4LFxyXG5cdFx0XHRcdGxnTW9iaWxlOiA0ODBcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vUG9seWZpbGwgZm9yIG9iamVjdC1maXQgZm9yIGltYWdlcyBhbmQgdmlkZW9zXHJcblx0XHRvYmplY3RGaXRJbWFnZXMoKTtcclxuXHRcdG9iamVjdEZpdFZpZGVvcygpO1xyXG5cclxuXHRcdC8vIEFwcGx5IHdyYXBwZXIgZm9yIHRhYmxlXHJcblx0XHRpZiAoJCgndGFibGUnKS5sZW5ndGgpIHtcclxuXHRcdFx0bmV3IFRhYmxlUmVzcG9uc2l2ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICgkKCcuc29ydGluZy10YWJsZScpLmxlbmd0aCkge1xyXG5cdFx0XHQkKCcuc29ydGluZy10YWJsZScpLnRhYmxlc29ydGVyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bmV3IENsb25lU2VsZWN0KCk7XHJcblx0XHRuZXcgU2l0ZUhlYWRlcigpO1xyXG5cdFx0bmV3IE1vZGFsKCk7XHJcblx0XHRuZXcgQ2Fyb3VzZWwoKTtcclxuXHRcdG5ldyBUYWJDYXJvdXNlbCgpO1xyXG5cdFx0bmV3IE5hdlRhYnNBbmNob3IoKTtcclxuXHRcdG5ldyBBY2NvcmRpb25XcmFwcGVyKCk7XHJcblx0ICAgIG5ldyBJbWFnZUxpbmtzV3JhcHBlcigpO1xyXG5cdFx0bmV3IFRhYnMoKTtcclxuXHJcblx0ICAgIGlmKCQoJy5zdWJzY3JpYmUtZm9ybScpLmxlbmd0aCl7XHJcblx0ICAgIFx0bmV3IFN1YnNjcmliZUZvcm0oKTtcclxuXHQgICAgfVxyXG5cclxuXHRcdGlmKCQoJy5ldmVudC1hZ2VuZGEnKS5sZW5ndGgpe1xyXG5cdFx0XHRuZXcgQWdlbmRhKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoJCgnLmV2ZW50LWZlYXR1cmVkLXNwZWFrZXJzLXdyYXBwZXInKS5sZW5ndGgpe1xyXG5cdFx0XHRuZXcgRmVhdHVyZWRTcGVha2VycygpO1xyXG5cdFx0fVxyXG5cclxuXHQgICAgbmV3IEZvcm0oKTtcclxuXHJcbiAgICAgICAgaWYoJCgnZmllbGRzZXQuQ29sbGFwc2libGVGaWVsZFNldCcpLmxlbmd0aCl7XHJcbiAgICBcdFx0bmV3IFdmZm1BZGRSZW1vdmVGaWVsZHMoKTtcclxuICAgIFx0fVxyXG5cclxuXHRcdGlmKCQoJy5uZXdzcm9vbScpLmxlbmd0aCl7XHJcblx0XHRcdG5ldyBOZXdzcm9vbVdyYXBwZXIoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZigkKCcucHJvZHVjdC1saXN0aW5nJykubGVuZ3RoKXtcclxuXHQgICAgICAgIG5ldyBMaXN0aW5nRmlsdGVycygncHJvZHVjdHMnKTtcclxuXHQgICAgfVxyXG5cclxuXHRcdGlmKCQoJy5jYXJlZXItbGlzdGluZycpLmxlbmd0aCl7XHJcblx0ICAgICAgICBuZXcgTGlzdGluZ0ZpbHRlcnMoJ2NhcmVlcnMnKTtcclxuXHQgICAgfVxyXG5cclxuXHQgICAgaWYoJCgnLnNvbHV0aW9uLXNlcnZpY2VzJykubGVuZ3RoKXtcclxuXHQgICAgXHRuZXcgU29sdXRpb25zU2VydmljZXMoKTtcclxuXHQgICAgfVxyXG5cclxuXHQgICAgaWYoJCgnLmluc2lnaHQnKS5sZW5ndGgpe1xyXG5cdCAgICBcdG5ldyBWaWV3Q29udHJvbGxlcigpO1xyXG5cdCAgICBcdG5ldyBJbnNpZ2h0Q29tcG9uZW50KCk7XHJcblx0ICAgIH1cclxuXHJcblx0ICAgIGlmKCQoJy5zdWNjZXNzLXN0b3JpZXMtbWFwcGVyJykubGVuZ3RoKXtcclxuXHQgICAgICAgIG5ldyBNYXBwZXIoJ3N0b3J5Jyk7XHJcblx0ICAgIH1cclxuXHQgICAgaWYoJCgnLmV2ZW50LW1hcHBlcicpLmxlbmd0aCl7XHJcblx0ICAgICAgICBuZXcgTWFwcGVyKCdldmVudCcpO1xyXG5cdCAgICB9XHJcblxyXG5cdCAgICBpZigkKCcucmVzZWxsZXItbG9jYXRvcicpLmxlbmd0aCl7XHJcblx0XHRcdGlmKCQoJy5nb29nbGUtbG9jYXRvcicpLmxlbmd0aCl7XHJcblx0XHRcdFx0bmV3IFN0b3JlTG9jYXRvcignZ29vZ2xlJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2UgaWYoJCgnLmJhaWR1LWxvY2F0b3InKS5sZW5ndGgpe1xyXG5cdFx0XHRcdG5ldyBTdG9yZUxvY2F0b3IoJ2JhaWR1Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2UgaWYoJCgnLm5hdmVyLWxvY2F0b3InKS5sZW5ndGgpe1xyXG5cdFx0XHRcdG5ldyBTdG9yZUxvY2F0b3IoJ25hdmVyJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdG5ldyBSZXNlbGxlckxvY2F0b3IoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCQoJy5hbGlwYXktZm9ybScpLmxlbmd0aCl7XHJcblx0XHRcdG5ldyBBbGlwYXlGb3JtKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoJCgnLnByb2R1Y3QtZmluZGVyJykubGVuZ3RoKXtcclxuXHRcdFx0bmV3IFByb2R1Y3RGaW5kZXIoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZigkKCcucHJvZHVjdC1maW5kZXItY29tcGFyZScpLmxlbmd0aCl7XHJcblx0XHRcdG5ldyBQcm9kdWN0RmluZGVyQ29tcGFyZShjb25maWcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCQoJy5wcm9kdWN0LWl0ZW0nKS5sZW5ndGgpe1xyXG5cdFx0XHRuZXcgUHJvZHVjdEl0ZW0oKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZigkKCcucXVlc3Rpb24taXRlbScpLmxlbmd0aCl7XHJcblx0XHRcdG5ldyBRdWVzdGlvbkl0ZW0oKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBtYXRjaCBoZWlnaHQgLy9cclxuXHRcdCQoJy5tYXRjaC1oZWlnaHQnKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRm9jdXMgb3V0bGluZSBoYW5kbGVyXHJcblx0XHQgKi9cclxuXHRcdCQoJ2JvZHknKS5hZGRDbGFzcygpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdGlmKGUud2hpY2ggPT09IDkpe1xyXG5cdFx0XHRcdCQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbm8tZm9jdXMtb3V0bGluZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KS5vbignbW91c2V1cCcsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdCQoJ2JvZHknKS5hZGRDbGFzcygnbm8tZm9jdXMtb3V0bGluZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdCAgICAvKipcclxuXHRcdCAqIEJhY2sgdG8gdG9wXHJcblx0XHQgKi9cclxuXHRcdGxldCBiYWNrVG9Ub3BUZXh0ID0gJCgnI2JhY2stdG8tdG9wJykuZGF0YSgndGV4dCcpO1xyXG5cdFx0bGV0ICR3cmFwcGVyID0gJCgnPGRpdi8+JyksXHJcblx0XHQgICAgJGFuY2hvciA9ICQoJzxpIGNsYXNzPVwiaWNvbi1hbmdsZS11cFwiPjwvaT48c3BhbiBjbGFzcz1cImxhYmVsXCI+JyArIGJhY2tUb1RvcFRleHQgKyAnPC9zcGFuPicpO1xyXG5cclxuXHRcdCR3cmFwcGVyXHJcblx0XHQgICAgLmFkZENsYXNzKCdiYWNrLXRvLXRvcCcpXHJcblx0XHQgICAgLmFwcGVuZCgkYW5jaG9yKTtcclxuXHJcblx0XHQkKCdib2R5JykuYXBwZW5kKCR3cmFwcGVyKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEJpbmQgQmVoYXZpb3Vyc1xyXG5cdFx0ICovXHJcblx0XHQkd3JhcHBlclxyXG5cdFx0ICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHRcdCAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHsnc2Nyb2xsVG9wJzogMH0pO1xyXG5cdFx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQgICAgfSk7XHJcblxyXG5cdFx0dmFyIHNjcm9sbGluZyA9IGZ1bmN0aW9uKCl7XHJcblx0XHQgICAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcblx0XHQgICAgaWYoc2Nyb2xsVG9wID4gJCh3aW5kb3cpLmhlaWdodCgpKSB7XHJcblx0XHQgICAgICAgICR3cmFwcGVyLmZhZGVJbigpO1xyXG5cdFx0ICAgIH0gZWxzZSB7XHJcblx0XHQgICAgICAgICR3cmFwcGVyLmZhZGVPdXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHNjcm9sbFRvcCA+IDgwKXtcclxuXHRcdFx0XHRpZighJCgnLnN0aWNreS1idXR0b25zJykuaGFzQ2xhc3MoJ3Zpc2libGUnKSl7XHJcblx0XHRcdFx0XHQkKCcuc3RpY2t5LWJ1dHRvbnMnKS5hZGRDbGFzcygndmlzaWJsZScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHNjcm9sbFRvcCA+ICQoZG9jdW1lbnQpLmhlaWdodCgpIC0gJCh3aW5kb3cpLmhlaWdodCgpIC0gODApIHtcclxuXHRcdFx0XHRcdGlmICgkKCcuc3RpY2t5LWJ1dHRvbnMnKS5oYXNDbGFzcygndmlzaWJsZScpKSB7XHJcblx0XHRcdFx0XHRcdCQoJy5zdGlja3ktYnV0dG9ucycpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICgkKCcuc3RpY2t5LWJ1dHRvbnMnKS5oYXNDbGFzcygndmlzaWJsZScpKSB7XHJcblx0XHRcdFx0XHQkKCcuc3RpY2t5LWJ1dHRvbnMnKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE9uIFNjcm9sbFxyXG5cdFx0ICovXHJcblx0XHQkKHdpbmRvdykub24oJ3Njcm9sbC53aW5kb3cnLCBzY3JvbGxpbmcpLnRyaWdnZXIoJ3Njcm9sbC53aW5kb3cnKTtcclxuXHR9KTtcclxufSkoalF1ZXJ5KVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xvbmVTZWxlY3Qge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHRcdGlmKCQoJy5zb2x1dGlvbnMtZmlsdGVyJykubGVuZ3RoIHx8ICQoJy5ldmVudC1tYXBwZXInKS5sZW5ndGggfHwgJCgnLnN1Y2Nlc3Mtc3Rvcmllcy1tYXBwZXInKS5sZW5ndGggfHwgJCgnLnJlc2VsbGVyLWxvY2F0b3JfX2ZpbHRlcnMnKS5sZW5ndGgpIHtcclxuXHRcdFx0bGV0ICRzZWxlY3QgPSAkKCdzZWxlY3QnKS5ub3QoJy5zY2ZGb3JtIHNlbGVjdCcpO1xyXG5cclxuXHRcdFx0JHNlbGVjdC5tYXAoKGksZWxlKSA9PiB7XHJcblx0XHRcdFx0bGV0ICR0aGlzID0gJChlbGUpO1xyXG5cclxuXHRcdFx0XHRsZXQgZmlyc3RPcHRpb24gPSAkKCdvcHRpb24nLCAkdGhpcykuZmlyc3QoKS50ZXh0KCksXHJcblx0XHRcdFx0XHRmaXJzdFZhbHVlID0gJCgnb3B0aW9uJywgJHRoaXMpLmZpcnN0KCkudmFsKCksXHJcblx0XHRcdFx0XHRfY2xvbmUgPSBgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvcHlcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIiR7Zmlyc3RWYWx1ZX1cIj4ke2ZpcnN0T3B0aW9ufTwvYnV0dG9uPjwvZGl2PmA7XHJcblxyXG5cdFx0XHRcdCR0aGlzLmJlZm9yZShfY2xvbmUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRsZXQgJHNlbGVjdCA9ICQoJ3NlbGVjdCcpLm5vdCgnLnNjZkZvcm0gc2VsZWN0Jyk7XHJcblxyXG5cdFx0XHQkc2VsZWN0Lm1hcCgoaSxlbGUpID0+IHtcclxuXHRcdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSksXHJcblx0XHRcdFx0XHQkb3B0aW9uID0gJCgnb3B0aW9uJywgJHRoaXMpO1xyXG5cclxuXHRcdFx0XHRsZXQgZmlyc3RPcHRpb24gPSAkKCdvcHRpb24nLCAkdGhpcykuZmlyc3QoKS50ZXh0KCksXHJcblx0XHRcdFx0XHRmaXJzdFZhbHVlID0gJCgnb3B0aW9uJywgJHRoaXMpLmZpcnN0KCkudmFsKCksXHJcblx0XHRcdFx0XHRfY2xvbmUgPSBgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvcHlcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIiR7Zmlyc3RWYWx1ZX1cIj4ke2ZpcnN0T3B0aW9ufTwvYnV0dG9uPjx1bD5gO1xyXG5cclxuXHRcdFx0XHQkb3B0aW9uLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRsZXQgdGV4dCA9ICQodGhpcykudGV4dCgpLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9ICcnO1xyXG5cclxuXHRcdFx0XHRcdGlmKCQodGhpcykuYXR0cigndmFsdWUnKSl7XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gJCh0aGlzKS5hdHRyKCd2YWx1ZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGxldCBfb3B0aW9uQ2xvbmUgPSBgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiJHt2YWx1ZX1cIj48c3Bhbj4ke3RleHR9PC9zcGFuPjwvYnV0dG9uPjwvbGk+YDtcclxuXHRcdFx0XHRcdF9jbG9uZSArPSBfb3B0aW9uQ2xvbmU7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdF9jbG9uZSA9IGAke19jbG9uZX08L3VsPjwvZGl2PmA7XHJcblxyXG5cdFx0XHRcdCR0aGlzLmFmdGVyKF9jbG9uZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dG9nZ2xlRHJvcGRvd24oJG9iamVjdCl7XHJcblx0XHQkb2JqZWN0LnRvZ2dsZSgpO1xyXG5cdH1cclxuXHJcblx0Y2xvc2VEcm9wZG93bigkb2JqZWN0KXtcclxuXHRcdCRvYmplY3QuaGlkZSgpO1xyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgZW5xdWlyZSBmcm9tICdlbnF1aXJlLmpzJztcclxuaW1wb3J0ICdzbGljay1jYXJvdXNlbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wYXJlSXRlbSB7XHJcblx0Y29uc3RydWN0b3IoYnJlYWtwb2ludHMpIHtcclxuXHRcdGxldCAkY29tcGFyZUxpc3QgPSAkKCcuY29tcGFyZS1saXN0Jyk7XHJcblxyXG5cdFx0JCgnLmNvbXBhcmUtaXRlbV9faGVhZGVyID4gZGl2JykubWF0Y2hIZWlnaHQoKTtcclxuXHRcdCQoJy5jb21wYXJlLWl0ZW1fX2hlYWRlciA+IHAnKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuXHRcdGVucXVpcmUucmVnaXN0ZXIoJ3NjcmVlbiBhbmQgKG1heC13aWR0aDogJyArIChicmVha3BvaW50cy5kZXNrdG9wIC0gMSkgKyAncHgpJywge1xyXG5cdFx0XHRtYXRjaDogKCkgPT4ge1xyXG5cclxuXHRcdFx0XHQvLyAkY29tcGFyZUxpc3Qub24oJ2FmdGVyQ2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlKSB7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzEnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzInKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzMnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzQnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzUnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzYnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzcnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzgnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzknKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzEwJykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vIFx0JCgnLnNwZWNyb3cxMScpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyBcdCQoJy5zcGVjcm93MTInKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzEzJykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vIFx0JCgnLnNwZWNyb3cxNCcpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyBcdCQoJy5zcGVjcm93MTUnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gXHQkKCcuc3BlY3JvdzE2JykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vIFx0JCgnLnNwZWNyb3dsYXN0JykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vIH0pO1xyXG5cclxuXHRcdFx0XHQkY29tcGFyZUxpc3Quc2xpY2soe1xyXG5cdFx0XHRcdFx0c2xpZGVzVG9TaG93OiAyLFxyXG5cdFx0XHRcdFx0YXJyb3dzOiB0cnVlLFxyXG5cdFx0XHRcdFx0c3dpcGVUb1NsaWRlOiB0cnVlLFxyXG5cdFx0XHRcdFx0aW5maW5pdGU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0cHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2IHByZXZcIj48c3BhbiBjbGFzcz1cImljb24gaWNvbi1hbmdsZS1sZWZ0XCI+PC9zcGFuPjwvYnV0dG9uPicsXHJcblx0XHRcdFx0XHRuZXh0QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLW5leHQgbmV4dFwiPjxzcGFuIGNsYXNzPVwiaWNvbiBpY29uLWFuZ2xlLXJpZ2h0XCI+PC9zcGFuPjwvYnV0dG9uPidcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0dW5tYXRjaDogKCkgPT4ge1xyXG5cdFx0XHRcdCRjb21wYXJlTGlzdC5zbGljaygndW5zbGljaycpO1xyXG5cdFx0XHRcdC8vICQoJy5zcGVjcm93MScpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyAkKCcuc3BlY3JvdzInKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLnNwZWNyb3czJykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vICQoJy5zcGVjcm93NCcpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyAkKCcuc3BlY3JvdzUnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLnNwZWNyb3c2JykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vICQoJy5zcGVjcm93NycpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyAkKCcuc3BlY3JvdzgnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLnNwZWNyb3c5JykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vICQoJy5zcGVjcm93MTAnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLnNwZWNyb3cxMScpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyAkKCcuc3BlY3JvdzEyJykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vICQoJy5zcGVjcm93MTMnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLnNwZWNyb3cxNCcpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHRcdFx0XHQvLyAkKCcuc3BlY3JvdzE1JykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHRcdC8vICQoJy5zcGVjcm93MTYnKS5tYXRjaEhlaWdodC5fdXBkYXRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLnNwZWNyb3dsYXN0JykubWF0Y2hIZWlnaHQuX3VwZGF0ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0aW5nU29ydGVyIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHJcblx0XHR0aGlzLm5hbWUgPSAnbGlzdGluZy1zb3J0ZXInO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJyVzIG1vZHVsZScsIHRoaXMubmFtZSk7XHJcblxyXG5cdFx0dGhpcy5yZXN1bHRzID0gW107XHJcblxyXG5cdFx0dGhpcy4kc29ydFNlbGVjdCA9ICQoJy5saXN0aW5nLWNvbnRlbnRfX3NvcnQtcmVzdWx0IHNlbGVjdCcpO1xyXG5cclxuXHRcdGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG5cdFx0X3RoaXMuJHNvcnRTZWxlY3Qub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciByZXN1bHRzID0gW10uY29uY2F0KF90aGlzLnJlc3VsdHMpOyAvLyB0byBwcmVzZXJ2ZSBkZWZhdWx0IHJlc3VsdHNcclxuXHRcdFx0cmVzdWx0cyA9IF90aGlzLnRvZ2dsZVNvcnQoJCh0aGlzKS52YWwoKSwgcmVzdWx0cyk7XHJcblxyXG5cdFx0XHRfdGhpcy52aWV3LmNsZWFyKCk7XHJcblx0XHRcdF90aGlzLnZpZXcucmVuZGVyKHJlc3VsdHMsIHRydWUpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bGV0ICRzb3J0ZXIgPSAkKCcubGlzdGluZy1jb250ZW50X19zb3J0LXJlc3VsdCcpO1xyXG5cdFx0JHNvcnRlci5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSksXHJcblx0XHRcdFx0JGNsb25lID0gJCgnLmRyb3Bkb3duLWNvcHknLCAkdGhpcyksXHJcblx0XHRcdFx0JGRyb3Bkb3duID0gJCgndWwnLCAkdGhpcyksXHJcblx0XHRcdFx0JGJ1dHRvbiA9ICQoJz4gYnV0dG9uJywgJGNsb25lKTtcclxuXHJcblx0XHRcdCR0aGlzLm9uKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR0aGlzLnRvZ2dsZURyb3Bkb3duKCRkcm9wZG93bik7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bGV0ICRvcHRpb24gPSAkKCdsaSBidXR0b24nLCAkZHJvcGRvd24pO1xyXG5cclxuXHRcdFx0JG9wdGlvbi5tYXAoKGosIGVsZSkgPT4ge1xyXG5cdFx0XHRcdGxldCAkdGhpczIgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHRcdCR0aGlzMi5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgdmFsdWUgPSAkdGhpczIudmFsKCksXHJcblx0XHRcdFx0XHRcdHRleHQgPSAkdGhpczIudGV4dCgpO1xyXG5cclxuXHRcdFx0XHRcdCRidXR0b24udGV4dCh0ZXh0KTtcclxuXHRcdFx0XHRcdCRidXR0b24udmFsKHZhbHVlKTtcclxuXHRcdFx0XHRcdCQoJ3NlbGVjdCcsICR0aGlzKS52YWwodmFsdWUpO1xyXG5cdFx0XHRcdFx0X3RoaXMuJHNvcnRTZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCh3aW5kb3cpLm9uKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZURyb3Bkb3duKCQoJ3VsJywgJHNvcnRlcikpO1xyXG4gICAgXHR9KTtcclxuXHR9XHJcblxyXG5cdHRvZ2dsZURyb3Bkb3duKCRvYmplY3Qpe1xyXG5cdFx0JG9iamVjdC50b2dnbGUoKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlRHJvcGRvd24oJG9iamVjdCl7XHJcblx0XHQkb2JqZWN0LmhpZGUoKTtcclxuXHR9XHJcblxyXG5cdHNldFJlc3VsdHMocmVzdWx0cykge1xyXG5cdFx0dGhpcy5yZXN1bHRzID0gcmVzdWx0cy5zbGljZSgpLmNvbmNhdCgpOyAvLyBEZWVwIGNvcHkgcmVzdWx0cyBmcm9tIG9yaWdpbmFsIGRhdGEgdG8gcmVzZXQgc29ydGluZy5cclxuXHR9XHJcblxyXG5cdHNldFZpZXcoZm4pIHtcclxuXHRcdHRoaXMudmlldyA9IGZuO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlU29ydChzb3J0UGFyYW0sIHJlc3VsdHMpIHtcclxuXHRcdGxldCBwYXJhbWV0ZXIgPSAnJyxcclxuXHRcdFx0c29ydFBhcmFtZXRlciA9ICcnLFxyXG5cdFx0XHRzb3J0ZWRSZXN1bHRzID0gW107XHJcblxyXG5cdFx0bGV0IG1lcmdlU29ydFRvcERvd24gPSAoYXJyYXksIHBhcmFtZXRlcikgPT4ge1xyXG5cdFx0XHRpZihhcnJheS5sZW5ndGggPCAyKSB7XHJcblx0XHRcdFx0cmV0dXJuIGFycmF5O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgbWlkZGxlID0gTWF0aC5mbG9vcihhcnJheS5sZW5ndGggLyAyKTtcclxuXHRcdFx0bGV0IGxlZnQgPSBhcnJheS5zbGljZSgwLCBtaWRkbGUpO1xyXG5cdFx0XHRsZXQgcmlnaHQgPSBhcnJheS5zbGljZShtaWRkbGUpO1xyXG5cclxuXHRcdFx0cmV0dXJuIG1lcmdlVG9wRG93bihtZXJnZVNvcnRUb3BEb3duKGxlZnQsIHBhcmFtZXRlciksIG1lcmdlU29ydFRvcERvd24ocmlnaHQsIHBhcmFtZXRlciksIHBhcmFtZXRlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1lcmdlVG9wRG93biA9IChsZWZ0LCByaWdodCwgcGFyYW1ldGVyKSA9PiB7XHJcblx0XHRcdGxldCBhcnJheSA9IFtdO1xyXG5cclxuXHRcdFx0d2hpbGUobGVmdC5sZW5ndGggJiYgcmlnaHQubGVuZ3RoKSB7XHJcblx0XHRcdFx0aWYocGFyYW1ldGVyID09ICdjb21wYXJlRGF0ZScpe1xyXG5cdFx0XHRcdFx0aWYobGVmdFswXVtwYXJhbWV0ZXJdID4gcmlnaHRbMF1bcGFyYW1ldGVyXSkge1xyXG5cdFx0XHRcdFx0XHRhcnJheS5wdXNoKGxlZnQuc2hpZnQoKSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRhcnJheS5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGlmKGxlZnRbMF1bcGFyYW1ldGVyXSA8IHJpZ2h0WzBdW3BhcmFtZXRlcl0pIHtcclxuXHRcdFx0XHRcdFx0YXJyYXkucHVzaChsZWZ0LnNoaWZ0KCkpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YXJyYXkucHVzaChyaWdodC5zaGlmdCgpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGFycmF5LmNvbmNhdChsZWZ0LnNsaWNlKCkpLmNvbmNhdChyaWdodC5zbGljZSgpKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgY3VzdG9tU29ydCA9IChyZXN1bHRzLCBwYXJhbWV0ZXIpID0+IHtcclxuXHRcdFx0bGV0IHZhbGlkID0gW10sXHJcblx0XHRcdFx0aW52YWxpZCA9IFtdO1xyXG5cclxuXHRcdFx0aWYocGFyYW1ldGVyID09ICdkYXRlJyl7XHJcblx0XHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0aWYobmV3IERhdGUocmVzdWx0c1tpXVtwYXJhbWV0ZXJdKSA9PSAnSW52YWxpZCBEYXRlJyl7XHJcblx0XHRcdFx0XHRcdGludmFsaWQucHVzaChyZXN1bHRzW2ldKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRcdHZhbGlkLnB1c2gocmVzdWx0c1tpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgdmFsaWQubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0dmFsaWRbaV0uY29tcGFyZURhdGUgPSBuZXcgRGF0ZSh2YWxpZFtpXVtwYXJhbWV0ZXJdKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNvcnRQYXJhbWV0ZXIgPSAnY29tcGFyZURhdGUnO1xyXG5cdFx0XHRcdHZhbGlkID0gbWVyZ2VTb3J0VG9wRG93bih2YWxpZC5zbGljZSgpLCBzb3J0UGFyYW1ldGVyKTtcclxuXHRcdFx0XHRpbnZhbGlkID0gbWVyZ2VTb3J0VG9wRG93bihpbnZhbGlkLnNsaWNlKCksICduYW1lJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYocGFyYW1ldGVyID09ICdyZWNvbW1lbmRlZCcpe1xyXG5cdFx0XHRcdFx0Zm9yKGxldCBqID0gMDsgaiA8IHJlc3VsdHMubGVuZ3RoOyBqKyspe1xyXG5cdFx0XHRcdFx0XHRpZih0eXBlb2YgcmVzdWx0c1tqXVtwYXJhbWV0ZXJdICE9PSAndW5kZWZpbmVkJyl7XHJcblx0XHRcdFx0XHRcdFx0dmFsaWQucHVzaChyZXN1bHRzW2pdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0XHRcdGludmFsaWQucHVzaChyZXN1bHRzW2pdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGZvcihsZXQgayA9IDA7IGsgPCByZXN1bHRzLmxlbmd0aDsgaysrKXtcclxuXHRcdFx0XHRcdFx0aWYocmVzdWx0c1trXVtwYXJhbWV0ZXJdID09PSB0cnVlKXtcclxuXHRcdFx0XHRcdFx0XHR2YWxpZC5wdXNoKHJlc3VsdHNba10pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRcdFx0aW52YWxpZC5wdXNoKHJlc3VsdHNba10pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRzb3J0UGFyYW1ldGVyID0gJ25hbWUnO1xyXG5cdFx0XHRcdHZhbGlkID0gbWVyZ2VTb3J0VG9wRG93bih2YWxpZC5zbGljZSgpLCBzb3J0UGFyYW1ldGVyKTtcclxuXHRcdFx0XHRpbnZhbGlkID0gbWVyZ2VTb3J0VG9wRG93bihpbnZhbGlkLnNsaWNlKCksIHNvcnRQYXJhbWV0ZXIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkLm1lcmdlKHZhbGlkLCBpbnZhbGlkKTtcclxuXHJcblx0XHRcdHJldHVybiB2YWxpZDtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2goc29ydFBhcmFtKSB7XHJcblx0XHRcdGNhc2UgJ2xhdGVzdCcgOlxyXG5cdFx0XHRcdHBhcmFtZXRlciA9ICdkYXRlJztcclxuXHRcdFx0XHRzb3J0ZWRSZXN1bHRzID0gY3VzdG9tU29ydChyZXN1bHRzLCBwYXJhbWV0ZXIpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHQvLyByZXN1bHRzLnNvcnQoZnVuY3Rpb24oYSxiKXtcclxuXHRcdFx0XHQvLyBcdFx0aWYgKG5ldyBEYXRlKGEuZGF0ZSkgPT0gJ0ludmFsaWQgRGF0ZScpe1xyXG5cdFx0XHRcdC8vIFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHRcdC8vIFx0XHR9XHJcblx0XHRcdFx0Ly8gXHRcdGlmIChuZXcgRGF0ZShiLmRhdGUpID09ICdJbnZhbGlkIERhdGUnKXtcclxuXHRcdFx0XHQvLyBcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdFx0Ly8gXHRcdH1cclxuXHRcdFx0XHQvLyBcdFx0aWYgKG5ldyBEYXRlKGEuZGF0ZSkgPCBuZXcgRGF0ZShiLmRhdGUpKSB7XHJcblx0XHRcdFx0Ly8gXHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdFx0Ly8gXHRcdH1cclxuXHRcdFx0XHQvLyBcdFx0aWYgKG5ldyBEYXRlKGEuZGF0ZSkgPiBuZXcgRGF0ZShiLmRhdGUpKSB7XHJcblx0XHRcdFx0Ly8gXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0XHRcdC8vIFx0XHR9XHJcblx0XHRcdFx0Ly8gXHRcdGlmIChuZXcgRGF0ZShhLmRhdGUpID09IG5ldyBEYXRlKGIuZGF0ZSkpe1xyXG5cdFx0XHRcdC8vIFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHRcdC8vIFx0XHR9XHJcblx0XHRcdFx0Ly8gXHR9XHJcblx0XHRcdFx0Ly8gKTtcclxuXHJcblx0XHRcdGNhc2UgJ3Byb21vdGlvbicgOlxyXG5cdFx0XHRcdHBhcmFtZXRlciA9ICdwcm9tb3RlZCc7XHJcblx0XHRcdFx0c29ydGVkUmVzdWx0cyA9IGN1c3RvbVNvcnQocmVzdWx0cywgcGFyYW1ldGVyKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Ly8gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uKGEsYil7XHJcblx0XHRcdFx0Ly8gXHRcdC8vIGlmKGEucHJvbW90ZWQgPT0gdHJ1ZSAmJiBiLnByb21vdGVkID09IHRydWUpIHJldHVybiAwO1xyXG5cdFx0XHRcdC8vIFx0XHQvLyBpZihhLnByb21vdGVkID09IHRydWUgJiYgYi5wcm9tb3RlZCA9PSBmYWxzZSkgcmV0dXJuIC0xO1xyXG5cdFx0XHRcdC8vIFx0XHQvLyBpZihhLnByb21vdGVkID09IGZhbHNlICYmIGIucHJvbW90ZWQgPT0gdHJ1ZSkgcmV0dXJuIDE7XHJcblx0XHRcdFx0Ly8gXHRcdGlmKGEucHJvbW90ZWQgPT09IGIucHJvbW90ZWQpe1xyXG5cdFx0XHRcdC8vIFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHRcdC8vIFx0XHR9XHJcblx0XHRcdFx0Ly8gXHRcdGVsc2V7XHJcblx0XHRcdFx0Ly8gXHRcdFx0aWYoYS5wcm9tb3RlZCl7XHJcblx0XHRcdFx0Ly8gXHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdFx0Ly8gXHRcdFx0fVxyXG5cdFx0XHRcdC8vIFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0Ly8gXHRcdFx0XHRyZXR1cm4gMTtcclxuXHRcdFx0XHQvLyBcdFx0XHR9XHJcblx0XHRcdFx0Ly8gXHRcdH1cclxuXHRcdFx0XHQvLyBcdH1cclxuXHRcdFx0XHQvLyApO1xyXG5cclxuXHRcdFx0Y2FzZSAnYmVzdCBzZWxsZXInIDpcclxuXHRcdFx0XHRwYXJhbWV0ZXIgPSAnYmVzdHNlbGxlcic7XHJcblx0XHRcdFx0c29ydGVkUmVzdWx0cyA9IGN1c3RvbVNvcnQocmVzdWx0cywgcGFyYW1ldGVyKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Ly8gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uKGEsYil7XHJcblx0XHRcdFx0Ly8gXHRcdC8vIGlmKGEuYmVzdHNlbGxlciA9PSB0cnVlICYmIGIuYmVzdHNlbGxlciA9PSB0cnVlKSByZXR1cm4gMDtcclxuXHRcdFx0XHQvLyBcdFx0Ly8gaWYoYS5iZXN0c2VsbGVyID09IHRydWUgJiYgYi5iZXN0c2VsbGVyID09IGZhbHNlKSByZXR1cm4gLTE7XHJcblx0XHRcdFx0Ly8gXHRcdC8vIGlmKGEuYmVzdHNlbGxlciA9PSBmYWxzZSAmJiBiLmJlc3RzZWxsZXIgPT0gdHJ1ZSkgcmV0dXJuIDE7XHJcblx0XHRcdFx0Ly8gXHRcdGlmKGEuYmVzdHNlbGxlciA9PT0gYi5iZXN0c2VsbGVyKXtcclxuXHRcdFx0XHQvLyBcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0XHQvLyBcdFx0fVxyXG5cdFx0XHRcdC8vIFx0XHRlbHNle1xyXG5cdFx0XHRcdC8vIFx0XHRcdGlmKGEuYmVzdHNlbGxlcil7XHJcblx0XHRcdFx0Ly8gXHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdFx0Ly8gXHRcdFx0fVxyXG5cdFx0XHRcdC8vIFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0Ly8gXHRcdFx0XHRyZXR1cm4gMTtcclxuXHRcdFx0XHQvLyBcdFx0XHR9XHJcblx0XHRcdFx0Ly8gXHRcdH1cclxuXHRcdFx0XHQvLyBcdH1cclxuXHRcdFx0XHQvLyApO1xyXG5cclxuXHRcdFx0Y2FzZSAncmVjb21tZW5kZWQnIDpcclxuXHRcdFx0XHRwYXJhbWV0ZXIgPSAncmVjb21tZW5kZWQnO1xyXG5cdFx0XHRcdHNvcnRlZFJlc3VsdHMgPSBjdXN0b21Tb3J0KHJlc3VsdHMsIHBhcmFtZXRlcik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdC8vIHJlc3VsdHMuc29ydChmdW5jdGlvbihhLGIpe1xyXG5cdFx0XHRcdC8vIFx0XHRpZih0eXBlb2YgYS5yZWNvbW1lbmRlZCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGIucmVjb21tZW5kZWQgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gMDtcclxuXHRcdFx0XHQvLyBcdFx0aWYodHlwZW9mIGEucmVjb21tZW5kZWQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBiLnJlY29tbWVuZGVkID09PSAndW5kZWZpbmVkJykgcmV0dXJuIC0xO1xyXG5cdFx0XHRcdC8vIFx0XHRpZih0eXBlb2YgYS5yZWNvbW1lbmRlZCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGIucmVjb21tZW5kZWQgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gMTtcclxuXHRcdFx0XHQvLyBcdH1cclxuXHRcdFx0XHQvLyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBzb3J0ZWRSZXN1bHRzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQnViYmxlIHByb21vdGlvbiBpbiByZXN1bHRzIHRvIHRoZSB0b3BcclxuXHQgKi9cclxuXHRidWJibGVQcm9tb3Rpb24oKSB7XHJcblx0XHRsZXQgdGVtcDtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVzdWx0cy5sZW5ndGggLSAxOyBpKyspIHtcclxuXHJcblx0XHRcdGlmKHR5cGVvZiB0aGlzLnJlc3VsdHNbaV0ucHJvbW90ZWQgIT09ICd1bmRlZmluZWQnKSB7XHJcblxyXG5cdFx0XHRcdCBmb3IgKHZhciB4ID0gaTsgeCA+IDA7IHgtLSkge1xyXG5cdFx0XHRcdFx0dGVtcCA9IHRoaXMucmVzdWx0c1t4LTFdO1xyXG5cdFx0XHRcdFx0dGhpcy5yZXN1bHRzW3gtMV0gPSB0aGlzLnJlc3VsdHNbeF07XHJcblx0XHRcdFx0XHR0aGlzLnJlc3VsdHNbeF0gPSB0ZW1wO1xyXG5cdFx0XHRcdCB9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdlRhYnNBbmNob3Ige1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly8gbGV0ICRhbmNob3JUYWJzID0gJCgnLmFuY2hvci10YWJzJylcclxuXHRcdGxldCAkYW5jaG9yID0gJCgnLmFuY2hvci1saW5rJyk7XHJcblxyXG5cdFx0bGV0IF9saXN0V3JhcHBlciA9ICc8ZGl2IGNsYXNzPVwiYW5jaG9yLXRhYnNcIj48dWw+JztcclxuXHJcblx0XHRpZigkYW5jaG9yLmxlbmd0aCl7XHJcblx0XHRcdCRhbmNob3IubWFwKChpLCBlbGUpID0+IHtcclxuXHRcdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHRcdGxldCBsYWJlbCA9ICR0aGlzLmRhdGEoJ2xhYmVsJyksXHJcblx0XHRcdFx0XHRocmVmID0gJHRoaXMuYXR0cignaWQnKTtcclxuXHJcblx0XHRcdFx0aWYodHlwZW9mIGhyZWYgIT09IFwidW5kZWZpbmVkXCIpe1xyXG5cdFx0XHRcdFx0bGV0IF9hcHBlbmQgPSBgPGxpPjxhIGhyZWY9XCIjJHtocmVmfVwiPiR7bGFiZWx9PC9hPjwvbGk+YDtcclxuXHRcdFx0XHRcdF9saXN0V3JhcHBlciArPSBfYXBwZW5kO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRfbGlzdFdyYXBwZXIgKz0gJzwvdWw+PC9kaXY+JztcclxuXHJcblx0XHRcdCQoJy50b3AtYmFubmVyJykuYXBwZW5kKF9saXN0V3JhcHBlcik7XHJcblxyXG5cdFx0XHRsZXQgJGFuY2hvclRhYnMgPSAkKCcuYW5jaG9yLXRhYnMnKTtcclxuXHJcblx0XHRcdCQoJ2EnLCAkYW5jaG9yVGFicykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0Ly8gbGV0IG5hdk9mZnNldCA9ICQoJy5zaXRlLWhlYWRlcicpLmhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHQvLyBpZigkKCcuc2l0ZS1oZWFkZXInKS5oYXNDbGFzcygnZml4Jykpe1xyXG5cdFx0XHRcdC8vIFx0bmF2T2Zmc2V0ID0gMTM4O1xyXG5cdFx0XHRcdC8vIH1cclxuXHRcdFx0XHQvLyBlbHNlIHtcclxuXHRcdFx0XHQvLyBcdG5hdk9mZnNldCA9IDIxMDtcclxuXHRcdFx0XHQvLyB9XHJcblxyXG5cdCAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0ICAgICAgICAgICAgbGV0ICR0YXJnZXQgPSAkKCQodGhpcykuYXR0cignaHJlZicpKTtcclxuXHJcblx0ICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AodHJ1ZSwgdHJ1ZSkuYW5pbWF0ZSh7XHJcblx0ICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJHRhcmdldC5vZmZzZXQoKS50b3AgKyAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgLSAxMDBcclxuXHQgICAgICAgICAgICB9LCA1MDApO1xyXG5cdCAgICAgICAgfSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCAnanF1ZXJ5LW1hdGNoLWhlaWdodCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9kdWN0SXRlbSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgJHByb2R1Y3RJdGVtID0gJCgnLnByb2R1Y3QtaXRlbS0td3JhcCcpO1xyXG5cdFx0bGV0IGl0ZW1JbWcgPSAkKCcucHJvZHVjdC1pdGVtX19pbWcnLCAkcHJvZHVjdEl0ZW0pLFxyXG5cdFx0XHRpdGVtVGl0bGUgPSAkKCdoMycsICRwcm9kdWN0SXRlbSksXHJcblx0XHRcdGl0ZW1EZXNjID0gJCgncCcsICRwcm9kdWN0SXRlbSk7XHJcblxyXG5cdFx0aWYgKCRwcm9kdWN0SXRlbS5sZW5ndGgpIHtcclxuXHRcdFx0JHByb2R1Y3RJdGVtLm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdGl0ZW1JbWcubWF0Y2hIZWlnaHQoKTtcclxuXHRcdFx0aXRlbVRpdGxlLm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdGl0ZW1EZXNjLm1hdGNoSGVpZ2h0KCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0ICdqcXVlcnktbWF0Y2gtaGVpZ2h0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXN0aW9uSXRlbSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLm5hbWUgPSAncXVlc3Rpb24taXRlbSc7XHJcblx0XHRjb25zb2xlLmxvZygnJXMgbW9kdWxlJywgdGhpcy5uYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG5cclxuXHRcdGxldCAkcXVlc3Rpb25UaXRsZSA9ICQoJy5xdWVzdGlvbi1pdGVtIGxhYmVsIHNwYW4nKTtcclxuXHJcblx0XHQkcXVlc3Rpb25UaXRsZS5tYXRjaEhlaWdodCgpO1xyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3Vic2NyaWJlRm9ybSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgJHN1YnNjcmliZVNlY3Rpb24gPSAkKCcuc3Vic2NyaWJlLWZvcm0nKSxcclxuXHRcdFx0JGZvcm1Hcm91cCA9ICQoJy5mb3JtLWdyb3VwJywgJHN1YnNjcmliZVNlY3Rpb24pO1xyXG5cclxuXHRcdCRmb3JtR3JvdXAubWFwKChpLGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblx0XHRcdGxldCAkbGFiZWwgPSAkKCdsYWJlbCcsICR0aGlzKSxcclxuXHRcdFx0XHQkaW5wdXQgPSAkKCdpbnB1dCcsICR0aGlzKTtcclxuXHJcblx0XHRcdGxldCBwbGFjZWhvbGRlclRleHQgPSAkbGFiZWwudGV4dCgpO1xyXG5cclxuXHRcdFx0JGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgcGxhY2Vob2xkZXJUZXh0KVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRpb25XcmFwcGVyIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8vIGxldCAkYWNjb3JkaW9uV3JhcHBlciA9ICQoJy5hY2NvcmRpb25zJyksXHJcblx0XHRsZXQgJGFjY29yZGlvbiA9ICQoJy5hY2NvcmRpb24nKTtcclxuXHJcblx0XHQkYWNjb3JkaW9uLm1hcCgoaSwgZWxlKSA9PiB7XHJcblx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKSxcclxuXHRcdFx0XHQkYnV0dG9uID0gJCgnLmFjY29yZGlvbi1jb250cm9sbGVyJywgJHRoaXMpO1xyXG5cclxuXHRcdFx0JGJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0ISR0aGlzLmhhc0NsYXNzKCdvcGVuJykgPyB0aGlzLm9wZW4oJHRoaXMpIDogdGhpcy5jbG9zZSgkdGhpcyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKCR0aGlzLmhhc0NsYXNzKCd0YWItY2Fyb3VzZWxfX2FjY29yZGlvbicpKXtcclxuXHRcdFx0XHRcdCQoJy50YWJiZWQtY2Fyb3VzZWxfX2l0ZW1zJywgJHRoaXMpLnNsaWNrKCdzZXRQb3NpdGlvbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvcGVuKCRhY2NvcmRpb24pIHtcclxuXHRcdGxldCAkY29udGVudCA9ICQoJy5hY2NvcmRpb25fX2NvbnRlbnQnLCAkYWNjb3JkaW9uKTtcclxuXHJcblx0XHQkYWNjb3JkaW9uLmFkZENsYXNzKCdvcGVuJyk7XHJcblx0XHQkY29udGVudC5zaG93KCk7XHJcblx0fVxyXG5cclxuXHRjbG9zZSgkYWNjb3JkaW9uKSB7XHJcblx0XHRsZXQgJGNvbnRlbnQgPSAkKCcuYWNjb3JkaW9uX19jb250ZW50JywgJGFjY29yZGlvbik7XHJcblxyXG5cdFx0JGFjY29yZGlvbi5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG5cdFx0JGNvbnRlbnQuaGlkZSgpO1xyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWdlbmRhIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdhZ2VuZGEnO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCclcyBtb2R1bGUnLCB0aGlzLm5hbWUpO1xyXG5cclxuICAgICAgICBsZXQgJGFnZW5kYXMgPSAkKCcuZXZlbnQtYWdlbmRhJyksXHJcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgJGFnZW5kYXMuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBfdGhpcy5pbml0KCQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoJG9iaikge1xyXG4gICAgICAgIGxldCAkYWdlbmRhID0gJG9iaixcclxuICAgICAgICAgICAgJGFnZW5kYVRhYmxlcyA9ICQoJy5ldmVudC1hZ2VuZGFfX2RheS10YWJsZScsICRhZ2VuZGEpLFxyXG4gICAgICAgICAgICAkZGF5VG9nZ2xlcyA9ICQoJy5kYXktdG9nZ2xlIGEnLCAkYWdlbmRhKTtcclxuXHJcbiAgICAgICAgLy9Ub2dnbGUgYWdlbmRhIHRpbWUgdGFibGUgZm9yIHRoZSBkYXlcclxuICAgICAgICAkZGF5VG9nZ2xlcy5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGlkeCA9ICR0aGlzLmluZGV4KCksXHJcbiAgICAgICAgICAgICAgICAkYWdlbmRhVGFibGUgPSAkYWdlbmRhVGFibGVzLmVxKGlkeCksXHJcbiAgICAgICAgICAgICAgICAkdHdpbkJ1dHRvbnMgPSAgJHRoaXMuYXR0cignY2xhc3MnKTtcclxuXHJcbiAgICAgICAgICAgICRkYXlUb2dnbGVzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICRhZ2VuZGFUYWJsZXMuc2xpZGVVcCgpO1xyXG4gICAgICAgICAgICAkYWdlbmRhVGFibGUuc3RvcCgpLnNsaWRlRG93bigpO1xyXG5cclxuICAgICAgICAgICAgJCgnLicgKyAkdHdpbkJ1dHRvbnMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5zdG9wKCkuYW5pbWF0ZSh7J3Njcm9sbFRvcCc6ICRhZ2VuZGEub2Zmc2V0KCkudG9wfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvL1NldHVwIFN5bm9wc2lzIHRvZ2dsZVxyXG4gICAgICAgICQoJy5zeW5vcHNpcycsICRhZ2VuZGFUYWJsZXMpLmVhY2goZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAkdG9nZ2xlID0gJHRoaXMucGFyZW50KCkuZmluZCgnLmpzLXN5bm9wc2lzLXRvZ2dsZScpO1xyXG5cclxuICAgICAgICAgICAgJHRoaXMuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgJHRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZigkdGhpcy5jc3MoJ2Rpc3BsYXknKSAhPT0gJ2Jsb2NrJykge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnNsaWRlRG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgICR0b2dnbGUuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuc2xpZGVVcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICR0b2dnbGUucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyAvL1NldHVwIHRhYmJsZSBhY2NvcmRpb25cclxuICAgICAgICAvLyAkKCcuZXZlbnQtYWdlbmRhX19kYXktdGFibGUgdGFibGUgdGhlYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAvLyAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAvLyAgICAgbGV0ICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAvLyAgICAgICAgICRhY2NvcmRpb24gPSAkdGhpcy5uZXh0KCk7XHJcblxyXG4gICAgICAgIC8vICAgICAkYWNjb3JkaW9uLm5vdCgnOmFuaW1hdGVkJykuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxpcGF5Rm9ybSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgJGZvcm0gPSAkKCcuYWxpcGF5LWZvcm0gZm9ybScpLFxyXG5cdFx0XHQkYWRkSW52b2ljZUJ1dHRvbiA9ICQoJ2J1dHRvbi5hZGROZXdJbnZvaWNlJyksXHJcblx0XHRcdCRuZXdJbnZvaWNlRmllbGRDb250YWluZXIgPSAkKCcjbmV3SW52b2ljZScpO1xyXG5cclxuXHRcdGxldCAkc3VibWl0QnV0dG9uID0gJCgnYnV0dG9uLnN1Ym1pdEZvcm0nLCAkZm9ybSk7XHJcblx0XHRsZXQgJHJlc2V0QnV0dG9uID0gJCgnYnV0dG9uLnJlc2V0JywgJGZvcm0pO1xyXG5cclxuXHRcdGxldCBpbnZvaWNlRmllbGROdW1iZXIgPSAyO1xyXG5cdFx0bGV0IGFsbEZpZWxkc0ZpbGxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdGxldCB0b3RhbE9yZGVyID0gNTtcclxuXHRcdGxldCBzZWxlY3RlZFJhZGlvID0gbmV3IEFycmF5KHRvdGFsT3JkZXIpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbE9yZGVyOyBpKyspXHJcblx0XHR7XHJcblx0XHQgIHNlbGVjdGVkUmFkaW9baV0gPSBudWxsO1xyXG5cdFx0fTtcclxuXHJcblx0XHRzZWxlY3RlZFJhZGlvWzFdID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXByb2R1Y3QxXzFcIik7XHJcblxyXG5cdFx0Ly8gYWRkIG5ldyBpbnZvaWNlXHJcblx0XHQkYWRkSW52b2ljZUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0YWRkTmV3SW52b2ljZSgpO1xyXG5cclxuXHRcdFx0Ly8gaWYoaW52b2ljZUZpZWxkTnVtYmVyIDw9NSl7XHJcblx0XHRcdC8vIFx0bGV0IF9faW52b2ljZUZpZWxkSFRNTCA9IGA8ZGl2PjxpbnB1dCBjbGFzcz1cImhhcy1vdXRsaW5lXCIgaWQ9XCJwcm9kdWN0JHtpbnZvaWNlRmllbGROdW1iZXJ9XCIgc3R5bGU9XCJ3aWR0aDo0MDBweDtcIiBuYW1lPVwicHJvZHVjdCR7aW52b2ljZUZpZWxkTnVtYmVyfVwiIHZhbHVlPScnIGhpbnQ9XCLlr4zlo6vmlr3kuZDorqLljZXlkIjlkIzlj7fjgIHlj5Hnpajlj7dcIiBhbGxvd251bGw9XCJmYWxzZVwiIHNpemU9XCIzNlwiPjxicj5cclxuXHRcdFx0Ly8gXHRcdFx0PGlucHV0IGNsYXNzPVwiaGFzLW91dGxpbmVcIiBpZD1cInJhcHJvZHVjdCR7aW52b2ljZUZpZWxkTnVtYmVyfV8yXCIgdHlwZT1cInJhZGlvXCIgbmFtZT1cInJhcHJvZHVjdCR7aW52b2ljZUZpZWxkTnVtYmVyfVwiIGNoZWNrZWQ9XCJcIj48bGFiZWwgZm9yPVwicmFwcm9kdWN0JHtpbnZvaWNlRmllbGROdW1iZXJ9XzJcIj7lj5Hnpajlj7c8L2xhYmVsPlxyXG5cdFx0XHQvLyBcdFx0XHQ8aW5wdXQgY2xhc3M9XCJoYXMtb3V0bGluZVwiIGlkPVwicmFwcm9kdWN0JHtpbnZvaWNlRmllbGROdW1iZXJ9XzFcIiB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmFwcm9kdWN0JHtpbnZvaWNlRmllbGROdW1iZXJ9XCI+PGxhYmVsIGZvcj1cInJhcHJvZHVjdCR7aW52b2ljZUZpZWxkTnVtYmVyfV8xXCI+6K6i5Y2VXFxcXOWQiOWQjOWPtzwvbGFiZWw+PC9kaXY+YDtcclxuXHRcdFx0Ly8gXHQkbmV3SW52b2ljZUZpZWxkQ29udGFpbmVyLmFwcGVuZChfX2ludm9pY2VGaWVsZEhUTUwpO1xyXG5cdFx0XHQvLyBcdGludm9pY2VGaWVsZE51bWJlcisrO1xyXG5cclxuXHRcdFx0Ly8gXHRsZXQgY291bnRJbnZvaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWRDb3VudEludm9pY2VcIikudmFsdWU7XHJcblx0XHRcdC8vIFx0bGV0IG5ld0NvdW50SW52b2ljZSA9IHBhcnNlSW50KGNvdW50SW52b2ljZSkgKyAxO1xyXG5cdFx0XHQvLyBcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkQ291bnRJbnZvaWNlXCIpLnZhbHVlID0gbmV3Q291bnRJbnZvaWNlO1xyXG5cdFx0XHQvLyB9XHJcblx0XHRcdC8vIGVsc2Uge1xyXG5cdFx0XHQvLyBcdGFsZXJ0KCfmnIDlpJrlj6rog73mnIk15Liq6K6i5Y2VXFzlkIjlkIzlj7fjgIHlj5Hnpajlj7cnKTtcclxuXHRcdFx0Ly8gfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JHJlc2V0QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdCQoXCJpbnB1dCwgdGV4dGFyZWFcIikudmFsKFwiXCIpO1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdC8vIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0cmV0dXJuIGNoZWNrRm9ybSh0aGlzKTtcclxuXHRcdFx0Ly8gbGV0IHByaWNlID0gJCgnI3ByaWNlJykudmFsKCksXHJcblx0XHRcdC8vICBwcm9kdWN0ID0gJCgnI3Byb2R1Y3QxJykudmFsKCksXHJcblx0XHRcdC8vICBjdXN0b21lck5hbWUgPSAkKCcjY3VzdG9tZXJOYW1lJykudmFsKCksXHJcblx0XHRcdC8vICBwaG9uZSA9ICQoJyN0eHRQaG9uZScpLnZhbCgpLFxyXG5cdFx0XHQvLyAgY29tcGFueSA9ICQoJyNjdXN0b21lcmNvbXBhbnknKS52YWwoKTtcclxuXHJcblx0XHRcdC8vIGlmKCFwcmljZSB8fCAhcHJvZHVjdCB8fCAhY3VzdG9tZXJOYW1lIHx8ICFwaG9uZSB8fCAhY29tcGFueSl7XHJcblx0XHRcdC8vICBhbGVydCgn6K+35aGr5YaZ5bqU5LuY5oC75Lu344CCJyk7XHJcblxyXG5cdFx0XHQvLyAgaWYoIXByaWNlKXtcclxuXHRcdFx0Ly8gICAgICAkKCcjcHJpY2UnKS5mb2N1cygpO1xyXG5cdFx0XHQvLyAgICAgIHNjcm9sbFRvRmllbGQoJCgnI3ByaWNlJykpO1xyXG5cdFx0XHQvLyAgfVxyXG5cdFx0XHQvLyAgZWxzZSBpZiAoIXByb2R1Y3QpIHtcclxuXHRcdFx0Ly8gICAgICAkKCcjcHJvZHVjdDEnKS5mb2N1cygpO1xyXG5cdFx0XHQvLyAgICAgIHNjcm9sbFRvRmllbGQoJCgnI3Byb2R1Y3QxJykpO1xyXG5cdFx0XHQvLyAgfVxyXG5cdFx0XHQvLyAgZWxzZSBpZiAoIWN1c3RvbWVyTmFtZSkge1xyXG5cdFx0XHQvLyAgICAgICQoJyNjdXN0b21lck5hbWUnKS5mb2N1cygpO1xyXG5cdFx0XHQvLyAgICAgIHNjcm9sbFRvRmllbGQoJCgnI2N1c3RvbWVyTmFtZScpKTtcclxuXHRcdFx0Ly8gIH1cclxuXHRcdFx0Ly8gIGVsc2UgaWYgKCFwaG9uZSkge1xyXG5cdFx0XHQvLyAgICAgICQoJyN0eHRQaG9uZScpLmZvY3VzKCk7XHJcblx0XHRcdC8vICAgICAgc2Nyb2xsVG9GaWVsZCgkKCcjdHh0UGhvbmUnKSk7XHJcblx0XHRcdC8vICB9XHJcblx0XHRcdC8vICBlbHNlIHtcclxuXHRcdFx0Ly8gICAgICAkKCcjY3VzdG9tZXJjb21wYW55JykuZm9jdXMoKTtcclxuXHRcdFx0Ly8gICAgICBzY3JvbGxUb0ZpZWxkKCQoJyNjdXN0b21lcmNvbXBhbnknKSk7XHJcblx0XHRcdC8vICB9XHJcblxyXG5cdFx0XHQvLyAgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHQvLyB9XHJcblx0XHR9KTtcclxuXHJcblx0XHRmdW5jdGlvbiBhZGROZXdJbnZvaWNlKClcclxuXHRcdHtcclxuXHRcdFx0bGV0IGNvdW50SW52b2ljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkQ291bnRJbnZvaWNlXCIpLnZhbHVlO1xyXG5cdFx0XHRpZiggY291bnRJbnZvaWNlID49IHRvdGFsT3JkZXIgKSB7XHJcblx0XHRcdFx0Ly8gbWF4IG9yZGVyIGNvdW50XHJcblx0XHRcdFx0YWxlcnQoXCLmnIDlpJrlj6rog73mnIlcIit0b3RhbE9yZGVyK1wi5Liq6K6i5Y2VXFzlkIjlkIzlj7fjgIHlj5Hnpajlj7dcIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGV0IG5ld0NvdW50SW52b2ljZSA9IHBhcnNlSW50KGNvdW50SW52b2ljZSkgKyAxO1xyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkQ291bnRJbnZvaWNlXCIpLnZhbHVlID0gbmV3Q291bnRJbnZvaWNlO1xyXG5cclxuXHRcdFx0XHRsZXQgbmV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblx0XHRcdFx0bmV3SW5wdXQudHlwZT1cInRleHRcIjtcclxuXHRcdFx0XHRuZXdJbnB1dC5uYW1lPSBcInByb2R1Y3RcIiArIG5ld0NvdW50SW52b2ljZTtcclxuXHRcdFx0XHRuZXdJbnB1dC5pZD1cInByb2R1Y3RcIiArIG5ld0NvdW50SW52b2ljZTtcclxuXHRcdFx0XHRuZXdJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0bmV3SW5wdXQuc2l6ZSA9IFwiMzZcIjtcclxuXHJcblx0XHRcdFx0bGV0IHByb2RTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdJbnZvaWNlXCIpO1xyXG5cclxuXHRcdFx0XHRsZXQgYnIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdFx0XHRici5zdHlsZS5tYXJnaW5Cb3R0b209XCIxMHB4XCI7XHJcblx0XHRcdFx0cHJvZFNwYW4uYXBwZW5kQ2hpbGQoYnIpO1xyXG5cdFx0XHRcdHByb2RTcGFuLmFwcGVuZENoaWxkKG5ld0lucHV0KTtcclxuXHJcblx0XHRcdFx0bGV0IHNwYW4wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcblx0XHRcdFx0c3BhbjAuaW5uZXJIVE1MID0gXCImbmJzcDtcIjtcclxuXHRcdFx0XHRwcm9kU3Bhbi5hcHBlbmRDaGlsZChzcGFuMCk7XHJcblxyXG5cdFx0XHRcdGxldCByYTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblx0XHRcdFx0cmEyLnR5cGUgPSBcInJhZGlvXCI7XHJcblx0XHRcdFx0cmEyLm5hbWUgPSBcInJhcHJvZHVjdFwiICsgbmV3Q291bnRJbnZvaWNlO1xyXG5cdFx0XHRcdHJhMi5pZCA9IFwicmFwcm9kdWN0XCIgKyBuZXdDb3VudEludm9pY2UgKyBcIl8yXCI7XHJcblx0XHRcdFx0cmEyLmNoZWNrZWQgPSBcImNoZWNrZWRcIjtcclxuXHRcdFx0XHRyYTIuY2hlY2tlZCA9IHRydWU7XHJcblx0XHRcdFx0c2VsZWN0ZWRSYWRpb1tuZXdDb3VudEludm9pY2VdID0gcmEyO1xyXG5cdFx0XHRcdHJhMi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQgIHRoaXMuY2hlY2tlZCA9IHRydWU7XHJcblx0XHRcdFx0XHQgIGlmIChzZWxlY3RlZFJhZGlvW25ld0NvdW50SW52b2ljZV0gIT0gdGhpcykge1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZFJhZGlvW25ld0NvdW50SW52b2ljZV0uY2hlY2tlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZFJhZGlvW25ld0NvdW50SW52b2ljZV0gPSB0aGlzO1xyXG5cdFx0XHRcdFx0ICB9XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRwcm9kU3Bhbi5hcHBlbmRDaGlsZChyYTIpO1xyXG5cdFx0XHRcdGxldCBzcGFuMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0XHRcdHNwYW4yLmlubmVySFRNTCA9IFwi5Y+R56Wo5Y+3XCI7XHJcblx0XHRcdFx0cHJvZFNwYW4uYXBwZW5kQ2hpbGQoc3BhbjIpO1xyXG5cclxuXHRcdFx0XHRsZXQgcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblx0XHRcdFx0cmEudHlwZSA9IFwicmFkaW9cIjtcclxuXHRcdFx0XHRyYS5uYW1lID0gXCJyYXByb2R1Y3RcIiArIG5ld0NvdW50SW52b2ljZTtcclxuXHRcdFx0XHRyYS5pZCA9IFwicmFwcm9kdWN0XCIgKyBuZXdDb3VudEludm9pY2UgKyBcIl8xXCI7XHJcblxyXG5cdFx0XHRcdHJhLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdCAgdGhpcy5jaGVja2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdCAgaWYgKHNlbGVjdGVkUmFkaW9bbmV3Q291bnRJbnZvaWNlXSAhPSB0aGlzKSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkUmFkaW9bbmV3Q291bnRJbnZvaWNlXS5jaGVja2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkUmFkaW9bbmV3Q291bnRJbnZvaWNlXSA9IHRoaXM7XHJcblx0XHRcdFx0XHQgIH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHByb2RTcGFuLmFwcGVuZENoaWxkKHJhKTtcclxuXHRcdFx0XHRsZXQgc3BhbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuXHRcdFx0XHRzcGFuMS5pbm5lckhUTUwgPSBcIuiuouWNlVxcXFzlkIjlkIzlj7dcIjtcclxuXHRcdFx0XHRwcm9kU3Bhbi5hcHBlbmRDaGlsZChzcGFuMSk7XHJcblxyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFwcm9kdWN0XCIgKyBuZXdDb3VudEludm9pY2UgKyBcIl8yXCIpLmNoZWNrZWQgPSBcImNoZWNrZWRcIjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNoZWNrRm9ybShvYmpmb3JtKXtcclxuXHRcdFx0Ly8gdmFsaWRhdGUgY29tYXBhbnlcclxuXHRcdFx0bGV0IGNvbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcIkNvbXBhbnlOYW1lXCIpO1xyXG5cclxuXHJcblx0XHRcdC8vIHZhbGlkYXRlIHByaWNlXHJcblx0XHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaWNlXCIpLnZhbHVlID09IFwiXCIpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhbGVydChcIuivt+Whq+WGmeW6lOS7mOaAu+S7t+OAglwiKTtcclxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaWNlXCIpLmZvY3VzKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHZhbGlkYXRlIHRoYXQgcHJpY2UgaXMgbnVtZXJpY2FsXHJcblx0XHRcdFx0bGV0IHByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmljZVwiKS52YWx1ZSxcclxuXHRcdFx0XHRcdC8vIHJlZz0vXlswLTldKy4/WzAtOV0qJC87XHJcblx0XHRcdFx0XHQvLyByZWcgPSAvXlxcZCsoXFwuXFxkezAsMn0pPyQvO1xyXG5cdFx0XHRcdFx0cmVnID0gL14oPzpcXGQrXFwuXFxkezEsMn18XFxkKykkLztcclxuXHJcblx0XHRcdFx0aWYoICFyZWcudGVzdChwcmljZSkgKSB7XHJcblx0XHRcdFx0XHRhbGVydChcIuaCqOWhq+WGmeeahOW6lOS7mOaAu+S7t+agvOW8j+S4jeato+ehruOAglxcbumHkemineagvOW8j+S+i+WmgjogNTIuMuaIljNcIik7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBWYWxpZGF0ZSBwcm9kdWN0c1xyXG5cdFx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9kdWN0MVwiKS52YWx1ZSA9PSBcIlwiKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YWxlcnQoXCLor7floavlhpnnrKzkuIDkuKrlr4zlo6vmlr3kuZDorqLljZVcXFxc5ZCI5ZCM5Y+344CB5Y+R56Wo5Y+344CCXCIpO1xyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZHVjdDFcIikuZm9jdXMoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9cclxuXHRcdFx0bGV0IGNvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWRDb3VudEludm9pY2VcIikudmFsdWU7XHJcblx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IGNvdW50OyBpKyspIHtcclxuXHRcdFx0XHRsZXQgaW52cG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2R1Y3RcIiArIGkpO1xyXG5cdFx0XHRcdGxldCBpbnZwb1ZhbCA9IFN0cmluZyhpbnZwby52YWx1ZSk7XHJcblx0XHRcdFx0aWYgKGludnBvVmFsICE9IFwiXCIpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFwcm9kdWN0XCIgKyBpICtcIl8xXCIpLmNoZWNrZWQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc1BvTm8oaW52cG9WYWwpKSB7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnQoXCLorqLljZVcXFxc5ZCI5ZCM5Y+35b+F6aG75pivM+S9jeWtl+avjeWKoOS4ijEw5L2N5pWw5a2X77yBXCIpO1xyXG5cdFx0XHRcdFx0XHRcdGludnBvLmZvY3VzKCk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc0ludm9pY2VObyhpbnZwb1ZhbCkpIHtcclxuXHRcdFx0XHRcdFx0XHRhbGVydChcIuWPkeelqOWPt+W/hemhu+aYrzjkvY3mlbDlrZfvvIFcIik7XHJcblx0XHRcdFx0XHRcdFx0aW52cG8uZm9jdXMoKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFZhbGlkYXRlIG5hbWVcclxuXHRcdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VzdG9tZXJOYW1lXCIpLnZhbHVlID09IFwiXCIpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhbGVydChcIuivt+Whq+WGmeWuouaIt+Wnk+WQjeOAglwiKTtcclxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1c3RvbWVyTmFtZVwiKS5mb2N1cygpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVmFsaWRhdGUgcGhvbmUgbnVtYmVyXHJcblx0XHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFBob25lXCIpLnZhbHVlID09IFwiXCIpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhbGVydChcIuivt+Whq+WGmeWuouaIt+iBlOezu+eUteivneOAglwiKTtcclxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFBob25lXCIpLmZvY3VzKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIFZhbGlkYXRlIHBob25lIG51bWJlciBmb3JtYXRcclxuXHRcdFx0bGV0IHBob25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRQaG9uZVwiKS52YWx1ZTtcclxuXHRcdFx0aWYgKCFpc1Bob25lTm8ocGhvbmUpKSB7XHJcblx0XHRcdFx0YWxlcnQoXCLmgqjloavlhpnnmoTlrqLmiLfogZTns7vnlLXor53moLzlvI/kuI3mraPnoa7jgIJcXG7lv4XpobvlhajmmK/mlbDlrZfvvIFcIik7XHJcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRQaG9uZVwiKS5mb2N1cygpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVmFsaWRhdGUgY3VzdG9tZXIgY29tcGFueVxyXG5cdFx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21lcmNvbXBhbnlcIikudmFsdWUgPT0gXCJcIilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGFsZXJ0KFwi6K+35aGr5YaZ5a6i5oi35YWs5Y+45ZCN56ew44CCXCIpO1xyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VzdG9tZXJjb21wYW55XCIpLmZvY3VzKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIVN1bW1hcnlQcm9kdWN0KCkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBTdW1tYXJ5UHJvZHVjdCgpIHtcclxuXHRcdFx0bGV0IHByb2R1Y3RBbGwgPSBuZXcgQXJyYXkoKTtcclxuXHRcdFx0bGV0IGNvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWRDb3VudEludm9pY2VcIikudmFsdWU7XHJcblx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IGNvdW50OyBpKyspIHtcclxuXHRcdFx0XHRsZXQgaW52cG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2R1Y3RcIiArIGkpO1xyXG5cdFx0XHRcdGxldCBpbnZwb1ZhbCA9IFN0cmluZyhpbnZwby52YWx1ZSk7XHJcblx0XHRcdFx0aWYgKGludnBvVmFsICE9IFwiXCIpIHtcclxuXHRcdFx0XHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhcHJvZHVjdFwiICsgaSArIFwiXzFcIikuY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0XHRwcm9kdWN0QWxsLnB1c2goIFwiUE9Oby1cIiArIGludnBvVmFsLnRvVXBwZXJDYXNlKCkgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRwcm9kdWN0QWxsLnB1c2goIFwiSW52b2ljZU5vLVwiICsgaW52cG9WYWwgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cHJvZHVjdEFsbCA9IHByb2R1Y3RBbGwuam9pbihcInxcIik7XHJcblxyXG5cdFx0XHRsZXQgY3VzdG9tZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21lck5hbWVcIikudmFsdWU7XHJcblx0XHRcdGxldCBjdXN0b21lclRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0UGhvbmVcIikudmFsdWU7XHJcblx0XHRcdGxldCBjdXN0b21lckNvbXBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1c3RvbWVyY29tcGFueVwiKS52YWx1ZTtcclxuXHRcdFx0cHJvZHVjdEFsbCA9IFwi5a6i5oi35aeT5ZCNLVwiICsgY3VzdG9tZXJOYW1lICtcInznlLXor50tXCIgKyBjdXN0b21lclRlbCArXCJ85YWs5Y+4LVwiICtjdXN0b21lckNvbXBhbnkgKyBcInxcIiArIHByb2R1Y3RBbGw7XHJcblx0XHRcdC8vcHJvZHVjdEFsbCA9IFwi5a6i5oi35L+h5oGvLVwiICsgY3VzdG9tZXJOYW1lICtcIi1cIiArIGN1c3RvbWVyVGVsICtcIi1cIiArY3VzdG1lckNvbXBhbnkgKyBcInxcIiArIHByb2R1Y3RBbGw7XHJcblxyXG5cdFx0XHRpZiAocHJvZHVjdEFsbC5sZW5ndGggPiAxMjgpIHtcclxuXHRcdFx0XHRhbGVydChcIuS4gOasoei+k+WFpeeahOWPkeelqOWPt+eggeWkquWkmu+8jOivt+a4hemZpOWHoOadoeiusOW9leOAglwiKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkcHJvZHVjdFwiKS52YWx1ZSA9IHByb2R1Y3RBbGw7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkYm9keVwiKS52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWRib2R5XCIpLnZhbHVlID1cIuWuouaIt+Wnk+WQjTogXCImY3VzdG9tZXJOYW1lJlwiOyDlrqLmiLfogZTns7vnlLXor506IFwiJmN1c3RvbWVyVGVsJlwiOyDlrqLmiLflhazlj7jlkI3np7A6IFwiJmN1c3RtZXJDb21wYW55O1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBmdW5jdGlvbiBzY3JvbGxUb0ZpZWxkKCR0YXJnZXQpe1xyXG5cdFx0Ly8gICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuXHRcdC8vICAgICAgc2Nyb2xsVG9wOiAkdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDE1MFxyXG5cdFx0Ly8gIH0sIDUwMCk7XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0Ly8gVmFsaWRhdGUgaW52b2ljZSBudW1iZXIgZm9ybWF0IGZ1bmN0aW9uXHJcblx0XHRmdW5jdGlvbiBpc0ludm9pY2VObyhpbnYpIHtcclxuXHRcdFx0bGV0IHJlID0gL15cXGR7OH0kLztcclxuXHRcdFx0aWYgKCFyZS50ZXN0KGludikpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIFZhbGlkYXRlIGludm9pY2UgZm9ybWF0IGZ1bmN0aW9uXHJcblx0XHRmdW5jdGlvbiBpc1BvTm8oaW52KSB7XHJcblx0XHRcdGxldCByZSA9IC9eW0EtWmEtel17M31cXGR7MTB9JC87XHJcblx0XHRcdGlmICghcmUudGVzdChpbnYpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBWYWxpZGF0ZSBwaG9uZSBudW1iZXIgZm9ybWF0IGZ1bmN0aW9uXHJcblx0XHRmdW5jdGlvbiBpc1Bob25lTm8oaW52KSB7XHJcblx0XHRcdGxldCByZSA9IC9eWzAtOV0qJC87XHJcblx0XHRcdGlmICghcmUudGVzdChpbnYpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCAnanF1ZXJ5LW1hdGNoLWhlaWdodCc7XHJcbmltcG9ydCAnc2xpY2stY2Fyb3VzZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2Fyb3VzZWwge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0JCgnLmNhcm91c2VsJykubWFwKChpLCBlbGUpID0+IHtcclxuXHRcdFx0bGV0ICR0aGlzID0gJChlbGUpO1xyXG5cclxuXHRcdFx0JCgnLmNhcm91c2VsX19pdGVtcycsICR0aGlzKS5zbGljayh7XHJcblx0XHRcdFx0c2xpZGVzVG9TaG93OiAzLFxyXG5cdFx0XHRcdGRvdHM6IHRydWUsXHJcblx0XHRcdFx0YXJyb3dzOiBmYWxzZSxcclxuXHRcdFx0XHRpbmZpbml0ZTogZmFsc2UsXHJcblx0XHRcdFx0c3dpcGU6IGZhbHNlLFxyXG5cdFx0XHRcdGFwcGVuZERvdHM6ICQoJy5jYXJvdXNlbF9fZG90cycsICR0aGlzKSxcclxuXHRcdFx0XHRyZXNwb25zaXZlOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGJyZWFrcG9pbnQ6IDc2OCxcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3M6IHtcclxuXHRcdFx0XHRcdFx0XHRzbGlkZXNUb1Nob3c6IDEsXHJcblx0XHRcdFx0XHRcdFx0c2xpZGVzVG9TY3JvbGw6IDEsXHJcblx0XHRcdFx0XHRcdFx0c3dpcGU6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0aW5maW5pdGU6IHRydWVcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkKCcudHdvLWNvbC1jYXJvdXNlbCcpLm1hcCgoaSwgZWxlKSA9PiB7XHJcblx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKTtcclxuXHJcblx0XHRcdCQoJy50d28tY29sLWNhcm91c2VsX19pdGVtcycsICR0aGlzKS5zbGljayh7XHJcblx0XHRcdFx0c2xpZGVzVG9TaG93OiAyLFxyXG5cdFx0XHRcdGRvdHM6IGZhbHNlLFxyXG5cdFx0XHRcdGFycm93czogdHJ1ZSxcclxuXHRcdFx0XHRpbmZpbml0ZTogdHJ1ZSxcclxuXHRcdFx0XHRhcHBlbmREb3RzOiAkKCcudHdvLWNvbC1jYXJvdXNlbF9fZG90cycsICR0aGlzKSxcclxuXHRcdFx0XHRwcmV2QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLXByZXYgcHJldlwiPjxzcGFuPlByZXZpb3VzPC9zcGFuPjwvYnV0dG9uPicsXHJcblx0XHRcdFx0bmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1uZXh0IG5leHRcIj48c3Bhbj5OZXh0PC9zcGFuPjwvYnV0dG9uPicsXHJcblx0XHRcdFx0cmVzcG9uc2l2ZTogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRicmVha3BvaW50OiA3NjgsXHJcblx0XHRcdFx0XHRcdHNldHRpbmdzOiB7XHJcblx0XHRcdFx0XHRcdFx0ZG90czogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRhcnJvd3M6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHNsaWRlc1RvU2hvdzogMSxcclxuXHRcdFx0XHRcdFx0XHRzbGlkZXNUb1Njcm9sbDogMSxcclxuXHRcdFx0XHRcdFx0XHRzd2lwZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRpbmZpbml0ZTogdHJ1ZVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJy50aHJlZS1mb3VyLWNhcm91c2VsJykubWFwKChpLCBlbGUpID0+IHtcclxuXHRcdFx0bGV0ICR0aGlzID0gJChlbGUpO1xyXG5cdFx0XHQkKCcudGhyZWUtZm91ci1jYXJvdXNlbF9faXRlbXMnLCAkdGhpcykuc2xpY2soe1xyXG5cdFx0XHRcdHNsaWRlc1RvU2hvdzogMSxcclxuXHRcdFx0XHRkb3RzOiBmYWxzZSxcclxuXHRcdFx0XHRhcnJvd3M6IHRydWUsXHJcblx0XHRcdFx0aW5maW5pdGU6IHRydWUsXHJcblx0XHRcdFx0YXBwZW5kRG90czogJCgnLnRocmVlLWZvdXItY2Fyb3VzZWxfX2RvdHMnLCAkdGhpcyksXHJcblx0XHRcdFx0cHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2IHByZXZcIj48c3Bhbj5QcmV2aW91czwvc3Bhbj48L2J1dHRvbj4nLFxyXG5cdFx0XHRcdG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dCBuZXh0XCI+PHNwYW4+TmV4dDwvc3Bhbj48L2J1dHRvbj4nLFxyXG5cdFx0XHRcdHJlc3BvbnNpdmU6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YnJlYWtwb2ludDogNzY4LFxyXG5cdFx0XHRcdFx0XHRzZXR0aW5nczoge1xyXG5cdFx0XHRcdFx0XHRcdGRvdHM6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0YXJyb3dzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRzbGlkZXNUb1Nob3c6IDEsXHJcblx0XHRcdFx0XHRcdFx0c2xpZGVzVG9TY3JvbGw6IDEsXHJcblx0XHRcdFx0XHRcdFx0c3dpcGU6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0aW5maW5pdGU6IHRydWVcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkKCcudGFiYmVkLWNhcm91c2VsJykubWFwKChpLGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHQkKCcudGFiYmVkLWNhcm91c2VsX19pdGVtcycsICR0aGlzKS5zbGljayh7XHJcblx0XHRcdFx0c2xpZGVzVG9TaG93OiA0LFxyXG5cdFx0XHRcdGRvdHM6IGZhbHNlLFxyXG5cdFx0XHRcdGFycm93czogdHJ1ZSxcclxuXHRcdFx0XHRpbmZpbml0ZTogdHJ1ZSxcclxuXHRcdFx0XHRhcHBlbmREb3RzOiAkKCcudGFiYmVkLWNhcm91c2VsX19kb3RzJywgJHRoaXMpLFxyXG5cdFx0XHRcdHByZXZBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stcHJldiBwcmV2XCI+PHNwYW4+UHJldmlvdXM8L3NwYW4+PC9idXR0b24+JyxcclxuXHRcdFx0XHRuZXh0QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLW5leHQgbmV4dFwiPjxzcGFuPk5leHQ8L3NwYW4+PC9idXR0b24+JyxcclxuXHRcdFx0XHRyZXNwb25zaXZlOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGJyZWFrcG9pbnQ6IDc2OCxcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3M6IHtcclxuXHRcdFx0XHRcdFx0XHRkb3RzOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGFycm93czogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0c2xpZGVzVG9TaG93OiAxLFxyXG5cdFx0XHRcdFx0XHRcdHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG5cdFx0XHRcdFx0XHRcdHN3aXBlOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGluZmluaXRlOiB0cnVlXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCAnc2xpY2stY2Fyb3VzZWwnO1xyXG5pbXBvcnQgZmFuY3lib3ggZnJvbSAnZmFuY3lib3gnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmVhdHVyZWRTcGVha2VycyB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQkKCcuZXZlbnQtZmVhdHVyZWQtc3BlYWtlcnNfX3NwZWFrZXInKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuXHRcdCQoJy5iaW8tcG9wdXAnKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0ICAgIGxldCAkdGhpcyA9ICQoZWxlKSxcclxuXHRcdCAgICAgICAgJHBhcmVudCA9ICR0aGlzLnBhcmVudHMoJy5ldmVudC1mZWF0dXJlZC1zcGVha2Vyc19fc3BlYWtlcicpO1xyXG5cclxuXHRcdCAgICBsZXQgX2Jpb0hUTUwgPSAkKCcuZXZlbnQtc3BlYWtlcnNfX2JpbycsICRwYXJlbnQpLmh0bWwoKTtcclxuXHJcblx0XHQgICAgX2Jpb0hUTUwgPSAnPGRpdiBjbGFzcz1cImV2ZW50LXNwZWFrZXJzX19iaW9cIj4nICsgX2Jpb0hUTUwgKyAnPC9kaXY+JztcclxuXHJcblx0XHQgICAgJHRoaXMub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcblx0XHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCAgICAgICAgJC5mYW5jeWJveC5vcGVuKF9iaW9IVE1MKTtcclxuXHRcdCAgICB9KTtcclxuXHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblxyXG5cdFx0bGV0ICRldmVudENoZWNrTGlzdCA9ICQoJy5ldmVudHMtZm9ybS1jaGVja2xpc3QnKTtcclxuXHJcblx0XHQkKCcuY2hlY2tib3ggbGFiZWwnLCAkZXZlbnRDaGVja0xpc3QpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdGxldCB0ZXh0TGFiZWwgPSAkKHRoaXMpLnRleHQoKTtcclxuXHRcdFx0bGV0IHJlZ2V4UGF0dCA9IC9cXFsoLio/KVxcXS9nO1xyXG5cclxuXHRcdFx0Ly9nZXQgdGltZVxyXG5cdFx0XHRsZXQgdGltZSA9IHRleHRMYWJlbC5tYXRjaChyZWdleFBhdHQpO1xyXG5cclxuXHRcdFx0Ly9yZW1vdmUgdGhlIHRpbWUgZnJvbSB0ZXh0XHJcblx0XHRcdGxldCBuZXdUZXh0ID0gdGV4dExhYmVsLnJlcGxhY2UocmVnZXhQYXR0LCAnJyk7XHJcblxyXG5cdFx0XHQvL2VtcHR5IG9yaWdpbmFsIHN0cmluZ1xyXG5cdFx0XHRsZXQgaW5wdXRIVE1MID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpLmVtcHR5KCk7XHJcblx0XHRcdCQodGhpcykuaHRtbChpbnB1dEhUTUwpO1xyXG5cclxuXHRcdFx0Ly9yZW1vdmUgYnJhY2tldHNcclxuXHRcdFx0bGV0IG5ld1RpbWUgPSB0aW1lWzBdLnJlcGxhY2UoJ1snLCAnJyk7XHJcblx0XHRcdG5ld1RpbWUgPSBuZXdUaW1lLnJlcGxhY2UoJ10nLCAnJyk7XHJcblxyXG5cdFx0XHQvL2dlbmVyYXRlIG5ldyBodG1sXHJcblx0XHRcdGxldCBuZXdIVE1MID0gJzxzcGFuIGNsYXNzPVwiZXZlbnQtZm9ybS10aW1lXCI+JyArIG5ld1RpbWUgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZXZlbnQtZm9ybS1kZXRhaWxcIj4nICsgbmV3VGV4dCArICc8L3NwYW4+JztcclxuXHRcdFx0JCh0aGlzKS5maW5kKCdpbnB1dCcpLmFmdGVyKG5ld0hUTUwpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bGV0ICRjaGVja2JveCA9ICQoJy5jaGVja2JveCcpO1xyXG5cclxuXHRcdCRjaGVja2JveC5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHRsZXQgJGZvcm1Hcm91cCA9ICR0aGlzLnBhcmVudCgpO1xyXG5cclxuXHRcdFx0aWYoISQoJz4gbGFiZWwnLCAkZm9ybUdyb3VwKS5sZW5ndGgpe1xyXG5cdFx0XHRcdCQoJGZvcm1Hcm91cCkuZmluZCgnLmNoZWNrYm94JykuYWRkQ2xhc3MoJ3JlcXVpcmVkJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUxpbmtzV3JhcHBlciB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgJGltYWdlTGlua3NXcmFwcGVyID0gJCgnLmltYWdlLWxpbmtzLXdyYXBwZXInKSxcclxuXHRcdFx0JGltYWdlTGlua3MgPSAkKCcubGluay1pbWFnZScsICRpbWFnZUxpbmtzV3JhcHBlcik7XHJcblxyXG5cdFx0aWYoJGltYWdlTGlua3MubGVuZ3RoID49IDQpe1xyXG5cdFx0XHQkaW1hZ2VMaW5rcy5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKTtcclxuXHJcblx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoJ2Zsb2F0Jyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgZG9UIGZyb20gJ2RvdCc7XHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnNpZ2h0Q29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGxldCAkaW5zaWdodEZpbHRlciA9ICQoJy5pbnNpZ2h0cy1maWx0ZXInKSxcclxuXHRcdFx0JGZpbHRlciA9ICQoJy5maWx0ZXItaXRlbScsICRpbnNpZ2h0RmlsdGVyKS5ub3QoJy5maWx0ZXItaXRlbS0tcmVzZXQnKSxcclxuXHRcdFx0JHJlc2V0ID0gJCgnLmZpbHRlci1pdGVtLS1yZXNldCAuYnRuLXJlc2V0JywgJGluc2lnaHRGaWx0ZXIpLFxyXG5cdFx0XHQkaW5zaWdodENvbnRlbnQgPSAkKCcuaW5zaWdodF9fY29udGVudCAuY29sdW1uLXJvdycpLFxyXG5cdFx0XHQkY29weSA9ICQoJy5kcm9wZG93bi1jb3B5JywgJGluc2lnaHRGaWx0ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLiRpbnNpZ2h0RmlsdGVyID0gJGluc2lnaHRGaWx0ZXI7XHJcblx0XHR0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xyXG5cdFx0dGhpcy4kcmVzZXQgPSAkcmVzZXQ7XHJcblx0XHR0aGlzLmRhdGEgPSB7fTtcclxuXHRcdHRoaXMubG9hZExpbWl0ICAgID0gOTtcclxuXHRcdHRoaXMuY3VycnBhZ2UgICAgID0gMTtcclxuXHRcdHRoaXMucmVzdWx0cyA9IFtdO1xyXG5cdFx0dGhpcy5lbmRwb2ludCA9ICQoJy5pbnNpZ2h0X19jb250ZW50JykuZGF0YSgnZW5kcG9pbnQnKTtcclxuXHJcbiAgICAgICAgJGZpbHRlci5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSksXHJcblx0XHRcdFx0JGNsb25lID0gJCgnLmRyb3Bkb3duLWNvcHknLCAkdGhpcyksXHJcblx0XHRcdFx0JGRyb3Bkb3duID0gJCgndWwnLCAkdGhpcyksXHJcblx0XHRcdFx0JGJ1dHRvbiA9ICQoJz4gYnV0dG9uJywgJGNsb25lKTtcclxuXHJcblx0XHRcdCR0aGlzLm9uKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHQgICAgICAgIFx0JCgndWwnLCAkZmlsdGVyKS5ub3QoJGRyb3Bkb3duKS5oaWRlKCk7XHJcblx0XHRcdFx0dGhpcy50b2dnbGVEcm9wZG93bigkZHJvcGRvd24pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGxldCAkb3B0aW9uID0gJCgnbGkgYnV0dG9uJywgJGRyb3Bkb3duKTtcclxuXHJcblx0XHRcdCRvcHRpb24ubWFwKChqLCBlbGUpID0+IHtcclxuXHRcdFx0XHRsZXQgJHRoaXMyID0gJChlbGUpO1xyXG5cclxuXHRcdFx0XHQkdGhpczIub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IHZhbHVlID0gJHRoaXMyLnZhbCgpLFxyXG5cdFx0XHRcdFx0XHR0ZXh0ID0gJHRoaXMyLnRleHQoKTtcclxuXHJcblx0XHRcdFx0XHQkYnV0dG9uLnRleHQodGV4dCk7XHJcblx0XHRcdFx0XHQkYnV0dG9uLnZhbCh2YWx1ZSk7XHJcblxyXG5cdFx0XHRcdFx0bGV0IGZpZWxkbmFtZSA9ICQoJ3NlbGVjdCcsICR0aGlzKS5hdHRyKCduYW1lJyk7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5kYXRhW2ZpZWxkbmFtZV0gPSB2YWx1ZTtcclxuXHJcblx0XHRcdFx0XHQkaW5zaWdodENvbnRlbnQuZW1wdHkoKTtcclxuXHRcdFx0XHRcdHRoaXMuZ2V0UmVzdWx0KHRoaXMuZW5kcG9pbnQsIHRoaXMuZGF0YSwgcmVuZGVyUmVzdWx0cyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCh3aW5kb3cpLm9uKCdjbGljaycsICgpID0+IHtcclxuXHQgICAgICAgICQoJ3VsJywgJGZpbHRlcikuaGlkZSgpO1xyXG5cdCAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGxldCByZW5kZXJSZXN1bHRzID0gKHJlc3BvbnNlKSA9PiB7XHJcblx0XHRcdGxldCBpbnNpZ2h0VGVtcGxhdGUgPSAkKCcjZG90SW5zaWdodFRlbXBsYXRlJykuaHRtbCgpLFxyXG5cdFx0XHRcdF9jb250ZW50ID0gJyc7XHJcblxyXG5cdFx0XHRsZXQgX3RoaXMgPSB0aGlzLFxyXG5cdFx0XHQgICAgbG93ZXJMaW1pdCA9ICh0aGlzLmN1cnJwYWdlIC0gMSkgKiB0aGlzLmxvYWRMaW1pdCxcclxuXHRcdFx0ICAgIHVwcGVyTGltaXQgPSB0aGlzLmN1cnJwYWdlICogdGhpcy5sb2FkTGltaXQsXHJcblx0XHRcdCAgICBwYWdlUmVzdWx0cyA9IFtdLFxyXG5cdFx0XHQgICAgaW50ZXJ2YWwgPSAyMDA7XHJcblxyXG5cdFx0XHR0aGlzLnJlc3VsdHMgPSByZXNwb25zZTtcclxuXHJcblx0XHRcdGZvcihsZXQgaSA9IGxvd2VyTGltaXQ7IGkgPCB1cHBlckxpbWl0OyBpKyspIHtcclxuXHRcdFx0ICAgIGlmKHR5cGVvZiBfdGhpcy5yZXN1bHRzW2ldICE9PSAndW5kZWZpbmVkJyl7XHJcblx0XHRcdCAgICAgICAgcGFnZVJlc3VsdHMucHVzaChfdGhpcy5yZXN1bHRzW2ldKTtcclxuXHRcdFx0ICAgIH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGluc2lnaHRDb250ZW50LmFwcGVuZChkb1QudGVtcGxhdGUoaW5zaWdodFRlbXBsYXRlKShwYWdlUmVzdWx0cykpO1xyXG5cclxuXHRcdFx0JCgnLmNhcmQtdGlsZXMnKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEZhZGUgSW5cclxuXHRcdFx0ICovXHJcblx0XHRcdCQoJy5yZXN1bHQnLCB0aGlzLnJlc3VsdHNDb250KS5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdCAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0ICAgIGlmKCR0aGlzLmhhc0NsYXNzKCd2aXNpYmxlJykpIHJldHVybjtcclxuXHJcblx0XHRcdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdCAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcclxuXHJcblx0XHRcdCAgICB9LCBpbnRlcnZhbCk7XHJcblxyXG5cdFx0XHQgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCArIDEwMDtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZih0aGlzLmN1cnJwYWdlID09PSAxKXtcclxuXHRcdFx0XHR0aGlzLmN1cnJwYWdlKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQkKCcuc2hvdy1tb3JlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdCAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0ICAgIHJlbmRlclJlc3VsdHModGhpcy5yZXN1bHRzKTtcclxuXHRcdCAgICB0aGlzLnRvZ2dsZUxvYWRNb3JlKCk7XHJcblx0XHR9KTtcclxuXHJcblxyXG5cclxuXHRcdCRyZXNldC5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuZGF0YSA9IHt9O1xyXG5cdFx0XHR0aGlzLnJlc2V0RmlsdGVycygpO1xyXG5cdFx0XHQkaW5zaWdodENvbnRlbnQuZW1wdHkoKTtcclxuXHRcdFx0dGhpcy5nZXRSZXN1bHQodGhpcy5lbmRwb2ludCwgdGhpcy5kYXRhLCByZW5kZXJSZXN1bHRzKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHJlbmRlciBvbiBsb2FkXHJcblx0XHR0aGlzLmdldFJlc3VsdCh0aGlzLmVuZHBvaW50LCB0aGlzLmRhdGEsIHJlbmRlclJlc3VsdHMpO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlTG9hZE1vcmUoKSB7XHJcblx0ICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG5cdCAgICBpZihfdGhpcy5jdXJycGFnZSAqIF90aGlzLmxvYWRMaW1pdCA8IF90aGlzLnJlc3VsdHMubGVuZ3RoKSB7XHJcblx0ICAgICAgICBfdGhpcy5jdXJycGFnZSsrO1xyXG5cclxuXHQgICAgICAgICQoJy5zaG93LW1vcmUnKS5zaG93KCk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAkKCcuc2hvdy1tb3JlJykuaGlkZSgpO1xyXG5cdCAgICB9XHJcblx0fVxyXG5cclxuXHR0b2dnbGVEcm9wZG93bigkb2JqZWN0KXtcclxuXHRcdCRvYmplY3QudG9nZ2xlKCk7XHJcblx0fVxyXG5cclxuXHRyZXNldEZpbHRlcnMoKSB7XHJcblx0XHQkKCdzZWxlY3QnKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHQkdGhpcy52YWwobnVsbCkuY2hhbmdlKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLiRmaWx0ZXIubWFwKChqLGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgZGVmYXVsdFRleHQgPSAkKCdsaSBidXR0b24nLCAkKGVsZSkpLmZpcnN0KCkudGV4dCgpLFxyXG5cdFx0XHRcdGRlZmF1bHRWYWx1ZSA9ICQoJ2xpIGJ1dHRvbicsICQoZWxlKSkuZmlyc3QoKS52YWwoKTtcclxuXHJcblx0XHRcdCQoJy5kcm9wZG93bi1jb3B5ID4gYnV0dG9uJywgJChlbGUpKS50ZXh0KGRlZmF1bHRUZXh0KTtcclxuXHRcdFx0JCgnLmRyb3Bkb3duLWNvcHkgPiBidXR0b24nLCAkKGVsZSkpLnZhbChkZWZhdWx0VmFsdWUpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBamF4IGNhbGwgdG8gZW5kcG9pbnRcclxuXHQgKi9cclxuXHRnZXRSZXN1bHQodXJsLCBkYXRhLCBjYikge1xyXG5cdFx0dGhpcy5jdXJycGFnZSA9IDE7XHJcblx0ICAgICQuYWpheCh7XHJcblx0ICAgICAgICB1cmwsXHJcblx0ICAgICAgICBkYXRhLFxyXG5cdCAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHQgICAgICAgIGNhY2hlOiBmYWxzZVxyXG5cdCAgICB9KS5kb25lKGNiKTtcclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuLy8gaW1wb3J0IGxpc3RpbmdDYXRlZ29yaWVzIGZyb20gJy4uLy4uL21vbGVjdWxlcy9saXN0aW5nLWNhdGVnb3JpZXMvbGlzdGluZy1jYXRlZ29yaWVzJztcclxuaW1wb3J0IHNvcnRlciBmcm9tICcuLi8uLi9tb2xlY3VsZXMvbGlzdGluZy1zb3J0ZXIvbGlzdGluZy1zb3J0ZXInO1xyXG5pbXBvcnQgbGlzdGluZ1Jlc3VsdHMgZnJvbSAnLi4vLi4vb3JnYW5pc21zL2xpc3RpbmctcmVzdWx0cy9saXN0aW5nLXJlc3VsdHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdGluZ0ZpbHRlcnMge1xyXG4gICAgY29uc3RydWN0b3IodHlwZSwgaXNEZWJ1Zykge1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdsaXN0aW5nLWZpbHRlcnMnO1xyXG4gICAgICAgIHRoaXMuJGxpc3RpbmdTaWRlRmlsdGVycyA9ICQoJy5saXN0aW5nLXNpZGUtZmlsdGVycycpO1xyXG4gICAgICAgIHRoaXMuJGZpbHRlckdyb3VwcyAgICAgICA9ICQoJy5maWx0ZXItZ3JvdXAnICwgdGhpcy4kbGlzdGluZ1NpZGVGaWx0ZXJzKTtcclxuICAgICAgICB0aGlzLnJlc3VsdFZpZXdlciAgICAgICAgPSBuZXcgbGlzdGluZ1Jlc3VsdHMoKTtcclxuXHJcbiAgICAgICAgaWYodHlwZSA9PT0gXCJwcm9kdWN0c1wiICYmICQoJy5wcm9kdWN0LWxpc3RpbmcnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhRW5kcG9pbnQgPSAkKCcubGlzdGluZy1jb250ZW50JykuZGF0YSgnZW5kcG9pbnQnKTtcclxuICAgICAgICAgICAgdGhpcy4kY2F0ZWdvcnlGaWVsZCA9ICQoJyNjYXRlZ29yeUZpZWxkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydGVyID0gbmV3IHNvcnRlcigpO1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwRmlsdGVycygpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RQcm9kdWN0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHR5cGUgPT09IFwiY2FyZWVyc1wiICYmICQoJy5jYXJlZXItbGlzdGluZycpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFFbmRwb2ludCA9ICQoJy5saXN0aW5nLWNvbnRlbnQnKS5kYXRhKCdlbmRwb2ludCcpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmRhdGFFbmRwb2ludCA9IChpc0RlYnVnKSA/ICcvYXNzZXRzL2Z1amkteGVyb3gvYXBpL2NhcmVlci1saXN0aW5nLmpzb24nIDogJy9hcGkvR2V0Q2FyZWVyTGlzdGluZyc7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dXBGaWx0ZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEpvYnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdEpvYnMoKSB7XHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYoIV90aGlzLiRmaWx0ZXJHcm91cHMubGVuZ3RoKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCAkY2xlYXJTZWxlY3Rpb25CdG4gPSAkKCcuY2xlYXItZmlsdGVycy1zZWxlY3Rpb24tYnRuJywgX3RoaXMuJGxpc3RpbmdTaWRlRmlsdGVycyksXHJcbiAgICAgICAgICAgICRmaWx0ZXJGb3JtID0gJCgnLnN1Ym1pdC1idG4nLCBfdGhpcy4kbGlzdGluZ1NpZGVGaWx0ZXJzKS5wYXJlbnRzKCdmb3JtJyk7XHJcblxyXG4gICAgICAgICAvLyBDTGVhciBTZWxlY3Rpb25zXHJcbiAgICAgICAgJGNsZWFyU2VsZWN0aW9uQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAkKCdpbnB1dCcsIF90aGlzLiRsaXN0aW5nU2lkZUZpbHRlcnMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5mZXRjaEpvYnMoJGZpbHRlckZvcm0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdWJtaXQgZmlsdGVyIG9wdGlvbnNcclxuICAgICAgICAkZmlsdGVyRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5mZXRjaEpvYnMoJGZvcm0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICRmaWx0ZXJGb3JtLnRyaWdnZXIoJ3N1Ym1pdCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgIF90aGlzLmZldGNoSm9icyggJCgnLnN1Ym1pdC1idG4nLCBfdGhpcy4kbGlzdGluZ1NpZGVGaWx0ZXJzKS5wYXJlbnRzKCdmb3JtJyksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZldGNoSm9icygkZm9ybSkge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgICAgIGZvcm1EYXRhID0gJGZvcm0uc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgIHJlc3VsdHMsXHJcbiAgICAgICAgICAgIHBhcnNlSm9icyA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXN1bHRWaWV3ZXIuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gZGF0YS5yZXN1bHRzLnNsaWNlKCkuY29uY2F0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVzdWx0Vmlld2VyLnJlbmRlcihyZXN1bHRzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX3RoaXMuZ2V0UmVzdWx0KF90aGlzLmRhdGFFbmRwb2ludCwgcGFyc2VKb2JzLCBmb3JtRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdFByb2R1Y3RzKCkge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmKCFfdGhpcy4kZmlsdGVyR3JvdXBzLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBfdGhpcy5saXN0aW5nQ2F0ZWdvcmllcyA9IG5ldyBsaXN0aW5nQ2F0ZWdvcmllcyhfdGhpcyk7XHJcblxyXG4gICAgICAgIGxldCAkY2xlYXJTZWxlY3Rpb25CdG4gPSAkKCcuY2xlYXItZmlsdGVycy1zZWxlY3Rpb24tYnRuJywgX3RoaXMuJGxpc3RpbmdTaWRlRmlsdGVycyksXHJcbiAgICAgICAgICAgICRmaWx0ZXJGb3JtID0gJCgnLnN1Ym1pdC1idG4nLCBfdGhpcy4kbGlzdGluZ1NpZGVGaWx0ZXJzKS5wYXJlbnRzKCdmb3JtJyk7XHJcblxyXG4gICAgICAgIC8vIENMZWFyIFNlbGVjdGlvbnNcclxuICAgICAgICAkY2xlYXJTZWxlY3Rpb25CdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICQoJ2lucHV0JywgX3RoaXMuJGxpc3RpbmdTaWRlRmlsdGVycykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIF90aGlzLmZldGNoUHJvZHVjdHMoJGZpbHRlckZvcm0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdWJtaXQgZmlsdGVyIG9wdGlvbnNcclxuICAgICAgICAkZmlsdGVyRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5mZXRjaFByb2R1Y3RzKCRmb3JtKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdHJpZ2dlciBzdWJtaXQgb24gY2hlY2tib3ggY2xpY2tcclxuICAgICAgICAkKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICRmaWx0ZXJGb3JtLnRyaWdnZXIoJ3N1Ym1pdCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsZXQgJGZpcnN0Q2hpbGQgPSAkKCdsaScsICcuY2F0ZWdvcmllcy10b2dnbGUnKS5maXJzdCgpLmZpbmQoJ2EnKTtcclxuICAgICAgICBfdGhpcy5mZXRjaFByb2R1Y3RzKCAkKCcuc3VibWl0LWJ0bicsIF90aGlzLiRsaXN0aW5nU2lkZUZpbHRlcnMpLnBhcmVudHMoJ2Zvcm0nKSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIGlmKCRmaXJzdENoaWxkLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHVwIEZpbHRlcnNcclxuICAgICAqL1xyXG4gICAgc2V0dXBGaWx0ZXJzKCkge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIFRvZ2dsZSBmaWx0ZXIgZ3JvdXBzXHJcbiAgICAgICAgX3RoaXMuJGZpbHRlckdyb3Vwcy5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAkZmlsdGVyU3ViZ3JvdXBzID0gJCgnLmZpbHRlci1zdWJncm91cCcsICR0aGlzKSxcclxuICAgICAgICAgICAgICAgICRhZHZhbmNlZEZpbHRlcnMgPSAkKCcuYWR2YW5jZWQtZmlsdGVycycsICR0aGlzKSxcclxuICAgICAgICAgICAgICAgICRhZHZhbmNlZEZpbHRlcnNUb2dnbGUgPSAkKCcuYWR2YW5jZWQtb3B0aW9ucy10b2dnbGUnLCAkdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBUb2dnbGUgYWR2YW5jZWQgZmlsdGVyc1xyXG4gICAgICAgICAgICBpZigkYWR2YW5jZWRGaWx0ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGFkdmFuY2VkRmlsdGVyc1RvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCRhZHZhbmNlZEZpbHRlcnMuY3NzKCdkaXNwbGF5JykgPT09ICdibG9jaycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFkdmFuY2VkRmlsdGVycy5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJy5pY29uJywgJGFkdmFuY2VkRmlsdGVyc1RvZ2dsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5hZGRDbGFzcygnaWNvbi1wbHVzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5yZW1vdmVDbGFzcygnaWNvbi1taW51cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhZHZhbmNlZEZpbHRlcnMuc2xpZGVEb3duKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJy5pY29uJywgJGFkdmFuY2VkRmlsdGVyc1RvZ2dsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5hZGRDbGFzcygnaWNvbi1taW51cycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAucmVtb3ZlQ2xhc3MoJ2ljb24tcGx1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0ZvciBlYWNoIGZpbHRlcnNcclxuICAgICAgICAgICAgJGZpbHRlclN1Ymdyb3Vwcy5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHN1Ymdyb3VwID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAkZmllbGRzID0gJCgnLmZpbHRlci1zdWJncm91cF9fZmllbGRzJywgJHN1Ymdyb3VwKSxcclxuICAgICAgICAgICAgICAgICAgICAkdG9nZ2xlID0gJCgnaDQnLCAkc3ViZ3JvdXApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCRzdWJncm91cC5pbmRleCgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGZpZWxkcy5wYXJlbnQoKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICRmaWVsZHMuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICR0b2dnbGUuYXBwZW5kKCQoJzxpIGNsYXNzID0gXCJpY29uIGljb24tbWludXNcIi8+JykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkdG9nZ2xlLmFwcGVuZCgkKCc8aSBjbGFzcyA9IFwiaWNvbiBpY29uLXBsdXNcIi8+JykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICR0b2dnbGUuYXR0cigndGFiaW5kZXgnLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb2xsYXBzZS9leHBhbmQgdGhlIGZpZWxkc1xyXG4gICAgICAgICAgICAgICAgJHRvZ2dsZS5vbignY2xpY2sga2V5cHJlc3MnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXJzID0gJHRoaXMucGFyZW50KCkucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCRmaWVsZHMuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuZmlsdGVyLXN1Ymdyb3VwX19maWVsZHMnLCAkZmlsdGVycykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmZpbHRlci1zdWJncm91cF9fZmllbGRzJywgJGZpbHRlcnMpLnN0b3AoKS5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJ2g0IC5pY29uJywgJHN1Ymdyb3VwLnBhcmVudCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnJlbW92ZUNsYXNzKCdpY29uLW1pbnVzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5hZGRDbGFzcygnaWNvbi1wbHVzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmllbGRzLnBhcmVudCgpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWVsZHMuc3RvcCgpLnNsaWRlRG93bigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnLmljb24nLCAkdG9nZ2xlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLnJlbW92ZUNsYXNzKCdpY29uLXBsdXMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLmFkZENsYXNzKCdpY29uLW1pbnVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGZpZWxkcy5wYXJlbnQoKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmllbGRzLnN0b3AoKS5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJy5pY29uJywgJHRvZ2dsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5yZW1vdmVDbGFzcygnaWNvbi1taW51cycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAuYWRkQ2xhc3MoJ2ljb24tcGx1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrL3VuY2hlY2sgYWxsIGlucHV0cyBpbiBhIGdyb3VwIHdpdGggc2NvcGUgJ2FsbCdcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsICRmaWVsZHMpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGNiID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJGNiLmRhdGEoJ3Njb3BlJykgPT09ICdhbGwnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkY2Iub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjYlswXS5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgJGZpZWxkcykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLCAkZmllbGRzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2l0Y2ggZmlsdGVyIG1lbnVcclxuICAgICAqL1xyXG4gICAgc3dhcE1lbnUoY2xhc3NuYW1lLCBjYXRlZ29yeVZhbHVlKSB7XHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgX3RoaXMuJGNhdGVnb3J5RmllbGQudmFsKGNhdGVnb3J5VmFsdWUpO1xyXG4gICAgICAgIF90aGlzLiRmaWx0ZXJHcm91cHMuaGlkZSgpO1xyXG5cclxuICAgICAgICAkKGNsYXNzbmFtZSwgX3RoaXMuJGxpc3RpbmdTaWRlRmlsdGVycykuc2hvdygpO1xyXG5cclxuICAgICAgICBfdGhpcy5mZXRjaFByb2R1Y3RzKCAkKCcuc3VibWl0LWJ0bicsIF90aGlzLiRsaXN0aW5nU2lkZUZpbHRlcnMpLnBhcmVudHMoJ2Zvcm0nKSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCBwcm9kdWN0c1xyXG4gICAgICovXHJcbiAgICBmZXRjaFByb2R1Y3RzKCRmb3JtLCBjYXRlZ29yeUNoYW5nZSkge1xyXG4gICAgICAgIGNhdGVnb3J5Q2hhbmdlID0gY2F0ZWdvcnlDaGFuZ2UgfHwgZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgICAgIGZvcm1EYXRhID0gJGZvcm0uc2VyaWFsaXplKCksXHJcbiAgICAgICAgICAgIHJlc3VsdHMsXHJcbiAgICAgICAgICAgIHBhcnNlUHJvZHVjdHMgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVzdWx0Vmlld2VyLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IGRhdGEucmVzdWx0cy5zbGljZSgpLmNvbmNhdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJlY29tbWVuZGVkUHJvZHVjdHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHJlY29tbWVuZGVkIHByb2R1Y3RzJyBpZCBhbmQgdXBkYXRlIHRvIGV4aXN0aW5nIHJlc3VsdCBqc29uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29tbWVuZGVkUHJvZHVjdElkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRlZFByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24ocHJvZHVjdCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb21tZW5kZWRQcm9kdWN0SWRzLnB1c2gocHJvZHVjdC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbihyZXN1bHQsIGluZGV4KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShyZXN1bHQucHJvZHVjdGlkLCByZWNvbW1lbmRlZFByb2R1Y3RJZHMpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFsncmVjb21tZW5kZWQnXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gX3RoaXMucmVzdWx0Vmlld2VyLnJlbmRlcihyZXN1bHRzLCBjYXRlZ29yeUNoYW5nZSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zb3J0ZXIuc2V0UmVzdWx0cyhyZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNvcnRlci5zZXRWaWV3KF90aGlzLnJlc3VsdFZpZXdlcik7XHJcbiAgICAgICAgICAgICAgICAkKCcubGlzdGluZy1jb250ZW50X19zb3J0LXJlc3VsdCBzZWxlY3QnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5nZXRSZXN1bHQoX3RoaXMuZGF0YUVuZHBvaW50LCBwYXJzZVByb2R1Y3RzLCBmb3JtRGF0YSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWpheCBjYWxsIHRvIGVuZHBvaW50XHJcbiAgICAgKi9cclxuICAgIGdldFJlc3VsdChlbmRwb2ludCwgY2IsIGRhdGEpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBlbmRwb2ludCxcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICAgICAgfSkuZG9uZShjYik7XHJcbiAgICB9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IGRvVCBmcm9tICdkb3QnO1xyXG5pbXBvcnQgJ2pxdWVyeS1tYXRjaC1oZWlnaHQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdGluZ1Jlc3VsdHMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lICAgICAgICAgPSAnbGlzdGluZy1yZXN1bHRzJztcclxuICAgICAgICB0aGlzLiRzdGF0dXMgICAgICA9ICQoJy5saXN0aW5nLWNvbnRlbnRfX3Jlc3VsdC1zdGF0dXMnKTtcclxuICAgICAgICB0aGlzLiRsb2FkZXIgICAgICA9ICQoJy5sb2FkZXItYW5pbWF0aW9uJywgdGhpcy4kc3RhdHVzKTtcclxuICAgICAgICB0aGlzLmxvYWRMaW1pdCAgICA9IDEwO1xyXG4gICAgICAgIHRoaXMuY3VycnBhZ2UgICAgID0gMTtcclxuICAgICAgICB0aGlzLnJlc3VsdFVsRWwgICA9ICQoJy5saXN0aW5nLWNvbnRlbnRfX3Jlc3VsdHMnKTtcclxuICAgICAgICB0aGlzLnJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYoJCgnI3Jlc3VsdHMtdGVtcGxhdGUnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0VGVtcEZuID0gZG9ULnRlbXBsYXRlKCQoJyNyZXN1bHRzLXRlbXBsYXRlJykuaHRtbCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvYWQgbW9yZSByZXN1bHRzXHJcbiAgICAgICAgJCgnLmpzLWxvYWQtbW9yZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5wYXJzZVBhZ2UoX3RoaXMuY3VycnBhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy50b2dnbGVMb2FkTW9yZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihyZXN1bHRzLCBjYXRlZ29yeUNoYW5nZSkge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgICAgICRzdGF0dXMgPSBfdGhpcy4kc3RhdHVzO1xyXG5cclxuICAgICAgICBfdGhpcy5yZXN1bHRzID0gcmVzdWx0czsgLy9TZXQgcmVzdWx0IHNldFxyXG5cclxuICAgICAgICBpZihyZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKCFjYXRlZ29yeUNoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnRvdGFsLXJlc3VsdHMnLCAkc3RhdHVzKS50ZXh0KHJlc3VsdHMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICQoJy5zdWNjZXNzLW1zZycsICRzdGF0dXMpLnNsaWRlRG93bigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLnN1Y2Nlc3MtbXNnJywgJHN0YXR1cykuc2xpZGVVcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJy5lcnJvci1tc2cnLCAkc3RhdHVzKS5zbGlkZVVwKCk7XHJcblxyXG4gICAgICAgICAgIF90aGlzLmN1cnJwYWdlID0gMVxyXG5cclxuICAgICAgICAgICBfdGhpcy5wYXJzZVBhZ2UoX3RoaXMuY3VycnBhZ2UpO1xyXG4gICAgICAgICAgIF90aGlzLnRvZ2dsZUxvYWRNb3JlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmVycm9yLW1zZycsICRzdGF0dXMpLnNsaWRlRG93bigpO1xyXG4gICAgICAgICAgICAkKCcudG90YWwtcmVzdWx0cycsICRzdGF0dXMpLnRleHQoMCk7XHJcbiAgICAgICAgICAgICQoJy5zdWNjZXNzLW1zZycsICRzdGF0dXMpLnNsaWRlVXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgbG9hZCBtb3JlIGJ1dHRvbiB2aXNpYmlsaXR5XHJcbiAgICAgKi9cclxuICAgIHRvZ2dsZUxvYWRNb3JlKCkge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmKF90aGlzLmN1cnJwYWdlICogX3RoaXMubG9hZExpbWl0IDwgX3RoaXMucmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY3VycnBhZ2UrKztcclxuXHJcbiAgICAgICAgICAgICQoJy5sb2FkLW1vcmUnKS5zaG93KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmxvYWQtbW9yZScpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VQYWdlKHBhZ2UpIHtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICBsb3dlckxpbWl0ID0gKHBhZ2UgLSAxKSAqIHRoaXMubG9hZExpbWl0LFxyXG4gICAgICAgICAgICB1cHBlckxpbWl0ID0gcGFnZSAqIHRoaXMubG9hZExpbWl0LFxyXG4gICAgICAgICAgICBwYWdlUmVzdWx0cyA9IHtcInJlc3VsdHNcIiA6IFtdfSxcclxuICAgICAgICAgICAgaW50ZXJ2YWwgPSAyMDA7XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IGxvd2VyTGltaXQ7IGkgPCB1cHBlckxpbWl0OyBpKyspIHtcclxuICAgICAgICAgICAgaWYodHlwZW9mIF90aGlzLnJlc3VsdHNbaV0gIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgcGFnZVJlc3VsdHMucmVzdWx0cy5wdXNoKF90aGlzLnJlc3VsdHNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3RoaXMucmVzdWx0VWxFbFxyXG4gICAgICAgICAgICAuYXBwZW5kKF90aGlzLnJlc3VsdFRlbXBGbih7IHJlc3VsdHM6IHBhZ2VSZXN1bHRzLnJlc3VsdHMgfSkpO1xyXG5cclxuICAgICAgICAkKCcubGlzdGluZy1jb250ZW50X19yZXN1bHRzID4gbGknKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGYWRlIEluXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJCgnbGknLCBfdGhpcy5yZXN1bHRVbEVsKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBpZigkdGhpcy5oYXNDbGFzcygndmlzaWJsZScpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygndmlzaWJsZScpO1xyXG5cclxuICAgICAgICAgICAgfSwgaW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICAgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCArIDI1O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMucmVzdWx0VWxFbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuJGxvYWRlci5jc3MoeydkaXNwbGF5JzogJyd9KTtcclxuICAgIH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgZG9UIGZyb20gJ2RvdCc7XHJcbmltcG9ydCBqc29uUXVlcnkgZnJvbSAnanNvbi1xdWVyeSc7XHJcbmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7XHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBwZXIge1xyXG4gICAgLy8gY29uc3RydWN0b3IodHlwZSwgaXNEZWJ1Zykge1xyXG4gICAgY29uc3RydWN0b3IodHlwZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdtYXBwZXInO1xyXG5cclxuICAgICAgICBpZigkKCcjcmVzdWx0cy10ZW1wbGF0ZScpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdFRlbXBGbiA9IGRvVC50ZW1wbGF0ZSgkKCcjcmVzdWx0cy10ZW1wbGF0ZScpLmh0bWwoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZih0eXBlID09PSAnc29sdXRpb24nKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMub3B0aW9uVGVtcEZuID0gZG9ULnRlbXBsYXRlKFwie3t+aXQuZGF0YSA6dmFsdWU6aW5kZXh9fTxvcHRpb24gdmFsdWU9IFxcXCJ7ez12YWx1ZS5pZH19XFxcIj57ez12YWx1ZS5uYW1lfX08L29wdGlvbj57e359fVwiKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5tYXBTb2x1dGlvbigpO1xyXG5cclxuICAgICAgICAvLyB9IGVsc2UgaWYodHlwZSA9PT0gJ3N0b3J5Jykge1xyXG4gICAgICAgIGlmKHR5cGUgPT09ICdzdG9yeScpIHtcclxuICAgICAgICAgICAgdGhpcy4kbG9hZE1vcmVDb250ID0gJCgnLmpzLWxvYWQtbW9yZScpO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBcImNvdW50cnlcIiAgOiAkKCcjY291bnRyeUZpbHRlcicpLFxyXG4gICAgICAgICAgICAgICAgXCJzb2x1dGlvblwiIDogJCgnI3NvbHV0aW9uRmlsdGVyJyksXHJcbiAgICAgICAgICAgICAgICBcInByb2R1Y3RcIiAgOiAkKCcjcHJvZHVjdEZpbHRlcicpLFxyXG4gICAgICAgICAgICAgICAgXCJpbmR1c3RyeVwiIDogJCgnI2luZHVzdHJ5RmlsdGVyJyksXHJcbiAgICAgICAgICAgICAgICBcInllYXJcIiAgICAgOiAkKCcjeWVhckZpbHRlcicpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuY29va2llTmFtZSA9IFwic3RvcnlGaWx0ZXJcIjtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbmRwb2ludCA9IChpc0RlYnVnKSA/ICcvYXNzZXRzL2Z1amkteGVyb3gvYXBpL3N0b3J5LXJlc3VsdHMuanNvbicgOiAnL2FwaS9HZXRTdG9yeUxpc3RpbmcnO1xyXG4gICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gJCgnLnN1Y2Nlc3Mtc3Rvcmllcy1tYXBwZXJfX3Jlc3VsdHMnKS5kYXRhKCdlbmRwb2ludCcpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gJCgnLnN1Y2Nlc3Mtc3Rvcmllcy1tYXBwZXJfX3Jlc3VsdHMnKS5kYXRhKCdwYWdlc2l6ZScpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcHBlciA9ICQoJy5zdWNjZXNzLXN0b3JpZXMtbWFwcGVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0c0NvbnQgPSAkKCcuc3VjY2Vzcy1zdG9yaWVzLW1hcHBlcl9fcmVzdWx0cycsIHRoaXMubWFwcGVyKTtcclxuICAgICAgICAgICAgdGhpcy5ub1Jlc3VsdHMgPSAkKCcubGlzdGluZy1jb250ZW50X19yZXN1bHQtc3RhdHVzIC5tc2cnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFwU3RvcnkoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCAkY29weSA9ICQoJy5kcm9wZG93bi1jb3B5JywgdGhpcy5tYXBwZXIpO1xyXG5cclxuICAgICAgICAgICAgJGNvcHkubWFwKChpLCBlbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQoZWxlKSxcclxuICAgICAgICAgICAgICAgICAgICAkc2VsZWN0ID0gJHRoaXMubmV4dCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICRidXR0b24gPSAkdGhpcy5maW5kKCdidXR0b24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0Lm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcuZHJvcGRvd24tY29weScpLm5vdCgkdGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNlbGVjdC5vbignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCAkb3B0aW9uID0gJHNlbGVjdC5maW5kKCc6c2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNlbGVjdC5wcmV2KCkuZmluZCgnYnV0dG9uJykudGV4dCgkb3B0aW9uLnRleHQoKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZih0eXBlID09PSAnZXZlbnQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGxvYWRNb3JlQ29udCA9ICQoJy5qcy1sb2FkLW1vcmUnKTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgXCJjb3VudHJ5XCIgIDogJCgnI2NvdW50cnlGaWx0ZXInKSxcclxuICAgICAgICAgICAgICAgIFwiaW5kdXN0cnlcIiA6ICQoJyNpbmR1c3RyeUZpbHRlcicpLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCIgICAgIDogJCgnI3llYXJGaWx0ZXInKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIiAgICA6ICQoJyNtb250aEZpbHRlcicpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuY29va2llTmFtZSA9IFwiZXZlbnRGaWx0ZXJcIjtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbmRwb2ludCA9IChpc0RlYnVnKSA/ICcvYXNzZXRzL2Z1amkteGVyb3gvYXBpL2V2ZW50LXJlc3VsdHMuanNvbicgOiAnL2FwaS9HZXRFdmVudHNMaXN0aW5nJztcclxuICAgICAgICAgICAgdGhpcy5lbmRwb2ludCA9ICQoJy5ldmVudC1tYXBwZXJfX3Jlc3VsdHMnKS5kYXRhKCdlbmRwb2ludCcpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gJCgnLmV2ZW50LW1hcHBlcl9fcmVzdWx0cycpLmRhdGEoJ3BhZ2VzaXplJyk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwcGVyID0gJCgnLmV2ZW50LW1hcHBlcicpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNDb250ID0gJCgnLmV2ZW50LW1hcHBlcl9fcmVzdWx0cycsIHRoaXMubWFwcGVyKTtcclxuICAgICAgICAgICAgdGhpcy5ub1Jlc3VsdHMgPSAkKCcucmVzdWx0LXN0YXR1cyAubXNnJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hcFN0b3J5KCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgJGNvcHkgPSAkKCcuZHJvcGRvd24tY29weScsIHRoaXMubWFwcGVyKTtcclxuXHJcbiAgICAgICAgICAgICRjb3B5Lm1hcCgoaSwgZWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgJHRoaXMgPSAkKGVsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgJHNlbGVjdCA9ICR0aGlzLm5leHQoKSxcclxuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJHRoaXMuZmluZCgnYnV0dG9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNlbGVjdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmRyb3Bkb3duLWNvcHknKS5ub3QoJHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzZWxlY3Qub24oJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJG9wdGlvbiA9ICRzZWxlY3QuZmluZCgnOnNlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzZWxlY3QucHJldigpLmZpbmQoJ2J1dHRvbicpLnRleHQoJG9wdGlvbi50ZXh0KCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtYXBTdG9yeSgpIHtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICAkbWFwcGVyID10aGlzLm1hcHBlcjtcclxuXHJcbiAgICAgICAgLy8gX3RoaXMuc3RhcnRJbmRleCA9IDE7XHJcbiAgICAgICAgX3RoaXMucGFnZU5vID0gMTtcclxuICAgICAgICBfdGhpcy5wYWdlU2l6ZSA9IHRoaXMucGFnZVNpemU7XHJcblxyXG4gICAgICAgIGlmKCEkbWFwcGVyLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0RW5kcG9pbnQgPSBfdGhpcy5lbmRwb2ludCxcclxuICAgICAgICAgICAgZmlsdGVycyA9IF90aGlzLmZpbHRlcnMsXHJcbiAgICAgICAgICAgICRtYXBwZXJSZXN1bHRzID0gX3RoaXMucmVzdWx0c0NvbnQ7XHJcblxyXG4gICAgICAgIF90aGlzLiRjbGVhckZpbHRlckJ0biA9ICQoJy5idG4tcmVzZXQnLCAkbWFwcGVyKTtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgQnV0dG9uXHJcbiAgICAgICAgX3RoaXMuJGNsZWFyRmlsdGVyQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBmaWx0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgJGZpbHRlciA9IGZpbHRlcnNba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAkZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLnZhbCgkKCdvcHRpb246Zmlyc3QtY2hpbGQnLCBmaWx0ZXJzKS52YWwoKSlcclxuICAgICAgICAgICAgICAgICAgICAucHJldigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2J1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoJCgnb3B0aW9uOnNlbGVjdGVkJywgJGZpbHRlcikudGV4dCgpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2xlYXJWaWV3KCk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5wYWdlTm8gPSAxO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMuZ2V0UmVzdWx0KHJlc3VsdEVuZHBvaW50LCBwYXJzZVJlc3VsdHMsIGdldERhdGEoKSwgX3RoaXMucGFnZU5vLCBfdGhpcy5wYWdlU2l6ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExvYWQgbW9yZSBidXR0b25cclxuICAgICAgICAkKCcuanMtbG9hZC1tb3JlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIF90aGlzLnBhZ2VObysrO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBnZXREYXRhKGUpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMuZ2V0UmVzdWx0KHJlc3VsdEVuZHBvaW50LCBwYXJzZVJlc3VsdHMsIGdldERhdGEoZSksIF90aGlzLnBhZ2VObywgX3RoaXMucGFnZVNpemUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gU2V0dXAgZmlsdGVyc1xyXG4gICAgICAgIGZvcih2YXIga2V5IGluIGZpbHRlcnMpIHtcclxuICAgICAgICAgICAgbGV0ICRmaWx0ZXIgPSBmaWx0ZXJzW2tleV07XHJcblxyXG4gICAgICAgICAgICAkZmlsdGVyLm9uKCdjaGFuZ2UuZmlsdGVyJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9ICQoJ29wdGlvbjpzZWxlY3RlZCcsICRmaWx0ZXIpLmF0dHIoJ3ZhbHVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xlYXJWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlTm8gPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlICE9PSBcIlwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KCBfdGhpcy5jb29raWVOYW1lLCBKU09OLnN0cmluZ2lmeShnZXREYXRhKCkpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRSZXN1bHQocmVzdWx0RW5kcG9pbnQsIHBhcnNlUmVzdWx0cywgZ2V0RGF0YSgpLCBfdGhpcy5wYWdlTm8sIF90aGlzLnBhZ2VTaXplKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUHJvY2VzcyByZXN1bHRzXHJcbiAgICAgICAgbGV0IHBhcnNlUmVzdWx0cyA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBldmFsU3RyID0gX3RoaXMucmVzdWx0VGVtcEZuKHsgc25pcHBldHM6IGRhdGEucmVzdWx0cyB9KSxcclxuICAgICAgICAgICAgICAgIGludGVydmFsID0gMjAwO1xyXG5cclxuICAgICAgICAgICAgJG1hcHBlclJlc3VsdHMuY2hpbGRyZW4oJ2RpdjpmaXJzdC1jaGlsZCcpLmFwcGVuZCgkKGV2YWxTdHIpKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEucmVzdWx0cy5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ub1Jlc3VsdHMuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9hZE1vcmVDb250LmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm5vUmVzdWx0cy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2FkTW9yZUNvbnQuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBfdGhpcy5zdGFydEluZGV4ID0gZGF0YS5lbmRJbmRleCArIDE7XHJcbiAgICAgICAgICAgIC8vIF90aGlzLnBhZ2UgPSBkYXRhLnBhZ2U7XHJcblxyXG4gICAgICAgICAgICAvLyBfdGhpcy50b2dnbGVMb2FkTW9yZShkYXRhLmNvdW50LCBkYXRhLmVuZEluZGV4KTtcclxuICAgICAgICAgICAgX3RoaXMudG9nZ2xlTG9hZE1vcmUoX3RoaXMucGFnZU5vLCBkYXRhLnRvdGFsUGFnZSk7XHJcblxyXG4gICAgICAgICAgICAkKCcuY2FyZC10aWxlcycpLm1hdGNoSGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRmFkZSBJblxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgJCgnLnJlc3VsdCcsIHRoaXMucmVzdWx0c0NvbnQpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoJHRoaXMuaGFzQ2xhc3MoJ3Zpc2libGUnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygndmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICQoJy50aHVtYm5haWwnLCAkdGhpcykuc3dhcEltYWdlKHticmVha3BvaW50OiA3NjgsIHJldmVyc2U6IHRydWV9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCArIDUwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBHZXQgRmlsdGVyIERhdGFcclxuICAgICAgICBsZXQgZ2V0RGF0YSA9IChleGNsdWRlSW5kZXgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIC8vRXhjbHVkZSBmb3IgY29va2llXHJcbiAgICAgICAgICAgIC8vIGlmKGV4Y2x1ZGVJbmRleCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZGF0YS5zdGFydEluZGV4ID0gX3RoaXMuc3RhcnRJbmRleFxyXG4gICAgICAgICAgICAvLyAgICAgZGF0YS5wYWdlID0gX3RoaXMucGFnZTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZmlsdGVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0ICRmaWx0ZXIgPSBmaWx0ZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSAkKCdvcHRpb246c2VsZWN0ZWQnLCAkZmlsdGVyKS5hdHRyKCd2YWx1ZScpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENsZWFyIGxpc3RcclxuICAgICAgICBsZXQgY2xlYXJWaWV3ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBDb29raWVzLnJlbW92ZShfdGhpcy5jb29raWVOYW1lKTtcclxuICAgICAgICAgICAgJG1hcHBlclJlc3VsdHMuY2hpbGRyZW4oJ2RpdjpmaXJzdC1jaGlsZCcpLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIC8vIF90aGlzLnN0YXJ0SW5kZXggPSAxO1xyXG4gICAgICAgICAgICBfdGhpcy5wYWdlID0gMTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBQYXJzZSBDb29raWVzIGRhdGFcclxuICAgICAgICBsZXQgcGFyc2VDb29raWVzID0gKG9iaikgPT4ge1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgIGxldCAkZmlsdGVyID0gZmlsdGVyc1trZXldLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkID0gb2JqW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGlkICE9PSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YWwoaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wcmV2KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2J1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCQoJ29wdGlvbjpzZWxlY3RlZCcsICRmaWx0ZXIpLnRleHQoKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEJvb3RzdHJhcCBmdW5jdGlvblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGNvb2tpZSA9IENvb2tpZXMuZ2V0KF90aGlzLmNvb2tpZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIGNvb2tpZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlQ29va2llcyhKU09OLnBhcnNlKGNvb2tpZSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5nZXRSZXN1bHQocmVzdWx0RW5kcG9pbnQsIHBhcnNlUmVzdWx0cywgZ2V0RGF0YSgpLCBfdGhpcy5wYWdlTm8sIF90aGlzLnBhZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgTG9hZG1vcmVcclxuICAgICAqL1xyXG4gICAgdG9nZ2xlTG9hZE1vcmUocGFnZUNvdW50LCB0b3RhbFBhZ2UpIHtcclxuXHJcbiAgICAgICAgaWYocGFnZUNvdW50ID4gdG90YWxQYWdlIC0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuJGxvYWRNb3JlQ29udC5oaWRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kbG9hZE1vcmVDb250LnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBamF4IGNhbGwgdG8gZW5kcG9pbnRcclxuICAgICAqL1xyXG4gICAgZ2V0UmVzdWx0KGVuZHBvaW50LCBjYiwgZGF0YSwgcGFnZSwgcGFnZVNpemUpIHtcclxuICAgICAgICBsZXQgcG9zdERhdGEgPSB7XHJcbiAgICAgICAgICAgIHBhZ2UsXHJcbiAgICAgICAgICAgIHBhZ2VTaXplXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJC5leHRlbmQocG9zdERhdGEsIGRhdGEpO1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IGVuZHBvaW50LFxyXG4gICAgICAgICAgICBkYXRhOiBwb3N0RGF0YSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICAgICAgfSkuZG9uZShjYik7XHJcbiAgICB9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdtb2RhbCc7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJyVzIG1vZHVsZScsIHRoaXMubmFtZSk7XHJcblxyXG4gICAgICAgIGxldCAkbW9kYWxzICAgPSAkKCcubW9kYWwnKSxcclxuICAgICAgICAgICAgJGh0bWwgICAgID0gJCgnaHRtbCcpLFxyXG4gICAgICAgICAgICAvLyAkZml4ZWRFbGUgPSAkKCcuc2lkZS1tZW51LCAucXVpY2stbGlua3MnKSxcclxuICAgICAgICAgICAgJHdpbiAgICAgID0gJCh3aW5kb3cpLFxyXG4gICAgICAgICAgICByZXNpemVUaW1lb3V0O1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEZpbmQgYWxsIG1vZGFsIG1hcmt1cFxyXG4gICAgICAgICAqIGFuZCBhcHBlbmQgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQgaWYgbm90IGFscmVhZHkgYSBkaXJlY3QgY2hpbGQgb2YgJ2JvZHknXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJCgnLm1vZGFsJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgaWYoISR0aGlzLnBhcmVudCgpLmlzKCdib2R5JykpIHtcclxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoISRtb2RhbHMubGVuZ3RoKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAkbW9kYWxzLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkbW9kYWwgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICRjbG9zZUJ0biA9ICQoJy5tb2RhbC1jbG9zZS1idXR0b24gYScsICRtb2RhbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGNsb3NlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJG1vZGFsLmZhZGVPdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIC8vICRodG1sLnJlbW92ZUNsYXNzKCdmYW5jeWJveC1tYXJnaW4gZmFuY3lib3gtbG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8gJGZpeGVkRWxlLnJlbW92ZUNsYXNzKCdmYW5jeWJveC1tYXJnaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVzaXplVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJCgnLnNpdGUtaGVhZGVyJykuY3NzKCdwb3NpdGlvbicsICdmaXhlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoeydvdmVyZmxvdyc6ICcnfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkd2luLm9uKCdyZXNpemUubW9kYWxib3ggc2Nyb2xsLm1vZGFsYm94JywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgICAgICA9ICAkd2luLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0ID0gJHdpbi5pbm5lckhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICRtb2RhbHMuY3NzKHsgJ3RvcCc6IHNjcm9sbFRvcCwgJ2hlaWdodCc6IHZpZXdwb3J0SGVpZ2h0IH0pO1xyXG5cclxuICAgICAgICAgICAgfSkudHJpZ2dlcigncmVzaXplLm1vZGFsYm94Jyk7XHJcbiAgICAgICAgfSgpKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTW9kYWwgQm94IFRyaWdnZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5tb2RhbGJveCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgJGxpbmsgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgJHRhcmdldCA9ICQoJGxpbmsuYXR0cignaHJlZicpKSxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RpZCA9ICRsaW5rLmRhdGEoJ3Byb2R1Y3RpZCcpLFxyXG4gICAgICAgICAgICAgICAgaWZyYW1lVVJMID0gJGxpbmsuZGF0YSgnaWZyYW1lJyk7XHJcblxyXG4gICAgICAgICAgICAvLyAkaHRtbC5hZGRDbGFzcygnZmFuY3lib3gtbWFyZ2luIGZhbmN5Ym94LWxvY2snKTtcclxuICAgICAgICAgICAgLy8gJC5lYWNoKCRmaXhlZEVsZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoJCh0aGlzKS5jc3MoJ3Bvc2l0aW9uJykgPT0gJ2ZpeGVkJykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZhbmN5Ym94LW1hcmdpbicpO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gJCgnLnNpdGUtaGVhZGVyJykuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCdib2R5JykuY3NzKHsnb3ZlcmZsb3cnOiAnaGlkZGVuJ30pO1xyXG4gICAgICAgICAgICAkd2luLnRyaWdnZXIoJ3Jlc2l6ZS5tb2RhbGJveCcpO1xyXG4gICAgICAgICAgICAkdGFyZ2V0LmZhZGVJbigpO1xyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIHByb2R1Y3RpZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICQoJyNwcm9kdWN0SWQnKS52YWwocHJvZHVjdGlkKTtcclxuICAgICAgICAgICAgICAgICQoJyNwcm9kdWN0RmllbGQnKS52YWwoJCgnLnByb2R1Y3QtbmFtZScsICRsaW5rLmNsb3Nlc3QoJy5kZXNjJykpLnRleHQoKSk7XHJcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LmZpbmQoJy5tb2RhbC1mb3JtJykuaHRtbCgnPGlmcmFtZSBzcmM9XCInICsgaWZyYW1lVVJMICsgJ1wiIC8+Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCdpZnJhbWUnKS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVzaXplVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlmcmFtZSA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpSGVpZ2h0ID0gJCh0aGlzLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAoJCh0aGlzLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkgKyAzNykgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoZXJlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZVRpbWVvdXQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkgIT0gb3JpSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gKCQoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkgKyAzNykgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZXNpemVUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjcHJvZHVjdElkJykudmFsKCd1bmRlZmluZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBlbnF1aXJlIGZyb20gJ2VucXVpcmUuanMnO1xyXG5pbXBvcnQgZG9UIGZyb20gJ2RvdCc7XHJcbmltcG9ydCAnanF1ZXJ5LW1hdGNoLWhlaWdodCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXdzcm9vbVdyYXBwZXIge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5uYW1lID0gJ25ld3Nyb29tJztcclxuXHRcdC8vIGNvbnNvbGUubG9nKCclcyBtb2R1bGUnLCB0aGlzLm5hbWUpO1xyXG5cclxuXHRcdGxldCAkbmV3c3Jvb20gPSAkKCcubmV3c3Jvb20nKSxcclxuXHRcdCAgICAkbmV3c0xpc3RpbmcgPSAkKCcubmV3c3Jvb20tbGlzdGluZycsICRuZXdzcm9vbSksXHJcblx0XHQgICAgLy8gY29ycG9yYXRlTmV3c1VSTCA9ICRuZXdzTGlzdGluZy5kYXRhKCdjb3Jwb3JhdGUnKSxcclxuXHRcdCAgICAvLyBzdGFuZGFyZE5ld3NVUkwgPSAkbmV3c0xpc3RpbmcuZGF0YSgnc3RhbmRhcmQnKTtcclxuXHRcdCAgICBjb3Jwb3JhdGVOZXdzVVJMID0gJy9hcGkvZ2V0TmV3c0J5Q2F0ZWdvcnknLFxyXG5cdFx0ICAgIHN0YW5kYXJkTmV3c1VSTCA9ICcvYXBpL2dldE5ld3NCeUNhdGVnb3J5JztcclxuXHJcblx0XHRlbnF1aXJlLnJlZ2lzdGVyKFwic2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweClcIiwge1xyXG5cdFx0ICAgIG1hdGNoOiBmdW5jdGlvbigpe1xyXG5cdFx0ICAgICAgICAkKCcubmV3c3Jvb20tZmVhdHVyZWQnKS5hcHBlbmQoICQoJy5wYW5lbC1ibG9nJykpO1xyXG5cdFx0ICAgIH0sXHJcblxyXG5cdFx0ICAgIHVubWF0Y2g6IGZ1bmN0aW9uKCl7XHJcblx0XHQgICAgICAgICQoJy5uZXdzcm9vbS1mZWF0dXJlZCAuY29sdW1uLXJvdzpudGgtY2hpbGQoMiknKS5wcmVwZW5kKCAkKCcucGFuZWwtYmxvZycpKTtcclxuXHRcdCAgICB9XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPbiBwYWdlIGxvYWRcclxuXHRcdCAqL1xyXG5cdCAgICB2YXIgJGNvcnBvcmF0ZU5ld3MgICAgPSAkKCcuY29ycG9yYXRlLW5ld3MnLCAkbmV3c0xpc3RpbmcpLFxyXG5cdCAgICAgICAgJHN0YW5kYXJkTmV3cyAgICAgPSAkKCcuc3RhbmRhcmQtbmV3cycsICRuZXdzTGlzdGluZyksXHJcblx0ICAgICAgICAkeWVhckZpbHRlciAgICAgICA9ICQoJy5uZXdzcm9vbS1saXN0aW5nX19zb3J0LXJlc3VsdCBzZWxlY3QnLCAkbmV3c0xpc3RpbmcpLFxyXG5cdCAgICAgICAgY29ycG9yYXRlTmV3c1BhZ2UgPSAxLFxyXG5cdCAgICAgICAgc3RhbmRhcmROZXdzUGFnZSAgPSAxLFxyXG5cdCAgICAgICAgY29ycG9yYXRlRW5kICAgICAgPSBmYWxzZSxcclxuXHQgICAgICAgIHN0YW5kYXJkRW5kICAgICAgID0gZmFsc2UsXHJcblx0ICAgICAgICBzb3VyY2UgICAgICAgICAgICA9ICQoJyNyZXN1bHRzLXRlbXBsYXRlJykuaHRtbCgpLFxyXG5cdCAgICAgICAgdGVtcGxhdGUgICAgICAgICAgPSBkb1QudGVtcGxhdGUoc291cmNlKTtcclxuXHJcbiAgICAgICAgJCgnLm5vLXJlc3VsdCcpLmNzcyh7J2Rpc3BsYXknOiAnbm9uZSd9KTtcclxuICAgICAgICBsb2FkTmV3cygnc3RhbmRhcmQnLCBzdGFuZGFyZE5ld3NVUkwsICRzdGFuZGFyZE5ld3MsIHN0YW5kYXJkTmV3c1BhZ2UpO1xyXG4gICAgICAgIGxvYWROZXdzKCdjb3Jwb3JhdGUnLCBjb3Jwb3JhdGVOZXdzVVJMLCAkY29ycG9yYXRlTmV3cywgY29ycG9yYXRlTmV3c1BhZ2UpO1xyXG5cclxuICAgICAgICAkKCcubmV3c3Jvb20tZmVhdHVyZWRfX2Jsb2NrIC5kZXNjLCAubmV3c3Jvb20tZmVhdHVyZWRfX2Rvd25sb2FkLWJsb2NrIC5kZXNjJykubWF0Y2hIZWlnaHQoKTtcclxuICAgICAgICAkKCcubmV3c3Jvb20tZmVhdHVyZWQgPiAuY29sLXNtLTcsIC5uZXdzcm9vbS1mZWF0dXJlZCA+IC5jb2wtc20tNScpLm1hdGNoSGVpZ2h0KCk7XHJcbiAgICAgICAgJCgnLm5ld3Nyb29tLWZlYXR1cmVkX19ibG9jayAuZGVzYywgLm5ld3Nyb29tLWZlYXR1cmVkX19kb3dubG9hZC1ibG9jayAuZGVzYycpLm1hdGNoSGVpZ2h0Ll9hZnRlclVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcubmV3c3Jvb20tZmVhdHVyZWQgPiAuY29sLXNtLTcsIC5uZXdzcm9vbS1mZWF0dXJlZCA+IC5jb2wtc20tNScpLm1hdGNoSGVpZ2h0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBsb2FkIG1vcmUgc3RhbmRhcmQgbmV3c1xyXG5cdCAgICAgKi9cclxuXHQgICAgJCgnLmpzLWxvYWQtbW9yZScsICRzdGFuZGFyZE5ld3MpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0ICAgICAgICBsb2FkTmV3cygnc3RhbmRhcmQnLCBzdGFuZGFyZE5ld3NVUkwsICRzdGFuZGFyZE5ld3MsIHN0YW5kYXJkTmV3c1BhZ2UpO1xyXG5cclxuXHQgICAgICAgICQodGhpcykuYmx1cigpO1xyXG5cdCAgICB9KTtcclxuXHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBsb2FkIG1vcmUgY29ycG9yYXRlIG5ld3NcclxuXHQgICAgICovXHJcblx0ICAgICQoJy5qcy1sb2FkLW1vcmUnLCAkY29ycG9yYXRlTmV3cykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG5cdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHQgICAgICAgIGxvYWROZXdzKCdjb3Jwb3JhdGUnLCBjb3Jwb3JhdGVOZXdzVVJMLCAkY29ycG9yYXRlTmV3cywgY29ycG9yYXRlTmV3c1BhZ2UpO1xyXG5cclxuXHQgICAgICAgICQodGhpcykuYmx1cigpO1xyXG5cdCAgICB9KTtcclxuXHJcblxyXG5cdCAgICAvKipcclxuXHQgICAgICogTG9hZCBhbGwgbmV3cyBzZWN0aW9uc1xyXG5cdCAgICAgKi9cclxuXHQgICAgJCgnLmpzLWxvYWQtYWxsJywgJG5ld3Nyb29tKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0ICAgICAgICBsb2FkTmV3cygnc3RhbmRhcmQnLCBzdGFuZGFyZE5ld3NVUkwsICRzdGFuZGFyZE5ld3MsIHN0YW5kYXJkTmV3c1BhZ2UpO1xyXG5cdCAgICAgICAgbG9hZE5ld3MoJ2NvcnBvcmF0ZScsIGNvcnBvcmF0ZU5ld3NVUkwsICRjb3Jwb3JhdGVOZXdzLCBjb3Jwb3JhdGVOZXdzUGFnZSk7XHJcblxyXG5cdCAgICAgICAgJCh0aGlzKS5ibHVyKCk7XHJcblx0ICAgIH0pO1xyXG5cclxuXHQgICAgbGV0ICRzb3J0ZXIgPSAkKCcubmV3c3Jvb20tbGlzdGluZ19fc29ydC1yZXN1bHQnKSxcclxuXHQgICAgICAgICRzb3J0U2VsZWN0ID0gJCgnLm5ld3Nyb29tLWxpc3RpbmdfX3NvcnQtcmVzdWx0IHNlbGVjdCcpO1xyXG5cclxuXHQgICAgJHNvcnRlci5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdCAgICAgICAgbGV0ICR0aGlzID0gJChlbGUpLFxyXG5cdCAgICAgICAgICAgICRjbG9uZSA9ICQoJy5kcm9wZG93bi1jb3B5JywgJHRoaXMpLFxyXG5cdCAgICAgICAgICAgICRkcm9wZG93biA9ICQoJ3VsJywgJHRoaXMpLFxyXG5cdCAgICAgICAgICAgICRidXR0b24gPSAkKCc+IGJ1dHRvbicsICRjbG9uZSk7XHJcblxyXG5cdCAgICAgICAgJGJ1dHRvbi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cdCAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0ICAgICAgICAgICAgJGRyb3Bkb3duLnRvZ2dsZSgpO1xyXG5cdCAgICAgICAgfSk7XHJcblxyXG5cdCAgICAgICAgbGV0ICRvcHRpb24gPSAkKCdsaSBidXR0b24nLCAkZHJvcGRvd24pO1xyXG5cclxuXHQgICAgICAgICRvcHRpb24ubWFwKChqLCBlbGUpID0+IHtcclxuXHQgICAgICAgICAgICBsZXQgJHRoaXMyID0gJChlbGUpO1xyXG5cclxuXHQgICAgICAgICAgICAkdGhpczIub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdCAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSAkdGhpczIudmFsKCksXHJcblx0ICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gJHRoaXMyLnRleHQoKTtcclxuXHJcblx0ICAgICAgICAgICAgICAgICRidXR0b24udGV4dCh0ZXh0KTtcclxuXHQgICAgICAgICAgICAgICAgJGJ1dHRvbi52YWwodmFsdWUpO1xyXG5cdCAgICAgICAgICAgICAgICAkKCdzZWxlY3QnLCAkdGhpcykudmFsKHZhbHVlKTtcclxuXHQgICAgICAgICAgICAgICAgJHNvcnRTZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfSk7XHJcblxyXG5cdCAgICAkKHdpbmRvdykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdCAgICAgICAgJCgndWwnLCAkc29ydGVyKS5oaWRlKCk7XHJcblx0ICAgIH0pO1xyXG5cclxuXHQgICAgLyoqXHJcblx0ICAgICAqIE9uIHllYXIgYXJjaGl2ZSBmaWx0ZXJcclxuXHQgICAgICovXHJcblx0ICAgICAkeWVhckZpbHRlci5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuXHQgICAgICAgICQoJy5uZXdzLXJlc3VsdHMnLCAkc3RhbmRhcmROZXdzKS5lbXB0eSgpO1xyXG5cdCAgICAgICAgJCgnLm5ld3MtcmVzdWx0cycsICRjb3Jwb3JhdGVOZXdzKS5lbXB0eSgpO1xyXG5cclxuXHQgICAgICAgIGNvcnBvcmF0ZU5ld3NQYWdlID0gMTtcclxuXHQgICAgICAgIHN0YW5kYXJkTmV3c1BhZ2UgID0gMTtcclxuXHJcblx0ICAgICAgICBsb2FkTmV3cygnc3RhbmRhcmQnLCBzdGFuZGFyZE5ld3NVUkwsICRzdGFuZGFyZE5ld3MsIHN0YW5kYXJkTmV3c1BhZ2UpO1xyXG5cdCAgICAgICAgbG9hZE5ld3MoJ2NvcnBvcmF0ZScsIGNvcnBvcmF0ZU5ld3NVUkwsICRjb3Jwb3JhdGVOZXdzLCBjb3Jwb3JhdGVOZXdzUGFnZSk7XHJcblx0ICAgIH0pO1xyXG5cclxuXHQgICAgZnVuY3Rpb24gbG9hZE5ld3ModHlwZSwgdXJsLCAkbmV3c09iaiwgcGFnZU51bSkge1xyXG5cclxuXHQgICAgICAgIHZhciAkYnRuID0gJCgnLmpzLWxvYWQtbW9yZScsICRuZXdzT2JqKTtcclxuXHJcblx0ICAgICAgICAkKCcubG9hZGVyLWFuaW1hdGlvbicsICRuZXdzT2JqKS5jc3MoeydkaXNwbGF5JzogJ2lubGluZS1ibG9jayd9KTtcclxuXHQgICAgICAgICQuYWpheCh7XHJcblx0ICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgZGF0YTogeydjYXRlZ29yeSc6ICRuZXdzT2JqLmRhdGEoJ2NhdGVnb3J5JyksICdwYWdlJzogcGFnZU51bSwgJ3llYXInOiAkeWVhckZpbHRlci52YWwoKX0sXHJcblx0ICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHQgICAgICAgICAgICBjYWNoZTogZmFsc2VcclxuXHQgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xyXG5cdCAgICAgICAgICAgIHZhciBwYWdlQ291bnQsXHJcblx0ICAgICAgICAgICAgICAgICRub01vcmVSZXN1bHQgPSAkKCcubm8tcmVzdWx0Jyk7XHJcblxyXG5cdCAgICAgICAgICAgICQoJy5sb2FkZXItYW5pbWF0aW9uJywgJG5ld3NPYmopLmNzcyh7J2Rpc3BsYXknOiAnJ30pO1xyXG5cclxuXHQgICAgICAgICAgICAvLyBUeXBlIG9mIG5ld3MgcmVxdWVzdFxyXG5cdCAgICAgICAgICAgIGlmKHR5cGUgPT09ICdzdGFuZGFyZCcpIHtcclxuXHQgICAgICAgICAgICAgICAgc3RhbmRhcmROZXdzUGFnZSsrO1xyXG5cdCAgICAgICAgICAgICAgICBwYWdlQ291bnQgPSBzdGFuZGFyZE5ld3NQYWdlO1xyXG5cdCAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgICAgIGNvcnBvcmF0ZU5ld3NQYWdlKys7XHJcblx0ICAgICAgICAgICAgICAgIHBhZ2VDb3VudCA9IGNvcnBvcmF0ZU5ld3NQYWdlO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHJcblx0ICAgICAgICAgICAgLy8gQXBwZW5kIHJlc3VsdHMgaWYgZW5kIHBhZ2UgaXMgbm90IHJlYWNoZWRcclxuXHQgICAgICAgICAgICBpZihwYWdlQ291bnQgLSAyIDwgcGFyc2VJbnQoZGF0YS50b3RhbFBhZ2UpKSB7XHJcblx0ICAgICAgICAgICAgICAgICQoJy5uZXdzLXJlc3VsdHMnLCAkbmV3c09iaikuYXBwZW5kKHRlbXBsYXRlKHtuZXdzOiBkYXRhLm5ld3N9KSk7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgJCgnLm5vLXJlc3VsdCcsICRuZXdzT2JqKS5jc3MoeydkaXNwbGF5JzogJ2lubGluZS1ibG9jayd9KTtcclxuXHJcblx0ICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHQgICAgICAgICAgICAgICAgICAgICRub01vcmVSZXN1bHQuc2xpZGVVcChmdW5jdGlvbigpe1xyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICQoJy5uby1yZXN1bHQnLCAkbmV3c09iaikuY3NzKHsnZGlzcGxheSc6ICdub25lJ30pO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHJcblx0ICAgICAgICAgICAgaWYocGFnZUNvdW50ID4gcGFyc2VJbnQoZGF0YS50b3RhbFBhZ2UpKXtcclxuXHQgICAgICAgICAgICAgICAgJGJ0bi5oaWRlKCk7XHJcblx0ICAgICAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgJGJ0bi5zaG93KCk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfSk7XHJcblx0ICAgIH1cclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0ICdqcXVlcnktbWF0Y2gtaGVpZ2h0JztcclxuaW1wb3J0IGVucXVpcmUgZnJvbSAnZW5xdWlyZS5qcyc7XHJcbmltcG9ydCAnc2xpY2stY2Fyb3VzZWwnO1xyXG5cclxuaW1wb3J0IENvbXBhcmVJdGVtIGZyb20gJy4uLy4uL21vbGVjdWxlcy9jb21wYXJlLWl0ZW0vY29tcGFyZS1pdGVtJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2R1Y3RGaW5kZXJDb21wYXJlIHtcclxuXHRjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuXHRcdGNvbnN0IHsgYnJlYWtwb2ludHMgfSA9IGNvbmZpZztcclxuXHJcblx0XHRuZXcgQ29tcGFyZUl0ZW0oYnJlYWtwb2ludHMpO1xyXG5cclxuXHRcdGxldCAkY29tcGFyZVdyYXAgPSAkKCcucHJvZHVjdC1maW5kZXItY29tcGFyZScpLFxyXG5cdFx0XHRyb3cxID0gJCgnLnNwZWNyb3ctMScsICRjb21wYXJlV3JhcCksXHJcblx0XHRcdHJvdzIgPSAkKCcuc3BlY3Jvdy0yJywgJGNvbXBhcmVXcmFwKSxcclxuXHRcdFx0cm93MyA9ICQoJy5zcGVjcm93LTMnLCAkY29tcGFyZVdyYXApLFxyXG5cdFx0XHRyb3c0ID0gJCgnLnNwZWNyb3ctNCcsICRjb21wYXJlV3JhcCksXHJcblx0XHRcdHJvdzUgPSAkKCcuc3BlY3Jvdy01JywgJGNvbXBhcmVXcmFwKSxcclxuXHRcdFx0cm93NiA9ICQoJy5zcGVjcm93LTYnLCAkY29tcGFyZVdyYXApLFxyXG5cdFx0XHRyb3c3ID0gJCgnLnNwZWNyb3ctNycsICRjb21wYXJlV3JhcCksXHJcblx0XHRcdHJvdzggPSAkKCcuc3BlY3Jvdy04JywgJGNvbXBhcmVXcmFwKSxcclxuXHRcdFx0cm93OSA9ICQoJy5zcGVjcm93LTknLCAkY29tcGFyZVdyYXApLFxyXG5cdFx0XHRyb3cxMCA9ICQoJy5zcGVjcm93LTEwJywgJGNvbXBhcmVXcmFwKSxcclxuXHRcdFx0cm93MTEgPSAkKCcuc3BlY3Jvdy0xMScsICRjb21wYXJlV3JhcCksXHJcblx0XHRcdHJvdzEyID0gJCgnLnNwZWNyb3ctMTInLCAkY29tcGFyZVdyYXApLFxyXG5cdFx0XHRyb3cxMyA9ICQoJy5zcGVjcm93LTEzJywgJGNvbXBhcmVXcmFwKSxcclxuXHRcdFx0cm93MTQgPSAkKCcuc3BlY3Jvdy0xNCcsICRjb21wYXJlV3JhcCksXHJcblx0XHRcdHJvdzE1ID0gJCgnLnNwZWNyb3ctMTUnLCAkY29tcGFyZVdyYXApLFxyXG5cdFx0XHRyb3cxNiA9ICQoJy5zcGVjcm93LTE2JywgJGNvbXBhcmVXcmFwKSxcclxuXHRcdFx0cm93bGFzdCA9ICQoJy5zcGVjcm93LWxhc3QnLCAkY29tcGFyZVdyYXApLFxyXG5cdFx0XHRyb3cxVGl0bGUgPSAkKCdoMycsIHJvdzEpLFxyXG5cdFx0XHRyb3cxRGVzYyA9ICQoJ3AnLCByb3cxKTtcclxuXHJcblx0XHRpZiAoJGNvbXBhcmVXcmFwLmxlbmd0aCkge1xyXG5cdFx0XHRyb3cxLm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdHJvdzIubWF0Y2hIZWlnaHQoKTtcclxuXHRcdFx0cm93My5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3c0Lm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdHJvdzUubWF0Y2hIZWlnaHQoKTtcclxuXHRcdFx0cm93Ni5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3c3Lm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdHJvdzgubWF0Y2hIZWlnaHQoKTtcclxuXHRcdFx0cm93OS5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxMC5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxMS5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxMi5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxMy5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxNC5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxNS5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxNi5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3dsYXN0Lm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdHJvdzFUaXRsZS5tYXRjaEhlaWdodCgpO1xyXG5cdFx0XHRyb3cxRGVzYy5tYXRjaEhlaWdodCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQoJy5jb21wYXJlX19mb290ZXItLWJhY2sgYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJy5jb21wYXJlX19mb290ZXItLXN0YXJ0b3ZlciBidXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImlkXCIpO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInN0YXRlXCIpO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImRhdGVcIik7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdFx0XHJcblx0XHRcclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFByb2R1Y3RJdGVtIGZyb20gJy4uLy4uL21vbGVjdWxlcy9wcm9kdWN0LWl0ZW0vcHJvZHVjdC1pdGVtJztcclxuaW1wb3J0IGRvVCBmcm9tICdkb3QnO1xyXG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdEZpbmRlciB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblxyXG5cdFx0dGhpcy5wcm9kdWN0SXRlbSA9IG5ldyBQcm9kdWN0SXRlbSgpO1xyXG5cclxuXHRcdGxldCAkcHJvZHVjdEZpbmRlciA9ICAkKCcucHJvZHVjdC1maW5kZXInKSxcclxuXHRcdFx0JHJlc3RhcnRCdG4gPSAkKCcuYnRuLXN0YXJ0b3ZlcicsICRwcm9kdWN0RmluZGVyKTtcclxuXHJcblx0XHRsZXQgcHJpbnRlcnMgPSBKU09OLnBhcnNlKCQoJyNwcmludGVyRGF0YScpLmh0bWwoKSk7XHJcblx0XHRsZXQgcXN0bjFEYXRhID0gW10sXHJcblx0XHRcdHFzdG4yRGF0YSA9IFtdLFxyXG5cdFx0XHRxc3RuM0RhdGEgPSBbXSxcclxuXHRcdFx0cXN0bjREYXRhID0gW10sXHJcblx0XHRcdHFzdG41RGF0YSA9IFtdLFxyXG5cdFx0XHRzdGVwcyA9IDE7XHJcblxyXG5cdFx0bGV0IHExU2VsZWN0ZWRWYWx1ZSA9IFwiXCI7XHJcblx0XHRsZXQgc2VsZWN0ZWRDb21wYXJlZFByb2R1Y3QgPSBbXTtcclxuXHRcdGxldCBzZWxlY3RlZEZlYXR1cmVzID0gW107XHJcblx0XHRsZXQgZmluYWxEYXRhID0gW107XHJcblxyXG5cdFx0bGV0IHN0YXRlID0ge307XHJcblx0XHRsZXQgaWRMU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJykuc3BsaXQoJywnKSA6IFtdO1xyXG5cdFx0bGV0IHN0YXRlTFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhdGUnKSA/IEpTT04ucGFyc2UoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhdGUnKSkpIDoge307XHJcblx0XHRsZXQgZGF0ZVN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF0ZScpO1xyXG5cclxuXHRcdC8vIGxldCBjb29raWVzU3RvcmFnZSA9IENvb2tpZXMuZ2V0KCdpZCcpP0Nvb2tpZXMuZ2V0KCdpZCcpLnNwbGl0KCcsJykgOiBbXTtcclxuXHRcdC8vIGxldCBjb29raWVzU3RhdGUgPSBDb29raWVzLmdldCgnc3RhdGUnKT9KU09OLnBhcnNlKENvb2tpZXMuZ2V0KCdzdGF0ZScpKSA6IHt9O1xyXG5cclxuXHRcdC8vIGxldCBjb29raWVzU3RhdGUgPSBDb29raWVzLmdldCgnc3RhdGUnKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKCdzdGF0ZScsIGNvb2tpZXNTdGF0ZSk7XHJcblx0XHQvLyBjb25zb2xlLmxvZygnanNvbicsIEpTT04ucGFyc2UoQ29va2llcy5nZXQoJ3N0YXRlJykpKTtcclxuXHJcblx0XHQvLyBpZihDb29raWVzLmdldCgnc3RhdGUnKSkge1xyXG5cdFx0Ly8gXHRpZihjb29raWVzU3RhdGUuc3RlcHMgPT09IDYpe1xyXG5cdFx0Ly8gXHRcdHFzdG4xRGF0YSA9IGNvb2tpZXNTdGF0ZS5xc3RuMURhdGEsXHJcblx0XHQvLyBcdFx0cXN0bjJEYXRhID0gY29va2llc1N0YXRlLnFzdG4yRGF0YSxcclxuXHRcdC8vIFx0XHRxc3RuM0RhdGEgPSBjb29raWVzU3RhdGUucXN0bjNEYXRhLFxyXG5cdFx0Ly8gXHRcdHFzdG40RGF0YSA9IGNvb2tpZXNTdGF0ZS5xc3RuNERhdGEsXHJcblx0XHQvLyBcdFx0cXN0bjVEYXRhID0gY29va2llc1N0YXRlLnFzdG41RGF0YSxcclxuXHRcdC8vIFx0XHRzdGVwcyA9IGNvb2tpZXNTdGF0ZS5zdGVwcztcclxuXHRcdC8vIFx0XHRxMVNlbGVjdGVkVmFsdWUgPSBjb29raWVzU3RhdGUucTFTZWxlY3RlZFZhbHVlO1xyXG5cdFx0Ly8gXHRcdC8vc2VsZWN0ZWRDb21wYXJlZFByb2R1Y3QgPSBjb29raWVzU3RhdGUuc2VsZWN0ZWRDb21wYXJlZFByb2R1Y3Q7XHJcblx0XHQvLyBcdFx0c2VsZWN0ZWRGZWF0dXJlcyA9IGNvb2tpZXNTdGF0ZS5zZWxlY3RlZEZlYXR1cmVzO1xyXG5cdFx0Ly8gXHRcdGZpbmFsRGF0YSA9IGNvb2tpZXNTdGF0ZS5maW5hbERhdGE7XHJcblxyXG5cclxuXHRcdC8vIFx0XHRsZXQgcHJpbnRlckxpc3RpbmdNYXJrdXAgPSBkb1QudGVtcGxhdGUoJCgnI2xpc3RpbmdQcmludGVyQ29udGFpbmVyJykuaHRtbCgpKShmaW5hbERhdGEpO1xyXG5cdFx0Ly8gXHRcdCQoJy5wcm9kdWN0LWl0ZW1fX2xpc3QnKS5odG1sKHByaW50ZXJMaXN0aW5nTWFya3VwKTtcclxuXHJcblx0XHQvLyBcdFx0JCgnLm1hdGNoLWhlaWdodCcpLm1hdGNoSGVpZ2h0KCk7XHJcblxyXG5cdFx0Ly8gXHRcdHNob3dQcmludGVyTGlzdGluZyhmaW5hbERhdGEpO1xyXG5cdFx0Ly8gXHRcdHByb2R1Y3RDaGVja2VkKCk7XHJcblx0XHQvLyBcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLWJhY2snKS5zaG93KCk7XHJcblx0XHQvLyBcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0Jykuc2hvdygpO1xyXG5cdFx0Ly8gXHRcdC8vJCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0IC5idG4tZmluZHByaW50ZXInKS5zaWJsaW5ncygnLmJ0bi1jb21wYXJlcHJpbnRlcicpLnNob3coKTtcclxuXHRcdC8vIFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmlnaHQgLmJ0bi1maW5kcHJpbnRlcicpLnJlbW92ZUNsYXNzKCdpcy1zaG93bicpO1xyXG5cclxuXHRcdC8vIFx0XHRsZXQgcmVzdWx0VHh0ID0gJCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIHNwYW4udHh0JykuZGF0YSgncmVzdWx0cycpO1xyXG5cdFx0Ly8gXHRcdFx0JCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIHNwYW4ubnVtJykuaHRtbChgJHtmaW5hbERhdGEubGVuZ3RofWApO1xyXG5cdFx0Ly8gXHRcdFx0JCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIHNwYW4udHh0JykuaHRtbChgJHtyZXN1bHRUeHR9YCk7XHJcblxyXG5cdFx0Ly8gXHRcdGlmICggZmluYWxEYXRhLmxlbmd0aCA8PSAwKSB7XHJcblx0XHQvLyBcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2VtcHR5Jykuc2hvdygpO1xyXG5cdFx0Ly8gXHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyLXJlc3VsdHMnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHQvLyBcdFx0XHQkKCcucHJvZHVjdC1maW5kZXItcmVzdWx0cycpLmhpZGUoKTtcclxuXHRcdC8vIFx0XHRcdC8vICQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBoMicpLmh0bWwoYDxzcGFuPiR7ZmluYWxEYXRhLmxlbmd0aH08L3NwYW4+IHByaW50ZXIgZml0IHlvdXIgbmVlZHNgKTtcclxuXHRcdC8vIFx0XHR9IGVsc2Uge1xyXG5cdFx0Ly8gXHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19lbXB0eScpLmhpZGUoKTtcclxuXHRcdC8vIFx0XHRcdC8vICQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBzcGFuJykuaHRtbChmaW5hbERhdGEubGVuZ3RoKTtcclxuXHRcdC8vIFx0XHRcdC8vICQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBoMicpLmh0bWwoYDxzcGFuPiR7ZmluYWxEYXRhLmxlbmd0aH08L3NwYW4+IHByaW50ZXJzIGZpdCB5b3VyIG5lZWRzYCk7XHJcblx0XHQvLyBcdFx0fVxyXG5cdFx0Ly8gXHR9XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0bGV0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuXHRcdGxldCB0b2RheURhdGUgPSBEYXRlLm5vdygpO1xyXG5cclxuXHRcdGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRlJykpIHtcclxuXHJcblx0XHRcdGxldCBsb2NhbFN0b3JhZ2VEYXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGUnKTtcclxuXHJcblx0XHRcdC8vIGNvbXBhcmUgdG9kYXlEYXRlIGFuZCBsb2NhbFN0b3JhZ2VEYXRlXHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgZGlmZlRpbWUgPSBNYXRoLmFicyh0b2RheURhdGUgLSBsb2NhbFN0b3JhZ2VEYXRlKTtcclxuXHRcdFx0bGV0IGRpZmZEYXlzID0gTWF0aC5jZWlsKGRpZmZUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsgXHJcblxyXG5cclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCdkaWZmRGF5cycsIGRpZmZEYXlzKTtcclxuXHJcblx0XHRcdC8vIGlmIG1vcmUgdGhhbiAyIGRheXNcclxuXHRcdFx0aWYgKGRpZmZEYXlzID49IDIpIHtcclxuXHRcdFx0XHQvLyByZW1vdmUgbG9jYWxTdG9yYWdlIHZhbHVlcyBmb3Igb3RoZXIgdGhpbmdzXHJcblx0XHRcdFx0Ly8gcmVtb3ZlIGxvY2FsU3RvcmFnZSB2YWx1ZSBmb3IgZGF0ZVxyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiaWRcIik7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJzdGF0ZVwiKTtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImRhdGVcIik7XHJcblxyXG5cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHJcblx0XHRcdFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnNvbGUubG9nKCd0b2RheURhdGUnLCB0b2RheURhdGUpO1xyXG5cclxuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RhdGUnLCB0b2RheURhdGUpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhdGUnKSAhPT0gbnVsbCl7XHJcblx0XHRcdGlmKHN0YXRlTFN0b3JhZ2Uuc3RlcHMgPT09IDYpe1xyXG5cdFx0XHRcdHFzdG4xRGF0YSA9IHN0YXRlTFN0b3JhZ2UucXN0bjFEYXRhLFxyXG5cdFx0XHRcdHFzdG4yRGF0YSA9IHN0YXRlTFN0b3JhZ2UucXN0bjJEYXRhLFxyXG5cdFx0XHRcdHFzdG4zRGF0YSA9IHN0YXRlTFN0b3JhZ2UucXN0bjNEYXRhLFxyXG5cdFx0XHRcdHFzdG40RGF0YSA9IHN0YXRlTFN0b3JhZ2UucXN0bjREYXRhLFxyXG5cdFx0XHRcdHFzdG41RGF0YSA9IHN0YXRlTFN0b3JhZ2UucXN0bjVEYXRhLFxyXG5cdFx0XHRcdHN0ZXBzID0gc3RhdGVMU3RvcmFnZS5zdGVwcztcclxuXHRcdFx0XHRxMVNlbGVjdGVkVmFsdWUgPSBzdGF0ZUxTdG9yYWdlLnExU2VsZWN0ZWRWYWx1ZTtcclxuXHRcdFx0XHQvL3NlbGVjdGVkQ29tcGFyZWRQcm9kdWN0ID0gc3RhdGVMU3RvcmFnZS5zZWxlY3RlZENvbXBhcmVkUHJvZHVjdDtcclxuXHRcdFx0XHRzZWxlY3RlZEZlYXR1cmVzID0gc3RhdGVMU3RvcmFnZS5zZWxlY3RlZEZlYXR1cmVzO1xyXG5cdFx0XHRcdGZpbmFsRGF0YSA9IHN0YXRlTFN0b3JhZ2UuZmluYWxEYXRhO1xyXG5cclxuXHJcblx0XHRcdFx0bGV0IHByaW50ZXJMaXN0aW5nTWFya3VwID0gZG9ULnRlbXBsYXRlKCQoJyNsaXN0aW5nUHJpbnRlckNvbnRhaW5lcicpLmh0bWwoKSkoZmluYWxEYXRhKTtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1pdGVtX19saXN0JykuaHRtbChwcmludGVyTGlzdGluZ01hcmt1cCk7XHJcblxyXG5cdFx0XHRcdCQoJy5tYXRjaC1oZWlnaHQnKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHRzaG93UHJpbnRlckxpc3RpbmcoZmluYWxEYXRhKTtcclxuXHRcdFx0XHRwcm9kdWN0Q2hlY2tlZCgpO1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1iYWNrJykuc2hvdygpO1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1yaWdodCcpLnNob3coKTtcclxuXHRcdFx0XHQvLyQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1yaWdodCAuYnRuLWZpbmRwcmludGVyJykuc2libGluZ3MoJy5idG4tY29tcGFyZXByaW50ZXInKS5zaG93KCk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0IC5idG4tZmluZHByaW50ZXInKS5yZW1vdmVDbGFzcygnaXMtc2hvd24nKTtcclxuXHJcblx0XHRcdFx0bGV0IHJlc3VsdFR4dCA9ICQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBzcGFuLnR4dCcpLmRhdGEoJ3Jlc3VsdHMnKTtcclxuXHRcdFx0XHRcdCQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBzcGFuLm51bScpLmh0bWwoYCR7ZmluYWxEYXRhLmxlbmd0aH1gKTtcclxuXHRcdFx0XHRcdCQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBzcGFuLnR4dCcpLmh0bWwoYCR7cmVzdWx0VHh0fWApO1xyXG5cclxuXHRcdFx0XHRpZiAoIGZpbmFsRGF0YS5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19lbXB0eScpLnNob3coKTtcclxuXHRcdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlci1yZXN1bHRzJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyLXJlc3VsdHMnKS5oaWRlKCk7XHJcblx0XHRcdFx0XHQvLyAkKCcuZmluZGVyLXJlc3VsdHNfX2Rlc2MgaDInKS5odG1sKGA8c3Bhbj4ke2ZpbmFsRGF0YS5sZW5ndGh9PC9zcGFuPiBwcmludGVyIGZpdCB5b3VyIG5lZWRzYCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZW1wdHknKS5oaWRlKCk7XHJcblx0XHRcdFx0XHQvLyAkKCcuZmluZGVyLXJlc3VsdHNfX2Rlc2Mgc3BhbicpLmh0bWwoZmluYWxEYXRhLmxlbmd0aCk7XHJcblx0XHRcdFx0XHQvLyAkKCcuZmluZGVyLXJlc3VsdHNfX2Rlc2MgaDInKS5odG1sKGA8c3Bhbj4ke2ZpbmFsRGF0YS5sZW5ndGh9PC9zcGFuPiBwcmludGVycyBmaXQgeW91ciBuZWVkc2ApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJlc3RhcnQgZmluZGVyXHJcblx0XHQkcmVzdGFydEJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiaWRcIik7XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwic3RhdGVcIik7XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiZGF0ZVwiKTtcclxuXHRcdFx0Ly8gQ29va2llcy5yZW1vdmUoXCJpZFwiKTtcclxuXHRcdFx0Ly8gQ29va2llcy5yZW1vdmUoXCJzdGF0ZVwiKTtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0XHQkKFwiaHRtbCxib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDEwMCk7XHJcblxyXG5cdFx0XHQvL2FsbCByYWRpbyB0byBwcm9wIGNoZWNrIGZhbHNlXHJcblxyXG5cdFx0fSk7XHJcblxyXG5cclxuXHRcdC8vcHJpbnRlciByZXN1bHRzIG51bWJlclxyXG5cdFx0Ly8gJCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgc3BhbicpLnRleHQocHJpbnRlcnMubGVuZ3RoKTtcclxuXHRcdGZvb3RlclJlc3VsdChwcmludGVycyk7XHJcblx0XHQvL2hpZGUgYmFjayBidXR0b24gb24gMXN0IHF1ZXN0aW9uXHJcblxyXG5cdFx0JChgLnF1ZXN0aW9uMSBpbnB1dFtuYW1lPVwiYnVzaW5lc3Mtc2l6ZVwiXWApLm9uKCdjaGFuZ2UnLCBlID0+IHtcclxuXHRcdFx0bGV0IHZhbHVlID0gJChgLnF1ZXN0aW9uMSBpbnB1dFtuYW1lPVwiYnVzaW5lc3Mtc2l6ZVwiXTpjaGVja2VkYCkudmFsKCk7XHJcblxyXG5cdFx0XHQvL2lmICh2YWx1ZSA9PSAnc21hbGwnKSBzaG93IHF1ZXN0aW9uIGxpc3RcclxuXHJcblx0XHRcdHFzdG4xRGF0YSA9IFtdO1xyXG5cdFx0XHRxMVNlbGVjdGVkVmFsdWUgPSB2YWx1ZTtcclxuXHJcblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHByaW50ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKCBwcmludGVyc1tpXVtgcSR7c3RlcHN9YF0gPT0gdmFsdWUgKSB7XHJcblx0XHRcdFx0XHRxc3RuMURhdGEucHVzaChwcmludGVyc1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBub1ByaW50ZXIocXN0bjFEYXRhKTtcclxuXHRcdFx0Ly8gJCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgc3BhbicpLnRleHQocXN0bjFEYXRhLmxlbmd0aCk7XHJcblx0XHRcdGZvb3RlclJlc3VsdChxc3RuMURhdGEpO1xyXG5cdFx0XHRpZihxc3RuMURhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRzdGVwcysrO1xyXG5cdFx0XHRwcm9jZXNzUXVlc3Rpb24oc3RlcHMpO1xyXG5cclxuXHJcblxyXG5cdFx0XHQvL2NoZWNrIGlmIGFycmF5IGlzIDAgLCB3cml0ZSBmdW5jdGlvblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JChgLnF1ZXN0aW9uMiBpbnB1dFtuYW1lPVwiZnVuY3Rpb25hbGl0eVwiXWApLm9uKCdjaGFuZ2UnLCBlID0+IHtcclxuXHRcdFx0bGV0IHZhbHVlID0gJChgLnF1ZXN0aW9uMiBpbnB1dFtuYW1lPVwiZnVuY3Rpb25hbGl0eVwiXTpjaGVja2VkYCkudmFsKCk7XHJcblxyXG5cdFx0XHRxc3RuMkRhdGEgPSBbXTtcclxuXHJcblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHFzdG4xRGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmICggcXN0bjFEYXRhW2ldW2BxJHtzdGVwc31gXSA9PSB2YWx1ZSApIHtcclxuXHRcdFx0XHRcdHFzdG4yRGF0YS5wdXNoKHFzdG4xRGF0YVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBub1ByaW50ZXIocXN0bjJEYXRhKTtcclxuXHRcdFx0Zm9vdGVyUmVzdWx0KHFzdG4yRGF0YSk7XHJcblx0XHRcdC8vICQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1yZXN1bHRzIHNwYW4nKS50ZXh0KHFzdG4yRGF0YS5sZW5ndGgpO1xyXG5cdFx0XHRpZihxc3RuMkRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRzdGVwcysrO1xyXG5cdFx0XHRwcm9jZXNzUXVlc3Rpb24oc3RlcHMpO1xyXG5cclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHQkKGAucXVlc3Rpb24zIGlucHV0W25hbWU9XCJjb2xvdXJcIl1gKS5vbignY2hhbmdlJywgZSA9PiB7XHJcblx0XHRcdGxldCB2YWx1ZSA9ICQoYC5xdWVzdGlvbjMgaW5wdXRbbmFtZT1cImNvbG91clwiXTpjaGVja2VkYCkudmFsKCk7XHJcblxyXG5cdFx0XHRxc3RuM0RhdGEgPSBbXTtcclxuXHJcblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHFzdG4yRGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmICggcXN0bjJEYXRhW2ldW2BxJHtzdGVwc31gXSA9PSB2YWx1ZSApIHtcclxuXHRcdFx0XHRcdHFzdG4zRGF0YS5wdXNoKHFzdG4yRGF0YVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBub1ByaW50ZXIocXN0bjNEYXRhKTtcclxuXHRcdFx0Ly8gJCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgc3BhbicpLnRleHQocXN0bjNEYXRhLmxlbmd0aCk7XHJcblx0XHRcdGZvb3RlclJlc3VsdChxc3RuM0RhdGEpO1xyXG5cdFx0XHRpZihxc3RuM0RhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRzdGVwcysrO1xyXG5cdFx0XHRwcm9jZXNzUXVlc3Rpb24oc3RlcHMpO1xyXG5cclxuXHJcblx0XHRcdC8vIGNoZWNrIHBhZ2UgMSB2YWx1ZSB0byBkaXNwbGF5IGNvcnJlY3QgcXVlc3Rpb24gaW4gcGFnZSA0XHJcblx0XHRcdGNoZWNrUTFUb0Rpc3BsYXlRNCgpO1xyXG5cclxuXHRcdFx0aGlkZVE0Tm9SZXN1bHRPcHRpb25zKCk7XHJcblxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoYC5xdWVzdGlvbjQgaW5wdXRbbmFtZT1cInF1YW50aXR5XCJdYCkub24oJ2NoYW5nZScsIGUgPT4ge1xyXG5cdFx0XHRsZXQgdmFsdWUgPSAkKGAucXVlc3Rpb240IGlucHV0W25hbWU9XCJxdWFudGl0eVwiXTpjaGVja2VkYCkudmFsKCk7XHJcblxyXG5cdFx0XHRxc3RuNERhdGEgPSBbXTtcclxuXHJcblx0XHRcdC8vIGZvciAoIGxldCBpID0gMDsgaSA8IHFzdG4zRGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHQvLyBcdGlmICggcXN0bjNEYXRhW2ldW2BxJHtzdGVwc31gXSA9PSB2YWx1ZSApIHtcclxuXHRcdFx0Ly8gXHRcdHFzdG40RGF0YS5wdXNoKHFzdG4zRGF0YVtpXSk7XHJcblx0XHRcdC8vIFx0fVxyXG5cdFx0XHQvLyB9XHJcblxyXG5cdFx0XHQvLyBmb3IgKCBsZXQgaSA9IDA7IGkgPCBxc3RuM0RhdGEubGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdC8vIFx0aWYgKCQoYC5xdWVzdGlvbjQgaW5wdXRbdmFsdWU9XCIke3FzdG4zRGF0YVtpXS5xNH1cIl06Y2hlY2tlZGApKSB7XHJcblxyXG5cdFx0XHQvLyBcdFx0cXN0bjREYXRhLnB1c2gocXN0bjNEYXRhW2ldKTtcclxuXHJcblx0XHRcdC8vIFx0XHRjb25zb2xlLmxvZygkKGAucXVlc3Rpb240IGlucHV0W3ZhbHVlPVwiJHtxc3RuM0RhdGFbaV0ucTR9XCJdOmNoZWNrZWRgKSk7XHJcblx0XHRcdC8vIFx0fVxyXG5cdFx0XHQvLyB9XHJcblxyXG5cclxuXHRcdFx0cXN0bjNEYXRhLmZvckVhY2goKG9iaik9PntcclxuXHRcdFx0XHRsZXQgZm91bmQgPSBvYmoucTQuc29tZShpdGVtID0+IGl0ZW0gPT09IHZhbHVlKTtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdmb3VuZCcsIGZvdW5kLCBvYmoucTQpO1xyXG5cdFx0XHRcdGlmKGZvdW5kKSBxc3RuNERhdGEucHVzaChvYmopO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cclxuXHRcdFx0Ly8gbm9QcmludGVyKHFzdG40RGF0YSk7XHJcblx0XHRcdC8vICQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1yZXN1bHRzIHNwYW4nKS50ZXh0KHFzdG40RGF0YS5sZW5ndGgpO1xyXG5cdFx0XHRmb290ZXJSZXN1bHQocXN0bjREYXRhKTtcclxuXHRcdFx0aWYocXN0bjREYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0c3RlcHMrKztcclxuXHRcdFx0cHJvY2Vzc1F1ZXN0aW9uKHN0ZXBzKTtcclxuXHJcblx0XHRcdC8vIGlmKHFzdG40RGF0YS5sZW5ndGggPiAwKXtcclxuXHRcdFx0Ly8gXHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3RlciAuYnRuLWZpbmRwcmludGVyJykuYWRkQ2xhc3MoJ2lzLXNob3duJyk7XHJcblx0XHRcdC8vIH0gZWxzZSB7XHJcblx0XHRcdC8vIFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXIgLmJ0bi1maW5kcHJpbnRlcicpLnJlbW92ZUNsYXNzKCdpcy1zaG93bicpO1xyXG5cdFx0XHQvLyB9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JChgLnF1ZXN0aW9uNSBpbnB1dFtuYW1lPVwiZmVhdHVyZVwiXWApLm9uKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRsZXQgJGJ0blN1Ym1pdCA9ICQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyIC5idG4tZmluZHByaW50ZXInKTtcclxuXHRcdFx0bGV0IGNoZWNrZWRCb3ggPSAkKGAucXVlc3Rpb241IGlucHV0W25hbWU9XCJmZWF0dXJlXCJdYCk7XHJcblxyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGUudGFyZ2V0KTtcclxuXHRcdFx0bGV0IGNoZWNrZWQgPSAkdGhpcy52YWwoKTtcclxuXHRcdFx0aWYgKCR0aGlzLmlzKCc6Y2hlY2tlZCcpKSB7XHJcblx0XHRcdFx0c2VsZWN0ZWRGZWF0dXJlcy5wdXNoKGNoZWNrZWQpO1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyIC5idG4tZmluZHByaW50ZXInKS5hZGRDbGFzcygnaXMtc2hvd24nKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWxlY3RlZEZlYXR1cmVzLnNwbGljZSgkLmluQXJyYXkoY2hlY2tlZCwgc2VsZWN0ZWRGZWF0dXJlcyksIDEpO1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyIC5idG4tZmluZHByaW50ZXInKS5yZW1vdmVDbGFzcygnaXMtc2hvd24nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGZpbHRlcmVkRGF0YSA9IFtdO1xyXG5cclxuXHRcdFx0cXN0bjREYXRhLmZvckVhY2goKG9iaik9PntcclxuXHRcdFx0XHRsZXQgZm91bmQgPSBvYmoucTUuc29tZShpdGVtID0+IHNlbGVjdGVkRmVhdHVyZXMuaW5kZXhPZihpdGVtKSk7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ2ZvdW5kJywgZm91bmQsIG9iai5xNSk7XHJcblx0XHRcdFx0aWYoZm91bmQpIGZpbHRlcmVkRGF0YS5wdXNoKG9iaik7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblxyXG5cdFx0XHRpZihzZWxlY3RlZEZlYXR1cmVzLmxlbmd0aCA9PT0gMCl7XHJcblx0XHRcdFx0ZmlsdGVyZWREYXRhID0gcXN0bjREYXRhO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBmb290ZXJSZXN1bHQoZmlsdGVyZWREYXRhKTtcclxuXHJcblx0XHRcdGZpbmFsRGF0YSA9IGZpbHRlcmVkRGF0YTtcclxuXHRcdFx0Zm9vdGVyUmVzdWx0KGZpbHRlcmVkRGF0YSk7XHJcblx0XHRcdC8vICQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1yZXN1bHRzIHNwYW4nKS50ZXh0KGZpbHRlcmVkRGF0YS5sZW5ndGgpO1xyXG5cclxuXHRcdFx0aWYocXN0bjREYXRhLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRzdGVwcyA9IDU7XHJcblx0XHRcdFx0aGlkZVByaW50ZXJMaXN0aW5nKCk7XHJcblx0XHRcdFx0JGJ0blN1Ym1pdC5hZGRDbGFzcygnaXMtc2hvd24nKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkYnRuU3VibWl0LnJlbW92ZUNsYXNzKCdpcy1zaG93bicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjb25zb2xlLmxvZygnZmVhdHVyZWREYXRhJywgZmlsdGVyZWREYXRhKTtcclxuXHRcdH0pO1xyXG5cclxuXHJcblxyXG5cdFx0Ly8gc2hvdyBwcmludGVycyBsaXN0aW5nXHJcblx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmlnaHQgLmJ0bi1maW5kcHJpbnRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHJcblxyXG5cdFx0XHRsZXQgcHJpbnRlckxpc3RpbmdNYXJrdXAgPSBkb1QudGVtcGxhdGUoJCgnI2xpc3RpbmdQcmludGVyQ29udGFpbmVyJykuaHRtbCgpKShmaW5hbERhdGEpO1xyXG5cdFx0XHQkKCcucHJvZHVjdC1pdGVtX19saXN0JykuaHRtbChwcmludGVyTGlzdGluZ01hcmt1cCk7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JCgnLm1hdGNoLWhlaWdodCcpLm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdH0sIDYwMCk7XHJcblxyXG5cclxuXHRcdFx0c2hvd1ByaW50ZXJMaXN0aW5nKGZpbmFsRGF0YSk7XHJcblxyXG5cdFx0XHRwcm9kdWN0Q2hlY2tlZCgpO1xyXG5cdFx0XHRzZWxlY3RlZENvbXBhcmVkUHJvZHVjdCA9IFtdO1xyXG5cdFx0XHRzdGVwcyA9IDY7XHJcblxyXG5cdFx0XHRpZiAoIGZpbmFsRGF0YS5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZW1wdHknKS5zaG93KCk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyLXJlc3VsdHMnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyLXJlc3VsdHMnKS5oaWRlKCk7XHJcblx0XHRcdFx0Ly8gJCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIGgyJykuaHRtbChgPHNwYW4+JHtmaW5hbERhdGEubGVuZ3RofTwvc3Bhbj4gcHJpbnRlciBmaXQgeW91ciBuZWVkc2ApO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCBmaW5hbERhdGEubGVuZ3RoID49IDIpIHtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2VtcHR5JykuaGlkZSgpO1xyXG5cdFx0XHRcdC8vICQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBoMicpLmh0bWwoYDxzcGFuPiR7ZmluYWxEYXRhLmxlbmd0aH08L3NwYW4+IHByaW50ZXJzIGZpdCB5b3VyIG5lZWRzYCk7XHJcblx0XHRcdFx0Ly8gJCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIC5udW0nKS5odG1sKGZpbmFsRGF0YS5sZW5ndGgpO1xyXG5cdFx0XHRcdGxldCByZXN1bHRUeHQgPSAkKCcuZmluZGVyLXJlc3VsdHNfX2Rlc2Mgc3Bhbi50eHQnKS5kYXRhKCdyZXN1bHRzJyk7XHJcblx0XHRcdFx0JCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIHNwYW4ubnVtJykuaHRtbChgJHtmaW5hbERhdGEubGVuZ3RofWApO1xyXG5cdFx0XHRcdCQoJy5maW5kZXItcmVzdWx0c19fZGVzYyBzcGFuLnR4dCcpLmh0bWwoYCR7cmVzdWx0VHh0fWApO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZpbmFsRGF0YS5sZW5ndGggPT0gMSkge1xyXG5cdFx0XHRcdGxldCBpZFNlbGVjdGVkID0gZmluYWxEYXRhWzBdLmlkO1xyXG5cclxuXHRcdFx0XHQvLyBsZXQgaWRTdHIgPSBmaW5hbERhdGEuaWQ7XHJcblx0XHRcdFx0Ly8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3Byb2R1Y3QtZmluZGVyLWNvbXBhcmU/aWQ9JHtpZFNlbGVjdGVkfWA7XHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHskKCcucHJvZHVjdC1maW5kZXItc2VjdGlvbicpLmRhdGEoJ3VybCcpfT9pZD0ke2lkU2VsZWN0ZWR9YDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnaXMtc2hvd24nKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRcclxuXHJcblx0XHQkKCcuYnRuLWNvbXBhcmVwcmludGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdHN0YXRlID0ge1xyXG5cdFx0XHRcdHFzdG4xRGF0YSxcclxuXHRcdFx0XHRxc3RuMkRhdGEsXHJcblx0XHRcdFx0cXN0bjNEYXRhLFxyXG5cdFx0XHRcdHFzdG40RGF0YSxcclxuXHRcdFx0XHRxc3RuNURhdGEsXHJcblx0XHRcdFx0c3RlcHM6IHN0ZXBzLFxyXG5cdFx0XHRcdHExU2VsZWN0ZWRWYWx1ZSxcclxuXHRcdFx0XHRzZWxlY3RlZENvbXBhcmVkUHJvZHVjdCxcclxuXHRcdFx0XHRzZWxlY3RlZEZlYXR1cmVzLFxyXG5cdFx0XHRcdGZpbmFsRGF0YVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgc3RhdGVTdHIgPSBKU09OLnN0cmluZ2lmeShzdGF0ZSk7XHJcblx0XHRcdGxldCBpZFN0ciA9IHNlbGVjdGVkQ29tcGFyZWRQcm9kdWN0LnRvU3RyaW5nKCk7XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZCcsIEpTT04uc3RyaW5naWZ5KGlkU3RyKSlcclxuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0YXRlJywgSlNPTi5zdHJpbmdpZnkoc3RhdGVTdHIpKTtcclxuXHJcblx0XHRcdC8vIENvb2tpZXMuc2V0KCdpZCcsIEpTT04uc3RyaW5naWZ5KGlkU3RyKSwgeyBleHBpcmVzOiA3IH0pO1xyXG5cdFx0XHQvLyBDb29raWVzLnNldCgnc3RhdGUnLCBKU09OLnN0cmluZ2lmeShzdGF0ZVN0ciksIHsgZXhwaXJlczogNyB9KTtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHskKCcucHJvZHVjdC1maW5kZXItc2VjdGlvbicpLmRhdGEoJ3VybCcpfT9pZD0ke2lkU3RyfWA7XHJcblx0XHRcdC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvcHJvZHVjdC1maW5kZXItY29tcGFyZT9pZD1cIiArIGlkU3RyO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIGJhY2sgdG8gcHJldiBxdWVzdGlvblxyXG5cdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLWJhY2sgYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZW1wdHknKS5oaWRlKCk7XHJcblxyXG5cdFx0XHRzdGVwcy0tO1xyXG5cdFx0XHQkKGBbZGF0YS1zdGVwbm89JHtzdGVwc31dYCkuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cclxuXHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19xdWVzdGlvbiBpbnB1dFt0eXBlPVwicmFkaW9cIl06Y2hlY2tlZCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcblx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fcXVlc3Rpb24gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG5cclxuXHJcblx0XHRcdCQoYC5wcm9kdWN0LWZpbmRlcl9fcXVlc3Rpb24uaXMtYWN0aXZlYCkuZmFkZU91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHRcdCQoJy5zdGVwcy1saXN0IC5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRcdCQoYC5zdGVwcy1saXN0IFtkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0JChgLnByb2R1Y3QtZmluZGVyX19xdWVzdGlvbltkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0JChgLnByb2R1Y3QtZmluZGVyX19xdWVzdGlvbltkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5kZWxheSg0MDApLmZhZGVJbigpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlci1yZXN1bHRzLmlzLWFjdGl2ZScpLmZhZGVPdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRoaWRlUHJpbnRlckxpc3RpbmcoKTtcclxuXHJcblx0XHRcdC8vIHJlc2V0IHNlbGVjdGVkIGZlYXR1cmVzIGZyb20gcGFnZSA1XHJcblx0XHRcdHNlbGVjdGVkRmVhdHVyZXMgPSBbXTtcclxuXHJcblx0XHRcdHN3aXRjaChzdGVwcyl7XHJcblx0XHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdFx0Zm9vdGVyUmVzdWx0KHByaW50ZXJzKTtcclxuXHRcdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1iYWNrJykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0JykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAyOlxyXG5cdFx0XHRcdFx0Zm9vdGVyUmVzdWx0KHFzdG4xRGF0YSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0XHRmb290ZXJSZXN1bHQocXN0bjJEYXRhKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNDpcclxuXHRcdFx0XHRcdGZvb3RlclJlc3VsdChxc3RuM0RhdGEpO1xyXG5cdFx0XHRcdFx0Y2hlY2tRMVRvRGlzcGxheVE0KCk7XHJcblx0XHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3RlciAuYnRuLWZpbmRwcmludGVyJykucmVtb3ZlQ2xhc3MoJ2lzLXNob3duJyk7XHJcblx0XHRcdFx0XHRjaGVja1ExVG9EaXNwbGF5UTQoKTtcclxuXHRcdFx0XHRcdGhpZGVRNE5vUmVzdWx0T3B0aW9ucygpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA1OlxyXG5cdFx0XHRcdFx0Zm9vdGVyUmVzdWx0KHFzdG40RGF0YSk7XHJcblx0XHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmlnaHQgLmJ0bi1jb21wYXJlcHJpbnRlcicpLmhpZGUoKTtcclxuXHRcdFx0XHRcdGlmKCQoYC5xdWVzdGlvbjUgaW5wdXRbbmFtZT1cImZlYXR1cmVcIl06Y2hlY2tlZGApLmxlbmd0aCA+IDApe1xyXG5cdFx0XHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmlnaHQgLmJ0bi1maW5kcHJpbnRlcicpLmFkZENsYXNzKCdpcy1zaG93bicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA2OlxyXG5cdFx0XHRcdFx0Zm9vdGVyUmVzdWx0KHFzdG41RGF0YSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBxc3RuNURhdGEubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19lbXB0eScpLnNob3coKTtcclxuXHRcdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyLXJlc3VsdHMnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlci1yZXN1bHRzJykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQvLyAkKCcuZmluZGVyLXJlc3VsdHNfX2Rlc2MgaDInKS5odG1sKGA8c3Bhbj4ke2ZpbmFsRGF0YS5sZW5ndGh9PC9zcGFuPiBwcmludGVyIGZpdCB5b3VyIG5lZWRzYCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvY2Vzc1F1ZXN0aW9uKHN0ZXBzKSB7XHJcblx0XHRcdC8vIHNldCBhY3RpdmUgc3RlcCBhbmQgcXVlc3Rpb25zXHJcblx0XHRcdCQoYFtkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblxyXG5cdFx0XHQkKGAucHJvZHVjdC1maW5kZXJfX3F1ZXN0aW9uLmlzLWFjdGl2ZWApLmZhZGVPdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0XHQkKCcuc3RlcHMtbGlzdCAuaXMtYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQkKGAucHJvZHVjdC1maW5kZXJfX3F1ZXN0aW9uW2RhdGEtc3RlcG5vPSR7c3RlcHN9XWApLmZhZGVJbigpO1xyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblxyXG5cdFx0XHRcdCQoYC5zdGVwcy1saXN0IFtkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0JChgLnByb2R1Y3QtZmluZGVyX19xdWVzdGlvbltkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0JChgLnByb2R1Y3QtZmluZGVyX19xdWVzdGlvbltkYXRhLXN0ZXBubz0ke3N0ZXBzfV1gKS5kZWxheSg0MDApLmZhZGVJbigpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1iYWNrJykuc2hvdygpO1xyXG5cdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmlnaHQnKS5zaG93KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1ByaW50ZXJMaXN0aW5nKHJlc3VsdHMpIHtcclxuXHRcdFx0bGV0ICRwcm9kdWN0SXRlbSA9ICQoJy5wcm9kdWN0LWl0ZW0nKSxcclxuXHRcdFx0XHRpdGVtVGl0bGUgPSAkKCdoMycsICRwcm9kdWN0SXRlbSksXHJcblx0XHRcdFx0aXRlbURlc2MgPSAkKCdwJywgJHByb2R1Y3RJdGVtKTtcclxuXHJcblx0XHRcdGlmICgkcHJvZHVjdEl0ZW0ubGVuZ3RoKSB7XHJcblx0XHRcdFx0aXRlbVRpdGxlLm1hdGNoSGVpZ2h0KCk7XHJcblx0XHRcdFx0aXRlbURlc2MubWF0Y2hIZWlnaHQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBgJHtyZXN1bHRzLmxlbmd0aH1gIDw9IDApIHtcclxuXHRcdFx0XHQkKGAucHJvZHVjdC1maW5kZXJfX3F1ZXN0aW9uLmlzLWFjdGl2ZWApLmZhZGVPdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZm9vdGVyLS1yZXN1bHRzJykuaGlkZSgpO1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fc3RlcHMnKS5oaWRlKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19zdGVwcycpLmhpZGUoKTtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmVzdWx0cycpLmhpZGUoKTtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXItcmVzdWx0cycpLmRlbGF5KDQwMCkuZmFkZUluKCk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyLXJlc3VsdHMnKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRcdCQoYC5wcm9kdWN0LWZpbmRlcl9fcXVlc3Rpb24uaXMtYWN0aXZlYCkuZmFkZU91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmb290ZXJSZXN1bHQocmVzdWx0cykge1xyXG5cdFx0XHQvLyBpZiAoIHJlc3VsdHMubGVuZ3RoIDw9IDEpIHtcclxuXHRcdFx0Ly8gXHQvLyAkKCcuZmluZGVyLXJlc3VsdHNfX2Rlc2Mgc3BhbicpLnRleHQocXN0bjVEYXRhLmxlbmd0aCk7XHJcblx0XHRcdC8vIFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgcCcpLmh0bWwoYDxzcGFuPiR7cmVzdWx0cy5sZW5ndGh9PC9zcGFuPiBwcmludGVyIGZpdCB5b3VyIG5lZWRzYCk7XHJcblx0XHRcdC8vIH0gZWxzZSB7XHJcblx0XHRcdC8vIFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgcCcpLmh0bWwoYDxzcGFuPiR7cmVzdWx0cy5sZW5ndGh9PC9zcGFuPiBwcmludGVycyBmaXQgeW91ciBuZWVkc2ApO1xyXG5cclxuXHRcdFx0Ly8gfVxyXG5cdFx0XHRsZXQgcmVzdWx0VHh0ID0gJCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgc3Bhbi50eHQnKS5kYXRhKCdyZXN1bHRzJyk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMgc3Bhbi5udW0nKS5odG1sKGAgJHtyZXN1bHRzLmxlbmd0aH1gKTtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmVzdWx0cyBzcGFuLnR4dCcpLmh0bWwoYCAke3Jlc3VsdFR4dH1gKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9kdWN0Q2hlY2tlZCgpIHtcclxuXHRcdFx0bGV0ICRwcm9kdWN0TGlzdCA9ICQoJy5wcm9kdWN0LWZpbmRlci1yZXN1bHRzJyksXHJcblx0XHRcdFx0JGNoZWNrYm94ID0gJCgnLnByb2R1Y3QtaXRlbSBpbnB1dCcsICRwcm9kdWN0TGlzdCksXHJcblx0XHRcdFx0JGNvbXBhcmVCdG4gPSAkKCcuYnRuLWNvbXBhcmVwcmludGVyJyk7XHJcblxyXG5cdFx0XHQkY2hlY2tib3gubWFwKChpLCBlbGUpID0+IHtcclxuXHRcdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSksXHJcblx0XHRcdFx0XHQkY2hlY2tlZCA9ICQoJy5wcm9kdWN0LWl0ZW0gaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCcpO1xyXG5cclxuXHRcdFx0XHRpZiAoISRjaGVja2VkLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0JGNvbXBhcmVCdG4uYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkY29tcGFyZUJ0bi5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JHRoaXMub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0bGV0ICRjaGVja2JveCA9ICQoJy5wcm9kdWN0LWl0ZW0gaW5wdXRbdHlwZT1jaGVja2JveF0nKSxcclxuXHRcdFx0XHRcdFx0JGNoZWNrZWQgPSAkKCcucHJvZHVjdC1pdGVtIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKTtcclxuXHJcblx0XHRcdFx0XHQkY29tcGFyZUJ0bi5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG5cclxuXHRcdFx0XHRcdGlmICgkY2hlY2tlZC5sZW5ndGggPj0gNCkge1xyXG5cdFx0XHRcdFx0XHQkKCcuYWxlcnQtY29tcGFyZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCQoJy5hbGVydC1jb21wYXJlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmICgkY2hlY2tlZC5sZW5ndGggPj0gNSkge1xyXG5cdFx0XHRcdFx0XHQkdGhpcy5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRsZXQgYWxlcnRUeHQgPSAkKCcucHJvZHVjdC1maW5kZXItcmVzdWx0cyAuYWxlcnQtY29tcGFyZScpLmRhdGEoJ3RleHQnKTtcclxuXHRcdFx0XHRcdFx0YWxlcnQoYCR7YWxlcnRUeHR9YCk7XHJcblx0XHRcdFx0XHRcdCQoJy5maW5kZXItcmVzdWx0c19fZGVzYyAuYWxlcnQtY29tcGFyZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdFx0JCgnLmZpbmRlci1yZXN1bHRzX19kZXNjIC5hbGVydC1jb21wYXJlJykuaHRtbCgnYWxlcnRUeHQnKTtcclxuXHRcdFx0XHRcdFx0Ly8gJCgnLmZpbmRlci1yZXN1bHRzX19kZXNjJykuY3NzKCdjb2xvcicsICcjZDkyMjMxJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gcHVzaCBzZWxlY3RlZCBwcm9kdWN0IGludG8gYXJyYXlcclxuXHRcdFx0XHRcdGxldCBjaGVja2VkID0gJHRoaXMudmFsKCk7XHJcblx0XHRcdFx0XHRpZiAoJHRoaXMuaXMoJzpjaGVja2VkJykpIHtcclxuXHRcdFx0XHRcdFx0c2VsZWN0ZWRDb21wYXJlZFByb2R1Y3QucHVzaChjaGVja2VkKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkQ29tcGFyZWRQcm9kdWN0LnNwbGljZSgkLmluQXJyYXkoY2hlY2tlZCwgc2VsZWN0ZWRDb21wYXJlZFByb2R1Y3QpLCAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZihzZWxlY3RlZENvbXBhcmVkUHJvZHVjdC5sZW5ndGggPiAwKXtcclxuXHRcdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0IC5idG4tY29tcGFyZXByaW50ZXInKS5zaG93KCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmlnaHQgLmJ0bi1jb21wYXJlcHJpbnRlcicpLmhpZGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygnc2VsZWN0ZWRDb21wYXJlZFByb2R1Y3QnLCBzZWxlY3RlZENvbXBhcmVkUHJvZHVjdCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhpZGVQcmludGVyTGlzdGluZygpIHtcclxuXHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJlc3VsdHMnKS5zaG93KCk7XHJcblx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fc3RlcHMnKS5zaG93KCk7XHJcblx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlci1yZXN1bHRzJykuZmFkZU91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbm9QcmludGVyKHFzdG5EYXRhKSB7XHJcblx0XHRcdGlmICggYCR7cXN0bkRhdGF9YC5sZW5ndGggPD0gMCApe1xyXG5cdFx0XHRcdCQoJy5wcm9kdWN0LWZpbmRlcl9fZW1wdHknKS5zaG93KCk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0IC5idG4tY29tcGFyZXByaW50ZXInKS5oaWRlKCk7XHJcblx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19mb290ZXItLXJpZ2h0IC5idG4tZmluZHByaW50ZXInKS5yZW1vdmVDbGFzcygnaXMtc2hvd24nKTtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tcmVzdWx0cycpLmhpZGUoKTtcclxuXHRcdFx0XHQkKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tYmFjaycpLmhpZGUoKTtcclxuXHJcblx0XHRcdFx0JChgLnByb2R1Y3QtZmluZGVyX19xdWVzdGlvbi5pcy1hY3RpdmVgKS5mYWRlT3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0XHRcdCQoJy5zdGVwcy1saXN0IC5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRcdFx0JCgnLnByb2R1Y3QtZmluZGVyX19zdGVwcycpLmhpZGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8kKCcucHJvZHVjdC1maW5kZXJfX2Zvb3Rlci0tYmFjaycpLmhpZGUoKTtcclxuXHJcblx0XHRcdFx0c3RlcHM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBmdW5jdGlvbiBnZXRDb29raWUoY25hbWUpIHtcclxuXHRcdC8vIFx0dmFyIG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG5cdFx0Ly8gXHR2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcclxuXHJcblx0XHQvLyBcdGZvcih2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xyXG5cdFx0Ly8gXHRcdHZhciBjID0gY2FbaV07XHJcblxyXG5cdFx0Ly8gXHRcdHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuXHRcdC8vIFx0XHRcdGMgPSBjLnN1YnN0cmluZygxKTtcclxuXHRcdC8vIFx0XHR9XHJcblxyXG5cdFx0Ly8gXHRcdGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkge1xyXG5cdFx0Ly8gXHRcdFx0cmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcblx0XHQvLyBcdFx0fVxyXG5cdFx0Ly8gXHR9XHJcblxyXG5cdFx0Ly8gXHRyZXR1cm4gXCJcIjtcclxuXHRcdC8vIH1cclxuXHJcblx0XHRmdW5jdGlvbiBjaGVja1ExVG9EaXNwbGF5UTQoKXtcclxuXHRcdFx0JCgnLnE0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmhpZGUoKTtcclxuXHRcdFx0aWYocTFTZWxlY3RlZFZhbHVlID09PSAnc21hbGwnIHx8IHExU2VsZWN0ZWRWYWx1ZSA9PT0gJ21lZGl1bScpe1xyXG5cdFx0XHRcdCQoJy5xNGEnKS5hZGRDbGFzcygnYWN0aXZlJykuc2hvdygpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQoJy5xNGInKS5hZGRDbGFzcygnYWN0aXZlJykuc2hvdygpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGlkZVE0Tm9SZXN1bHRPcHRpb25zKCl7XHJcblx0XHRcdGxldCBxdWVzdGlvbnMgPSAkKCcucXVlc3Rpb240IC5hY3RpdmUgaW5wdXRbbmFtZT1cInF1YW50aXR5XCJdJyk7XHJcblx0XHRcdCQocXVlc3Rpb25zKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG5cdFx0XHRmb3IobGV0IGkgPSAwLCBsZW4gPSBxdWVzdGlvbnMubGVuZ3RoOyBpPGxlbjsgaSsrKXtcclxuXHRcdFx0XHQvLyBsZXQgdmFsdWUgPSAkKHF1ZXN0aW9uc1tpXSkudmFsKCk7XHJcblx0XHRcdFx0Ly8gbGV0IGFycmF5ID0gcXN0bjNEYXRhLmZpbHRlcigob2JqKSA9PiBvYmoucTQgPT09IHZhbHVlKTtcclxuXHRcdFx0XHQvLyBpZihhcnJheS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHQvLyBcdCQocXVlc3Rpb25zW2ldKS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0Ly8gfVxyXG5cclxuXHRcdFx0XHRsZXQgdmFsdWUgPSAkKHF1ZXN0aW9uc1tpXSkudmFsKCk7XHJcblxyXG5cdFx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHFzdG4zRGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0bGV0IHE0RGF0YSA9IHFzdG4zRGF0YVtpXS5xNDtcclxuXHJcblx0XHRcdFx0XHRmb3IgKCBsZXQgaiA9IDA7IGogPCBxNERhdGEubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdFx0bGV0IHE0VmFsdWUgPSBxNERhdGFbal07XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoJChgLnF1ZXN0aW9uNCAuYWN0aXZlIGlucHV0W3ZhbHVlPVwiJHtxNFZhbHVlfVwiXWApLmhhc0NsYXNzKCdzaG93JykpIHtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkKGAucXVlc3Rpb240IC5hY3RpdmUgaW5wdXRbdmFsdWU9XCIke3E0VmFsdWV9XCJdYCkucGFyZW50KCkuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgZG9UIGZyb20gJ2RvdCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNlbGxlckxvY2F0b3Ige1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0bGV0ICRjb3B5ID0gJCgnLmRyb3Bkb3duLWNvcHknLCB0aGlzLm1hcHBlciksXHJcblx0XHRcdCRyZXNlbGxlciA9ICQoJy5yZXNlbGxlci1sb2NhdG9yJyksXHJcblx0XHRcdCRwYXJ0bmVyID0gJCgnLnJlc2VsbGVyLXBhcnRuZXJzJywgJHJlc2VsbGVyKSxcclxuXHRcdFx0JHBhcnRuZXJDb250ZW50ID0gJCgnLnJlc2VsbGVyLXBhcnRuZXJzLS1jb250ZW50JywgJHBhcnRuZXIpLFxyXG5cdFx0XHQkcmVzZWxsZXJGaWx0ZXIgPSAkKCcucmVzZWxsZXItbG9jYXRvcl9fZmlsdGVycycsICRyZXNlbGxlciksXHJcblx0XHRcdCRyZXNlbGxlclNlYXJjaCA9ICQoJy5idG4tcmVzZWxsZXItc2VhcmNoJywgJHJlc2VsbGVyRmlsdGVyKSxcclxuXHRcdFx0JHJlc2VsbGVyTmVhciA9ICQoJy5idG4tcmVzZWxsZXItbmVhcicsICRyZXNlbGxlckZpbHRlciksXHJcblx0XHRcdHVybCA9ICRwYXJ0bmVyLmRhdGEoJ2VuZHBvaW50JyksXHJcblx0XHRcdG5lYXJNZSA9ICRwYXJ0bmVyLmRhdGEoJ3JhZGl1cycpLFxyXG5cdFx0XHRjaGVja0xvY2F0aW9uID0gJHJlc2VsbGVyLmRhdGEoJ2xvY2F0b3InKSxcclxuXHRcdFx0YXBpa2V5ID0gJHJlc2VsbGVyLmRhdGEoJ2FwaWtleScpLFxyXG5cdFx0XHRtYXA7XHJcblxyXG5cdFx0dGhpcy5maWx0ZXJzID0ge1xyXG5cdFx0XHRcInJlc2VsbGVyXCIgIDogJCgnI3Jlc2VsbGVyRmlsdGVyJyksXHJcblx0XHRcdFwibG9jYXRpb25cIiA6ICQoJyNsb2NhdGlvbkZpbHRlcicpXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMubWFwcGVyID0gJCgnLnJlc2VsbGVyLWxvY2F0b3JfX2ZpbHRlcnMnKTtcclxuXHRcdHRoaXMuJHBhcnRuZXJDb250ZW50ID0gJHBhcnRuZXJDb250ZW50O1xyXG5cdFx0dGhpcy5hcHBlbmRNYXBTY3JpcHRzKGNoZWNrTG9jYXRpb24sIGFwaWtleSk7XHJcblxyXG5cdFx0Ly8gZ2V0IHJlc2VsbGVyIGRhdGEgZnJvbSBIVE1MIEpTT05cclxuXHRcdGxldCByZXNlbGxlckl0ZW0gPSBKU09OLnBhcnNlKCQoJyNyZXNlbGxlckRhdGEnKS5odG1sKCkpO1xyXG5cclxuXHRcdCRjb3B5Lm1hcCgoaSwgZWxlKSA9PiB7XHJcblx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKSxcclxuXHRcdFx0XHQkc2VsZWN0ID0gJHRoaXMubmV4dCgpLFxyXG5cdFx0XHRcdCRidXR0b24gPSAkdGhpcy5maW5kKCdidXR0b24nKTtcclxuXHJcblx0XHRcdCRzZWxlY3Qub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRpZiAoISR0aGlzLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdFx0XHQkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0JHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JCgnLmRyb3Bkb3duLWNvcHknKS5ub3QoJHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2VsZWN0Lm9uKCdjaGFuZ2UnLCAoKSA9PiB7XHJcblx0XHRcdFx0bGV0ICRvcHRpb24gPSAkc2VsZWN0LmZpbmQoJzpzZWxlY3RlZCcpO1xyXG5cclxuXHRcdFx0XHQkc2VsZWN0LnByZXYoKS5maW5kKCdidXR0b24nKS50ZXh0KCRvcHRpb24udGV4dCgpKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkKHdpbmRvdykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICgkdGhpcy5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG5cdFx0XHRcdFx0JHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkcmVzZWxsZXJTZWFyY2gub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0bGV0ICRsb2NhdGlvbkZpbHRlciA9ICQoJyNsb2NhdGlvbkZpbHRlcicpLFxyXG5cdFx0XHRcdCRsb2NhdGlvblZhbCA9ICRsb2NhdGlvbkZpbHRlci52YWwoKSxcclxuXHRcdFx0XHQvLyAkcmVzZWxsZXJGaWx0ZXIgPSAkKCcjcmVzZWxsZXJGaWx0ZXInKSxcclxuXHRcdFx0XHQvLyAkcmVzZWxsZXJWYWwgPSAkcmVzZWxsZXJGaWx0ZXIudmFsKCksXHJcblx0XHRcdFx0Y2hlY2tTZWxlY3QgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIGlmICgkcmVzZWxsZXJWYWwgPT09IFwiXCIpIHtcclxuXHRcdFx0Ly8gXHQkKCcuZXJyb3ItbXNnLXJlc2VsbGVyJykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHQvLyBcdGNoZWNrU2VsZWN0ID0gdHJ1ZTtcclxuXHRcdFx0Ly8gfSBlbHNlIHtcclxuXHRcdFx0Ly8gXHQkKCcuZXJyb3ItbXNnLXJlc2VsbGVyJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0XHQvLyB9XHJcblxyXG5cdFx0XHRpZiAoJGxvY2F0aW9uVmFsID09PSBcIlwiKSB7XHJcblx0XHRcdFx0JCgnLmVycm9yLW1zZy1sb2NhdGlvbicpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0XHRjaGVja1NlbGVjdCA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCgnLmVycm9yLW1zZy1sb2NhdGlvbicpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGNoZWNrU2VsZWN0KSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdFx0bGV0IG1hcE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0em9vbTogMTIsXHJcblx0XHRcdFx0bWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0bWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2VsbGVyTWFwXCIpLCBtYXBPcHRpb25zKTtcclxuXHJcblx0XHRcdGxldCBzdG9yZUV4aXN0cyA9IFtdLFxyXG5cdFx0XHRcdHJlc2VsbGVyQ291bnQgPSAkKCcucmVzZWxsZXJzLWNvdW50JyksXHJcblx0XHRcdFx0Y291bnQgPSAwLFxyXG5cdFx0XHRcdGJvdW5kID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xyXG5cclxuXHRcdFx0bGV0IHRvb2x0aXAgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XHJcblx0XHRcdFx0bWF4V2lkdGg6IDIwMFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCQuZWFjaCggcmVzZWxsZXJJdGVtLCBmdW5jdGlvbigga2V5LCBkYXRhICkge1xyXG5cdFx0XHRcdGlmIChrZXkgPT09ICRsb2NhdGlvblZhbCkge1xyXG5cdFx0XHRcdFx0JC5lYWNoKCBkYXRhLCBmdW5jdGlvbiggaywgdiApIHtcclxuXHRcdFx0XHRcdFx0c3RvcmVFeGlzdHMucHVzaCh2KTtcclxuXHRcdFx0XHRcdFx0Y291bnQrKztcclxuXHRcdFx0XHRcdFx0bGV0IHBvc2l0aW9uID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh2LmxhdCwgdi5sb25nKTtcclxuXHRcdFx0XHRcdFx0bGV0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBwb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRtYXA6IG1hcCxcclxuXHRcdFx0XHRcdFx0XHR0aXRsZTogXCI8ZGl2IGNsYXNzPSdtYXAtcG9wLXVwJyBzdHlsZSA9ICdoZWlnaHQ6YXV0bzt3aWR0aDoyMDBweCc+PHN0cm9uZz5cIiArIHYubmFtZSArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFwiPC9zdHJvbmc+PGJyIC8+XCIgKyB2LmFkZHJlc3NcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRvb2x0aXAuc2V0Q29udGVudChtYXJrZXIudGl0bGUpO1xyXG5cdFx0XHRcdFx0XHRcdHRvb2x0aXAub3BlbihtYXAsIG1hcmtlcik7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0bWFwLmFkZExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0b29sdGlwLmNsb3NlKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0Ym91bmQuZXh0ZW5kKG5ldyBnb29nbGUubWFwcy5MYXRMbmcodi5sYXQsIHYubG9uZykpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmKHN0b3JlRXhpc3RzLmxlbmd0aCl7XHJcblx0XHRcdFx0bWFwLnBhblRvKGJvdW5kLmdldENlbnRlcigpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHApIHtcclxuXHRcdFx0XHRcdFx0dmFyIHBvcyA9IHtcclxuXHRcdFx0XHRcdFx0XHRsYXQ6IHAuY29vcmRzLmxhdGl0dWRlLFxyXG5cdFx0XHRcdFx0XHRcdGxuZzogcC5jb29yZHMubG9uZ2l0dWRlXHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRsZXQgbXlQb3MgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBvcy5sYXQsIHBvcy5sbmcpO1xyXG5cclxuXHRcdFx0XHRcdFx0bWFwLnBhblRvKG15UG9zKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JCgnLnJlc2VsbGVyLW1hcCcpLnJlbW92ZUNsYXNzKCdyZXNlbGxlci1ub2Rpc3BsYXknKTtcclxuXHRcdFx0JCgnLnJlc2VsbGVyLXBhcnRuZXJzJykucmVtb3ZlQ2xhc3MoJ3Jlc2VsbGVyLW5vZGlzcGxheScpO1xyXG5cdFx0XHQkKCcucmVzZWxsZXJzLWNvdW50JykuaHRtbChjb3VudCk7XHJcblx0XHRcdHJlbmRlclJlc3VsdHMoc3RvcmVFeGlzdHMpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JHJlc2VsbGVyTmVhci5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRsZXQgc3RvcmVFeGlzdHMgPSBbXSxcclxuXHRcdFx0XHRyYWRpdXMgPSBuZWFyTWUsXHJcblx0XHRcdFx0Y291bnQgPSAwLFxyXG5cdFx0XHRcdGJvdW5kID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xyXG5cclxuXHRcdFx0bGV0IHRvb2x0aXAgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XHJcblx0XHRcdFx0bWF4V2lkdGg6IDIwMFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcclxuXHRcdFx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChwKSB7XHJcblx0XHRcdFx0XHRsZXQgTGF0TG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwLmNvb3Jkcy5sYXRpdHVkZSwgcC5jb29yZHMubG9uZ2l0dWRlKTtcclxuXHRcdFx0XHRcdGxldCBtYXBPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0XHRjZW50ZXI6IExhdExuZyxcclxuXHRcdFx0XHRcdFx0em9vbTogMTIsXHJcblx0XHRcdFx0XHRcdG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0bWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2VsbGVyTWFwXCIpLCBtYXBPcHRpb25zKTtcclxuXHJcblx0XHRcdFx0XHQkLmVhY2goIHJlc2VsbGVySXRlbSwgZnVuY3Rpb24oIGtleSwgZGF0YSApIHtcclxuXHRcdFx0XHRcdFx0JC5lYWNoKCBkYXRhLCBmdW5jdGlvbiggaywgdiApIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgcG9zaXRpb24gPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHYubGF0LCB2LmxvbmcpLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZGlzdGFuY2UgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZURpc3RhbmNlQmV0d2Vlbihwb3NpdGlvbiwgTGF0TG5nKSxcclxuXHRcdFx0XHRcdFx0XHRcdGRpc3RhbmNlSW5LbSA9ICgoTWF0aC5yb3VuZChkaXN0YW5jZSAvIDEwMCkgLyAxMCkgPD0gcmFkaXVzKSA/ICdleGlzdHMnIDogJyc7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChkaXN0YW5jZUluS20gPT09IFwiZXhpc3RzXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHN0b3JlRXhpc3RzLnB1c2godik7XHJcblx0XHRcdFx0XHRcdFx0XHRjb3VudCsrO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogcG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1hcDogbWFwLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZTogXCI8ZGl2IGNsYXNzPSdtYXAtcG9wLXVwJyBzdHlsZSA9ICdoZWlnaHQ6YXV0bzt3aWR0aDoyMDBweCc+PHN0cm9uZz5cIiArIHYubmFtZSArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjwvc3Ryb25nPjxiciAvPlwiICsgdi5hZGRyZXNzXHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0b29sdGlwLnNldENvbnRlbnQobWFya2VyLnRpdGxlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dG9vbHRpcC5vcGVuKG1hcCwgbWFya2VyKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdG1hcC5hZGRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRvb2x0aXAuY2xvc2UoKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGJvdW5kLmV4dGVuZChuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHYubGF0LCB2LmxvbmcpICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIH0pO1xyXG5cclxuXHRcdFx0XHRcdGlmKHN0b3JlRXhpc3RzLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRcdG1hcC5wYW5Ubyhib3VuZC5nZXRDZW50ZXIoKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0bWFwLnBhblRvKExhdExuZyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0JCgnLnJlc2VsbGVyLW1hcCcpLnJlbW92ZUNsYXNzKCdyZXNlbGxlci1ub2Rpc3BsYXknKTtcclxuXHRcdFx0XHRcdCQoJy5yZXNlbGxlci1wYXJ0bmVycycpLnJlbW92ZUNsYXNzKCdyZXNlbGxlci1ub2Rpc3BsYXknKTtcclxuXHRcdFx0XHRcdCQoJy5yZXNlbGxlcnMtY291bnQnKS5odG1sKGNvdW50KTtcclxuXHRcdFx0XHRcdHJlbmRlclJlc3VsdHMoc3RvcmVFeGlzdHMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCcuYnRuLW1hcC1zaG93JyxmdW5jdGlvbihlKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0bGV0ICR0YXJnZXQgPSAkKCcucmVzZWxsZXItbWFwJyk7XHJcblxyXG5cdFx0XHQgJCgnaHRtbCwgYm9keScpLnN0b3AodHJ1ZSwgdHJ1ZSkuYW5pbWF0ZSh7XHJcblx0XHRcdCAgICBzY3JvbGxUb3A6ICR0YXJnZXQub2Zmc2V0KCkudG9wIC0gMTAwXHJcblx0XHRcdH0sIDUwMCk7XHJcblxyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdGxhdCA9ICR0aGlzLmRhdGEoJ2xhdCcpLFxyXG5cdFx0XHRcdGxvbmcgPSAkdGhpcy5kYXRhKCdsb25nJyk7XHJcblxyXG5cdFx0XHRsZXQgc2hvd01hcmtlciA9IChkYXRhKSA9PiB7XHJcblx0XHRcdFx0bGV0IHBvc2l0aW9uID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbmcpO1xyXG5cclxuXHRcdFx0XHRtYXAuc2V0Wm9vbSgxNSk7XHJcblx0XHRcdFx0bWFwLnBhblRvKHBvc2l0aW9uKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2hvd01hcmtlcigpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbmRlclJlc3VsdHMoZGF0YSkge1xyXG5cdFx0XHRsZXQgcmVzZWxsZXJUZW1wbGF0ZSA9ICQoJyNyZXNlbGxlci10ZW1wbGF0ZScpLmh0bWwoKTtcclxuXHRcdFx0bGV0IHJlc2VsbGVyQ29udGVudCA9ICcnO1xyXG5cclxuXHRcdFx0cmVzZWxsZXJDb250ZW50ID0gZG9ULnRlbXBsYXRlKHJlc2VsbGVyVGVtcGxhdGUpKGRhdGEpO1xyXG5cclxuXHRcdFx0JHBhcnRuZXJDb250ZW50Lmh0bWwocmVzZWxsZXJDb250ZW50KTtcclxuXHJcblx0XHRcdGxldFx0JGZpcnN0ID0gJCgnLnBhcnRuZXItaXRlbScpLmZpcnN0KCk7XHJcblx0XHRcdGxldCB0ZXh0V2lkdGggPSAkKCcucGFydG5lci1pdGVtX19kZXRhaWwgLmxhYmVsJywgJGZpcnN0KS5maXJzdCgpLndpZHRoKCk7XHJcblxyXG5cdFx0XHQkKCcucGFydG5lci1pdGVtX19kZXRhaWwgLmxhYmVsJywgJGZpcnN0KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmKHRleHRXaWR0aCA8ICQodGhpcykud2lkdGgoKSl7XHJcblx0XHRcdFx0XHR0ZXh0V2lkdGggPSAkKHRoaXMpLndpZHRoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGV4dFdpZHRoID0gdGV4dFdpZHRoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRsZXQgcGFkZGluZyA9IHRleHRXaWR0aCArIDEwO1xyXG5cdFx0XHQkKCcucGFkZGVkJykuY3NzKCdwYWRkaW5nLWxlZnQnLCBwYWRkaW5nICsgJ3B4Jyk7XHJcblxyXG5cdFx0XHRsZXQgZmF4VGV4dFdpZHRoID0gJCgnLnBhcnRuZXItaXRlbV9fZGV0YWlsLmZheCAubGFiZWwnKS53aWR0aCgpO1xyXG5cdFx0XHRmYXhUZXh0V2lkdGggKz0gMTA7XHJcblx0XHRcdCQoJy5wYWRkZWQtZmF4JykuY3NzKCdwYWRkaW5nLWxlZnQnLCBmYXhUZXh0V2lkdGggKyAncHgnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFwcGVuZE1hcFNjcmlwdHMoY2hlY2tMb2NhdGlvbiwgYXBpa2V5KSB7XHJcblx0XHRsZXQgc2NyaXB0U3RyID0gJy9tYXBzL2FwaS9qcz9saWJyYXJpZXM9Z2VvbWV0cnkma2V5PSc7XHJcblx0XHRzY3JpcHRTdHIgPSBjaGVja0xvY2F0aW9uICsgc2NyaXB0U3RyICsgYXBpa2V5O1xyXG5cclxuXHRcdGxldCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuXHRcdHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcblx0XHRzY3JpcHQuc3JjID0gc2NyaXB0U3RyO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgZW5xdWlyZSBmcm9tICdlbnF1aXJlLmpzJztcclxuaW1wb3J0ICdqcXVlcnktbWF0Y2gtaGVpZ2h0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpdGVIZWFkZXIge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0bGV0ICRzaXRlSGVhZGVyID0gJCgnLnNpdGUtaGVhZGVyJyksXHJcblx0XHRcdCRuYXYgPSAkKCcubWFpbi1uYXYnLCAkc2l0ZUhlYWRlciksXHJcblx0XHRcdCRtYWluTmF2ID0gJCgnLm1haW4nLCAkbmF2KSxcclxuXHRcdFx0JGNvbnRhY3ROYXYgPSAkKCcuc2hhcmUtY29udGFjdCcsICRuYXYpLFxyXG5cdFx0XHQkaGFzQ2hpbGQgPSAkKCcuaGFzLWNoaWxkcmVuJywgJG5hdiksXHJcblx0XHRcdCRzZWFyY2hCYXIgPSAkKCcuc2VhcmNoLWJhcicsICRzaXRlSGVhZGVyKTtcclxuXHJcblx0XHRsZXQgdGltZXI7XHJcblxyXG5cdFx0JCgnLm1lZ2FtZW51X19wcm9kdWN0cyAubmF2LWxldmVsMyBsaScpLm1hdGNoSGVpZ2h0KCk7XHJcblxyXG5cdFx0JCgnLmJ0bi1uYXYtbWVudScsICRzaXRlSGVhZGVyKS5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGlmKCEkc2l0ZUhlYWRlci5oYXNDbGFzcygnb3BlbicpKXtcclxuXHRcdFx0XHQkc2VhcmNoQmFyLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JHNpdGVIZWFkZXIuYWRkQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0XHQkbmF2LmFkZENsYXNzKCdzbGlkZW91dCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRzaXRlSGVhZGVyLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JCgnLnNsaWRlb3V0JykucmVtb3ZlQ2xhc3MoJ3NsaWRlb3V0Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJy5idG4tbW9iaWxlLXNlYXJjaCcsICRzaXRlSGVhZGVyKS5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGlmKCEkc2VhcmNoQmFyLmhhc0NsYXNzKCdvcGVuJykpe1xyXG5cdFx0XHRcdCRzaXRlSGVhZGVyLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdFx0JCgnLnNsaWRlb3V0JykucmVtb3ZlQ2xhc3MoJ3NsaWRlb3V0Jyk7XHJcblx0XHRcdFx0JHNlYXJjaEJhci5hZGRDbGFzcygnb3BlbicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRzZWFyY2hCYXIucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnPiBhJywgJGhhc0NoaWxkKS5tYXAoKGksZWxlKSA9PiB7XHJcblx0XHRcdGxldCAkYW5jaG9yID0gJChlbGUpO1xyXG5cclxuXHRcdFx0JGFuY2hvci5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGlmKCRhbmNob3IubmV4dCgpLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRhbmNob3IubmV4dCgpLmFkZENsYXNzKCdzbGlkZW91dCcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJ2J1dHRvbicsICRoYXNDaGlsZCkubWFwKChpLGVsZSkgPT4ge1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHQkdGhpcy5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0JHRoaXMucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3NsaWRlb3V0Jyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRsZXQgYnJvd3NlckhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSxcclxuXHRcdFx0XHRkb2N1bWVudEhlaWdodCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpO1xyXG5cclxuXHRcdFx0aWYoISRzaXRlSGVhZGVyLmhhc0NsYXNzKCdmaXgnKSl7XHJcblx0XHRcdFx0aWYoKGRvY3VtZW50SGVpZ2h0IC0gYnJvd3NlckhlaWdodCkgPiAyMDApe1xyXG5cdFx0XHRcdFx0aWYoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gNTApe1xyXG5cdFx0XHRcdFx0XHQkc2l0ZUhlYWRlci5hZGRDbGFzcygnZml4Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0XHQkc2l0ZUhlYWRlci5yZW1vdmVDbGFzcygnZml4Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmKCQod2luZG93KS5zY3JvbGxUb3AoKSA8IDUwKXtcclxuXHRcdFx0XHRcdCRzaXRlSGVhZGVyLnJlbW92ZUNsYXNzKCdmaXgnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJy5uYXYtbGV2ZWwxID4gbGknKS5vbignbW91c2VlbnRlciBmb2N1c2luJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0bGV0ICR0aGlzSW4gPSAkKHRoaXMpO1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xyXG5cclxuXHRcdFx0JHRoaXNJbi5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdob3ZlcicpO1xyXG5cclxuXHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JHRoaXNJbi5hZGRDbGFzcygnaG92ZXInKTtcclxuXHRcdFx0fSwgNjUwKTtcclxuXHRcdH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0bGV0ICR0aGlzT3V0ID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lcik7XHJcblx0XHRcdCR0aGlzT3V0LnJlbW92ZUNsYXNzKCdob3ZlcicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnLm5hdi1sZXZlbDEgPiBsaTpsYXN0LWNoaWxkIGEnKS5sYXN0KCkub24oJ2ZvY3Vzb3V0JywgZnVuY3Rpb24oKXtcclxuXHRcdFx0bGV0ICR0aGlzT3V0ID0gJCh0aGlzKS5jbG9zZXN0KCcuaG92ZXInKTtcclxuXHJcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lcik7XHJcblx0XHRcdCR0aGlzT3V0LnJlbW92ZUNsYXNzKCdob3ZlcicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZW5xdWlyZS5yZWdpc3RlcihcInNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTkycHgpXCIsIHtcclxuXHRcdCAgICBtYXRjaCA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0ICAgIFx0JCgnLnNsaWRlb3V0JykuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0ICAgIFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdzbGlkZW91dCcpO1xyXG5cdFx0ICAgIFx0fSk7XHJcblx0XHQgICAgXHQkc2l0ZUhlYWRlci5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG5cclxuXHRcdCAgICBcdCQoJz4gYScsICRoYXNDaGlsZCkubWFwKChpLGVsZSkgPT4ge1xyXG5cdFx0ICAgIFx0XHRsZXQgJGFuY2hvciA9ICQoZWxlKTtcclxuXHJcblx0XHQgICAgXHRcdCRhbmNob3Iub2ZmKCdjbGljaycpO1xyXG5cdFx0ICAgIFx0fSk7XHJcblxyXG5cdFx0ICAgIFx0JCgnLm5hdi1sZXZlbDEgPiBsaScpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKXtcclxuXHRcdCAgICBcdFx0bGV0ICR0aGlzSW4gPSAkKHRoaXMpO1xyXG5cdFx0ICAgIFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xyXG5cclxuXHRcdCAgICBcdFx0dGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHQgICAgXHRcdFx0JHRoaXNJbi5hZGRDbGFzcygnaG92ZXInKTtcclxuXHRcdCAgICBcdFx0fSwgNjUwKTtcclxuXHRcdCAgICBcdH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXtcclxuXHRcdCAgICBcdFx0bGV0ICR0aGlzT3V0ID0gJCh0aGlzKTtcclxuXHJcblx0XHQgICAgXHRcdGNsZWFyVGltZW91dCh0aW1lcik7XHJcblx0XHQgICAgXHRcdCR0aGlzT3V0LnJlbW92ZUNsYXNzKCdob3ZlcicpO1xyXG5cdFx0ICAgIFx0fSk7XHJcblx0XHQgICAgfSxcclxuXHRcdCAgICB1bm1hdGNoIDogZnVuY3Rpb24oKSB7XHJcblx0XHQgICAgXHQkKCc+IGEnLCAkaGFzQ2hpbGQpLm1hcCgoaSxlbGUpID0+IHtcclxuXHRcdCAgICBcdFx0bGV0ICRhbmNob3IgPSAkKGVsZSk7XHJcblxyXG5cdFx0ICAgIFx0XHQkYW5jaG9yLm9uKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHQgICAgXHRcdFx0aWYoJGFuY2hvci5uZXh0KCkubGVuZ3RoKXtcclxuXHRcdCAgICBcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCAgICBcdFx0XHR9XHJcblx0XHQgICAgXHRcdFx0JGFuY2hvci5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlb3V0Jyk7XHJcblx0XHQgICAgXHRcdH0pO1xyXG5cdFx0ICAgIFx0fSk7XHJcblxyXG5cdFx0ICAgIFx0JCgnLm5hdi1sZXZlbDEgPiBsaScpLm9mZignbW91c2VlbnRlcicpLm9mZignbW91c2VsZWF2ZScpO1xyXG5cclxuXHRcdCAgICBcdCQoJ2J1dHRvbicsICRoYXNDaGlsZCkubWFwKChpLGVsZSkgPT4ge1xyXG5cdFx0ICAgIFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0ICAgIFx0XHQkdGhpcy5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHQgICAgXHRcdFx0JHRoaXMucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3NsaWRlb3V0Jyk7XHJcblx0XHQgICAgXHRcdH0pO1xyXG5cdFx0ICAgIFx0fSk7XHJcblx0XHQgICAgfVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBkb1QgZnJvbSAnZG90JztcclxuaW1wb3J0IGpzb25RdWVyeSBmcm9tICdqc29uLXF1ZXJ5JztcclxuaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvbHV0aW9uc1NlcnZpY2VzIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGxldCAkc29sdXRpb25GaWx0ZXIgPSAkKCcuc29sdXRpb25zLWZpbHRlcicpLFxyXG5cdFx0XHQkZmlsdGVyID0gJCgnLmZpbHRlci1pdGVtJywgJHNvbHV0aW9uRmlsdGVyKS5ub3QoJy5maWx0ZXItaXRlbS0tcmVzZXQnKSxcclxuXHRcdFx0JHJlc2V0ID0gJCgnLmZpbHRlci1pdGVtLS1yZXNldCAuYnRuLXJlc2V0JywgJHNvbHV0aW9uRmlsdGVyKSxcclxuXHRcdFx0JGNvcHkgPSAkKCcuZHJvcGRvd24tY29weScsICRzb2x1dGlvbkZpbHRlcik7XHJcblxyXG5cdFx0dGhpcy5sb2FkTGltaXQgICAgPSA5O1xyXG5cdFx0dGhpcy5jdXJycGFnZSAgICAgPSAxO1xyXG5cdFx0dGhpcy5yZXN1bHRzID0gW107XHJcblx0XHR0aGlzLnJlc3VsdFRlbXBGbiA9IGRvVC50ZW1wbGF0ZSgkKCcjZG90U29sdXRpb25zVGVtcGxhdGUnKS5odG1sKCkpO1xyXG5cdFx0dGhpcy5vcHRpb25UZW1wRm4gPSBkb1QudGVtcGxhdGUoXCJ7e35pdC5kYXRhIDp2YWx1ZTppbmRleH19PG9wdGlvbiB2YWx1ZT0gXFxcInt7PXZhbHVlLmlkfX1cXFwiPnt7PXZhbHVlLm5hbWV9fTwvb3B0aW9uPnt7fn19XCIpO1xyXG4gICAgICAgIHRoaXMucmVzdWx0c0NvbnQgPSAkKCcuc29sdXRpb24tc2VydmljZXNfX2NvbnRlbnQnLCAkKCcuc29sdXRpb24tc2VydmljZXMnKSk7XHJcbiAgICAgICAgdGhpcy5tYXBTb2x1dGlvbigpO1xyXG5cclxuICAgICAgICAkY29weS5tYXAoKGksIGVsZSkgPT4ge1xyXG4gICAgICAgIFx0bGV0ICR0aGlzID0gJChlbGUpLFxyXG4gICAgICAgIFx0XHQkc2VsZWN0ID0gJHRoaXMubmV4dCgpLFxyXG4gICAgICAgIFx0XHQkYnV0dG9uID0gJHRoaXMuZmluZCgnYnV0dG9uJyk7XHJcblxyXG5cdCAgICAgICAgJHNlbGVjdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdFx0XHRcdGlmICghJHRoaXMuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuXHQgICAgICAgIFx0XHQkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdCAgICAgICAgXHRcdCR0aGlzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCQoJy5kcm9wZG93bi1jb3B5Jykubm90KCR0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0ICAgICAgICB9KTtcclxuXHJcblx0XHRcdCRzZWxlY3Qub24oJ2NoYW5nZScsICgpID0+IHtcclxuXHRcdFx0XHRsZXQgJG9wdGlvbiA9ICRzZWxlY3QuZmluZCgnOnNlbGVjdGVkJyk7XHJcblxyXG5cdFx0XHRcdCRzZWxlY3QucHJldigpLmZpbmQoJ2J1dHRvbicpLnRleHQoJG9wdGlvbi50ZXh0KCkpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCQod2luZG93KS5vbignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCR0aGlzLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdFx0XHQkdGhpcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuICAgICAgICB9KVxyXG5cdH1cclxuXHJcblx0bWFwU29sdXRpb24oKSB7XHJcblx0ICAgIGxldCBfdGhpcyA9IHRoaXMsXHJcblx0ICAgIFx0JHNvbHV0aW9uRmlsdGVyID0gJCgnLnNvbHV0aW9ucy1maWx0ZXInKSxcclxuXHQgICAgICAgICRtYXBwZXIgPSAkKCcuc29sdXRpb24tbWFwcGVyJyk7XHJcblxyXG5cdCAgICBsZXQgcmVzdWx0RW5kcG9pbnQgPSAkKCcuc29sdXRpb24tc2VydmljZXNfX2NvbnRlbnQnKS5kYXRhKCdlbmRwb2ludCcpLFxyXG5cdCAgICBcdG9wdGlvbnNFbmRwb2ludCA9ICQoJy5zb2x1dGlvbnMtZmlsdGVyJykuZGF0YSgnZW5kcG9pbnQnKSxcclxuXHQgICAgICAgICRtYXBwZXJSZXN1bHRzICAgICAgID0gJCgnLnNvbHV0aW9uLXNlcnZpY2VzX19jb250ZW50IC5jb2x1bW4tcm93JyksXHJcblx0ICAgICAgICBzZWxlY3Rpb25EYXRhID0ge30sXHJcblx0ICAgICAgICBmaWx0ZXJzID0ge1xyXG5cdCAgICAgICAgICAgIFwiaW5kdXN0cnlcIiAgIDogJCgnI2luZHVzdHJ5RmlsdGVyJyksXHJcblx0ICAgICAgICAgICAgXCJkZXBhcnRtZW50XCIgOiAkKCcjZGVwYXJ0bWVudEZpbHRlcicpLFxyXG5cdCAgICAgICAgICAgIFwic2VydmljZVwiICAgIDogJCgnI3NlcnZpY2VGaWx0ZXInKSxcclxuXHQgICAgICAgICAgICBcImJ1c2luZXNzXCIgICA6ICQoJyNidXNpbmVzc0ZpbHRlcicpXHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgbGFiZWxzID0ge1xyXG5cdCAgICAgICAgICAgIFwiaW5kdXN0cnlcIiAgIDogJCgnI2luZHVzdHJ5RmlsdGVyJykuZGF0YSgnbGFiZWwnKSxcclxuXHQgICAgICAgICAgICBcImRlcGFydG1lbnRcIiA6ICQoJyNkZXBhcnRtZW50RmlsdGVyJykuZGF0YSgnbGFiZWwnKSxcclxuXHQgICAgICAgICAgICBcInNlcnZpY2VcIiAgICA6ICQoJyNzZXJ2aWNlRmlsdGVyJykuZGF0YSgnbGFiZWwnKSxcclxuXHQgICAgICAgICAgICBcImJ1c2luZXNzXCIgICA6ICQoJyNidXNpbmVzc0ZpbHRlcicpLmRhdGEoJ2xhYmVsJylcclxuXHQgICAgICAgIH1cclxuXHJcblx0ICAgIF90aGlzLiRjbGVhckZpbHRlckJ0biA9ICQoJy5maWx0ZXItaXRlbS0tcmVzZXQgLmJ0bi1yZXNldCcsICRzb2x1dGlvbkZpbHRlcik7XHJcblxyXG5cdCAgICAvLyBSZXNldCBmaWx0ZXJzXHJcblx0ICAgIF90aGlzLiRjbGVhckZpbHRlckJ0bi5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0ICAgICAgICBmaWx0ZXJzLmluZHVzdHJ5XHJcblx0ICAgICAgICAgICAgLnZhbCgkKCdvcHRpb246Zmlyc3QtY2hpbGQnLCBmaWx0ZXJzLmluZHVzdHJ5KS52YWwoKSlcclxuXHQgICAgICAgICAgICAudHJpZ2dlcignY2hhbmdlJyk7XHJcblxyXG5cdCAgICAgICAgaGlkZUZpbHRlcnMoJ2luZHVzdHJ5Jyk7XHJcbiAgICAgICAgICAgIGNsZWFyUmVzdWx0cygpO1xyXG4gICAgICAgICAgICByZXNldERyb3Bkb3duVGV4dCgpO1xyXG5cdCAgICB9KTtcclxuXHJcblx0ICAgIC8vIFNldHVwIGZpbHRlcnNcclxuXHQgICAgZm9yKHZhciBrZXkgaW4gZmlsdGVycykge1xyXG5cdCAgICAgICAgbGV0ICRmaWx0ZXIgPSBmaWx0ZXJzW2tleV07XHJcblxyXG5cclxuXHQgICAgICAgICRmaWx0ZXIuZGF0YSgna2V5Jywga2V5KTtcclxuXHJcblx0ICAgICAgICAkZmlsdGVyLm9uKCdjaGFuZ2UuZmlsdGVyJywgZnVuY3Rpb24oKXtcclxuXHQgICAgICAgICAgICBsZXQgdmFsdWUgPSAkKCdvcHRpb246c2VsZWN0ZWQnLCAkZmlsdGVyKS5hdHRyKCd2YWx1ZScpLFxyXG5cdCAgICAgICAgICAgICAgICBkYXRhS2V5ID0gJGZpbHRlci5kYXRhKCdrZXknKSxcclxuXHQgICAgICAgICAgICAgICAgZGF0YSA9IHtcclxuXHQgICAgICAgICAgICAgICAgICAgIGluZHVzdHJ5OiAkKCdvcHRpb246c2VsZWN0ZWQnLCBmaWx0ZXJzLmluZHVzdHJ5KS5hdHRyKCd2YWx1ZScpLFxyXG5cdCAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogJCgnb3B0aW9uOnNlbGVjdGVkJywgZmlsdGVycy5kZXBhcnRtZW50KS5hdHRyKCd2YWx1ZScpLFxyXG5cdCAgICAgICAgICAgICAgICAgICAgc2VydmljZTogJCgnb3B0aW9uOnNlbGVjdGVkJywgZmlsdGVycy5zZXJ2aWNlKS5hdHRyKCd2YWx1ZScpLFxyXG5cdCAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3M6ICQoJ29wdGlvbjpzZWxlY3RlZCcsIGZpbHRlcnMuYnVzaW5lc3MpLmF0dHIoJ3ZhbHVlJylcclxuXHQgICAgICAgICAgICAgICAgfTtcclxuXHJcblx0ICAgICAgICAgICAgaWYodmFsdWUgIT09IFwiXCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0ICAgICAgICAgICAgICAgIHVwZGF0ZUZpbHRlck9uQ2hhbmdlKGRhdGFLZXksIHZhbHVlKTtcclxuXHQgICAgICAgICAgICAgICAgQ29va2llcy5zZXQoJ3NvbHV0aW9uRmlsdGVycycsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuXHQgICAgICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgICAgICBoaWRlRmlsdGVycyhkYXRhS2V5KTtcclxuXHJcblx0ICAgICAgICAgICAgICAgIGlmKGRhdGFLZXkgPT09ICdpbmR1c3RyeScpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICRtYXBwZXJSZXN1bHRzLmVtcHR5O1xyXG5cclxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBfdGhpcy5yZXNldFBhZ2UoKTtcclxuXHQgICAgICAgICAgICAkbWFwcGVyUmVzdWx0cy5lbXB0eSgpO1xyXG5cdCAgICAgICAgICAgIF90aGlzLmdldFJlc3VsdChyZXN1bHRFbmRwb2ludCwgcGFyc2VSZXN1bHRzLCBkYXRhKTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9XHJcblxyXG5cdCAgICAvLyBQYXJzZSBmaWx0ZXJzIG9wdGlvbiBkYXRhXHJcblx0ICAgIGxldCBwYXJzZUZpbHRlcnMgPSAoZGF0YSkgPT4ge1xyXG5cdCAgICAgICAgc2VsZWN0aW9uRGF0YSA9IGRhdGE7XHJcblxyXG5cdCAgICAgICAgbGV0IGNvb2tpZSA9IENvb2tpZXMuZ2V0KCdzb2x1dGlvbkZpbHRlcnMnKTtcclxuXHJcblx0ICAgICAgICBfdGhpcy51cGRhdGVPcHRpb25zKHNlbGVjdGlvbkRhdGEuaW5kdXN0cmllcywgZmlsdGVycy5pbmR1c3RyeSwgbGFiZWxzLmluZHVzdHJ5KTtcclxuXHJcblx0ICAgICAgICBpZih0eXBlb2YgY29va2llICE9PSAndW5kZWZpbmVkJykge1xyXG5cdCAgICAgICAgICAgIHBhcnNlQ29va2llcyhKU09OLnBhcnNlKGNvb2tpZSkpO1xyXG5cdCAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgICAgICBjbGVhclJlc3VsdHMoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHJcblx0ICAgIC8vIFBhcnNlIENvb2tpZXMgZGF0YVxyXG5cdCAgICBsZXQgcGFyc2VDb29raWVzID0gKG9iaikgPT4ge1xyXG5cdCAgICAgICAgbGV0ICRsYXN0RmlsdGVyID0ge307XHJcblxyXG5cdCAgICAgICAgZm9yKHZhciBrZXkgaW4gb2JqKSB7XHJcblx0ICAgICAgICAgICAgbGV0ICRmaWx0ZXIgPSBmaWx0ZXJzW2tleV0sXHJcblx0ICAgICAgICAgICAgICAgIGlkID0gb2JqW2tleV07XHJcblxyXG5cdCAgICAgICAgICAgIGlmKHR5cGVvZiBpZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHQgICAgICAgICAgICAgICAgdXBkYXRlRmlsdGVyT25DaGFuZ2Uoa2V5LCBpZCk7XHJcblxyXG5cdCAgICAgICAgICAgICAgICAkZmlsdGVyXHJcblx0ICAgICAgICAgICAgICAgICAgICAudmFsKGlkKVxyXG5cdCAgICAgICAgICAgICAgICAgICAgLnByZXYoKVxyXG5cdCAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2J1dHRvbicpXHJcblx0ICAgICAgICAgICAgICAgICAgICAudGV4dCgkKCdvcHRpb246c2VsZWN0ZWQnLCAkZmlsdGVyKS50ZXh0KCkpXHJcblxyXG5cdCAgICAgICAgICAgICAgICAkbGFzdEZpbHRlciA9ICRmaWx0ZXJcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblxyXG5cdCAgICAgICAgJGxhc3RGaWx0ZXIudHJpZ2dlcignY2hhbmdlLmZpbHRlcicpO1xyXG5cdCAgICB9O1xyXG5cclxuXHQgICAgLy8gQ2xlYXIgUmVzdWx0c1xyXG5cdCAgICBsZXQgY2xlYXJSZXN1bHRzID0gKCkgPT4ge1xyXG5cdCAgICBcdGxldCBkYXRhID0ge1xyXG5cdCAgICBcdCAgICBxdWVyeUFsbDogJ3RydWUnXHJcblx0ICAgIFx0fVxyXG5cclxuXHQgICAgICAgIF90aGlzLnJlc2V0UGFnZSgpO1xyXG5cdCAgICAgICAgJG1hcHBlclJlc3VsdHMuZW1wdHkoKTtcclxuXHQgICAgXHRfdGhpcy5nZXRSZXN1bHQocmVzdWx0RW5kcG9pbnQsIHBhcnNlUmVzdWx0cywgZGF0YSk7XHJcblx0ICAgICAgICBDb29raWVzLnJlbW92ZSgnc29sdXRpb25GaWx0ZXJzJyk7XHJcblx0ICAgIH07XHJcblxyXG5cdCAgICAvLyBQYXJzZSBSZXN1bHQgc2V0XHJcblx0ICAgIGxldCBwYXJzZVJlc3VsdHMgPSAoZGF0YSkgPT4ge1xyXG5cdCAgICAgICAgbGV0IHNvbHV0aW9uc1RlbXBsYXRlID0gJCgnI2RvdFNvbHV0aW9uc1RlbXBsYXRlJykuaHRtbCgpLFxyXG5cdCAgICAgICAgXHRfY29udGVudCA9ICcnO1xyXG5cclxuXHQgICAgICAgIGxldCBfdGhpcyA9IHRoaXMsXHJcblx0ICAgICAgICAgICAgbG93ZXJMaW1pdCA9IChfdGhpcy5jdXJycGFnZSAtIDEpICogX3RoaXMubG9hZExpbWl0LFxyXG5cdCAgICAgICAgICAgIHVwcGVyTGltaXQgPSBfdGhpcy5jdXJycGFnZSAqIF90aGlzLmxvYWRMaW1pdCxcclxuXHQgICAgICAgICAgICBwYWdlUmVzdWx0cyA9IFtdLFxyXG5cdCAgICAgICAgICAgIGludGVydmFsID0gMjAwO1xyXG5cclxuXHQgICAgICAgIF90aGlzLnJlc3VsdHMgPSBkYXRhO1xyXG5cclxuXHQgICAgICAgIGZvcihsZXQgaSA9IGxvd2VyTGltaXQ7IGkgPCB1cHBlckxpbWl0OyBpKyspIHtcclxuXHQgICAgICAgICAgICBpZih0eXBlb2YgX3RoaXMucmVzdWx0c1tpXSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG5cdCAgICAgICAgICAgICAgICBwYWdlUmVzdWx0cy5wdXNoKF90aGlzLnJlc3VsdHNbaV0pO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHJcblx0ICAgICAgICBpZihfdGhpcy5yZXN1bHRzLmxlbmd0aCA+IDkpIHtcclxuXHRcdCAgICAgICAgJCgnLnNob3ctbW9yZScpLnNob3coKTtcclxuXHRcdCAgICB9IGVsc2Uge1xyXG5cdFx0ICAgICAgICAkKCcuc2hvdy1tb3JlJykuaGlkZSgpO1xyXG5cdFx0ICAgIH1cclxuXHJcblx0ICAgICAgICAkbWFwcGVyUmVzdWx0cy5hcHBlbmQoZG9ULnRlbXBsYXRlKHNvbHV0aW9uc1RlbXBsYXRlKShwYWdlUmVzdWx0cykpO1xyXG5cclxuXHQgICAgICAgICQoJy5jYXJkLXRpbGVzJykubWF0Y2hIZWlnaHQoKTtcclxuXHJcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIEZhZGUgSW5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgJCgnLnJlc3VsdCcsIHRoaXMucmVzdWx0c0NvbnQpLmVhY2goZnVuY3Rpb24oKXtcclxuXHQgICAgICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuXHQgICAgICAgICAgICBpZigkdGhpcy5oYXNDbGFzcygndmlzaWJsZScpKSByZXR1cm47XHJcblxyXG5cdCAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHQgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcclxuXHQgICAgICAgICAgICAgICAgLy8gJCgnLnRodW1ibmFpbCcsICR0aGlzKS5zd2FwSW1hZ2Uoe2JyZWFrcG9pbnQ6IDc2OCwgcmV2ZXJzZTogdHJ1ZX0pO1xyXG5cclxuXHQgICAgICAgICAgICB9LCBpbnRlcnZhbCk7XHJcblxyXG5cdCAgICAgICAgICAgIGludGVydmFsID0gaW50ZXJ2YWwgKyA1MDtcclxuXHQgICAgICAgIH0pO1xyXG5cclxuXHQgICAgICAgIGlmKF90aGlzLmN1cnJwYWdlID09PSAxKXtcclxuXHQgICAgICAgIFx0X3RoaXMuY3VycnBhZ2UrKztcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHJcblx0ICAgIC8vIFVwZGF0ZSB0aGUgbmV4dCBmaWx0ZXJcclxuXHQgICAgbGV0IHVwZGF0ZUZpbHRlck9uQ2hhbmdlID0gKGtleSwgaWQpID0+IHtcclxuXHQgICAgICAgIGxldCBkYXRhc2V0ID0ge307XHJcblxyXG5cdCAgICAgICAgc3dpdGNoKGtleSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgJ2luZHVzdHJ5JzpcclxuXHQgICAgICAgICAgICAgICAgZGF0YXNldCA9IGpzb25RdWVyeSgnaW5kdXN0cmllc1tpZD0nICsgaWQgKyddLmRlcGFydG1lbnRzJywge2RhdGE6IHNlbGVjdGlvbkRhdGF9KS52YWx1ZTtcclxuXHQgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlT3B0aW9ucyhkYXRhc2V0LCBmaWx0ZXJzLmRlcGFydG1lbnQsIGxhYmVscy5kZXBhcnRtZW50KTtcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cdCAgICAgICAgICAgIGNhc2UgJ2RlcGFydG1lbnQnOlxyXG5cdCAgICAgICAgICAgICAgICBkYXRhc2V0ID0ganNvblF1ZXJ5KCdpbmR1c3RyaWVzLmRlcGFydG1lbnRzW2lkPScgKyBpZCArJ10uc2VydmljZXMnLCB7ZGF0YTogc2VsZWN0aW9uRGF0YX0pLnZhbHVlO1xyXG5cdCAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVPcHRpb25zKGRhdGFzZXQsIGZpbHRlcnMuc2VydmljZSwgbGFiZWxzLnNlcnZpY2UpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcblx0ICAgICAgICAgICAgY2FzZSAnc2VydmljZSc6XHJcblx0ICAgICAgICAgICAgICAgIGRhdGFzZXQgPSBqc29uUXVlcnkoJ2luZHVzdHJpZXMuZGVwYXJ0bWVudHMuc2VydmljZXNbaWQ9JyArIGlkICsnXS5idXNpbmVzc2VzJywge2RhdGE6IHNlbGVjdGlvbkRhdGF9KS52YWx1ZTtcclxuXHQgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlT3B0aW9ucyhkYXRhc2V0LCBmaWx0ZXJzLmJ1c2luZXNzLCBsYWJlbHMuYnVzaW5lc3MpO1xyXG5cdCAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHJcblx0ICAgIC8vIEhpZGUgdGhlIGZpbHRlcnNcclxuXHQgICAgbGV0IGhpZGVGaWx0ZXJzID0gKGtleSkgPT4ge1xyXG5cdCAgICAgICAgc3dpdGNoKGtleSkge1xyXG5cdCAgICAgICAgICAgIGNhc2UgJ2luZHVzdHJ5JzpcclxuXHQgICAgICAgICAgICAgICAgZmlsdGVycy5kZXBhcnRtZW50XHJcblx0ICAgICAgICAgICAgICAgICAgICAudmFsKG51bGwpXHJcblx0ICAgICAgICAgICAgICAgICAgICAucGFyZW50KCkuZmFkZU91dCgpO1xyXG5cdCAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXHJcblx0ICAgICAgICAgICAgY2FzZSAnZGVwYXJ0bWVudCc6XHJcblx0ICAgICAgICAgICAgICAgIGZpbHRlcnMuc2VydmljZVxyXG5cdCAgICAgICAgICAgICAgICAgICAgLnZhbChudWxsKVxyXG5cdCAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpLmZhZGVPdXQoKTtcclxuXHQgICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xyXG5cdCAgICAgICAgICAgIGNhc2UgJ3NlcnZpY2UnOlxyXG5cdCAgICAgICAgICAgICAgICBmaWx0ZXJzLmJ1c2luZXNzXHJcblx0ICAgICAgICAgICAgICAgICAgICAudmFsKG51bGwpXHJcblx0ICAgICAgICAgICAgICAgICAgICAucGFyZW50KCkuZmFkZU91dCgpO1xyXG5cdCAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXHJcblx0ICAgICAgICAgICAgZGVmYXVsdDpcclxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblxyXG5cdCAgICBsZXQgcmVzZXREcm9wZG93blRleHQgPSAoKSA9PiB7XHJcblx0ICAgIFx0JCgnLmZpbHRlci1pdGVtOm5vdChcIi5maWx0ZXItaXRlbS0tcmVzZXRcIiknKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdCAgICBcdFx0bGV0ICR0aGlzID0gJChlbGUpO1xyXG5cclxuXHQgICAgXHRcdGxldCBkZWZhdWx0TGFiZWwgPSAkdGhpcy5maW5kKCdzZWxlY3Qgb3B0aW9uOmZpcnN0LWNoaWxkJykudGV4dCgpO1xyXG5cdCAgICBcdFx0JHRoaXMuZmluZCgnLmRyb3Bkb3duLWNvcHkgYnV0dG9uJykudGV4dChkZWZhdWx0TGFiZWwpO1xyXG5cdCAgICBcdH0pO1xyXG5cdCAgICB9XHJcblxyXG5cdCAgICAvL0xvYWQgbW9yZSB0aWxlc1xyXG5cdCAgICAkKCcuc2hvdy1tb3JlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0ICAgICAgICBwYXJzZVJlc3VsdHModGhpcy5yZXN1bHRzKTtcclxuXHQgICAgICAgIHRoaXMudG9nZ2xlTG9hZE1vcmUoKTtcclxuXHQgICAgfSk7XHJcblxyXG5cdCAgICBfdGhpcy5nZXRSZXN1bHQob3B0aW9uc0VuZHBvaW50LCBwYXJzZUZpbHRlcnMpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlT3B0aW9ucyhjb250ZXh0LCAkZmlsdGVyLCBsYWJlbCkge1xyXG5cdCAgICBsZXQgZXZhbFN0ciA9IHRoaXMub3B0aW9uVGVtcEZuKHtkYXRhOiBjb250ZXh0fSk7XHJcblxyXG5cdCAgICAkZmlsdGVyXHJcblx0ICAgICAgICAuaHRtbChldmFsU3RyKVxyXG5cdCAgICAgICAgLnByZXBlbmQoJCgnPG9wdGlvbiB2YWwgPSBcIlwiIHNlbGVjdGVkPicgKyBsYWJlbCArICc8L29wdGlvbj4nKSlcclxuXHQgICAgICAgIC5wYXJlbnQoKVxyXG5cdCAgICAgICAgLmZhZGVJbigpO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlTG9hZE1vcmUoKSB7XHJcblx0ICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG5cdCAgICBpZihfdGhpcy5jdXJycGFnZSAqIF90aGlzLmxvYWRMaW1pdCA8IF90aGlzLnJlc3VsdHMubGVuZ3RoKSB7XHJcblx0ICAgICAgICBfdGhpcy5jdXJycGFnZSsrO1xyXG5cclxuXHQgICAgICAgICQoJy5zaG93LW1vcmUnKS5zaG93KCk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAkKCcuc2hvdy1tb3JlJykuaGlkZSgpO1xyXG5cdCAgICB9XHJcblx0fVxyXG5cclxuXHRyZXNldFBhZ2UoKSB7XHJcblx0XHRsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuXHRcdF90aGlzLmN1cnJwYWdlID0gMTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFqYXggY2FsbCB0byBlbmRwb2ludFxyXG5cdCAqL1xyXG5cdGdldFJlc3VsdChlbmRwb2ludCwgY2IsIGRhdGEpIHtcclxuXHQgICAgbGV0IHBvc3REYXRhID0ge307XHJcblxyXG5cdCAgICAkLmV4dGVuZChwb3N0RGF0YSwgZGF0YSk7XHJcblxyXG5cdCAgICAkLmFqYXgoe1xyXG5cdCAgICAgICAgdXJsOiBlbmRwb2ludCxcclxuXHQgICAgICAgIGRhdGE6IHBvc3REYXRhLFxyXG5cdCAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHQgICAgICAgIGNhY2hlOiBmYWxzZVxyXG5cdCAgICB9KS5kb25lKGNiKTtcclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IGpzb25RdWVyeSBmcm9tICdqc29uLXF1ZXJ5JztcclxuaW1wb3J0IGRvVCBmcm9tICdkb3QnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmVMb2NhdG9yIHtcclxuXHRjb25zdHJ1Y3Rvcih0eXBlKSB7XHJcblx0XHQvLyBTVEFSVDogQXBwZW5kIG1hcCBzY3JpcHQgaW50byBib2R5XHJcblx0XHQvLyBsZXQgbWFwdXJsID0gJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXB1cmwnKSxcclxuXHRcdC8vIFx0YXBpa2V5ID0gJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXBrZXknKTtcclxuXHJcblx0XHQvLyBpZiAodHlwZSA9PT0gJ2dvb2dsZScpe1xyXG5cdFx0Ly8gXHRtYXB1cmwgPSAoJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXB1cmwnKSkgPyAkKCcucmVzZWxsZXItbG9jYXRvcicpLmRhdGEoJ21hcHVybCcpIDogJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9saWJyYXJpZXM9Z2VvbWV0cnkma2V5PSc7XHJcblx0XHQvLyBcdGFwaWtleSA9ICgkKCcucmVzZWxsZXItbG9jYXRvcicpLmRhdGEoJ21hcGtleScpKSA/ICQoJy5yZXNlbGxlci1sb2NhdG9yJykuZGF0YSgnbWFwa2V5JykgOiAnQUl6YVN5QzNSVTFlaFBGZXZJMXVHZXM0OXdJcFpLaFI3S0h3cmNJJztcclxuXHJcblx0XHQvLyBcdHRoaXMuYXBwZW5kTWFwU2NyaXB0cyhtYXB1cmwsIGFwaWtleSk7XHJcblx0XHQvLyB9IGVsc2UgaWYgKHR5cGUgPT09ICdiYWlkdScpe1xyXG5cdFx0Ly8gXHRtYXB1cmwgPSAoJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXB1cmwnKSkgPyAkKCcucmVzZWxsZXItbG9jYXRvcicpLmRhdGEoJ21hcHVybCcpIDogJ2h0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9hcGk/dj0yLjAmYWs9JztcclxuXHRcdC8vIFx0YXBpa2V5ID0gKCQoJy5yZXNlbGxlci1sb2NhdG9yJykuZGF0YSgnbWFwa2V5JykpID8gJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXBrZXknKSA6ICdHb1I3TjVrRThVMFRWdnNhaTdlNk1PNmQ3aUVseWhRUic7XHJcblxyXG5cdFx0Ly8gXHR0aGlzLmFwcGVuZE1hcFNjcmlwdHMobWFwdXJsLCBhcGlrZXkpO1xyXG5cdFx0Ly8gfSBlbHNlIHtcclxuXHRcdC8vIFx0bWFwdXJsID0gKCQoJy5yZXNlbGxlci1sb2NhdG9yJykuZGF0YSgnbWFwdXJsJykpID8gJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXB1cmwnKSA6ICdodHRwczovL29wZW5hcGkubWFwLm5hdmVyLmNvbS9vcGVuYXBpL3YzL21hcHMuanM/Y2xpZW50SWQ9JztcclxuXHRcdC8vIFx0YXBpa2V5ID0gKCQoJy5yZXNlbGxlci1sb2NhdG9yJykuZGF0YSgnbWFwa2V5JykpID8gJCgnLnJlc2VsbGVyLWxvY2F0b3InKS5kYXRhKCdtYXBrZXknKSA6ICdZd2JDcFZHMWRLeEJVYW53OVE4TSc7XHJcblxyXG5cdFx0Ly8gXHR0aGlzLmFwcGVuZE1hcFNjcmlwdHMobWFwdXJsLCBhcGlrZXkpO1xyXG5cdFx0Ly8gfVxyXG5cdFx0Ly8gRU5EXHJcblxyXG5cclxuXHRcdC8vIERlZmluaXRpb25zXHJcblx0XHRsZXQgX3RoaXMgPSB0aGlzLFxyXG5cdFx0XHQkcmVzZWxsZXJGaWx0ZXIgPSAkKCcucmVzZWxsZXItbG9jYXRvcl9fZmlsdGVycycpLFxyXG5cdFx0XHQkcmVzZWxsZXJTZWFyY2ggPSAkKCcuYnRuLXJlc2VsbGVyLXNlYXJjaCcsICRyZXNlbGxlckZpbHRlcik7XHJcblxyXG5cdFx0bGV0XHRwcm92aW5jZURhdGEgPSBKU09OLnBhcnNlKCQoJyNwcm92aW5jZURhdGEnKS5odG1sKCkpLFxyXG5cdFx0XHRwcm9kdWN0RGF0YSA9IEpTT04ucGFyc2UoJCgnI3Byb2R1Y3REYXRhJykuaHRtbCgpKTtcclxuXHJcblx0XHRfdGhpcy5vcHRpb25UZW1wbGF0ZSA9IGRvVC50ZW1wbGF0ZShcInt7fml0LmRhdGEgOnNlbGVjdE9wdGlvbjppbmRleH19PG9wdGlvbiB2YWx1ZT0gXFxcInt7PXNlbGVjdE9wdGlvbi52YWx1ZX19XFxcIj57ez1zZWxlY3RPcHRpb24ubmFtZX19PC9vcHRpb24+e3t+fX1cIik7XHJcblxyXG5cclxuXHRcdC8vIFNUQVJUOiBGaWx0ZXIgVUkgZXZlbnQgaGFuZGxlcnNcclxuXHRcdGxldCAkY29weSA9ICQoJy5kcm9wZG93bi1jb3B5JywgJHJlc2VsbGVyRmlsdGVyKTtcclxuXHRcdCRjb3B5Lm1hcCgoaSwgZWxlKSA9PiB7XHJcblx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKSxcclxuXHRcdFx0XHQkc2VsZWN0ID0gJHRoaXMubmV4dCgpLFxyXG5cdFx0XHRcdCRidXR0b24gPSAkdGhpcy5maW5kKCdidXR0b24nKTtcclxuXHJcblx0XHRcdCRzZWxlY3Qub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRpZiAoISR0aGlzLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdFx0XHQkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0JHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JCgnLmRyb3Bkb3duLWNvcHknKS5ub3QoJHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkc2VsZWN0Lm9uKCdjaGFuZ2UnLCAoKSA9PiB7XHJcblx0XHRcdFx0bGV0ICRvcHRpb24gPSAkc2VsZWN0LmZpbmQoJzpzZWxlY3RlZCcpO1xyXG5cclxuXHRcdFx0XHQkc2VsZWN0LnByZXYoKS5maW5kKCdidXR0b24nKS50ZXh0KCRvcHRpb24udGV4dCgpKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkKHdpbmRvdykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICgkdGhpcy5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG5cdFx0XHRcdFx0JHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdC8vIEVORFxyXG5cclxuXHJcblx0XHQvLyBTVEFSVDogUmVtb3ZlIGFsbCBhY3RpdmUgY2xhc3Mgb24gZHJvcGRvd24gb24gRVNDIGtleSBwcmVzc1xyXG5cdFx0JChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRpZiAoZS5rZXlDb2RlID09IDI3KSB7XHJcblx0XHRcdFx0JCgnLmFjdGl2ZScsICRyZXNlbGxlckZpbHRlcikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdC8vIEVORFxyXG5cclxuXHJcblx0XHQvLyBTVEFSVDogQ2hhbmdlIGNpdHkgb3B0aW9ucyBiYXNlZCBvbiBwcm92aW5jZSBzZWxlY3RlZFxyXG5cdFx0bGV0IGNpdHlMYWJlbCA9ICQoJyNjaXR5RmlsdGVyJykucGFyZW50KCkuZGF0YSgnbGFiZWwnKTtcclxuXHJcblx0XHQkKCcjcHJvdmluY2VGaWx0ZXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0bGV0ICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0XHR2YWx1ZSA9ICR0aGlzLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLnZhbCgpLFxyXG5cdFx0XHRcdGRhdGEgPSB7fTtcclxuXHJcblx0XHRcdGRhdGEgPSBqc29uUXVlcnkoJ3Byb3ZpbmNlW3ZhbHVlPScgKyB2YWx1ZSArICddLmNpdGllcycsIHtkYXRhOiBwcm92aW5jZURhdGF9KS52YWx1ZTtcclxuXHJcblx0XHRcdF90aGlzLnVwZGF0ZU9wdGlvbnMoZGF0YSwgJCgnI2NpdHlGaWx0ZXInKSwgY2l0eUxhYmVsLCBfdGhpcy5vcHRpb25UZW1wbGF0ZSk7XHJcblx0XHR9KTtcclxuXHRcdC8vIEVORFxyXG5cclxuXHRcdC8vIFNUQVJUOiBDaGFuZ2UgcHJvZHVjdCBvcHRpb25zIGJhc2VkIG9uIGNhdGVnb3J5IHNlbGVjdGVkXHJcblx0XHRsZXQgcHJvZHVjdExhYmVsID0gJCgnI3Byb2R1Y3RGaWx0ZXInKS5wYXJlbnQoKS5kYXRhKCdsYWJlbCcpO1xyXG5cclxuXHRcdCQoJyNjYXRlZ29yeUZpbHRlcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRsZXQgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdHZhbHVlID0gJHRoaXMuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCksXHJcblx0XHRcdFx0ZGF0YSA9IHt9O1xyXG5cclxuXHRcdFx0ZGF0YSA9IGpzb25RdWVyeSgncHJvZHVjdFt2YWx1ZT0nICsgdmFsdWUgKyAnXS5wcm9kdWN0cycsIHtkYXRhOiBwcm9kdWN0RGF0YX0pLnZhbHVlO1xyXG5cclxuXHRcdFx0X3RoaXMudXBkYXRlT3B0aW9ucyhkYXRhLCAkKCcjcHJvZHVjdEZpbHRlcicpLCBwcm9kdWN0TGFiZWwsIF90aGlzLm9wdGlvblRlbXBsYXRlKTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gRU5EXHJcblxyXG5cdFx0Ly8gU1RBUlQ6IFN3aXRjaCB2aWV3XHJcblx0XHQkKCcuc3dpdGNoLXZpZXcnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0aWYoJCgnLnJlc2VsbGVyLXBhcnRuZXJzLS1jb250ZW50JykuaGFzQ2xhc3MoJ2hpZGUnKSl7XHJcblx0XHRcdFx0aWYgKCQoJyNyZXNlbGxlck1hcCcpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0JCgnI3Jlc2VsbGVyTWFwJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JCgnLnJlc2VsbGVyLXBhcnRuZXJzLS1jb250ZW50JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHQkKCcucmVzZWxsZXItcGFydG5lcnMtLWxpc3QnKS5hZGRDbGFzcygnaGlkZScpO1xyXG5cdFx0XHRcdCRyZXNlbGxlclNlYXJjaC50cmlnZ2VyKCdjbGljaycpO1xyXG5cdFx0XHRcdF90aGlzLnNldFBhZGRpbmdzKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYgKCQoJyNyZXNlbGxlck1hcCcpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0JCgnI3Jlc2VsbGVyTWFwJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JCgnLnJlc2VsbGVyLXBhcnRuZXJzLS1jb250ZW50JykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHQkKCcucmVzZWxsZXItcGFydG5lcnMtLWxpc3QnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdC8vIEVORFxyXG5cclxuXHJcblx0XHQvLyBTVEFSVDogVmFsaWRhdGlvbiBjaGVjayBhbmQgQVBJIGNhbGwgb24gc2VhcmNoXHJcblx0XHQkcmVzZWxsZXJTZWFyY2gub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0bGV0ICRwcm92aW5jZUZpbHRlciA9ICQoJyNwcm92aW5jZScpLFxyXG5cdFx0XHRcdHByb3ZpbmNlID0gJCgnI3Byb3ZpbmNlRmlsdGVyJykudmFsKCksXHJcblx0XHRcdFx0JGNpdHlGaWx0ZXIgPSAkKCcjY2l0eScpLFxyXG5cdFx0XHRcdGNpdHkgPSAkKCcjY2l0eUZpbHRlcicpLnZhbCgpLFxyXG5cdFx0XHRcdCRyZXNlbGxlckZpbHRlciA9ICQoJyNyZXNlbGxlcicpLFxyXG5cdFx0XHRcdHJlc2VsbGVyVHlwZSA9ICQoJyNyZXNlbGxlckZpbHRlcicpLnZhbCgpLFxyXG5cdFx0XHRcdCRjYXRlZ29yeUZpbHRlciA9ICQoJyNjYXRlZ29yeScpLFxyXG5cdFx0XHRcdHByb2R1Y3RDYXRlZ29yeSA9ICQoJyNjYXRlZ29yeUZpbHRlcicpLnZhbCgpLFxyXG5cdFx0XHRcdCRwcm9kdWN0RmlsdGVyID0gJCgnI3Byb2R1Y3QnKSxcclxuXHRcdFx0XHRwcm9kdWN0TmFtZSA9ICQoJyNwcm9kdWN0RmlsdGVyJykudmFsKCksXHJcblx0XHRcdFx0JGRlYWxlckZpbHRlciA9ICQoJyNkZWFsZXInKSxcclxuXHRcdFx0XHRkZWFsZXJOYW1lID0gJCgnI2RlYWxlclNlYXJjaCcpLnZhbCgpLFxyXG5cdFx0XHRcdGZpbHRlclZhbGlkYXRlZCA9IGZhbHNlLFxyXG5cdFx0XHRcdHVybCA9ICQoJy5yZXNlbGxlci1sb2NhdG9yJykuZGF0YSgnZW5kcG9pbnQnKSxcclxuXHRcdFx0XHRkYXRhID0ge307XHJcblxyXG5cdFx0XHQvLyB0ZXN0IG5hdmVyXHJcblx0XHRcdC8vIHVybCA9ICcvYXNzZXRzL2Z1amkteGVyb3gvYXBpL25ldy1yZXNlbGxlcjIuanNvbic7XHJcblxyXG5cdFx0XHRpZiAocHJvdmluY2UgPT09IFwiXCIpIHtcclxuXHRcdFx0XHQkKCcuZXJyb3ItbXNnJywgJHByb3ZpbmNlRmlsdGVyKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCgnLmVycm9yLW1zZycsICRwcm92aW5jZUZpbHRlcikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdGZpbHRlclZhbGlkYXRlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKGZpbHRlclZhbGlkYXRlZCl7XHJcblx0XHRcdFx0ZGF0YSA9IHsgcHJvdmluY2UsIGNpdHksIHJlc2VsbGVyVHlwZSwgcHJvZHVjdENhdGVnb3J5LCBwcm9kdWN0TmFtZSwgZGVhbGVyTmFtZSB9O1xyXG5cclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gJ2dvb2dsZScpe1xyXG5cdFx0XHRcdFx0X3RoaXMuZ2V0UmVzdWx0cyh1cmwsIGRhdGEsIF90aGlzLnByb2Nlc3NNYXBSZXN1bHRzLCB0eXBlKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdiYWlkdScpe1xyXG5cdFx0XHRcdFx0X3RoaXMuZ2V0UmVzdWx0cyh1cmwsIGRhdGEsIF90aGlzLnByb2Nlc3NNYXBSZXN1bHRzLCB0eXBlKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ25hdmVyJyk7XHJcblx0XHRcdFx0XHRfdGhpcy5nZXRSZXN1bHRzKHVybCwgZGF0YSwgX3RoaXMucHJvY2Vzc01hcFJlc3VsdHMsIHR5cGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRhcHBlbmRNYXBTY3JpcHRzKG1hcHVybCwgYXBpa2V5KSB7XHJcblx0XHRsZXQgc2NyaXB0U3RyID0gbWFwdXJsICsgYXBpa2V5O1xyXG5cclxuXHRcdGxldCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuXHRcdHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcblx0XHRzY3JpcHQuc3JjID0gc2NyaXB0U3RyO1xyXG5cdFx0Ly8gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG5cdH1cclxuXHJcblx0cHJvY2Vzc01hcFJlc3VsdHMoZGF0YSwgdHlwZSkge1xyXG5cdFx0cmVuZGVyUmVzdWx0cyhkYXRhKTtcclxuXHJcblx0XHRpZigkKCcjcmVzZWxsZXJNYXAnKS5sZW5ndGgpe1xyXG5cdFx0XHRpZiAodHlwZSA9PT0gJ2dvb2dsZScpe1xyXG5cdFx0XHRcdGlmKCQoJy5zd2l0Y2gtdmlldycpLmhhc0NsYXNzKCdoaWRlJykpe1xyXG5cdFx0XHRcdFx0JCgnLnN3aXRjaC12aWV3JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmKCQoJyNyZXNlbGxlck1hcCcpLmhhc0NsYXNzKCdoaWRlJykpe1xyXG5cdFx0XHRcdFx0aWYgKCEkKCcucmVzZWxsZXItcGFydG5lcnMtLWNvbnRlbnQnKS5oYXNDbGFzcygnaGlkZScpKXtcclxuXHRcdFx0XHRcdFx0JCgnI3Jlc2VsbGVyTWFwJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gTWFwIG9wdGlvbnNcclxuXHRcdFx0XHRsZXQgbWFwLFxyXG5cdFx0XHRcdFx0Ym91bmQgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCksXHJcblx0XHRcdFx0XHR0b29sdGlwID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xyXG5cdFx0XHRcdFx0XHRtYXhXaWR0aDogMjAwXHJcblx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdG1hcE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRcdHpvb206IDEyLFxyXG5cdFx0XHRcdFx0XHRtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZWxsZXJNYXBcIiksIG1hcE9wdGlvbnMpO1xyXG5cclxuXHRcdFx0XHRpZihkYXRhLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRkYXRhLmZvckVhY2goZnVuY3Rpb24oc3RvcmUsIGluZGV4KXtcclxuXHRcdFx0XHRcdFx0Ly8gU1RBUlQ6IENyZWF0ZSBtYXJrZXIgYW5kIGFkZCBtYXJrZXJcclxuXHRcdFx0XHRcdFx0bGV0IHBvc2l0aW9uID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhzdG9yZS5sYXQsIHN0b3JlLmxvbmcpO1xyXG5cdFx0XHRcdFx0XHRsZXQgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcblx0XHRcdFx0XHRcdFx0cG9zaXRpb246IHBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdG1hcDogbWFwLFxyXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBcIjxkaXYgY2xhc3M9J21hcC1wb3AtdXAnIHN0eWxlID0gJ2hlaWdodDphdXRvO3dpZHRoOjIwMHB4Jz48c3Ryb25nPlwiICsgc3RvcmUubmFtZSArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFwiPC9zdHJvbmc+PGJyIC8+XCIgKyBzdG9yZS5hZGRyZXNzXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gRU5EXHJcblxyXG5cdFx0XHRcdFx0XHQvLyBTVEFSVDogTWFrZSBpbmZvIHdpbmRvdyBmb3IgZWFjaCBtYXJrZXIgYW5kIGFkZCB0byBtYXBcclxuXHRcdFx0XHRcdFx0bWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0b29sdGlwLnNldENvbnRlbnQobWFya2VyLnRpdGxlKTtcclxuXHRcdFx0XHRcdFx0XHR0b29sdGlwLm9wZW4obWFwLCBtYXJrZXIpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdG1hcC5hZGRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dG9vbHRpcC5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0Ly8gRU5EXHJcblxyXG5cdFx0XHRcdFx0XHRib3VuZC5leHRlbmQobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhzdG9yZS5sYXQsIHN0b3JlLmxvbmcpKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdG1hcC5wYW5Ubyhib3VuZC5nZXRDZW50ZXIoKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYoISQoJy5zd2l0Y2gtdmlldycpLmhhc0NsYXNzKCdoaWRlJykpe1xyXG5cdFx0XHRcdFx0XHQkKCcuc3dpdGNoLXZpZXcnKS5hZGRDbGFzcygnaGlkZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmKCEkKCcjcmVzZWxsZXJNYXAnKS5oYXNDbGFzcygnaGlkZScpKXtcclxuXHRcdFx0XHRcdFx0JCgnI3Jlc2VsbGVyTWFwJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHQvLyBcdG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocCkge1xyXG5cdFx0XHRcdFx0Ly8gXHRcdGxldCBwb3MgPSB7XHJcblx0XHRcdFx0XHQvLyBcdFx0XHRsYXQ6IHAuY29vcmRzLmxhdGl0dWRlLFxyXG5cdFx0XHRcdFx0Ly8gXHRcdFx0bG5nOiBwLmNvb3Jkcy5sb25naXR1ZGVcclxuXHRcdFx0XHRcdC8vIFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdC8vIFx0XHRsZXQgbXlQb3MgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBvcy5sYXQsIHBvcy5sbmcpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFx0XHRtYXAucGFuVG8obXlQb3MpO1xyXG5cdFx0XHRcdFx0Ly8gXHR9KTtcclxuXHRcdFx0XHRcdC8vIH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFNUQVJUOiBTaG93IG9uIG1hcCBidXR0b24gaGFuZGxlclxyXG5cdFx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsJy5idG4tbWFwLXNob3cnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0XHRcdGxldCAkdGFyZ2V0ID0gJCgnLnJlc2VsbGVyLW1hcCcpO1xyXG5cclxuXHRcdFx0XHRcdCAkKCdodG1sLCBib2R5Jykuc3RvcCh0cnVlLCB0cnVlKS5hbmltYXRlKHtcclxuXHRcdFx0XHRcdFx0c2Nyb2xsVG9wOiAkdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDEwMFxyXG5cdFx0XHRcdFx0fSwgNTAwKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdFx0XHRsYXQgPSAkdGhpcy5kYXRhKCdsYXQnKSxcclxuXHRcdFx0XHRcdFx0bG9uZyA9ICR0aGlzLmRhdGEoJ2xvbmcnKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgc2hvd01hcmtlciA9IChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdGxldCBwb3NpdGlvbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb25nKTtcclxuXHJcblx0XHRcdFx0XHRcdG1hcC5zZXRab29tKDE1KTtcclxuXHRcdFx0XHRcdFx0bWFwLnBhblRvKHBvc2l0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzaG93TWFya2VyKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gRU5EXHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdiYWlkdScpe1xyXG5cdFx0XHRcdGlmKCQoJy5zd2l0Y2gtdmlldycpLmhhc0NsYXNzKCdoaWRlJykpe1xyXG5cdFx0XHRcdFx0JCgnLnN3aXRjaC12aWV3JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICgkKCcjcmVzZWxsZXJNYXAnKS5oYXNDbGFzcygnaGlkZScpKSB7XHJcblx0XHRcdFx0XHRpZiAoISQoJy5yZXNlbGxlci1wYXJ0bmVycy0tY29udGVudCcpLmhhc0NsYXNzKCdoaWRlJykpIHtcclxuXHRcdFx0XHRcdFx0JCgnI3Jlc2VsbGVyTWFwJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGxldCBtYXAgPSBuZXcgQk1hcC5NYXAoXCJyZXNlbGxlck1hcFwiKSxcclxuXHRcdFx0XHRcdGJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKSxcclxuXHRcdFx0XHRcdHBvaW50cyA9IFtdO1xyXG5cclxuXHRcdFx0XHRpZihkYXRhLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKCk7XHJcblx0XHRcdFx0XHRtYXAuZW5hYmxlQ29udGludW91c1pvb20oKTtcclxuXHJcblx0XHRcdFx0XHRkYXRhLmZvckVhY2goZnVuY3Rpb24oc3RvcmUsIGluZGV4KXtcclxuXHRcdFx0XHRcdFx0Ly8gU1RBUlQ6IENyZWF0ZSBtYXJrZXIgYW5kIGFkZCBtYXJrZXJcclxuXHRcdFx0XHRcdFx0bGV0IHBvaW50ID0gbmV3IEJNYXAuUG9pbnQoc3RvcmUubG9uZywgc3RvcmUubGF0KSxcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ym91bmRzLmV4dGVuZChwb2ludCk7XHJcblx0XHRcdFx0XHRcdHBvaW50cy5wdXNoKHBvaW50KTtcclxuXHJcblx0XHRcdFx0XHRcdGxldCBvcHRzID0ge1xyXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiAyMDAsXHJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiAxMDAsXHJcblx0XHRcdFx0XHRcdFx0dGl0bGUgOiBzdG9yZS5uYW1lXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGxldCBjb250ZW50ID0gc3RvcmUuYWRkcmVzcztcclxuXHJcblx0XHRcdFx0XHRcdG1hcC5hZGRPdmVybGF5KG1hcmtlcik7XHJcblx0XHRcdFx0XHRcdC8vIEVORFxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU1RBUlQ6IE1ha2UgaW5mbyB3aW5kb3cgZm9yIGVhY2ggbWFya2VyIGFuZCBhZGQgdG8gbWFwXHJcblx0XHRcdFx0XHRcdG1hcmtlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHRcdGxldCBwID0gZS50YXJnZXQ7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGxldCBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHAuZ2V0UG9zaXRpb24oKS5sbmcsIHAuZ2V0UG9zaXRpb24oKS5sYXQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRsZXQgaW5mb1dpbmRvdyA9IG5ldyBCTWFwLkluZm9XaW5kb3coY29udGVudCwgb3B0cyk7XHJcblx0XHRcdFx0XHRcdFx0bWFwLm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3csIHBvaW50KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdC8vIEVORFxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gbWFwLmNlbnRlckFuZFpvb20oYm91bmRzLmdldENlbnRlcigpLCAxMyk7XHJcblx0XHRcdFx0XHRtYXAuc2V0Vmlld3BvcnQocG9pbnRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRpZighJCgnLnN3aXRjaC12aWV3JykuaGFzQ2xhc3MoJ2hpZGUnKSl7XHJcblx0XHRcdFx0XHRcdCQoJy5zd2l0Y2gtdmlldycpLmFkZENsYXNzKCdoaWRlJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYoISQoJyNyZXNlbGxlck1hcCcpLmhhc0NsYXNzKCdoaWRlJykpe1xyXG5cdFx0XHRcdFx0XHQkKCcjcmVzZWxsZXJNYXAnKS5hZGRDbGFzcygnaGlkZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIGxldCBnZW9sb2NhdGlvbiA9IG5ldyBCTWFwLkdlb2xvY2F0aW9uKCk7XHJcblx0XHRcdFx0XHQvLyBnZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocil7XHJcblx0XHRcdFx0XHQvLyBcdGlmKHRoaXMuZ2V0U3RhdHVzKCkgPT0gQk1BUF9TVEFUVVNfU1VDQ0VTUyl7XHJcblx0XHRcdFx0XHQvLyBcdFx0bGV0IG1rID0gbmV3IEJNYXAuTWFya2VyKHIucG9pbnQpO1xyXG5cdFx0XHRcdFx0Ly8gXHRcdG1hcC5hZGRPdmVybGF5KG1rKTtcclxuXHRcdFx0XHRcdC8vIFx0XHRtYXAuY2VudGVyQW5kWm9vbShyLnBvaW50LCAxMyk7XHJcblx0XHRcdFx0XHQvLyBcdH1cclxuXHRcdFx0XHRcdC8vIFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0Ly8gXHR9XHJcblx0XHRcdFx0XHQvLyB9LHtlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFNUQVJUOiBTaG93IG9uIG1hcCBidXR0b24gaGFuZGxlclxyXG5cdFx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsJy5idG4tbWFwLXNob3cnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0XHRcdGxldCAkdGFyZ2V0ID0gJCgnLnJlc2VsbGVyLW1hcCcpO1xyXG5cclxuXHRcdFx0XHRcdCAkKCdodG1sLCBib2R5Jykuc3RvcCh0cnVlLCB0cnVlKS5hbmltYXRlKHtcclxuXHRcdFx0XHRcdFx0c2Nyb2xsVG9wOiAkdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDEwMFxyXG5cdFx0XHRcdFx0fSwgNTAwKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdFx0XHRsYXQgPSAkdGhpcy5kYXRhKCdsYXQnKSxcclxuXHRcdFx0XHRcdFx0bG9uZyA9ICR0aGlzLmRhdGEoJ2xvbmcnKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgc2hvd01hcmtlciA9IChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdGxldCBwb3NpdGlvbiA9IG5ldyBCTWFwLlBvaW50KGxvbmcsIGxhdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRtYXAuc2V0Wm9vbSgxNSk7XHJcblx0XHRcdFx0XHRcdG1hcC5wYW5Ubyhwb3NpdGlvbik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2hvd01hcmtlcigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZigkKCcuc3dpdGNoLXZpZXcnKS5oYXNDbGFzcygnaGlkZScpKXtcclxuXHRcdFx0XHRcdCQoJy5zd2l0Y2gtdmlldycpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoJCgnI3Jlc2VsbGVyTWFwJykuaGFzQ2xhc3MoJ2hpZGUnKSkge1xyXG5cdFx0XHRcdFx0aWYgKCEkKCcucmVzZWxsZXItcGFydG5lcnMtLWNvbnRlbnQnKS5oYXNDbGFzcygnaGlkZScpKSB7XHJcblx0XHRcdFx0XHRcdCQoJyNyZXNlbGxlck1hcCcpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRsZXQgbWFwLFxyXG5cdFx0XHRcdFx0Ym91bmQsXHJcblx0XHRcdFx0XHR0b29sdGlwID0gbmV3IG5hdmVyLm1hcHMuSW5mb1dpbmRvdyh7XHJcblx0XHRcdFx0XHRcdG1heFdpZHRoOiAyMDBcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHRcdFx0bWFwT3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0em9vbTogNixcclxuXHRcdFx0XHRcdFx0bWFwVHlwZUlkOiBuYXZlci5tYXBzLk1hcFR5cGVJZC5OT1JNQUxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRtYXJrZXJzID0gW10sXHJcblx0XHRcdFx0XHRpbmZvV2luZG93cyA9IFtdLFxyXG5cdFx0XHRcdFx0cG9pbnRzID0gW107XHJcblxyXG5cdFx0XHRcdG1hcCA9IG5ldyBuYXZlci5tYXBzLk1hcCgncmVzZWxsZXJNYXAnLCBtYXBPcHRpb25zKTtcclxuXHJcblx0XHRcdFx0aWYoZGF0YS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0bGV0IG1pbkxhdCA9IGRhdGFbMF0ubGF0LFxyXG5cdFx0XHRcdFx0XHRtYXhMYXQgPSBkYXRhWzBdLmxhdCxcclxuXHRcdFx0XHRcdFx0bWluTG9uZyA9IGRhdGFbMF0ubG9uZyxcclxuXHRcdFx0XHRcdFx0bWF4TG9uZyA9IGRhdGFbMF0ubG9uZztcclxuXHJcblx0XHRcdFx0XHRkYXRhLmZvckVhY2goZnVuY3Rpb24oc3RvcmUsIGluZGV4KXtcclxuXHRcdFx0XHRcdFx0Ly8gU1RBUlQ6IENyZWF0ZSBtYXJrZXIgYW5kIGFkZCBtYXJrZXJcclxuXHRcdFx0XHRcdFx0bGV0IHBvc2l0aW9uID0gbmV3IG5hdmVyLm1hcHMuTGF0TG5nKHN0b3JlLmxhdCwgc3RvcmUubG9uZyk7XHJcblx0XHRcdFx0XHRcdGxldCBtYXJrZXIgPSBuZXcgbmF2ZXIubWFwcy5NYXJrZXIoe1xyXG5cdFx0XHRcdFx0XHRcdG1hcDogbWFwLFxyXG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBwb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHR0aXRsZTogXCI8ZGl2IGNsYXNzPSdtYXAtcG9wLXVwJyBzdHlsZSA9ICdoZWlnaHQ6YXV0bzt3aWR0aDoyMDBweCc+PHN0cm9uZz5cIiArIHN0b3JlLm5hbWUgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcIjwvc3Ryb25nPjxiciAvPlwiICsgc3RvcmUuYWRkcmVzc1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0Ly8gRU5EXHJcblxyXG5cdFx0XHRcdFx0XHRwb2ludHMucHVzaChwb3NpdGlvbik7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBTVEFSVDogR2V0IG1pbi9tYXggYm91bmRcclxuXHRcdFx0XHRcdFx0aWYobWluTGF0IDw9IHN0b3JlLmxhdCl7XHJcblx0XHRcdFx0XHRcdFx0bWluTGF0ID0gbWluTGF0O1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdG1pbkxhdCA9IHN0b3JlLmxhdFxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZihtaW5Mb25nIDw9IHN0b3JlLmxvbmcpe1xyXG5cdFx0XHRcdFx0XHRcdG1pbkxvbmcgPSBtaW5Mb25nO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdG1pbkxvbmcgPSBzdG9yZS5sb25nXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmKG1heExhdCA+PSBzdG9yZS5sYXQpe1xyXG5cdFx0XHRcdFx0XHRcdG1heExhdCA9IG1heExhdDtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRtYXhMYXQgPSBzdG9yZS5sYXRcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYobWF4TG9uZyA+PSBzdG9yZS5sb25nKXtcclxuXHRcdFx0XHRcdFx0XHRtYXhMb25nID0gbWF4TG9uZztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRtYXhMb25nID0gc3RvcmUubG9uZ1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdC8vIEVORFxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU1RBUlQ6IE1ha2UgaW5mbyB3aW5kb3cgZm9yIGVhY2ggbWFya2VyIGFuZCBhZGQgdG8gbWFwXHJcblx0XHRcdFx0XHRcdGxldCBpbmZvV2luZG93ID0gbmV3IG5hdmVyLm1hcHMuSW5mb1dpbmRvdyh7XHJcblx0XHRcdFx0XHRcdFx0Y29udGVudDogbWFya2VyLnRpdGxlXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlcik7XHJcblx0XHRcdFx0XHRcdGluZm9XaW5kb3dzLnB1c2goaW5mb1dpbmRvdyk7XHJcblx0XHRcdFx0XHRcdC8vIEVORFxyXG5cclxuXHRcdFx0XHRcdFx0bmF2ZXIubWFwcy5FdmVudC5hZGRMaXN0ZW5lcihtYXAsIFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGluZm9XaW5kb3cuY2xvc2UoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRpZihwb2ludHMubGVuZ3RoID09PSAxKXtcclxuXHRcdFx0XHRcdFx0bWFwLnNldENlbnRlcihwb2ludHNbMF0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vIGJvdW5kID0gbmV3IG5hdmVyLm1hcHMuTGF0TG5nQm91bmRzKG5ldyBuYXZlci5tYXBzLkxhdExuZyhtaW5MYXQsIG1pbkxvbmcpLCBuZXcgbmF2ZXIubWFwcy5MYXRMbmcobWF4TGF0LCBtYXhMb25nKSk7XHJcblx0XHRcdFx0XHRcdG1hcC5maXRCb3VuZHMocG9pbnRzKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBtYXAuc2V0Q2VudGVyKGJvdW5kLmdldENlbnRlcigpKTtcclxuXHJcblxyXG5cdFx0XHRcdFx0Ly8gU1RBUlQ6IEluZm8gd2luZG93IGhhbmRsZXJzXHJcblx0XHRcdFx0XHRuYXZlci5tYXBzLkV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2lkbGUnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dXBkYXRlTWFya2VycyhtYXAsIG1hcmtlcnMpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gdXBkYXRlTWFya2VycyhtYXAsIG1hcmtlcnMpIHtcclxuXHJcblx0XHRcdFx0XHRcdGxldCBtYXBCb3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XHJcblx0XHRcdFx0XHRcdGxldCBtYXJrZXIsIHBvc2l0aW9uO1xyXG5cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdG1hcmtlciA9IG1hcmtlcnNbaV1cclxuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAobWFwQm91bmRzLmhhc0xhdExuZyhwb3NpdGlvbikpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNob3dNYXJrZXIobWFwLCBtYXJrZXIpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRoaWRlTWFya2VyKG1hcCwgbWFya2VyKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBzaG93TWFya2VyKG1hcCwgbWFya2VyKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAobWFya2VyLnNldE1hcCgpKSByZXR1cm47XHJcblx0XHRcdFx0XHRcdG1hcmtlci5zZXRNYXAobWFwKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBoaWRlTWFya2VyKG1hcCwgbWFya2VyKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIW1hcmtlci5zZXRNYXAoKSkgcmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRtYXJrZXIuc2V0TWFwKG51bGwpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGdldENsaWNrSGFuZGxlcihzZXEpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbWFya2VyID0gbWFya2Vyc1tzZXFdLFxyXG5cdFx0XHRcdFx0XHRcdFx0aW5mb1dpbmRvdyA9IGluZm9XaW5kb3dzW3NlcV07XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChpbmZvV2luZG93LmdldE1hcCgpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpbmZvV2luZG93LmNsb3NlKCk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGluZm9XaW5kb3cub3BlbihtYXAsIG1hcmtlcik7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaT0wLCBpaT1tYXJrZXJzLmxlbmd0aDsgaTxpaTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdG5hdmVyLm1hcHMuRXZlbnQuYWRkTGlzdGVuZXIobWFya2Vyc1tpXSwgJ2NsaWNrJywgZ2V0Q2xpY2tIYW5kbGVyKGkpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIEVORFxyXG5cclxuXHJcblx0XHRcdFx0XHQvLyBTVEFSVDogU2hvdyBvbiBtYXAgYnV0dG9uIGhhbmRsZXJcclxuXHRcdFx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsJy5idG4tbWFwLXNob3cnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRcdFx0XHRsZXQgJHRhcmdldCA9ICQoJy5yZXNlbGxlci1tYXAnKTtcclxuXHJcblx0XHRcdFx0XHRcdCAkKCdodG1sLCBib2R5Jykuc3RvcCh0cnVlLCB0cnVlKS5hbmltYXRlKHtcclxuXHRcdFx0XHRcdFx0XHRzY3JvbGxUb3A6ICR0YXJnZXQub2Zmc2V0KCkudG9wIC0gMTAwXHJcblx0XHRcdFx0XHRcdH0sIDUwMCk7XHJcblxyXG5cdFx0XHRcdFx0XHRsZXQgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdFx0XHRcdGxhdCA9ICR0aGlzLmRhdGEoJ2xhdCcpLFxyXG5cdFx0XHRcdFx0XHRcdGxvbmcgPSAkdGhpcy5kYXRhKCdsb25nJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRsZXQgc2hvd01hcmtlciA9IChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHBvc2l0aW9uID0gbmV3IG5hdmVyLm1hcHMuTGF0TG5nKGxhdCwgbG9uZyk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdG1hcC5zZXRab29tKDEwKTtcclxuXHRcdFx0XHRcdFx0XHRtYXAucGFuVG8ocG9zaXRpb24pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRzaG93TWFya2VyKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdC8vIEVORFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGlmKCEkKCcuc3dpdGNoLXZpZXcnKS5oYXNDbGFzcygnaGlkZScpKXtcclxuXHRcdFx0XHRcdFx0JCgnLnN3aXRjaC12aWV3JykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZighJCgnI3Jlc2VsbGVyTWFwJykuaGFzQ2xhc3MoJ2hpZGUnKSl7XHJcblx0XHRcdFx0XHRcdCQoJyNyZXNlbGxlck1hcCcpLmFkZENsYXNzKCdoaWRlJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xyXG5cdFx0XHRcdCAvLyAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihvblN1Y2Nlc3NHZW9sb2NhdGlvbiwgb25FcnJvckdlb2xvY2F0aW9uKTtcclxuXHRcdFx0XHQgLy8gICAgfSBlbHNlIHtcclxuXHRcdFx0XHQgLy8gICAgICAgIHJldHVybjtcclxuXHRcdFx0XHQgLy8gICAgfVxyXG5cclxuXHRcdFx0XHRcdC8vIGZ1bmN0aW9uIG9uU3VjY2Vzc0dlb2xvY2F0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0XHQvLyAgICAgbGV0IGxvY2F0aW9uID0gbmV3IG5hdmVyLm1hcHMuTGF0TG5nKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcclxuXHRcdFx0XHRcdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gICAgIGxldCBtYXJrZXIgPSBuZXcgbmF2ZXIubWFwcy5NYXJrZXIoe1xyXG5cdFx0XHRcdFx0Ly8gICAgIFx0bWFwOiBtYXAsXHJcblx0XHRcdFx0XHQvLyAgICAgXHRwb3NpdGlvbjogbG9jYXRpb25cclxuXHRcdFx0XHRcdC8vICAgICB9KTtcclxuXHJcblx0XHRcdFx0XHQvLyAgICAgbWFwLnNldENlbnRlcihsb2NhdGlvbik7IC8vIOyWu+ydgCDsooztkZzrpbwg7KeA64+E7J2YIOykkeyLrOycvOuhnCDshKTsoJXtlanri4jri6QuXHJcblx0XHRcdFx0XHQvLyAgICAgbWFwLnNldFpvb20oMTApOyAvLyDsp4Drj4TsnZgg7KSMIOugiOuyqOydhCDrs4Dqsr3tlanri4jri6QuXHJcblx0XHRcdFx0XHQvLyB9XHJcblxyXG5cdFx0XHRcdFx0Ly8gZnVuY3Rpb24gb25FcnJvckdlb2xvY2F0aW9uKCkge1xyXG5cdFx0XHRcdFx0Ly8gICAgIGxldCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gICAgIGluZm93aW5kb3cuc2V0Q29udGVudCgnPGRpdiBzdHlsZT1cInBhZGRpbmc6MjBweDtcIj4nICtcclxuXHRcdFx0XHRcdC8vICAgICAgICAgJzxoNSBzdHlsZT1cIm1hcmdpbi1ib3R0b206NXB4O2NvbG9yOiNmMDA7XCI+R2VvbG9jYXRpb24gZmFpbGVkITwvaDU+JysgXCJsYXRpdHVkZTogXCIrIGNlbnRlci5sYXQoKSArXCI8YnIgLz5sb25naXR1ZGU6IFwiKyBjZW50ZXIubG5nKCkgKyc8L2Rpdj4nKTtcclxuXHJcblx0XHRcdFx0XHQvLyAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgY2VudGVyKTtcclxuXHRcdFx0XHRcdC8vIH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW5kZXJSZXN1bHRzKGRhdGEpIHtcclxuXHRcdFx0bGV0IHJlc2VsbGVyVGVtcGxhdGUgPSAkKCcjcmVzZWxsZXItdGVtcGxhdGUnKS5odG1sKCk7XHJcblx0XHRcdGxldCByZXNlbGxlckxpc3RUZW1wbGF0ZSA9ICQoJyNyZXNlbGxlcmxpc3QtdGVtcGxhdGUnKS5odG1sKCk7XHJcblx0XHRcdGxldCByZXNlbGxlckNvbnRlbnQgPSAnJyxcclxuXHRcdFx0XHRyZXNlbGxlckxpc3RDb250ZW50ID0gJyc7XHJcblxyXG5cdFx0XHRyZXNlbGxlckNvbnRlbnQgPSBkb1QudGVtcGxhdGUocmVzZWxsZXJUZW1wbGF0ZSkoZGF0YSk7XHJcblx0XHRcdHJlc2VsbGVyTGlzdENvbnRlbnQgPSBkb1QudGVtcGxhdGUocmVzZWxsZXJMaXN0VGVtcGxhdGUpKGRhdGEpO1xyXG5cclxuXHRcdFx0JCgnLnJlc2VsbGVyLXBhcnRuZXJzLS1jb250ZW50JykuaHRtbChyZXNlbGxlckNvbnRlbnQpO1xyXG5cdFx0XHQkKCcucmVzZWxsZXItcGFydG5lcnMtLWxpc3QnKS5odG1sKHJlc2VsbGVyTGlzdENvbnRlbnQpO1xyXG5cdFx0XHQkKCcucmVzZWxsZXJzLWNvdW50JykuaHRtbChTdHJpbmcoZGF0YS5sZW5ndGgpKTtcclxuXHJcblx0XHRcdGxldCAkZmlyc3QgPSAkKCcucGFydG5lci1pdGVtJykuZmlyc3QoKTtcclxuXHRcdFx0bGV0IHRleHRXaWR0aCA9ICQoJy5wYXJ0bmVyLWl0ZW1fX2RldGFpbCAubGFiZWwnLCAkZmlyc3QpLmZpcnN0KCkud2lkdGgoKTtcclxuXHJcblx0XHRcdCQoJy5wYXJ0bmVyLWl0ZW0nKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRcdCQoJy5wYXJ0bmVyLWl0ZW1fX2RldGFpbCAubGFiZWwnLCAkKGVsZSkpLm1hcCgoaiwgbGFiZWwpID0+IHtcclxuXHRcdFx0XHRcdGlmICh0ZXh0V2lkdGggPCAkKGxhYmVsKS53aWR0aCgpKSB7XHJcblx0XHRcdFx0XHRcdHRleHRXaWR0aCA9ICQobGFiZWwpLndpZHRoKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGV4dFdpZHRoID0gdGV4dFdpZHRoO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGxldCBwYWRkaW5nID0gdGV4dFdpZHRoICsgMTA7XHJcblx0XHRcdCQoJy5wYWRkZWQnKS5jc3MoJ3BhZGRpbmctbGVmdCcsIHBhZGRpbmcgKyAncHgnKTtcclxuXHJcblx0XHRcdCQoJy5wYXJ0bmVyLWl0ZW0nKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRcdGlmICgkKGVsZSkuZmluZCgnLmNvbnRhY3QnKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGxldCBmYXhUZXh0V2lkdGggPSAkKCcucGFydG5lci1pdGVtX19kZXRhaWwuZmF4IC5sYWJlbCcsICQoZWxlKSkud2lkdGgoKTtcclxuXHRcdFx0XHRcdGZheFRleHRXaWR0aCArPSAxMDtcclxuXHRcdFx0XHRcdCQoJy5wYWRkZWQtZmF4JywgJChlbGUpKS5jc3MoJ3BhZGRpbmctbGVmdCcsIGZheFRleHRXaWR0aCArICdweCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdCQoJy5wYWRkZWQtZmF4JywgJChlbGUpKS5jc3MoJ3BhZGRpbmctbGVmdCcsIHBhZGRpbmcgKyAncHgnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JCgnLnJlc2VsbGVyLW1hcCcpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcblxyXG5cdFx0XHQvLyBTaG93L2hpZGUgbGVnZW5kXHJcblx0XHRcdGlmICgkKCcubWVkYWwnKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRpZiAoISQoJy5yZXNlbGxlci1wYXJ0bmVycy0tbGVnZW5kJykuaGFzQ2xhc3MoJ3Zpc2libGUnKSkge1xyXG5cdFx0XHRcdFx0JCgnLnJlc2VsbGVyLXBhcnRuZXJzLS1sZWdlbmQnKS5zaG93KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICgkKCcucmVzZWxsZXItcGFydG5lcnMtLWxlZ2VuZCcpLmhhc0NsYXNzKCd2aXNpYmxlJykpIHtcclxuXHRcdFx0XHRcdCQoJy5yZXNlbGxlci1wYXJ0bmVycy0tbGVnZW5kJykuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSGlkZSBzaG93IG9uIG1hcCBidXR0b24gaWYgbWFwIGRvZXNuJ3QgZXhpc3RcclxuXHRcdFx0aWYgKCEkKCcjcmVzZWxsZXJNYXAnKS5sZW5ndGgpIHtcclxuXHRcdFx0XHQkKCcuYnRuLW1hcC1zaG93JykuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCQoJy5idG4tbWFwLXNob3cnKS5zaG93KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHNldFBhZGRpbmdzKCl7XHJcblx0XHRsZXQgJGZpcnN0ID0gJCgnLnBhcnRuZXItaXRlbScpLmZpcnN0KCk7XHJcblx0XHRsZXQgdGV4dFdpZHRoID0gJCgnLnBhcnRuZXItaXRlbV9fZGV0YWlsIC5sYWJlbCcsICRmaXJzdCkuZmlyc3QoKS53aWR0aCgpO1xyXG5cclxuXHRcdCQoJy5wYXJ0bmVyLWl0ZW0nKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHQkKCcucGFydG5lci1pdGVtX19kZXRhaWwgLmxhYmVsJywgJChlbGUpKS5tYXAoKGosIGxhYmVsKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRleHRXaWR0aCA8ICQobGFiZWwpLndpZHRoKCkpIHtcclxuXHRcdFx0XHRcdHRleHRXaWR0aCA9ICQobGFiZWwpLndpZHRoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGV4dFdpZHRoID0gdGV4dFdpZHRoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRsZXQgcGFkZGluZyA9IHRleHRXaWR0aCArIDEwO1xyXG5cdFx0JCgnLnBhZGRlZCcpLmNzcygncGFkZGluZy1sZWZ0JywgcGFkZGluZyArICdweCcpO1xyXG5cclxuXHRcdCQoJy5wYXJ0bmVyLWl0ZW0nKS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRpZiAoJChlbGUpLmZpbmQoJy5jb250YWN0JykubGVuZ3RoKSB7XHJcblx0XHRcdFx0bGV0IGZheFRleHRXaWR0aCA9ICQoJy5wYXJ0bmVyLWl0ZW1fX2RldGFpbC5mYXggLmxhYmVsJywgJChlbGUpKS53aWR0aCgpO1xyXG5cdFx0XHRcdGZheFRleHRXaWR0aCArPSAxMDtcclxuXHRcdFx0XHQkKCcucGFkZGVkLWZheCcsICQoZWxlKSkuY3NzKCdwYWRkaW5nLWxlZnQnLCBmYXhUZXh0V2lkdGggKyAncHgnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHQkKCcucGFkZGVkLWZheCcsICQoZWxlKSkuY3NzKCdwYWRkaW5nLWxlZnQnLCBwYWRkaW5nICsgJ3B4Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlT3B0aW9ucyhkYXRhLCAkZmlsdGVyLCBsYWJlbCwgdGVtcGxhdGUpIHtcclxuXHRcdGxldCBldmFsU3RyID0gdGVtcGxhdGUoe2RhdGE6IGRhdGF9KTtcclxuXHJcblx0XHQkZmlsdGVyXHJcblx0XHQgICAgLmh0bWwoZXZhbFN0cilcclxuXHRcdCAgICAucHJlcGVuZCgkKCc8b3B0aW9uIHZhbHVlPVwiXCIgc2VsZWN0ZWQ+JyArIGxhYmVsICsgJzwvb3B0aW9uPicpKVxyXG5cdFx0ICAgIC5wYXJlbnRzKCcuaW5wdXQtZ3JvdXAtc2VsZWN0Jyk7XHJcblxyXG5cdFx0JGZpbHRlci5wcmV2KCkuZmluZCgnYnV0dG9uJykudGV4dChsYWJlbCk7XHJcblx0fVxyXG5cclxuXHRnZXRSZXN1bHRzKHVybCwgZGF0YSwgY2IsIHR5cGUpIHtcclxuXHRcdCQuYWpheCh7XHJcblx0XHQgICAgdXJsLFxyXG5cdFx0ICAgIGRhdGEsXHJcblx0XHQgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdCAgICBjYWNoZTogZmFsc2UsXHJcblx0XHQgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0ICAgIFx0Y2IoZGF0YSwgdHlwZSk7XHJcblx0XHQgICAgfVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBuYXZlciBhcGk6IGh0dHBzOi8vb3BlbmFwaS5tYXAubmF2ZXIuY29tL29wZW5hcGkvdjMvbWFwcy5qcz9jbGllbnRJZD1cclxuLy8gbmF2ZXIgYXBpOiBodHRwczovL29wZW5hcGkubWFwLm5hdmVyLmNvbS9vcGVuYXBpL3YzL21hcHMuanM/Y2xpZW50SWQ9WXdiQ3BWRzFkS3hCVWFudzlROE0mc3VibW9kdWxlcz1nZW9jb2RlclxyXG5cclxuLy8gYmFpZHUgYXBpOiBodHRwOi8vYXBpLm1hcC5iYWlkdS5jb20vYXBpP3Y9Mi4wJmFrPUdvUjdONWtFOFUwVFZ2c2FpN2U2TU82ZDdpRWx5aFFSXHJcblxyXG4vLyBnb29nbGUgYXBpOiBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vL21hcHMvYXBpL2pzP2xpYnJhcmllcz1nZW9tZXRyeSZrZXk9QUl6YVN5QzNSVTFlaFBGZXZJMXVHZXM0OXdJcFpLaFI3S0h3cmNJXHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJDYXJvdXNlbCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgJHRhYnNDYXJvdXNlbCA9ICQoJy50YWItY2Fyb3VzZWwnKTtcclxuXHJcblx0XHQkdGFic0Nhcm91c2VsLm1hcCgoaSxlbGUpID0+IHtcclxuXHRcdFx0bGV0ICR0YWJzID0gJCgnLnRhYi1jYXJvdXNlbF9fdGFicyB1bCBsaScsICQoZWxlKSk7XHJcblxyXG5cdFx0XHRpZigkdGFicy5sZW5ndGgpe1xyXG5cdFx0XHRcdHN3aXRjaCgkdGFicy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRcdFx0JHRhYnMuY3NzKCd3aWR0aCcsICcxMDAlJyk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAyOlxyXG5cdFx0XHRcdFx0XHQkdGFicy5jc3MoJ3dpZHRoJywgJzUwJScpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgMzpcclxuXHRcdFx0XHRcdFx0JHRhYnMuY3NzKCd3aWR0aCcsICczMy4zMzMzMzMlJyk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSA0OlxyXG5cdFx0XHRcdFx0XHQkdGFicy5jc3MoJ3dpZHRoJywgJzI1JScpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFicyB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgJHRhYnNXcmFwcGVyID0gJCgnLnRhYi13cmFwcGVyJyksXHJcblx0XHRcdCRjb250ZW50ID0gJCgnLnRhYi13cmFwcGVyX19jb250ZW50cycsICR0YWJzV3JhcHBlcik7XHJcblxyXG5cdFx0JCgnPiAqOm5vdCguYWN0aXZlKScsICRjb250ZW50KS5mYWRlT3V0KCk7XHJcblx0XHQkKCcuYWN0aXZlJywgJGNvbnRlbnQpLmZhZGVJbigpO1xyXG5cclxuXHRcdCR0YWJzV3JhcHBlci5tYXAoKGksZWxlKSA9PiB7XHJcblx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKSxcclxuXHRcdFx0XHQkdGFicyA9ICQoJy50YWItd3JhcHBlcl9fdGFicycsICR0aGlzKSxcclxuXHRcdFx0XHQkY29udGVudCA9ICQoJy50YWItd3JhcHBlcl9fY29udGVudHMnLCAkdGhpcyk7XHJcblxyXG5cdFx0XHQkKCdhLnRhYi1jb250cm9sbGVyJywgJHRhYnMpLm1hcCgoaSxlbGUpID0+IHtcclxuXHRcdFx0XHRsZXQgJHRoaXNUYWIgPSAkKGVsZSk7XHJcblxyXG5cdFx0XHRcdCR0aGlzVGFiLm9uKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRcdFx0bGV0IHRhcmdldCA9ICR0aGlzVGFiLmF0dHIoJ2hyZWYnKTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLnN3aXRjaFRhYnMoJHRoaXNUYWIsIHRhcmdldCwgJGNvbnRlbnQsICR0YWJzKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9KVxyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcblx0c3dpdGNoVGFicygkb2JqZWN0LCB0YXJnZXQsICRjb250ZW50LCAkc2NvcGUpIHtcclxuXHRcdGlmKCEkb2JqZWN0LnBhcmVudCgpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdC8vYnV0dG9uIGhhbmRsZXJcclxuXHRcdFx0JCgnLmFjdGl2ZScsICRzY29wZSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHQkb2JqZWN0LnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcblx0XHRcdC8vIGZhZGUgaW4gZmFkZSBvdXQgY29udGVudFxyXG5cdFx0XHQkKCcuYWN0aXZlJywgJGNvbnRlbnQpLmZhZGVPdXQoMzAwLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCQoJy5hY3RpdmUnLCAkY29udGVudCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdCQodGFyZ2V0KS5mYWRlSW4oKTtcclxuXHRcdFx0XHQkKHRhcmdldCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdGlmICgkKHRhcmdldCkuZmluZCgnLnRhYmJlZC1jYXJvdXNlbCcpLmxlbmd0aCl7XHJcblx0XHRcdFx0XHQkKCcudGFiYmVkLWNhcm91c2VsX19pdGVtcycsICQodGFyZ2V0KSkuc2xpY2soJ3NldFBvc2l0aW9uJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZVJlc3BvbnNpdmUge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHRcdGxldCAkdGFibGUgPSAkKCd0YWJsZScpO1xyXG5cclxuXHRcdC8vIHdpbmRvdy5lbWl0dGVyLm9uKCdvcGVuQWNjb3JkaW9uJywgKCkgPT4ge1xyXG5cdFx0Ly8gXHQkdGFibGUubWFwKChpLCBlbGUpID0+IHtcclxuXHRcdC8vIFx0XHRsZXQgJHRoaXMgPSAkKGVsZSk7XHJcblxyXG5cdFx0Ly8gXHRcdGlmICghJHRoaXMuY2xvc2VzdCgnLnRhYmxlLXJlc3BvbnNpdmUnKS5sZW5ndGgpIHtcclxuXHRcdC8vIFx0XHRcdGlmICgkdGhpcy53aWR0aCgpID4gJHRoaXMucGFyZW50KCkud2lkdGgoKSkge1xyXG5cdFx0Ly8gXHRcdFx0XHQkdGhpcy53cmFwKCc8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZVwiPjwvZGl2PicpO1xyXG5cdFx0Ly8gXHRcdFx0fVxyXG5cdFx0Ly8gXHRcdH1cclxuXHRcdC8vIFx0fSk7XHJcblx0XHQvLyB9KTtcclxuXHJcblx0XHQkKHdpbmRvdykub24oJ3Jlc2l6ZS50YWJsZVJlc3BvbnNpdmUnLCAoKSA9PiB7XHJcblx0XHRcdCR0YWJsZS5tYXAoKGksIGVsZSkgPT4ge1xyXG5cdFx0XHRcdGxldCAkdGhpcyA9ICQoZWxlKTtcclxuXHJcblx0XHRcdFx0aWYgKCEkdGhpcy5jbG9zZXN0KCcudGFibGUtcmVzcG9uc2l2ZScpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0aWYgKCR0aGlzLndpZHRoKCkgPiAkdGhpcy5wYXJlbnQoKS53aWR0aCgpKSB7XHJcblx0XHRcdFx0XHRcdCR0aGlzLndyYXAoJzxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+PC9kaXY+Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pLnRyaWdnZXIoJ3Jlc2l6ZS50YWJsZVJlc3BvbnNpdmUnKTtcclxuXHR9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0ICdqcXVlcnktbWF0Y2gtaGVpZ2h0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdDb250cm9sbGVyIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGxldCAkdmlld0NvbnRyb2xsZXIgPSAkKCcuZmlsdGVyLWl0ZW0tLXZpZXcnKTtcclxuXHJcblx0XHQkKCc+IGJ1dHRvbicsICR2aWV3Q29udHJvbGxlcikubWFwKChpLCBlbGUpID0+IHtcclxuXHRcdFx0bGV0ICR0aGlzID0gJChlbGUpO1xyXG5cclxuXHRcdFx0JHRoaXMub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGxldCB2aWV3VHlwZSA9ICR0aGlzLmRhdGEoJ3ZpZXcnKTtcclxuXHJcblx0XHRcdFx0aWYoJHRoaXMuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQkdGhpcy5wYXJlbnQoKS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHZpZXdUeXBlID09PSAnbGlzdCcpIHtcclxuXHRcdFx0XHRcdCQoJy5jb250ZW50LWhvbGRlcicpLmFkZENsYXNzKCdsaXN0Jyk7XHJcblxyXG5cdFx0XHRcdFx0JCgnLmNhcmQtdGlsZXMnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYoISQoJy5jYXJkLXRpbGVzX19pbWFnZScsICR0aGlzKS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHRcdGlmKCEkKCcuY2FyZC10aWxlc19fdGV4dCcsICR0aGlzKS5oYXNDbGFzcygnZnVsbCcpKXtcclxuXHRcdFx0XHRcdFx0XHRcdCQoJy5jYXJkLXRpbGVzX190ZXh0JywgJHRoaXMpLmFkZENsYXNzKCdmdWxsJyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQkKCcuY29udGVudC1ob2xkZXInKS5yZW1vdmVDbGFzcygnbGlzdCcpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JCgnLm1hdGNoLWhlaWdodCcpLm1hdGNoSGVpZ2h0Ll91cGRhdGUoKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0fVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZmZtQWRkUmVtb3ZlRmllbGRzIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGxldFx0Y29sbGFwc2libGVGb3JtTGFiZWxzID0gSlNPTi5wYXJzZSgkKCcjY29sbGFwc2libGVGb3JtTGFiZWxzJykuaHRtbCgpKTtcclxuXHRcdGxldCAkYWRkUmVtb3ZlRmllbGRzRm9ybSA9ICQoJ2ZpZWxkc2V0LkNvbGxhcHNpYmxlRmllbGRTZXQnKSxcclxuXHRcdFx0JGZvcm0gPSAkYWRkUmVtb3ZlRmllbGRzRm9ybS5wYXJlbnQoKTtcclxuXHRcdFx0Ly8gX21vcmVTZWN0aW9uQnV0dG9uID0gYDxzcGFuIGNsYXNzPVwiYWRkLW1vcmUtc2VjdGlvbnNcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgY29sb3I6ICNkOTIyMzE7IGRpc3BsYXk6IG5vbmU7XCI+ICsgJHtjb2xsYXBzaWJsZUZvcm1MYWJlbHMuYWRkU2VjdGlvbn08L3NwYW4+YCxcclxuXHRcdFx0Ly8gX2xlc3NTZWN0aW9uQnV0dG9uID0gYDxzcGFuIGNsYXNzPVwicmVtb3ZlLW9uZS1zZWN0aW9uXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IGNvbG9yOiAjZDkyMjMxOyBwYWRkaW5nLWxlZnQ6IDE1cHg7IGRpc3BsYXk6IG5vbmU7XCI+IC0gJHtjb2xsYXBzaWJsZUZvcm1MYWJlbHMucmVtb3ZlU2VjdGlvbn08L3NwYW4+YCxcclxuXHRcdFx0Ly8gc2VjdGlvbkNvdW50ID0gMTtcclxuXHJcblxyXG5cdFx0Ly8gQXBwZW5kIGJ1dHRvbiBpZiBtb3JlIHRoYW4gb25lIGZpZWxkIHByZXNlbnRcclxuXHRcdC8vIGlmKCRhZGRSZW1vdmVGaWVsZHNGb3JtLmxlbmd0aCA+IDEpe1xyXG5cdFx0XHQvLyAkKCcuZm9ybS1zdWJtaXQtYm9yZGVyJykuYmVmb3JlKF9tb3JlU2VjdGlvbkJ1dHRvbik7XHJcblx0XHRcdC8vICQoJy5mb3JtLXN1Ym1pdC1ib3JkZXInKS5iZWZvcmUoX2xlc3NTZWN0aW9uQnV0dG9uKTtcclxuXHRcdFx0Ly8gJCgnLmFkZC1tb3JlLXNlY3Rpb25zJywgJGZvcm0pLnNob3coKTtcclxuXHRcdFx0Ly8gJCgnLnJlbW92ZS1vbmUtZmllbGQnLCAkdGhpcykuaGlkZSgpO1xyXG5cdFx0Ly8gfVxyXG5cclxuXHRcdCRhZGRSZW1vdmVGaWVsZHNGb3JtLm1hcChmdW5jdGlvbihpLCBlbGUpIHtcclxuXHRcdFx0bGV0ICR0aGlzID0gJChlbGUpO1xyXG5cdFx0XHQkdGhpcy5kYXRhKCdyZXNldCcsICd0cnVlJyk7XHJcblxyXG5cdFx0XHQvLyBIaWRlIGFsbCBzZWN0aW9ucyBleGNlcHQgZmlyc3QgZmllbGRcclxuXHRcdFx0Ly8gaWYoaSAhPSAwKXtcclxuXHRcdFx0Ly8gXHQkdGhpcy5oaWRlKCk7XHJcblx0XHRcdC8vIH1cclxuXHJcblx0XHRcdC8vIEZvciB0aGUgZmllbGRzXHJcblx0XHRcdGxldCAkZmllbGRzID0gJCgnLmZvcm0tZ3JvdXAnLCAkdGhpcyksXHJcblx0XHRcdFx0X21vcmVCdXR0b24gPSBgPHNwYW4gY2xhc3M9XCJhZGQtbW9yZS1maWVsZHMgJHtpfVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBjb2xvcjogI2Q5MjIzMTsgZGlzcGxheTogbm9uZTtcIj4gKyAke2NvbGxhcHNpYmxlRm9ybUxhYmVscy5hZGRGaWVsZH08L3NwYW4+YCxcclxuXHRcdFx0XHRfZGVsZXRlQnV0dG9uID0gYDxzcGFuIGNsYXNzPVwicmVtb3ZlLW9uZS1maWVsZFwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBjb2xvcjogI2Q5MjIzMTsgcGFkZGluZy1sZWZ0OiAxNXB4OyBkaXNwbGF5OiBub25lO1wiPiAtICR7Y29sbGFwc2libGVGb3JtTGFiZWxzLnJlbW92ZUZpZWxkfTwvc3Bhbj5gLFxyXG5cdFx0XHRcdGZpZWxkc0NvdW50ID0gMTtcclxuXHJcblx0XHRcdC8vIEFwcGVuZCBidXR0b24gaWYgbW9yZSB0aGFuIG9uZSBmaWVsZCBwcmVzZW50XHJcblx0XHRcdGlmKCRmaWVsZHMubGVuZ3RoID4gMSl7XHJcblx0XHRcdFx0JHRoaXMuYXBwZW5kKF9tb3JlQnV0dG9uKTtcclxuXHRcdFx0XHQkdGhpcy5hcHBlbmQoX2RlbGV0ZUJ1dHRvbik7XHJcblx0XHRcdFx0JCgnLmFkZC1tb3JlLWZpZWxkcycsICR0aGlzKS5zaG93KCk7XHJcblx0XHRcdFx0Ly8gJCgnLnJlbW92ZS1vbmUtZmllbGQnLCAkdGhpcykuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBIaWRlIGFsbCBmaWVsZHMgZXhjZXB0IGZpcnN0IGZpZWxkXHJcblx0XHRcdCRmaWVsZHMubWFwKGZ1bmN0aW9uKGksIGVsZSkge1xyXG5cdFx0XHRcdGxldCAkdGhpc0ZpZWxkID0gJChlbGUpO1xyXG5cclxuXHRcdFx0XHRpZihpICE9IDApe1xyXG5cdFx0XHRcdFx0JHRoaXNGaWVsZC5oaWRlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIEFkZCBvbmUgbW9yZSBmaWVsZFxyXG5cdFx0XHQkKCcuYWRkLW1vcmUtZmllbGRzJywgJHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0aWYoJHRoaXMuZGF0YSgncmVzZXQnKSA9PT0gJ3RydWUnKXtcclxuXHRcdFx0XHRcdGZpZWxkc0NvdW50ID0gMTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmKGZpZWxkc0NvdW50IDwgJGZpZWxkcy5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0JGZpZWxkcy5lcShmaWVsZHNDb3VudCkuc2hvdygpO1xyXG5cdFx0XHRcdFx0ZmllbGRzQ291bnQrKztcclxuXHRcdFx0XHRcdCR0aGlzLmRhdGEoJ3Jlc2V0JywgJ2ZhbHNlJyk7XHJcblxyXG5cdFx0XHRcdFx0aWYoZmllbGRzQ291bnQgPT0gJGZpZWxkcy5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHQkKCcuYWRkLW1vcmUtZmllbGRzJywgJHRoaXMpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0JCgnLnJlbW92ZS1vbmUtZmllbGQnLCAkdGhpcykuY3NzKCdwYWRkaW5nLWxlZnQnLCAnMCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoZmllbGRzQ291bnQgPj0gMil7XHJcblx0XHRcdFx0XHRcdCQoJy5yZW1vdmUtb25lLWZpZWxkJywgJHRoaXMpLnNob3coKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIG9uZSBmaWVsZFxyXG5cdFx0XHQkKCcucmVtb3ZlLW9uZS1maWVsZCcsICR0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdGlmKGZpZWxkc0NvdW50ID4gMSl7XHJcblx0XHRcdFx0XHRmaWVsZHNDb3VudC0tO1xyXG5cdFx0XHRcdFx0JGZpZWxkcy5lcShmaWVsZHNDb3VudCkuaGlkZSgpO1xyXG5cdFx0XHRcdFx0JGZpZWxkcy5lcShmaWVsZHNDb3VudCkuZmluZCgnaW5wdXQnKS52YWwoJycpO1xyXG5cclxuXHRcdFx0XHRcdGlmKGZpZWxkc0NvdW50IDwgJGZpZWxkcy5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHQkKCcuYWRkLW1vcmUtZmllbGRzJywgJHRoaXMpLnNob3coKTtcclxuXHRcdFx0XHRcdFx0JCgnLnJlbW92ZS1vbmUtZmllbGQnLCAkdGhpcykuY3NzKCdwYWRkaW5nLWxlZnQnLCAnMTVweCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoZmllbGRzQ291bnQgPCAyKXtcclxuXHRcdFx0XHRcdFx0JCgnLnJlbW92ZS1vbmUtZmllbGQnLCAkdGhpcykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyAvLyBBZGQgb25lIG1vcmUgc2VjdGlvblxyXG5cdFx0Ly8gJCgnLmFkZC1tb3JlLXNlY3Rpb25zJywgJGZvcm0pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcblx0XHQvLyBcdGlmKHNlY3Rpb25Db3VudCA8ICRhZGRSZW1vdmVGaWVsZHNGb3JtLmxlbmd0aCl7XHJcblx0XHQvLyBcdFx0JGFkZFJlbW92ZUZpZWxkc0Zvcm0uZXEoc2VjdGlvbkNvdW50KS5zaG93KCk7XHJcblx0XHQvLyBcdFx0c2VjdGlvbkNvdW50Kys7XHJcblxyXG5cdFx0Ly8gXHRcdGlmKHNlY3Rpb25Db3VudCA9PSAkYWRkUmVtb3ZlRmllbGRzRm9ybS5sZW5ndGgpe1xyXG5cdFx0Ly8gXHRcdFx0JCgnLmFkZC1tb3JlLXNlY3Rpb25zJywgJGZvcm0pLmhpZGUoKTtcclxuXHRcdC8vIFx0XHRcdCQoJy5yZW1vdmUtb25lLXNlY3Rpb24nLCAkZm9ybSkuY3NzKCdwYWRkaW5nLWxlZnQnLCAnMCcpO1xyXG5cdFx0Ly8gXHRcdH1cclxuXHRcdC8vIFx0XHRpZihzZWN0aW9uQ291bnQgPj0gMil7XHJcblx0XHQvLyBcdFx0XHQkKCcucmVtb3ZlLW9uZS1zZWN0aW9uJywgJGZvcm0pLnNob3coKTtcclxuXHRcdC8vIFx0XHR9XHJcblx0XHQvLyBcdH1cclxuXHRcdC8vIH0pO1xyXG5cclxuXHRcdC8vIC8vIFJlbW92ZSBvbmUgc2VjdGlvblxyXG5cdFx0Ly8gJCgnLnJlbW92ZS1vbmUtc2VjdGlvbicsICRmb3JtKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0Ly8gXHRpZihzZWN0aW9uQ291bnQgPiAxKXtcclxuXHRcdC8vIFx0XHRzZWN0aW9uQ291bnQtLTtcclxuXHRcdC8vIFx0XHQkYWRkUmVtb3ZlRmllbGRzRm9ybS5lcShzZWN0aW9uQ291bnQpLmhpZGUoKTtcclxuXHRcdC8vIFx0XHQkYWRkUmVtb3ZlRmllbGRzRm9ybS5lcShzZWN0aW9uQ291bnQpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcclxuXHJcblx0XHQvLyBcdFx0Ly8gSGlkZSBhbGwgZmllbGRzIGV4Y2VwdCBmaXJzdCBmaWVsZCBpbiByZW1vdmVkIHNlY3Rpb25cclxuXHRcdC8vIFx0XHQkYWRkUmVtb3ZlRmllbGRzRm9ybS5lcShzZWN0aW9uQ291bnQpLmZpbmQoJy5mb3JtLWdyb3VwJykubWFwKGZ1bmN0aW9uKGksIGVsZSkge1xyXG5cdFx0Ly8gXHRcdFx0bGV0ICRjbGVhclRoZXNlID0gJChlbGUpO1xyXG5cclxuXHRcdC8vIFx0XHRcdCRhZGRSZW1vdmVGaWVsZHNGb3JtLmVxKHNlY3Rpb25Db3VudCkuZGF0YSgncmVzZXQnLCAndHJ1ZScpO1xyXG5cdFx0Ly8gXHRcdFx0JCgnLnJlbW92ZS1vbmUtZmllbGQnLCAkYWRkUmVtb3ZlRmllbGRzRm9ybS5lcShzZWN0aW9uQ291bnQpKS5oaWRlKCk7XHJcblxyXG5cdFx0Ly8gXHRcdFx0aWYoaSAhPSAwKXtcclxuXHRcdC8vIFx0XHRcdFx0JGNsZWFyVGhlc2UuaGlkZSgpO1xyXG5cdFx0Ly8gXHRcdFx0fVxyXG5cdFx0Ly8gXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx0XHRpZihzZWN0aW9uQ291bnQgPCAkYWRkUmVtb3ZlRmllbGRzRm9ybS5sZW5ndGgpe1xyXG5cdFx0Ly8gXHRcdFx0JCgnLmFkZC1tb3JlLXNlY3Rpb25zJywgJGZvcm0pLnNob3coKTtcclxuXHRcdC8vIFx0XHRcdCQoJy5yZW1vdmUtb25lLXNlY3Rpb24nLCAkZm9ybSkuY3NzKCdwYWRkaW5nLWxlZnQnLCAnMTVweCcpO1xyXG5cdFx0Ly8gXHRcdH1cclxuXHRcdC8vIFx0XHRpZihzZWN0aW9uQ291bnQgPCAyKXtcclxuXHRcdC8vIFx0XHRcdCQoJy5yZW1vdmUtb25lLXNlY3Rpb24nLCAkZm9ybSkuaGlkZSgpO1xyXG5cdFx0Ly8gXHRcdH1cclxuXHRcdC8vIFx0fVxyXG5cdFx0Ly8gfSk7XHJcblx0fVxyXG59XHJcbiJdfQ=="}